import{a as ht,M as Qe,d as je,f as Jr,e as Ks,h as le,g as ea,i as ta,k as _r,l as Qs,m as _t,n as lt,p as Js,o as ei,I as ti,s as Be,q as br,t as ni,L as bt,G as Cr,v as En,w as Hn,x as na,E as Te,y as fn,z as V,A as zt,B as Ct,C as ri,D as rt,F as fe,H as ai,J as ra,K as qe,N as Et,O as oi,P as si,Q as Xe,R as ii,S as aa,T as Nn,U as li,V as Ye,W as C,u as ge,j as s,X as $n,r as y,Y as se,c as A,Z as ie,$ as M,a0 as he,a1 as ci,a2 as ui,a3 as Pt,a4 as di,a5 as fi,a6 as pi,a7 as mi,a8 as Gn,a9 as hi,aa as oa,ab as pn,ac as Bn,ad as Vt,ae as gt,af as gi,ag as pe,ah as vi,ai as yi,aj as jr,ak as xi,al as wi,am as jt,an as Sn,ao as _i,ap as bi,aq as xt,ar as Ci,as as Pn,at as ji,au as Ai,av as Ei,aw as Ni,ax as Si}from"./index-DU8ohU-R.js";var de={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var n=function(){this.init()};n.prototype={init:function(){var a=this||t;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var c=this||t;if(a=parseFloat(a),c.ctx||x(),typeof a<"u"&&a>=0&&a<=1){if(c._volume=a,c._muted)return c;c.usingWebAudio&&c.masterGain.gain.setValueAtTime(a,t.ctx.currentTime);for(var u=0;u<c._howls.length;u++)if(!c._howls[u]._webAudio)for(var p=c._howls[u]._getSoundIds(),h=0;h<p.length;h++){var g=c._howls[u]._soundById(p[h]);g&&g._node&&(g._node.volume=g._volume*a)}return c}return c._volume},mute:function(a){var c=this||t;c.ctx||x(),c._muted=a,c.usingWebAudio&&c.masterGain.gain.setValueAtTime(a?0:c._volume,t.ctx.currentTime);for(var u=0;u<c._howls.length;u++)if(!c._howls[u]._webAudio)for(var p=c._howls[u]._getSoundIds(),h=0;h<p.length;h++){var g=c._howls[u]._soundById(p[h]);g&&g._node&&(g._node.muted=a?!0:g._muted)}return c},stop:function(){for(var a=this||t,c=0;c<a._howls.length;c++)a._howls[c].stop();return a},unload:function(){for(var a=this||t,c=a._howls.length-1;c>=0;c--)a._howls[c].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,x()),a},codecs:function(a){return(this||t)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||t;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var c=new Audio;typeof c.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var c=new Audio;c.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||t,c=null;try{c=typeof Audio<"u"?new Audio:null}catch{return a}if(!c||typeof c.canPlayType!="function")return a;var u=c.canPlayType("audio/mpeg;").replace(/^no$/,""),p=a._navigator?a._navigator.userAgent:"",h=p.match(/OPR\/(\d+)/g),g=h&&parseInt(h[0].split("/")[1],10)<33,v=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,_=p.match(/Version\/(.*?) /),j=v&&_&&parseInt(_[1],10)<15;return a._codecs={mp3:!!(!g&&(u||c.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!u,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(c.canPlayType('audio/wav; codecs="1"')||c.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(c.canPlayType("audio/x-m4b;")||c.canPlayType("audio/m4b;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!j&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!j&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||t;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var c=function(u){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,a._releaseHtml5Audio(p)}catch{a.noAudio=!0;break}for(var h=0;h<a._howls.length;h++)if(!a._howls[h]._webAudio)for(var g=a._howls[h]._getSoundIds(),v=0;v<g.length;v++){var _=a._howls[h]._soundById(g[v]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}a._autoResume();var j=a.ctx.createBufferSource();j.buffer=a._scratchBuffer,j.connect(a.ctx.destination),typeof j.start>"u"?j.noteOn(0):j.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),j.onended=function(){j.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",c,!0),document.removeEventListener("click",c,!0),document.removeEventListener("keydown",c,!0);for(var E=0;E<a._howls.length;E++)a._howls[E]._emit("unlock")}};return document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("click",c,!0),document.addEventListener("keydown",c,!0),a}},_obtainHtml5Audio:function(){var a=this||t;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var c=new Audio().play();return c&&typeof Promise<"u"&&(c instanceof Promise||typeof c.then=="function")&&c.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var c=this||t;return a._unlocked&&c._html5AudioPool.push(a),c},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!t.usingWebAudio)){for(var c=0;c<a._howls.length;c++)if(a._howls[c]._webAudio){for(var u=0;u<a._howls[c]._sounds.length;u++)if(!a._howls[c]._sounds[u]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var p=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(p,p)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!t.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var c=0;c<a._howls.length;c++)a._howls[c]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var t=new n,r=function(a){var c=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}c.init(a)};r.prototype={init:function(a){var c=this;return t.ctx||x(),c._autoplay=a.autoplay||!1,c._format=typeof a.format!="string"?a.format:[a.format],c._html5=a.html5||!1,c._muted=a.mute||!1,c._loop=a.loop||!1,c._pool=a.pool||5,c._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,c._rate=a.rate||1,c._sprite=a.sprite||{},c._src=typeof a.src!="string"?a.src:[a.src],c._volume=a.volume!==void 0?a.volume:1,c._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._playLock=!1,c._onend=a.onend?[{fn:a.onend}]:[],c._onfade=a.onfade?[{fn:a.onfade}]:[],c._onload=a.onload?[{fn:a.onload}]:[],c._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],c._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],c._onpause=a.onpause?[{fn:a.onpause}]:[],c._onplay=a.onplay?[{fn:a.onplay}]:[],c._onstop=a.onstop?[{fn:a.onstop}]:[],c._onmute=a.onmute?[{fn:a.onmute}]:[],c._onvolume=a.onvolume?[{fn:a.onvolume}]:[],c._onrate=a.onrate?[{fn:a.onrate}]:[],c._onseek=a.onseek?[{fn:a.onseek}]:[],c._onunlock=a.onunlock?[{fn:a.onunlock}]:[],c._onresume=[],c._webAudio=t.usingWebAudio&&!c._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(c),c._autoplay&&c._queue.push({event:"play",action:function(){c.play()}}),c._preload&&c._preload!=="none"&&c.load(),c},load:function(){var a=this,c=null;if(t.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var u=0;u<a._src.length;u++){var p,h;if(a._format&&a._format[u])p=a._format[u];else{if(h=a._src[u],typeof h!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(h),p||(p=/\.([^.]+)$/.exec(h.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&t.codecs(p)){c=a._src[u];break}}if(!c){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=c,a._state="loading",window.location.protocol==="https:"&&c.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new o(a),a._webAudio&&l(a),a},play:function(a,c){var u=this,p=null;if(typeof a=="number")p=a,a=null;else{if(typeof a=="string"&&u._state==="loaded"&&!u._sprite[a])return null;if(typeof a>"u"&&(a="__default",!u._playLock)){for(var h=0,g=0;g<u._sounds.length;g++)u._sounds[g]._paused&&!u._sounds[g]._ended&&(h++,p=u._sounds[g]._id);h===1?a=null:p=null}}var v=p?u._soundById(p):u._inactiveSound();if(!v)return null;if(p&&!a&&(a=v._sprite||"__default"),u._state!=="loaded"){v._sprite=a,v._ended=!1;var _=v._id;return u._queue.push({event:"play",action:function(){u.play(_)}}),_}if(p&&!v._paused)return c||u._loadQueue("play"),v._id;u._webAudio&&t._autoResume();var j=Math.max(0,v._seek>0?v._seek:u._sprite[a][0]/1e3),E=Math.max(0,(u._sprite[a][0]+u._sprite[a][1])/1e3-j),N=E*1e3/Math.abs(v._rate),P=u._sprite[a][0]/1e3,S=(u._sprite[a][0]+u._sprite[a][1])/1e3;v._sprite=a,v._ended=!1;var T=function(){v._paused=!1,v._seek=j,v._start=P,v._stop=S,v._loop=!!(v._loop||u._sprite[a][2])};if(j>=S){u._ended(v);return}var k=v._node;if(u._webAudio){var I=function(){u._playLock=!1,T(),u._refreshBuffer(v);var z=v._muted||u._muted?0:v._volume;k.gain.setValueAtTime(z,t.ctx.currentTime),v._playStart=t.ctx.currentTime,typeof k.bufferSource.start>"u"?v._loop?k.bufferSource.noteGrainOn(0,j,86400):k.bufferSource.noteGrainOn(0,j,E):v._loop?k.bufferSource.start(0,j,86400):k.bufferSource.start(0,j,E),N!==1/0&&(u._endTimers[v._id]=setTimeout(u._ended.bind(u,v),N)),c||setTimeout(function(){u._emit("play",v._id),u._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?I():(u._playLock=!0,u.once("resume",I),u._clearTimer(v._id))}else{var $=function(){k.currentTime=j,k.muted=v._muted||u._muted||t._muted||k.muted,k.volume=v._volume*t.volume(),k.playbackRate=v._rate;try{var z=k.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(u._playLock=!0,T(),z.then(function(){u._playLock=!1,k._unlocked=!0,c?u._loadQueue():u._emit("play",v._id)}).catch(function(){u._playLock=!1,u._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):c||(u._playLock=!1,T(),u._emit("play",v._id)),k.playbackRate=v._rate,k.paused){u._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||v._loop?u._endTimers[v._id]=setTimeout(u._ended.bind(u,v),N):(u._endTimers[v._id]=function(){u._ended(v),k.removeEventListener("ended",u._endTimers[v._id],!1)},k.addEventListener("ended",u._endTimers[v._id],!1))}catch(J){u._emit("playerror",v._id,J)}};k.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(k.src=u._src,k.load());var U=window&&window.ejecta||!k.readyState&&t._navigator.isCocoonJS;if(k.readyState>=3||U)$();else{u._playLock=!0,u._state="loading";var Z=function(){u._state="loaded",$(),k.removeEventListener(t._canPlayEvent,Z,!1)};k.addEventListener(t._canPlayEvent,Z,!1),u._clearTimer(v._id)}}return v._id},pause:function(a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"pause",action:function(){c.pause(a)}}),c;for(var u=c._getSoundIds(a),p=0;p<u.length;p++){c._clearTimer(u[p]);var h=c._soundById(u[p]);if(h&&!h._paused&&(h._seek=c.seek(u[p]),h._rateSeek=0,h._paused=!0,c._stopFade(u[p]),h._node))if(c._webAudio){if(!h._node.bufferSource)continue;typeof h._node.bufferSource.stop>"u"?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0),c._cleanBuffer(h._node)}else(!isNaN(h._node.duration)||h._node.duration===1/0)&&h._node.pause();arguments[1]||c._emit("pause",h?h._id:null)}return c},stop:function(a,c){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(a)}}),u;for(var p=u._getSoundIds(a),h=0;h<p.length;h++){u._clearTimer(p[h]);var g=u._soundById(p[h]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,u._stopFade(p[h]),g._node&&(u._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),u._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&u._clearSound(g._node))),c||u._emit("stop",g._id))}return u},mute:function(a,c){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(a,c)}}),u;if(typeof c>"u")if(typeof a=="boolean")u._muted=a;else return u._muted;for(var p=u._getSoundIds(c),h=0;h<p.length;h++){var g=u._soundById(p[h]);g&&(g._muted=a,g._interval&&u._stopFade(g._id),u._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume,t.ctx.currentTime):g._node&&(g._node.muted=t._muted?!0:a),u._emit("mute",g._id))}return u},volume:function(){var a=this,c=arguments,u,p;if(c.length===0)return a._volume;if(c.length===1||c.length===2&&typeof c[1]>"u"){var h=a._getSoundIds(),g=h.indexOf(c[0]);g>=0?p=parseInt(c[0],10):u=parseFloat(c[0])}else c.length>=2&&(u=parseFloat(c[0]),p=parseInt(c[1],10));var v;if(typeof u<"u"&&u>=0&&u<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,c)}}),a;typeof p>"u"&&(a._volume=u),p=a._getSoundIds(p);for(var _=0;_<p.length;_++)v=a._soundById(p[_]),v&&(v._volume=u,c[2]||a._stopFade(p[_]),a._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(u,t.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=u*t.volume()),a._emit("volume",v._id))}else return v=p?a._soundById(p):a._sounds[0],v?v._volume:0;return a},fade:function(a,c,u,p){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"fade",action:function(){h.fade(a,c,u,p)}}),h;a=Math.min(Math.max(0,parseFloat(a)),1),c=Math.min(Math.max(0,parseFloat(c)),1),u=parseFloat(u),h.volume(a,p);for(var g=h._getSoundIds(p),v=0;v<g.length;v++){var _=h._soundById(g[v]);if(_){if(p||h._stopFade(g[v]),h._webAudio&&!_._muted){var j=t.ctx.currentTime,E=j+u/1e3;_._volume=a,_._node.gain.setValueAtTime(a,j),_._node.gain.linearRampToValueAtTime(c,E)}h._startFadeInterval(_,a,c,u,g[v],typeof p>"u")}}return h},_startFadeInterval:function(a,c,u,p,h,g){var v=this,_=c,j=u-c,E=Math.abs(j/.01),N=Math.max(4,E>0?p/E:p),P=Date.now();a._fadeTo=u,a._interval=setInterval(function(){var S=(Date.now()-P)/p;P=Date.now(),_+=j*S,_=Math.round(_*100)/100,j<0?_=Math.max(u,_):_=Math.min(u,_),v._webAudio?a._volume=_:v.volume(_,a._id,!0),g&&(v._volume=_),(u<c&&_<=u||u>c&&_>=u)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,v.volume(u,a._id),v._emit("fade",a._id))},N)},_stopFade:function(a){var c=this,u=c._soundById(a);return u&&u._interval&&(c._webAudio&&u._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(u._interval),u._interval=null,c.volume(u._fadeTo,a),u._fadeTo=null,c._emit("fade",a)),c},loop:function(){var a=this,c=arguments,u,p,h;if(c.length===0)return a._loop;if(c.length===1)if(typeof c[0]=="boolean")u=c[0],a._loop=u;else return h=a._soundById(parseInt(c[0],10)),h?h._loop:!1;else c.length===2&&(u=c[0],p=parseInt(c[1],10));for(var g=a._getSoundIds(p),v=0;v<g.length;v++)h=a._soundById(g[v]),h&&(h._loop=u,a._webAudio&&h._node&&h._node.bufferSource&&(h._node.bufferSource.loop=u,u&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop,a.playing(g[v])&&(a.pause(g[v],!0),a.play(g[v],!0)))));return a},rate:function(){var a=this,c=arguments,u,p;if(c.length===0)p=a._sounds[0]._id;else if(c.length===1){var h=a._getSoundIds(),g=h.indexOf(c[0]);g>=0?p=parseInt(c[0],10):u=parseFloat(c[0])}else c.length===2&&(u=parseFloat(c[0]),p=parseInt(c[1],10));var v;if(typeof u=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,c)}}),a;typeof p>"u"&&(a._rate=u),p=a._getSoundIds(p);for(var _=0;_<p.length;_++)if(v=a._soundById(p[_]),v){a.playing(p[_])&&(v._rateSeek=a.seek(p[_]),v._playStart=a._webAudio?t.ctx.currentTime:v._playStart),v._rate=u,a._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(u,t.ctx.currentTime):v._node&&(v._node.playbackRate=u);var j=a.seek(p[_]),E=(a._sprite[v._sprite][0]+a._sprite[v._sprite][1])/1e3-j,N=E*1e3/Math.abs(v._rate);(a._endTimers[p[_]]||!v._paused)&&(a._clearTimer(p[_]),a._endTimers[p[_]]=setTimeout(a._ended.bind(a,v),N)),a._emit("rate",v._id)}}else return v=a._soundById(p),v?v._rate:a._rate;return a},seek:function(){var a=this,c=arguments,u,p;if(c.length===0)a._sounds.length&&(p=a._sounds[0]._id);else if(c.length===1){var h=a._getSoundIds(),g=h.indexOf(c[0]);g>=0?p=parseInt(c[0],10):a._sounds.length&&(p=a._sounds[0]._id,u=parseFloat(c[0]))}else c.length===2&&(u=parseFloat(c[0]),p=parseInt(c[1],10));if(typeof p>"u")return 0;if(typeof u=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,c)}}),a;var v=a._soundById(p);if(v)if(typeof u=="number"&&u>=0){var _=a.playing(p);_&&a.pause(p,!0),v._seek=u,v._ended=!1,a._clearTimer(p),!a._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=u);var j=function(){_&&a.play(p,!0),a._emit("seek",p)};if(_&&!a._webAudio){var E=function(){a._playLock?setTimeout(E,0):j()};setTimeout(E,0)}else j()}else if(a._webAudio){var N=a.playing(p)?t.ctx.currentTime-v._playStart:0,P=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(P+N*Math.abs(v._rate))}else return v._node.currentTime;return a},playing:function(a){var c=this;if(typeof a=="number"){var u=c._soundById(a);return u?!u._paused:!1}for(var p=0;p<c._sounds.length;p++)if(!c._sounds[p]._paused)return!0;return!1},duration:function(a){var c=this,u=c._duration,p=c._soundById(a);return p&&(u=c._sprite[p._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var a=this,c=a._sounds,u=0;u<c.length;u++)c[u]._paused||a.stop(c[u]._id),a._webAudio||(a._clearSound(c[u]._node),c[u]._node.removeEventListener("error",c[u]._errorFn,!1),c[u]._node.removeEventListener(t._canPlayEvent,c[u]._loadFn,!1),c[u]._node.removeEventListener("ended",c[u]._endFn,!1),t._releaseHtml5Audio(c[u]._node)),delete c[u]._node,a._clearTimer(c[u]._id);var p=t._howls.indexOf(a);p>=0&&t._howls.splice(p,1);var h=!0;for(u=0;u<t._howls.length;u++)if(t._howls[u]._src===a._src||a._src.indexOf(t._howls[u]._src)>=0){h=!1;break}return i&&h&&delete i[a._src],t.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,c,u,p){var h=this,g=h["_on"+a];return typeof c=="function"&&g.push(p?{id:u,fn:c,once:p}:{id:u,fn:c}),h},off:function(a,c,u){var p=this,h=p["_on"+a],g=0;if(typeof c=="number"&&(u=c,c=null),c||u)for(g=0;g<h.length;g++){var v=u===h[g].id;if(c===h[g].fn&&v||!c&&v){h.splice(g,1);break}}else if(a)p["_on"+a]=[];else{var _=Object.keys(p);for(g=0;g<_.length;g++)_[g].indexOf("_on")===0&&Array.isArray(p[_[g]])&&(p[_[g]]=[])}return p},once:function(a,c,u){var p=this;return p.on(a,c,u,1),p},_emit:function(a,c,u){for(var p=this,h=p["_on"+a],g=h.length-1;g>=0;g--)(!h[g].id||h[g].id===c||a==="load")&&(setTimeout((function(v){v.call(this,c,u)}).bind(p,h[g].fn),0),h[g].once&&p.off(a,h[g].fn,h[g].id));return p._loadQueue(a),p},_loadQueue:function(a){var c=this;if(c._queue.length>0){var u=c._queue[0];u.event===a&&(c._queue.shift(),c._loadQueue()),a||u.action()}return c},_ended:function(a){var c=this,u=a._sprite;if(!c._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(c._ended.bind(c,a),100),c;var p=!!(a._loop||c._sprite[u][2]);if(c._emit("end",a._id),!c._webAudio&&p&&c.stop(a._id,!0).play(a._id),c._webAudio&&p){c._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=t.ctx.currentTime;var h=(a._stop-a._start)*1e3/Math.abs(a._rate);c._endTimers[a._id]=setTimeout(c._ended.bind(c,a),h)}return c._webAudio&&!p&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,c._clearTimer(a._id),c._cleanBuffer(a._node),t._autoSuspend()),!c._webAudio&&!p&&c.stop(a._id,!0),c},_clearTimer:function(a){var c=this;if(c._endTimers[a]){if(typeof c._endTimers[a]!="function")clearTimeout(c._endTimers[a]);else{var u=c._soundById(a);u&&u._node&&u._node.removeEventListener("ended",c._endTimers[a],!1)}delete c._endTimers[a]}return c},_soundById:function(a){for(var c=this,u=0;u<c._sounds.length;u++)if(a===c._sounds[u]._id)return c._sounds[u];return null},_inactiveSound:function(){var a=this;a._drain();for(var c=0;c<a._sounds.length;c++)if(a._sounds[c]._ended)return a._sounds[c].reset();return new o(a)},_drain:function(){var a=this,c=a._pool,u=0,p=0;if(!(a._sounds.length<c)){for(p=0;p<a._sounds.length;p++)a._sounds[p]._ended&&u++;for(p=a._sounds.length-1;p>=0;p--){if(u<=c)return;a._sounds[p]._ended&&(a._webAudio&&a._sounds[p]._node&&a._sounds[p]._node.disconnect(0),a._sounds.splice(p,1),u--)}}},_getSoundIds:function(a){var c=this;if(typeof a>"u"){for(var u=[],p=0;p<c._sounds.length;p++)u.push(c._sounds[p]._id);return u}else return[a]},_refreshBuffer:function(a){var c=this;return a._node.bufferSource=t.ctx.createBufferSource(),a._node.bufferSource.buffer=i[c._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,t.ctx.currentTime),c},_cleanBuffer:function(a){var c=this,u=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return c;if(t._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),u))try{a.bufferSource.buffer=t._scratchBuffer}catch{}return a.bufferSource=null,c},_clearSound:function(a){var c=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);c||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(a){this._parent=a,this.init()};o.prototype={init:function(){var a=this,c=a._parent;return a._muted=c._muted,a._loop=c._loop,a._volume=c._volume,a._rate=c._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,c._sounds.push(a),a.create(),a},create:function(){var a=this,c=a._parent,u=t._muted||a._muted||a._parent._muted?0:a._volume;return c._webAudio?(a._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),a._node.gain.setValueAtTime(u,t.ctx.currentTime),a._node.paused=!0,a._node.connect(t.masterGain)):t.noAudio||(a._node=t._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(t._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=c._src,a._node.preload=c._preload===!0?"auto":c._preload,a._node.volume=u*t.volume(),a._node.load()),a},reset:function(){var a=this,c=a._parent;return a._muted=c._muted,a._loop=c._loop,a._volume=c._volume,a._rate=c._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,c=a._parent;c._duration=Math.ceil(a._node.duration*10)/10,Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue()),a._node.removeEventListener(t._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,c=a._parent;c._duration===1/0&&(c._duration=Math.ceil(a._node.duration*10)/10,c._sprite.__default[1]===1/0&&(c._sprite.__default[1]=c._duration*1e3),c._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var i={},l=function(a){var c=a._src;if(i[c]){a._duration=i[c].duration,m(a);return}if(/^data:[^;]+;base64,/.test(c)){for(var u=atob(c.split(",")[1]),p=new Uint8Array(u.length),h=0;h<u.length;++h)p[h]=u.charCodeAt(h);f(p.buffer,a)}else{var g=new XMLHttpRequest;g.open(a._xhr.method,c,!0),g.withCredentials=a._xhr.withCredentials,g.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(v){g.setRequestHeader(v,a._xhr.headers[v])}),g.onload=function(){var v=(g.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}f(g.response,a)},g.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete i[c],a.load())},d(g)}},d=function(a){try{a.send()}catch{a.onerror()}},f=function(a,c){var u=function(){c._emit("loaderror",null,"Decoding audio data failed.")},p=function(h){h&&c._sounds.length>0?(i[c._src]=h,m(c,h)):u()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(a).then(p).catch(u):t.ctx.decodeAudioData(a,p,u)},m=function(a,c){c&&!a._duration&&(a._duration=c.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},x=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),c=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=c?parseInt(c[1],10):null;if(a&&u&&u<9){var p=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!p&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=r,typeof ht<"u"?(ht.HowlerGlobal=n,ht.Howler=t,ht.Howl=r,ht.Sound=o):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,o=typeof o!="number"?i._pos[2]:o,typeof t=="number")i._pos=[t,r,o],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(t,r,o,i,l,d){var f=this;if(!f.ctx||!f.ctx.listener)return f;var m=f._orientation;if(r=typeof r!="number"?m[1]:r,o=typeof o!="number"?m[2]:o,i=typeof i!="number"?m[3]:i,l=typeof l!="number"?m[4]:l,d=typeof d!="number"?m[5]:d,typeof t=="number")f._orientation=[t,r,o,i,l,d],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(t,r,o,i,l,d);else return m;return f},Howl.prototype.init=function(t){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,r)}}),o;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var l=o._getSoundIds(r),d=0;d<l.length;d++){var f=o._soundById(l[d]);if(f)if(typeof t=="number")f._stereo=t,f._pos=[t,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&n(f,i),i==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(t,0,0):f._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(t,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(t,r,o,i)}}),l;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof i>"u")if(typeof t=="number")l._pos=[t,r,o];else return l._pos;for(var d=l._getSoundIds(i),f=0;f<d.length;f++){var m=l._soundById(d[f]);if(m)if(typeof t=="number")m._pos=[t,r,o],m._node&&((!m._panner||m._panner.pan)&&n(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setPosition(t,r,o)),l._emit("pos",m._id);else return m._pos}return l},Howl.prototype.orientation=function(t,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(t,r,o,i)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,o=typeof o!="number"?l._orientation[2]:o,typeof i>"u")if(typeof t=="number")l._orientation=[t,r,o];else return l._orientation;for(var d=l._getSoundIds(i),f=0;f<d.length;f++){var m=l._soundById(d[f]);if(m)if(typeof t=="number")m._orientation=[t,r,o],m._node&&(m._panner||(m._pos||(m._pos=l._pos||[0,0,-.5]),n(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setOrientation(t,r,o)),l._emit("orientation",m._id);else return m._orientation}return l},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,o,i,l;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof i>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return l=t._soundById(parseInt(r[0],10)),l?l._pannerAttr:t._pannerAttr;else r.length===2&&(o=r[0],i=parseInt(r[1],10));for(var d=t._getSoundIds(i),f=0;f<d.length;f++)if(l=t._soundById(d[f]),l){var m=l._pannerAttr;m={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:m.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:m.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:m.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:m.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:m.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:m.panningModel};var x=l._panner;x||(l._pos||(l._pos=t._pos||[0,0,-.5]),n(l,"spatial"),x=l._panner),x.coneInnerAngle=m.coneInnerAngle,x.coneOuterAngle=m.coneOuterAngle,x.coneOuterGain=m.coneOuterGain,x.distanceModel=m.distanceModel,x.maxDistance=m.maxDistance,x.refDistance=m.refDistance,x.rolloffFactor=m.rolloffFactor,x.panningModel=m.panningModel}return t},Sound.prototype.init=function(t){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,t.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var n=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(de);const W={error:new de.Howl({src:["sounds/error.mp3"],volume:.8,preload:!0}),unauthorized:new de.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),coinFlip:new de.Howl({src:["sounds/coin-flip.mp3"],volume:.7,preload:!0}),achievement:new de.Howl({src:["sounds/achievement.mp3"],volume:.7,preload:!0}),play:new de.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new de.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new de.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new de.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),remove:new de.Howl({src:["sounds/remove.mp3"],volume:.7,preload:!0}),recycle:new de.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new de.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new de.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new de.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new de.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new de.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new de.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0}),bell:new de.Howl({src:["sounds/bell.mp3"],volume:.5,preload:!0})},kn=[{name:"Première victoire",description:"Gagner une partie",unlockCondition:e=>e.wonGames>=1},{name:"Conquérant",description:"Gagner 5 parties",unlockCondition:e=>e.wonGames>=5},{name:"Try harder",description:"Gagner 25 parties",unlockCondition:e=>e.wonGames>=10},{name:"Maître du jeu",description:"Utiliser 5 améliorations différentes en une partie",unlockCondition:e=>e.upgrades.length>=5},{name:"Enutrof",description:"Utiliser toutes les améliorations économiques en une partie",unlockCondition:e=>e.rawUpgrades.filter(n=>n.description.includes("M$")).every(n=>e.upgrades.some(t=>t[0]===n.name))},{name:"Eliatrop",description:"Utiliser toutes les améliorations énergétiques en une partie",unlockCondition:e=>e.rawUpgrades.filter(n=>n.description.includes("@energy")).every(n=>e.upgrades.some(t=>t[0]===n.name))},{name:"Ecaflip",description:"Faire 20 lancés de pièce en une partie",unlockCondition:e=>e.coinFlips>=20},{name:"Xelor",description:`Avoir ${Qe} cartes en main qui coutent zéro`,unlockCondition:e=>e.hand.filter(n=>je(n,e).effect.cost.value===0).length>=5},{name:"Sadida",description:"Recycler 150 cartes en une partie",unlockCondition:e=>e.recycledCards>=150},{name:"Sacrieur",description:"Défausser 50 cartes en une partie",unlockCondition:e=>e.discardedCards>=50},{name:"Trader",description:"Avoir 7 cartes @action en main",unlockCondition:e=>e.hand.filter(n=>je(n,e).type==="action").length>=7},{name:"Milliardaire",description:"Obtenir 1000M$",unlockCondition:e=>e.money>=1e3},{name:"Collectionneur",description:"Découvrir 20 cartes différentes",unlockCondition:e=>e.discoveries.length>=20},{name:"Perfectionniste",description:"Découvrir toutes les cartes @upgrade",unlockCondition:e=>e.rawUpgrades.every(n=>e.discoveries.includes(n.name))},{name:"Complétionniste",description:"Découvrir toutes les cartes",unlockCondition:e=>e.discoveries.length===e.cards.length},{name:"Retro gamer",description:"Utiliser le Konami code",unlockCondition:e=>e.debug},{name:"Changer de thême",description:"Changer le thême du jeu",unlockCondition:()=>Jr().theme!=="default"},{name:"Procrastinateur",description:"Faire durer la partie plus de 90 jours",unlockCondition:e=>e.day>=90},{name:"Sélectif",description:"Passer 20 choix de carte en une partie",unlockCondition:e=>e.skippedChoices>=20},{name:"Jour, nuit, jour, nuit...",description:"Passer du thème clair au thème sombre 2 fois",unlockCondition:()=>+(localStorage.getItem("Jour, nuit, jour, nuit...")??0)>=4}],Ar={version:"1.0.58"};function Pi(){return{selectedCard:null,requestedCancel:!1,inflation:0,energy:0,discard:[],revivedHand:[],infinityMode:!1,reason:null,notification:[],energyMax:En,wonGames:0,money:0,reputation:0,rawUpgrades:[],hand:[],coinFlips:0,recycledCards:0,skippedChoices:0,discardedCards:0,day:0,dayFull:!1,sprintFull:!1,isGameOver:!1,isWon:!1,score:0,logs:[],cards:[],upgrades:[],choiceOptions:[],choiceOptionCount:0,operationInProgress:[],playZone:[],draw:[],error:null,difficulty:"normal",globalCardModifiers:[],discoveries:[],achievements:[],totalMoney:0,playedGames:0,scoreAverage:0,debug:!1,selectCard:()=>{},waitCardSelection:async()=>null,addMaxEnergy:async()=>{},addMoney:async()=>{},setOperationInProgress:()=>{},increments:async()=>{},incrementsInflation:()=>{},addGlobalCardModifier:async()=>{},setDebug:()=>{},checkAchievements:async()=>{},checkDiscoveries:()=>{},addDiscovery:()=>{},addAchievement:async()=>{},addWonGame:()=>{},addPlayedGame:()=>{},addEnergy:async()=>{},upgrade:async()=>{},dangerouslyUpdate:()=>{},addLog:()=>{},addNotification:async()=>{},updateScore:()=>{},addReputation:async()=>{},advanceTime:async()=>{},coinFlip:async()=>{},defeat:()=>{},discardCard:async()=>{},drawCard:async()=>{},enableInfinityMode:()=>{},handleError:e=>e,pickOption:async()=>{},playCard:async()=>{},reset:()=>{},win:()=>{},removeCard:async()=>{},skip:async()=>{},triggerUpgrade:async()=>{},triggerEvent:async()=>{},recycleCard:async()=>{}}}function sa(){const e=localStorage.getItem("globals");return e?JSON.parse(e):{debug:!1,scoreAverage:0,totalMoney:0,wonGames:0,playedGames:0,discoveries:[],achievements:[]}}function ki(e,n){const t=()=>{const r=n();localStorage.setItem("globals",JSON.stringify({debug:r.debug,wonGames:r.wonGames,achievements:r.achievements,playedGames:r.playedGames,discoveries:r.discoveries,scoreAverage:r.scoreAverage,totalMoney:r.totalMoney}))};return{setDebug:r=>{e({debug:r}),t()},checkAchievements:async()=>{await le(n,async()=>{const r=n();for(const o of kn)r.achievements.includes(o.name)||o.unlockCondition(n())&&(r.setOperationInProgress("checkAchievements",!0),await r.addAchievement(o.name));r.setOperationInProgress("checkAchievements",!1)})},checkDiscoveries:()=>{lt(n,()=>{const r=n();r.addDiscovery(...ea(r).map(([o])=>o))})},addDiscovery:(...r)=>{lt(n,()=>{e(o=>({discoveries:Array.from(new Set([...o.discoveries,...r]))})),t()})},addAchievement:async r=>{await le(n,async()=>{e(o=>({achievements:Array.from(new Set([...o.achievements,r]))})),W.achievement.play(),await n().addNotification({header:"Succès déverrouillé",message:r,className:"bg-primary text-primary-foreground text-center"}),t()})},addWonGame:()=>{lt(n,()=>{const r=n();e({wonGames:r.wonGames+1,scoreAverage:r.scoreAverage+(r.score-r.scoreAverage)/(r.wonGames+1),totalMoney:r.totalMoney+r.money,playedGames:r.playedGames+1}),t()})},addPlayedGame:()=>{lt(n,()=>{const r=n();e({playedGames:r.playedGames+1,totalMoney:r.totalMoney+r.money}),t()})}}}function ia(){const e=Jr().difficulty,n=localStorage.getItem("metadata"),t=localStorage.getItem("save");if(t&&JSON.stringify(Ar)===n)return Js(t);localStorage.setItem("metadata",JSON.stringify(Ar));const r=Pi(),o=ei(r),i=ii(),l=[];l.push(o.find(f=>f.effect(0,r).description.startsWith("Renvoie tout")).name),l.push(...o.filter(f=>l.every(m=>m!==f.name)&&f.effect(0,r).description.startsWith("Pioche")).slice(0,2).map(f=>f.name)),l.push(...o.filter(f=>l.every(m=>m!==f.name)&&f.effect(0,r).description.startsWith("Recycle")).map(f=>f.name)),l.push(...o.filter(f=>l.every(m=>m!==f.name)&&!f.effect(0,r).upgrade&&f.effect(0,r).description.toLowerCase().includes("gagne")&&f.effect(0,r).description.toLowerCase().includes("énergie")).map(f=>f.name));const d=[];for(let f=0;f<ti;f++)d.push(Be(o.filter(m=>d.every(x=>x.every(([a])=>a!==m.name))&&l.every(x=>x!==m.name)&&!m.effect(0,r).upgrade),5).slice(0,br).map(m=>[m.name,"drawing",ni()]));return{selectedCard:null,coinFlips:0,recycledCards:0,discardedCards:0,skippedChoices:0,rawUpgrades:i,cards:o,difficulty:e,error:null,choiceOptions:d,choiceOptionCount:br,logs:[],notification:[],operationInProgress:["choices"],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,requestedCancel:!1,draw:l.slice(Qe-2).map(f=>[f,"idle",bt.common]),hand:l.slice(0,Qe-2).map(f=>[f,"idle",bt.common]),revivedHand:[],playZone:[],discard:[],upgrades:[],globalCardModifiers:[["upgrade cost threshold",[],Cr.First],["all card inflation",[],Cr.Last]],day:0,dayFull:!1,sprintFull:!1,energy:En,energyMax:En,reputation:Hn,money:0,inflation:0}}function Ti(e,n){return{skip:async t=>{await le(n,async()=>{W.play.play();const r=n();await r.addEnergy(na(r.day)&&r.choiceOptions.length===1?10:5,{reason:t.reason,skipGameOverPause:!0}),e({choiceOptions:r.choiceOptions.slice(1)}),await r.increments("skippedChoices")})},increments:async(t,r)=>{const o=n();typeof o[t]=="number"&&(e({[t]:o[t]+(r??1)}),await o.checkAchievements())},incrementsInflation:()=>{const r=n().inflation+1;e({inflation:r})},handleError:t=>(t instanceof Error?e({error:t}):e({error:new Error(String(t))}),t),coinFlip:async t=>{await le(n,async()=>{W.coinFlip.play();const r=n();r.setOperationInProgress("coinFlip",!0);const o=Math.random()>.5,i=o?"Face":"Pile";console.log("playZone",r.playZone.toString());const d=je(r.playZone[r.playZone.length-1],r).effect.description.split("<br/>").slice(1).map(f=>f.trim()).find(f=>f.startsWith(i));await Promise.all([await r.addNotification({message:(d==null?void 0:d.replace(`${i}:`,""))??i,className:"bg-background text-foreground"}),await t[o?"onHead":"onTail"](r)]),await r.increments("coinFlips"),r.setOperationInProgress("coinFlip",!1)})},advanceTime:async t=>{await le(n,async()=>{if(t<0)return;const r=n();r.setOperationInProgress("advanceTime",!0);const o=Math.max(Te,t*Te);if(o<Te)throw r.handleError(new Error(`Not enough energy to advance time: ${t}`));let i=Math.floor(r.day);const l=r.day+o,d=Math.floor(l);for(i;i<d;i++){const f=i!==0&&(i+1)%7===0,m=f&&(i+1)%28===0;if(e({day:i+1,dayFull:!0,sprintFull:f}),W.bell.play(),f&&W.upgrade.play(),await r.addNotification({message:f?`Sprint ${Math.floor((i+1)/7)}`:`Jour ${i+1}`,className:f?"bg-upgrade text-upgrade-foreground":"bg-day text-day-foreground"}),await r.triggerEvent("daily"),e(x=>({dayFull:!1,choiceOptions:f?x.choiceOptions:[...x.choiceOptions,fn(n(),{filter:a=>!a.effect(0,x).upgrade})]})),f){await r.triggerEvent("weekly");const x=n();e(a=>({sprintFull:!1,choiceOptions:[...a.choiceOptions,fn(x,{noResource:!0,filter:c=>!c.effect(0,a).upgrade&&c.type==="action"}),fn(x,{noResource:!0,filter:c=>!!c.effect(0,a).upgrade})]})),m&&(await r.addNotification({header:"L'inflation augmente",message:`Mois ${Math.floor((i+1)/7)}`,className:"bg-inflation text-inflation-foreground"}),r.incrementsInflation(),await r.triggerEvent("monthly"))}await V(1e3)}e({day:l,dayFull:null,sprintFull:null}),r.setOperationInProgress("advanceTime",!1)})},addLog:t=>{e(r=>({logs:[...r.logs,t]}))},addNotification:async t=>{await le(n,async()=>{const r=n();if(r.notification.length>0)throw r.handleError(new Error(`Trying to add a notification while one is already displayed: ${JSON.stringify(t)}`));e(o=>({notification:[t,...o.notification]})),await V(2e3),e(o=>({notification:o.notification.slice(1)}))})},dangerouslyUpdate:t=>e(t),setOperationInProgress:(t,r)=>{lt(n,()=>{e(o=>({operationInProgress:r?Array.from(new Set([...o.operationInProgress,t])):o.operationInProgress.filter(i=>i!==t)}))})},updateScore:()=>{lt(n,()=>{const t=n(),r=1,o=aa,i=1/Nn,l=t.energy*r,d=t.reputation*o,f=t.money*i;let m=0;t.upgrades.forEach(h=>{const g=Ct(h,t);m+=(g.cost.type==="money"?g.cost.value/Nn:g.cost.value)*g.cumul});let x=1;t.day<=28?x=2:t.day<=56&&(x=1.5);const a=1+(li[Ye.difficulty]-3)*.2,u=(l+d+f+m)*x*a,p=t.money/zt;e({score:Math.round(u*p*10)})})},addEnergy:async(t,r)=>{await le(n,async()=>{const o=n();if(o.setOperationInProgress("energy",!0),t>0){const i=Math.min(t,o.energyMax-o.energy);i>0&&o.addLog({value:i,type:"energy",reason:r.reason}),e(l=>({energy:Math.max(0,Math.min(l.energyMax,l.energy+t))})),W.gain.play(),await V()}else if(t<0){const i=n(),l=Math.abs(t)-i.energy,d=Math.min(Math.abs(t),i.energy);d>0&&i.addLog({value:-d,type:"energy",reason:r.reason}),l>0?(e({energy:0}),await i.addReputation(-l,r)):e(f=>({energy:f.energy+t}))}o.setOperationInProgress("energy",!1)})},addMaxEnergy:async(t,r)=>{await le(n,async()=>{if(t===0)return;const o=n();o.setOperationInProgress("maxEnergy",!0),e(i=>({energyMax:Math.max(0,i.energyMax+t)})),t>0?(W.powerUp.play(),await V(),await o.addEnergy(t,r)):(W.loss.play(),await V(),o.energy>o.energyMax&&await o.addEnergy(o.energyMax-o.energy,r)),o.setOperationInProgress("maxEnergy",!1)})},addReputation:async(t,r)=>{await le(n,async()=>{const o=n();o.setOperationInProgress("reputation",!0),t===10?W.powerUp.play():t>0?W.gain.play():W.loss.play(),t!==0&&o.addLog({value:t,type:"reputation",reason:r.reason}),e(i=>({reputation:Math.max(0,Math.min(Hn,i.reputation+t))})),await V(),t<0&&await o.triggerEvent("onReputationDeclines"),!(r!=null&&r.skipGameOverPause)&&_t(o)&&await V(2e3),o.setOperationInProgress("reputation",!1)})},addMoney:async(t,r)=>{await le(n,async()=>{let o=n();o.setOperationInProgress("money",!0),t!==0&&o.addLog({value:t,type:"money",reason:r==null?void 0:r.reason}),t>0&&(W.cashing.play(),await V()),e(i=>({money:i.money+t})),o=n(),!(r!=null&&r.skipGameOverPause)&&o.money>=zt&&await V(2e3),o.setOperationInProgress("money",!1)})},upgrade:async t=>{await le(n,async()=>{const r=n();r.setOperationInProgress(`upgrade ${t}`,!0);const o=r.rawUpgrades.find(i=>i.name===t);W.upgrade.play(),r.upgrades.find(i=>i[0]===t)?e(i=>({upgrades:i.upgrades.map(l=>l[0]===t?[l[0],l[1]+1,l[2]]:l)})):e(i=>({upgrades:[...i.upgrades,[o.name,1,"appear"]]})),await V(),e(i=>({upgrades:i.upgrades.map(l=>l[0]===t?[l[0],l[1],"idle"]:l)})),o.eventName==="onUpgradeThis"&&await r.triggerUpgrade(t,{}),await r.checkAchievements(),r.setOperationInProgress(`upgrade ${t}`,!1)})},triggerUpgrade:async(t,r)=>{await le(n,async()=>{const o=n(),i=o.upgrades.find(d=>d[0]===t),l=Ct(i,o);(!l.condition||l.condition(n(),l))&&(o.setOperationInProgress(`triggerUpgrade ${t}`,!0),e({upgrades:o.upgrades.map(d=>d[0]===l.name?[d[0],d[1],"triggered"]:d)}),await V(),await l.onTrigger(n(),l,(r==null?void 0:r.reason)??i),e(d=>({upgrades:d.upgrades.map(f=>f[0]===l.name?[f[0],f[1],"idle"]:f)})),o.setOperationInProgress(`triggerUpgrade ${t}`,!1))})},triggerEvent:async t=>{await le(n,async()=>{const r=n();r.setOperationInProgress(`triggerUpgradeEvent ${t}`,!0);const o=r.upgrades.map(i=>Ct(i,r)).filter(i=>i.eventName===t);for(const i of o)await r.triggerUpgrade(i.name,{reason:ri(i)});r.setOperationInProgress(`triggerUpgradeEvent ${t}`,!1)})},addGlobalCardModifier:async(t,r,o)=>{await le(n,async()=>{W.powerUp.play();const i=[t,r,o];e(l=>({globalCardModifiers:[...l.globalCardModifiers,i]})),await V()})},drawCard:async(t=1,r)=>{await le(n,async()=>{let o=n();o.setOperationInProgress("draw",!0);const i=r!=null&&r.fromDiscardPile?"discard":"draw",l=o.hand.slice(),d=o[i].slice().filter(x=>{const a=je(x,o);return r!=null&&r.filter?r.filter(a):!0}),f=[];let m=!1;for(let x=0;x<t&&d.length!==0;x++){const a=d.pop();a[1]="drawing",f.push(a),l.length<Qe&&(l.push(a),m=!0)}m&&(i==="draw"?W.draw.play():W.recycle.play()),e({hand:l,[i]:Be(rt(o[i],f.map(([x])=>x)),2)}),await V(),e(x=>({hand:fe(x.hand,"idle")})),await o.triggerEvent("onDraw"),o=n(),!(r!=null&&r.skipGameOverPause)&&_t(o)&&await V(2e3),o.setOperationInProgress("draw",!1)})},discardCard:async t=>{await le(n,async()=>{const r=t!=null&&t.toDraw?"draw":"discard";W.drop.play();const o=n();o.setOperationInProgress("discard",!0);const i=o.hand.slice().filter(d=>d[1]!=="playing"&&(!(t!=null&&t.filter)||t.filter(je(d,o)))),l=(t!=null&&t.random?[i[Math.floor(Math.random()*o.hand.length)]]:i).map(([d])=>d);e({hand:fe(o.hand,l,"discarding")}),await V(),e(d=>({[r]:Be([...ai(d.hand,l),...d[r]],2),hand:rt(d.hand,l)})),await o.increments("discardedCards",l.length),o.setOperationInProgress("discard",!1)})},removeCard:async t=>{await le(n,async()=>{const r=n();r.setOperationInProgress(`removeCard ${t}`,!0),r.hand.some(i=>i[0]===t)&&(e({hand:fe(r.hand,t,"removing")}),W.remove.play(),await V());const o=["discard","draw","hand"];e(i=>({...o.reduce((l,d)=>({...l,[d]:i[d].filter(f=>f[0]!==t)}),{})})),r.setOperationInProgress(`removeCard ${t}`,!1)})},recycleCard:async(t=1)=>{await le(n,async()=>{if(t<=0)return;const r=n();if(r.discard.length===0)return;r.setOperationInProgress("recycle",!0),W.recycle.play();const o=Be(r.discard,2).slice(),i=r.draw.slice();let l=0;for(let d=0;d<t&&o.length!==0;d++){const f=o.pop();i.push(f),l++}await V(),e({draw:Be(i,2),discard:o}),await r.increments("recycledCards",l),r.setOperationInProgress("recycle",!1)})},selectCard:t=>{e({selectedCard:t})},waitCardSelection:async t=>{const r=t.from.map(d=>Array.isArray(d)?d[0]:d.name);e(d=>({requestedCancel:!1,selectedCard:null,hand:fe(d.hand,r,"selected")}));const o=n();o.setOperationInProgress("selectCard",!0);let i;const l=await new Promise(d=>{const f=()=>{e(a=>({hand:fe(a.hand,r,"idle")}))},m=a=>{d(je(a,o)),clearInterval(i),e({selectedCard:null}),f()},x=()=>{d(null),clearInterval(i),e({requestedCancel:!1}),f()};i=setInterval(()=>{const a=n();if(a.requestedCancel)return x();a.selectedCard&&(t.from.some(c=>(Array.isArray(c)?c[0]:c.name)===a.selectedCard)?m(a.selectedCard):x())},100),setTimeout(()=>{x()},t.timeout??1e4)});return await V(),o.setOperationInProgress("selectCard",!1),l},playCard:async(t,r)=>{await le(n,async()=>{const o=!!(r!=null&&r.free);let i=n();const l=(r==null?void 0:r.reason)??t,d=async()=>{W.unauthorized.play(),e({hand:fe(i.hand,t.name,"unauthorized")}),await V(),e({hand:fe(i.hand,t.name,"idle")})};if(t.effect.condition&&!t.effect.condition(i,t)){await d();return}if(o||t.effect.cost.value<=0||ra(t,i))i.setOperationInProgress(`play ${t.name}`,!0);else{await d();return}let f=[];if((t.effect.prePlay||t.effect.needsPlayZone)&&(e(p=>({hand:fe(p.hand,t.name,"playing")})),await V(),e(p=>({playZone:fe([...p.playZone,qe(t)],t.name,"landing"),hand:rt(p.hand,t.name)})),await V(),e(p=>({playZone:fe(p.playZone,t.name,"idle")})),t.effect.prePlay)){const p=await t.effect.prePlay(i,t);if(p==="cancel"){e(h=>({playZone:rt(h.playZone,t.name),hand:fe([...h.hand,qe(t)],t.name,"landing")})),await V(),i.setOperationInProgress(`play ${t.name}`,!1);return}else f=p}if(!o){const p=Et(t.effect.cost,i);await(t.effect.cost.type==="money"?i.addMoney(-p,{skipGameOverPause:!0,reason:l}):i.addEnergy(-p,{skipGameOverPause:!0,reason:l}))}W.play.play(),je(qe(t),i,!0);const m=oi(n(),t),x=t.effect.recycle,a=m?"removing":"playing";!t.effect.needsPlayZone&&!t.effect.prePlay&&e(p=>({hand:fe(p.hand,t.name,a)}));const c=async()=>{x&&W.recycle.play(),m&&W.remove.play(),t.effect.needsPlayZone&&(e(p=>({playZone:fe(p.playZone,t.name,a)})),await V()),e(p=>({discard:m||x?p.discard:Be([qe(t),...p.discard],3),draw:x?Be([qe(t),...p.draw],3):p.draw,hand:rt(p.hand,t.name),playZone:rt(p.playZone,t.name)}))},u=async()=>{await t.effect.onPlayed(n(),t,l,...f)};t.effect.waitBeforePlay?(await V(),await c(),await u()):t.effect.needsPlayZone?(await u(),await c()):await Promise.all([V().then(()=>c()),u()]),await i.triggerEvent("onPlay"),i=n(),i.hand.length===0&&(await i.triggerEvent("onEmptyHand"),await i.drawCard(1,{reason:l})),await i.advanceTime(Et({type:"energy",value:si(t.effect.cost)},i)),!(r!=null&&r.skipGameOverPause)&&_t(n())&&await V(2e3),i.setOperationInProgress(`play ${t.name}`,!1)})},pickOption:async t=>{await le(n,async()=>{const r=n();if(r.setOperationInProgress(`pick ${Xe(t)?t[0]:t.name}`,!0),W.gain.play(),r.choiceOptions[0].length>1&&W.remove.play(),e({choiceOptions:r.choiceOptions.map(o=>o.map(i=>Xe(i)?[i[0],i[0]===(Xe(t)?t[0]:t.name)?"playing":"removing",i[2],i[3]]:[i[0],i[0]===(Xe(t)?t[0]:t.name)?"playing":"removing",i[2]]))}),Xe(t)){switch(t[3]){case"money":await r.addMoney(t[2],{reason:"Ressource",skipGameOverPause:!0});break;case"reputation":await r.addReputation(t[2],{reason:"Ressource",skipGameOverPause:!0});break;case"energy":await r.addEnergy(t[2],{reason:"Ressource",skipGameOverPause:!0});break}await V(),e(o=>({choiceOptions:o.choiceOptions.map(i=>fe(i,t[0],"removed"))})),e(o=>({choiceOptions:o.choiceOptions.map(i=>fe(i,null))})),e(o=>({choiceOptions:o.choiceOptions.slice(1)}))}else await V(),e(o=>({choiceOptions:o.choiceOptions.map(i=>fe(i,t.name,"removed"))})),e(o=>({choiceOptions:o.choiceOptions.map(i=>fe(i,null))})),e(o=>{const i=o.hand.length<Qe?"hand":"draw";return{choiceOptions:o.choiceOptions.slice(1),[i]:i==="draw"?Be([...o.draw,qe(t)],3):[...o.hand,qe(t,"drawing")]}}),await V(),e(o=>({hand:fe(o.hand,"idle")}));r.setOperationInProgress(`pick ${Xe(t)?t[0]:t.name}`,!1)})},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:t=>{W.defeat.play(),e({isGameOver:!0,isWon:!1,reason:t})},reset:()=>{localStorage.removeItem("metadata"),localStorage.removeItem("save"),e({...ia(),...sa()})},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const ee=Ks((e,n)=>{const t={...ia(),...Ti(e,n),...sa(),...ki(e,n)};return t.discoveries=Array.from(new Set([...t.discoveries,...ea(t).map(([r])=>r)])),t.revivedHand=ta(t.hand,t),t});ee.subscribe(async(e,n)=>{await le(()=>e,async()=>{if(!e.error&&((e.reputation!==n.reputation||e.money!==n.money||e.upgrades!==n.upgrades||e.energy!==n.energy||e.day!==n.day)&&e.updateScore(),localStorage.setItem("save",JSON.stringify({coinFlips:e.coinFlips,recycledCards:e.recycledCards,discardedCards:e.discardedCards,skippedChoices:e.skippedChoices,difficulty:e.difficulty,error:e.error,choiceOptions:e.choiceOptions,choiceOptionCount:e.choiceOptionCount,draw:e.draw,hand:e.hand,discard:e.discard,playZone:e.playZone,upgrades:e.upgrades,globalCardModifiers:e.globalCardModifiers,day:e.day,energy:e.energy,energyMax:e.energyMax,reputation:e.reputation,notification:e.notification,dayFull:e.dayFull,sprintFull:e.sprintFull,money:e.money,reason:e.reason,isWon:e.isWon,operationInProgress:e.operationInProgress,isGameOver:e.isGameOver,infinityMode:e.infinityMode,logs:e.logs,score:e.score,inflation:e.inflation,requestedCancel:e.requestedCancel,selectedCard:e.selectedCard},(t,r)=>{if(!(typeof r=="function"&&!(t in e)))return r})),(e.hand.join(",")!==n.hand.join("")||e.inflation!==n.inflation||e.globalCardModifiers.join(",")!==n.globalCardModifiers.join(","))&&(e.revivedHand=ta(e.hand,e)),e.operationInProgress.join(",")!==n.operationInProgress.join("")&&e.operationInProgress.length===0)){if(_r(e)&&await e.addAchievement("Première victoire"),e.checkDiscoveries(),await e.checkAchievements(),Qs(e),_r(e))e.win(),e.addWonGame();else if(!e.isGameOver){const t=_t(e);t&&(e.defeat(t),e.addPlayedGame())}}})});const Er=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],Oi=()=>{const[e,n]=ee(l=>[l.debug,l.setDebug]),[t,r]=C.useState(0),[o,i]=C.useState(null);C.useEffect(()=>{const l=d=>{o&&clearTimeout(o),d.key===Er[t]?r(f=>f+1):r(0),t===Er.length-1&&(r(0),n(!e)),i(setTimeout(()=>{r(0)},1e3))};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[t,o,e,n])},Mi=()=>{const e=ge(o=>o.isCardGameVisible),n=ee(o=>o.operationInProgress.length>0),t=ee(o=>o.checkAchievements),r=ee(o=>o.checkDiscoveries);C.useEffect(()=>{const o=setInterval(()=>{e&&!n&&(r(),t().then())},1e3);return()=>clearInterval(o)},[e,n,t])};var qn={};(function e(n,t,r,o){var i=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!n.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),w=b.getContext("2d");w.fillRect(0,0,1,1);var O=b.transferToImageBitmap();try{w.createPattern(O,"no-repeat")}catch{return!1}return!0}();function f(){}function m(b){var w=t.exports.Promise,O=w!==void 0?w:n.Promise;return typeof O=="function"?new O(b):(b(f,f),null)}var x=function(b,w){return{transform:function(O){if(b)return O;if(w.has(O))return w.get(O);var D=new OffscreenCanvas(O.width,O.height),F=D.getContext("2d");return F.drawImage(O,0,0),w.set(O,D),D},clear:function(){w.clear()}}}(d,new Map),a=function(){var b=Math.floor(16.666666666666668),w,O,D={},F=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(H){var B=Math.random();return D[B]=requestAnimationFrame(function R(G){F===G||F+b-1<G?(F=G,delete D[B],H()):D[B]=requestAnimationFrame(R)}),B},O=function(H){D[H]&&cancelAnimationFrame(D[H])}):(w=function(H){return setTimeout(H,b)},O=function(H){return clearTimeout(H)}),{frame:w,cancel:O}}(),c=function(){var b,w,O={};function D(F){function H(B,R){F.postMessage({options:B||{},callback:R})}F.init=function(R){var G=R.transferControlToOffscreen();F.postMessage({canvas:G},[G])},F.fire=function(R,G,X){if(w)return H(R,null),w;var ne=Math.random().toString(36).slice(2);return w=m(function(Q){function re(ae){ae.data.callback===ne&&(delete O[ne],F.removeEventListener("message",re),w=null,x.clear(),X(),Q())}F.addEventListener("message",re),H(R,ne),O[ne]=re.bind(null,{data:{callback:ne}})}),w},F.reset=function(){F.postMessage({reset:!0});for(var R in O)O[R](),delete O[R]}}return function(){if(b)return b;if(!r&&i){var F=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([F])))}catch(H){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",H),null}D(b)}return b}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(b,w){return w?w(b):b}function h(b){return b!=null}function g(b,w,O){return p(b&&h(b[w])?b[w]:u[w],O)}function v(b){return b<0?0:Math.floor(b)}function _(b,w){return Math.floor(Math.random()*(w-b))+b}function j(b){return parseInt(b,16)}function E(b){return b.map(N)}function N(b){var w=String(b).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:j(w.substring(0,2)),g:j(w.substring(2,4)),b:j(w.substring(4,6))}}function P(b){var w=g(b,"origin",Object);return w.x=g(w,"x",Number),w.y=g(w,"y",Number),w}function S(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function T(b){var w=b.getBoundingClientRect();b.width=w.width,b.height=w.height}function k(b){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=b,w}function I(b,w,O,D,F,H,B,R,G){b.save(),b.translate(w,O),b.rotate(H),b.scale(D,F),b.arc(0,0,1,B,R,G),b.restore()}function $(b){var w=b.angle*(Math.PI/180),O=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-w+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function U(b,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var O=w.tick++/w.totalTicks,D=w.x+w.random*w.tiltCos,F=w.y+w.random*w.tiltSin,H=w.wobbleX+w.random*w.tiltCos,B=w.wobbleY+w.random*w.tiltSin;if(b.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-O)+")",b.beginPath(),l&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))b.fill(L(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(H-D)*.1,Math.abs(B-F)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var R=Math.PI/10*w.wobble,G=Math.abs(H-D)*.1,X=Math.abs(B-F)*.1,ne=w.shape.bitmap.width*w.scalar,Q=w.shape.bitmap.height*w.scalar,re=new DOMMatrix([Math.cos(R)*G,Math.sin(R)*G,-Math.sin(R)*X,Math.cos(R)*X,w.x,w.y]);re.multiplySelf(new DOMMatrix(w.shape.matrix));var ae=b.createPattern(x.transform(w.shape.bitmap),"no-repeat");ae.setTransform(re),b.globalAlpha=1-O,b.fillStyle=ae,b.fillRect(w.x-ne/2,w.y-Q/2,ne,Q),b.globalAlpha=1}else if(w.shape==="circle")b.ellipse?b.ellipse(w.x,w.y,Math.abs(H-D)*w.ovalScalar,Math.abs(B-F)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):I(b,w.x,w.y,Math.abs(H-D)*w.ovalScalar,Math.abs(B-F)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var q=Math.PI/2*3,me=4*w.scalar,ve=8*w.scalar,ye=w.x,Ae=w.y,Ce=5,ke=Math.PI/Ce;Ce--;)ye=w.x+Math.cos(q)*ve,Ae=w.y+Math.sin(q)*ve,b.lineTo(ye,Ae),q+=ke,ye=w.x+Math.cos(q)*me,Ae=w.y+Math.sin(q)*me,b.lineTo(ye,Ae),q+=ke;else b.moveTo(Math.floor(w.x),Math.floor(w.y)),b.lineTo(Math.floor(w.wobbleX),Math.floor(F)),b.lineTo(Math.floor(H),Math.floor(B)),b.lineTo(Math.floor(D),Math.floor(w.wobbleY));return b.closePath(),b.fill(),w.tick<w.totalTicks}function Z(b,w,O,D,F){var H=w.slice(),B=b.getContext("2d"),R,G,X=m(function(ne){function Q(){R=G=null,B.clearRect(0,0,D.width,D.height),x.clear(),F(),ne()}function re(){r&&!(D.width===o.width&&D.height===o.height)&&(D.width=b.width=o.width,D.height=b.height=o.height),!D.width&&!D.height&&(O(b),D.width=b.width,D.height=b.height),B.clearRect(0,0,D.width,D.height),H=H.filter(function(ae){return U(B,ae)}),H.length?R=a.frame(re):Q()}R=a.frame(re),G=Q});return{addFettis:function(ne){return H=H.concat(ne),X},canvas:b,promise:X,reset:function(){R&&a.cancel(R),G&&G()}}}function z(b,w){var O=!b,D=!!g(w||{},"resize"),F=!1,H=g(w,"disableForReducedMotion",Boolean),B=i&&!!g(w||{},"useWorker"),R=B?c():null,G=O?S:T,X=b&&R?!!b.__confetti_initialized:!1,ne=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Q;function re(q,me,ve){for(var ye=g(q,"particleCount",v),Ae=g(q,"angle",Number),Ce=g(q,"spread",Number),ke=g(q,"startVelocity",Number),qs=g(q,"decay",Number),Ws=g(q,"gravity",Number),zs=g(q,"drift",Number),vr=g(q,"colors",E),Vs=g(q,"ticks",Number),yr=g(q,"shapes"),Us=g(q,"scalar"),Zs=!!g(q,"flat"),xr=P(q),wr=ye,dn=[],Xs=b.width*xr.x,Ys=b.height*xr.y;wr--;)dn.push($({x:Xs,y:Ys,angle:Ae,spread:Ce,startVelocity:ke,color:vr[wr%vr.length],shape:yr[_(0,yr.length)],ticks:Vs,decay:qs,gravity:Ws,drift:zs,scalar:Us,flat:Zs}));return Q?Q.addFettis(dn):(Q=Z(b,dn,G,me,ve),Q.promise)}function ae(q){var me=H||g(q,"disableForReducedMotion",Boolean),ve=g(q,"zIndex",Number);if(me&&ne)return m(function(ke){ke()});O&&Q?b=Q.canvas:O&&!b&&(b=k(ve),document.body.appendChild(b)),D&&!X&&G(b);var ye={width:b.width,height:b.height};R&&!X&&R.init(b),X=!0,R&&(b.__confetti_initialized=!0);function Ae(){if(R){var ke={getBoundingClientRect:function(){if(!O)return b.getBoundingClientRect()}};G(ke),R.postMessage({resize:{width:ke.width,height:ke.height}});return}ye.width=ye.height=null}function Ce(){Q=null,D&&(F=!1,n.removeEventListener("resize",Ae)),O&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,X=!1)}return D&&!F&&(F=!0,n.addEventListener("resize",Ae,!1)),R?R.fire(q,ye,Ce):re(q,ye,Ce)}return ae.reset=function(){R&&R.reset(),Q&&Q.reset()},ae}var J;function K(){return J||(J=z(null,{useWorker:!0,resize:!0})),J}function L(b,w,O,D,F,H,B){var R=new Path2D(b),G=new Path2D;G.addPath(R,new DOMMatrix(w));var X=new Path2D;return X.addPath(G,new DOMMatrix([Math.cos(B)*F,Math.sin(B)*F,-Math.sin(B)*H,Math.cos(B)*H,O,D])),X}function te(b){if(!l)throw new Error("path confetti are not supported in this browser");var w,O;typeof b=="string"?w=b:(w=b.path,O=b.matrix);var D=new Path2D(w),F=document.createElement("canvas"),H=F.getContext("2d");if(!O){for(var B=1e3,R=B,G=B,X=0,ne=0,Q,re,ae=0;ae<B;ae+=2)for(var q=0;q<B;q+=2)H.isPointInPath(D,ae,q,"nonzero")&&(R=Math.min(R,ae),G=Math.min(G,q),X=Math.max(X,ae),ne=Math.max(ne,q));Q=X-R,re=ne-G;var me=10,ve=Math.min(me/Q,me/re);O=[ve,0,0,ve,-Math.round(Q/2+R)*ve,-Math.round(re/2+G)*ve]}return{type:"path",path:w,matrix:O}}function ue(b){var w,O=1,D="#000000",F='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?w=b:(w=b.text,O="scalar"in b?b.scalar:O,F="fontFamily"in b?b.fontFamily:F,D="color"in b?b.color:D);var H=10*O,B=""+H+"px "+F,R=new OffscreenCanvas(H,H),G=R.getContext("2d");G.font=B;var X=G.measureText(w),ne=Math.ceil(X.actualBoundingBoxRight+X.actualBoundingBoxLeft),Q=Math.ceil(X.actualBoundingBoxAscent+X.actualBoundingBoxDescent),re=2,ae=X.actualBoundingBoxLeft+re,q=X.actualBoundingBoxAscent+re;ne+=re+re,Q+=re+re,R=new OffscreenCanvas(ne,Q),G=R.getContext("2d"),G.font=B,G.fillStyle=D,G.fillText(w,ae,q);var me=1/O;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[me,0,0,me,-ne*me/2,-Q*me/2]}}t.exports=function(){return K().apply(this,arguments)},t.exports.reset=function(){K().reset()},t.exports.create=z,t.exports.shapeFromPath=te,t.exports.shapeFromText=ue})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),qn,!1);const Ut=qn.exports;qn.exports.create;const Zt=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?Ut.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):Ut)({...e})};Zt.shapeFromPath=e=>Ut.shapeFromPath({...e});Zt.shapeFromText=e=>Ut.shapeFromText({...e});const la=()=>{const n=Date.now()+5e3,t={startVelocity:30,spread:360,ticks:60,zIndex:0},r=(i,l)=>Math.random()*(l-i)+i,o=window.setInterval(()=>{const i=n-Date.now();if(i<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((d,f)=>{f>0&&d.remove()}),clearInterval(o);const l=50*(i/5e3);Zt({...t,particleCount:l,zIndex:50,origin:{x:r(.1,.3),y:Math.random()-.2}}),Zt({...t,particleCount:l,zIndex:50,origin:{x:r(.7,.9),y:Math.random()-.2}})},250)},ce=5,vt={position:"fixed",zIndex:10010,backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden"},yt={transition:"all 0.3s linear"},mn=({children:e,style:n})=>{const{position:t,highlight:r}=ga(),o=window.document.documentElement.getBoundingClientRect();return!t||!r?s.jsx("div",{className:"top-0 left-0 w-screen h-svh",style:{...vt,...n},children:e}):$n.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"top-0 left-0",style:{width:t.left-ce,height:t.bottom+ce,...yt,...vt,...n}}),s.jsx("div",{className:"top-0",style:{left:t.left-ce,width:o.width-(t.left-ce),height:t.top-ce,...yt,...vt,...n}}),s.jsx("div",{style:{top:t.top-ce,left:t.right+ce,width:o.width-(t.right+ce),height:o.height-(t.top-ce),...yt,...vt,...n}}),s.jsx("div",{className:"left-0",style:{top:t.bottom+ce,width:t.right+ce,height:o.height-(t.bottom+ce),...yt,...vt,...n}}),s.jsx("div",{style:{position:"fixed",top:t.top-ce,left:t.left-ce,width:t.width+ce*2,height:t.height+ce*2,zIndex:10015,backgroundColor:"transparent",outline:"2px solid hsl(var(--upgrade))",borderRadius:"0.2rem",...yt}}),s.jsx("div",{style:{position:"fixed",zIndex:10020},children:e})]}),document.body)};function Ri(e,n){const t=y.createContext(n);function r(i){const{children:l,...d}=i,f=y.useMemo(()=>d,Object.values(d));return s.jsx(t.Provider,{value:f,children:l})}function o(i){const l=y.useContext(t);if(l)return l;if(n!==void 0)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function Ie(e,n=[]){let t=[];function r(i,l){const d=y.createContext(l),f=t.length;t=[...t,l];function m(a){const{scope:c,children:u,...p}=a,h=(c==null?void 0:c[e][f])||d,g=y.useMemo(()=>p,Object.values(p));return s.jsx(h.Provider,{value:g,children:u})}function x(a,c){const u=(c==null?void 0:c[e][f])||d,p=y.useContext(u);if(p)return p;if(l!==void 0)return l;throw new Error(`\`${a}\` must be used within \`${i}\``)}return m.displayName=i+"Provider",[m,x]}const o=()=>{const i=t.map(l=>y.createContext(l));return function(d){const f=(d==null?void 0:d[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[r,Ii(o,...n)]}function Ii(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((d,{useScope:f,scopeName:m})=>{const a=f(i)[`__scope${m}`];return{...d,...a}},{});return y.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return t.scopeName=n.scopeName,t}var Wn="Progress",zn=100,[Di,Hf]=Ie(Wn),[Li,Fi]=Di(Wn),ca=y.forwardRef((e,n)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:i=Hi,...l}=e;(o||o===0)&&!Nr(o)&&console.error($i(`${o}`,"Progress"));const d=Nr(o)?o:zn;r!==null&&!Sr(r,d)&&console.error(Gi(`${r}`,"Progress"));const f=Sr(r,d)?r:null,m=Xt(f)?i(f,d):void 0;return s.jsx(Li,{scope:t,value:f,max:d,children:s.jsx(se.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Xt(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":fa(f,d),"data-value":f??void 0,"data-max":d,...l,ref:n})})});ca.displayName=Wn;var ua="ProgressIndicator",da=y.forwardRef((e,n)=>{const{__scopeProgress:t,...r}=e,o=Fi(ua,t);return s.jsx(se.div,{"data-state":fa(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:n})});da.displayName=ua;function Hi(e,n){return`${Math.round(e/n*100)}%`}function fa(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function Xt(e){return typeof e=="number"}function Nr(e){return Xt(e)&&!isNaN(e)&&e>0}function Sr(e,n){return Xt(e)&&!isNaN(e)&&e<=n&&e>=0}function $i(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zn}\`.`}function Gi(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zn} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pa=ca,Bi=da;function qi(e){const[n,t]=C.useState([]);return C.useEffect(()=>{e!==n[1]&&t(r=>[r[1],e])},[e]),n[0]}const an=y.forwardRef(({barColor:e,className:n,value:t,increaseOnly:r,...o},i)=>{const l=qi(t);return s.jsx(pa,{ref:i,className:A("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...o,children:s.jsx(Bi,{className:A("h-full w-full flex-1",e??"bg-primary",{[A("transition-transform duration-200 ease-out",{"duration-500":typeof t=="number"&&l===0&&t>90})]:!r||typeof t!="number"||typeof l!="number"||t>l}),style:{transform:`translateX(-${100-(t||0)}%)`}})})});an.displayName=pa.displayName;function Wi(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"})))}const ma=C.createContext(null),ha=C.createContext(null),zi=({steps:e,children:n,opaqueStyle:t})=>{var k;const r=ge(I=>I.isCardGameVisible),[o,i]=ie(I=>[I.tutorial,I.updateTutorial]),[l,d]=C.useState(null),[f,m]=C.useState(null),[x,a]=C.useState(null),[c,u]=C.useState(!1),[p,h]=C.useState(!1),g=I=>{u(!0),P(I),a(e[I]||null),d(I)},v=()=>{g(0)},_=()=>{W.bell.play(),d(null),a(null),m(null),i(!1)},j=()=>{if(l!==null){if(l>=e.length-1)return _();W.gain.play(),g(l+1)}},E=()=>{if(l!==null){if(l-1<0)return _();W.play.play(),g(l-1)}},N=I=>()=>{let $=0,U=-1;e.forEach(Z=>{Z.id===I&&(U=$),$++}),!(U<0)&&g(U)},P=I=>{var Z;if(I===null||((Z=e[I])==null?void 0:Z.id.charAt(0))==="_")return;const $=document.body;new MutationObserver((z,J)=>{var te;const K=document.querySelector(((te=e[I])==null?void 0:te.id)||"");if(!K)return;const L=K.getBoundingClientRect();L&&(m({left:L.left,top:L.top,right:L.right,bottom:L.bottom,width:L.width,height:L.height,x:L.x,y:L.y}),J.disconnect())}).observe($,{childList:!0,subtree:!0})},S=()=>{var U,Z;if(l===null||((U=e[l])==null?void 0:U.id.charAt(0))==="_")return;const I=document.querySelector(((Z=e[l])==null?void 0:Z.id)||"");if(!I)return;const $=I.getBoundingClientRect();$&&m({left:$.left,top:$.top,right:$.right,bottom:$.bottom,width:$.width,height:$.height,x:$.x,y:$.y})};C.useEffect(()=>{!r||!o?(d(null),a(null),m(null)):v()},[o,r]),C.useEffect(()=>(window.addEventListener("resize",S),window.addEventListener("scroll",S,{capture:!0}),()=>{window.removeEventListener("resize",S),window.removeEventListener("scroll",S)}),[l]);let T=null;return x&&!f&&(T=s.jsx(mn,{style:t,children:null})),x&&f&&(T=s.jsx(mn,{style:t,children:(x==null?void 0:x.render({position:f,next:j,back:E,finish:_,goTo:N}))||null})),l!==null&&((k=e[l])==null?void 0:k.id.charAt(0))==="_"&&(T=s.jsx(mn,{style:t,children:(x==null?void 0:x.render({position:void 0,next:j,back:E,finish:_,goTo:N}))||null})),s.jsx(ma.Provider,{value:{start:v},children:s.jsxs(ha.Provider,{value:{position:f,isLoading:c,highlight:p,setLoading:u,setHighlight:h},children:[n,T,x&&s.jsxs("div",{className:"fixed w-fit right-2 bottom-2",style:{zIndex:999999},children:[l!==null&&s.jsxs("div",{className:"text-xl font-mono text-center text-white bg-black bg-opacity-50 p-1 rounded-md",children:[l+1," / ",e.length]}),s.jsxs(M,{variant:"cta",size:"cta",className:"my-2",onClick:_,children:["Passer le didacticiel ",s.jsx(Wi,{className:"ml-2 h-5"})]}),s.jsx(an,{value:((l??0)+1)/e.length*100})]})]})})},Vi=()=>{const e=C.useContext(ma);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},ga=()=>{const e=C.useContext(ha);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},xe=({location:e,highlight:n,children:t,style:r,...o})=>{const{position:i,isLoading:l,setLoading:d,setHighlight:f}=ga(),m=C.useRef(null),[x,a]=C.useState(null);return C.useEffect(()=>{f(!!n)},[n]),C.useEffect(()=>{const c=i,u={};switch(e){case"right":case"left":case"top":case"bottom":if(!c)throw Error("Not position exists")}switch(e){case"right":case"left":u.top=c.top-ce+"px",e==="left"?(u.left=c.left-ce+"px",u.transform="translate(-100%, 0)"):u.left=c.right+ce+"px";break;case"top":case"bottom":u.left=c.left+c.width/2+"px",e==="top"?(u.top=c.top-ce+"px",u.transform="translate(-50%, -100%)"):(u.top=c.bottom+ce+"px",u.transform="translate(-50%, 0)");break;case"center":u.left="50%",u.top="50%",u.transform="translate(-50%, -50%)";break}a(u),d(!1)},[i,l]),l?null:s.jsx("div",{...o,ref:m,className:"space-y-4 leading-6 *:whitespace-nowrap",style:{position:"fixed",visibility:"visible",zIndex:"10010",borderRadius:"3px",fontSize:"1.5rem",...x,...r},children:t})},we={backgroundColor:"hsl(var(--card))",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 4rem 0 rgba(255,255,255, 0.3)"},Ui=[{id:"_welcome",render:({next:e,finish:n})=>s.jsxs(xe,{style:we,location:"center",children:[s.jsx("h2",{children:"Bienvenue sur mon jeu de cartes !"}),s.jsxs("p",{children:["Je vais te guider rapidement à travers les bases du jeu. ",s.jsx("br",{}),"J'espère qu'il te plaira !"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Quitter le tutoriel"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"C'est parti !"})]}),s.jsx("img",{src:"images/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})},{id:"#energy",render:({next:e,back:n})=>s.jsx(s.Fragment,{children:s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"L'énergie"}),s.jsxs("p",{children:["L'énergie est la ressource principale du jeu. ",s.jsx("br",{}),"Elle te permet de jouer des cartes."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#reputation",render:({next:e,back:n})=>s.jsx(s.Fragment,{children:s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"La réputation"}),s.jsx("p",{children:"Cette jauge est importante !"}),s.jsxs("p",{children:["Elle te permet d'utiliser des cartes lorsque tu n'as plus assez d'énergie. ",s.jsx("br",{}),"Cependant, si cette jauge est vide, tu perds la partie."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#day",render:({next:e,back:n})=>s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"La journée"}),s.jsxs("p",{children:["La journée avance à chaque carte jouée. ",s.jsx("br",{}),"Certains évènements se déclencheront à la fin de la journée."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#sprint",render:({next:e,back:n})=>s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"Le sprint"}),s.jsx("p",{children:"Le sprint est un cycle de 7 jours."}),s.jsxs("p",{children:["À la fin de chaque sprint, tu pourras choisir ",s.jsx("br",{})," une amélioration à ajouter à ton deck."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#deck",render:({next:e,back:n})=>s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"Le deck, la pioche et la défausse"}),s.jsxs("p",{children:["Comme dans la plupart des jeux de cartes, ton deck représente ",s.jsx("br",{}),"toutes les cartes que tu possèdes."]}),s.jsxs("p",{children:["Ta pioche est la pile de cartes que tu vas piocher, et la défausse"," ",s.jsx("br",{}),"est la pile de cartes que tu as déjà jouées."]}),s.jsx("p",{children:"Ici, tu peux voir la composition de chaque pile de façon triée."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#money",render:({next:e,back:n})=>s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"L'argent"}),s.jsxs("p",{children:["L'argent est une ressource secondaire. ",s.jsx("br",{}),"Il te permet d'acheter des cartes au marché ou ",s.jsx("br",{}),"de jouer des cartes."]}),s.jsxs("p",{children:["Si tu atteins les"," ",s.jsx("span",{dangerouslySetInnerHTML:{__html:he(`${zt}M$`)}}),", tu gagnes la partie."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#corner-icons",render:({next:e,back:n})=>s.jsxs(xe,{location:"left",style:we,highlight:!0,children:[s.jsx("h2",{children:"Les paramètres"}),s.jsxs("p",{children:["En haut à droite, tu peux accéder aux paramètres du jeu. ",s.jsx("br",{}),"Tu pourras y arrêter la musique, y régler la qualité graphique, ",s.jsx("br",{}),"y consulter les taux de conversion et les règles du jeu ",s.jsx("br",{}),"ou encore y ajuster le niveau de difficulté."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#hand",render:({next:e,back:n})=>s.jsxs(xe,{location:"top",style:we,highlight:!0,children:[s.jsx("h2",{children:"La main"}),s.jsxs("p",{children:["Ta main est l'ensemble des cartes que tu peux jouer. ",s.jsx("br",{}),"Tu peux en jouer tant que tu as les ressources nécessaires ",s.jsx("br",{}),"et que leurs effets sont activables."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#upgrades",render:({next:e,back:n})=>s.jsxs(xe,{location:"bottom",style:we,highlight:!0,children:[s.jsx("h2",{children:"Les améliorations"}),s.jsxs("p",{children:["Sur le haut de l'écran, tu verras apparaitre des améliorations. ",s.jsx("br",{}),"Elles s'activeront automatiquement en fonction de certaines conditions."]}),s.jsx("img",{src:"images/upgrades.png",alt:"upgrades"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#logs",render:({next:e,back:n})=>s.jsxs(xe,{location:"right",style:we,highlight:!0,children:[s.jsx("h2",{children:"Les logs"}),s.jsxs("p",{children:["Ici, tu pourras voir les effets des cartes que tu as jouées. ",s.jsx("br",{}),"Les logs sont triés par ordre chronologique."]}),s.jsx("img",{src:"images/logs.png",alt:"logs"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#actions",render:({next:e,back:n})=>s.jsxs(xe,{location:"top",style:we,highlight:!0,children:[s.jsx("h2",{children:"Les actions"}),s.jsxs("p",{children:["Au milieu de l'écran, tu trouveras des actions ",s.jsx("br",{}),"a effectuer au cours de la partie."]}),s.jsxs("p",{children:["Par exemple, choisir une carte à ajouter à ton deck ",s.jsx("br",{}),"ou même piocher une carte si tu ne peux pas jouer"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:n,children:"Retour"}),s.jsx(M,{variant:"cta",size:"cta",onClick:()=>{W.victory.play(),la(),e()},children:"Suivant"})]})]})},{id:"_end",render:({finish:e})=>s.jsxs(xe,{style:we,location:"center",children:[s.jsx("h2",{children:"Fin du tutoriel"}),s.jsxs("p",{children:["Tu as maintenant toutes les clés en main. ",s.jsx("br",{}),"N'hésite pas à consulter les règles du jeu si tu as besoin d'aide."]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(M,{variant:"cta",size:"cta",onClick:e,children:"Lancer une partie"})}),s.jsx("img",{src:"images/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})}],va=C.createContext(null);function Zi(){const e=C.useContext(va);if(!e)throw new Error("useCrashReport must be used within a CrashReportProvider");return e}const Xi=({children:e})=>{const[n,t,r]=ee(a=>[a.error,a.dangerouslyUpdate,()=>a]),[o,i]=C.useState(null),[l,d]=C.useState(null),[f,m]=C.useState(null);C.useEffect(()=>{n&&x(n,r())},[n]);const x=C.useCallback((a,c)=>{W.error.play(),i(a),d(ci(c)),console.error(a);const u=JSON.stringify({...c,cards:null,rawUpgrades:null,revivedHand:null});V(500).then(()=>navigator.clipboard.writeText(u).catch(()=>{m(u)}).then(()=>alert("L'état du jeu a été copié dans le presse-papier")))},[]);return s.jsx(va.Provider,{value:{gameState:l,crashReport:o,addCrashReport:x,gameStringState:f,resetCrashReport:()=>{i(null),d(null),t({error:null})}},children:o?s.jsx(Yi,{}):e})},Yi=()=>{const e=ee(m=>m.reset),{resetCrashReport:n,crashReport:t,gameState:r,gameStringState:o}=Zi(),[i,l]=C.useState(!1),[d,f]=C.useState(!1);return!t||!r?null:s.jsxs("div",{className:"absolute inset-0 bg-background/50 flex justify-center items-center",children:[s.jsxs("div",{className:"bg-background/90 ring ring-red-600 p-4 rounded-lg space-y-4 max-w-xl",children:[s.jsx("h1",{className:"text-3xl text-center",children:"Une erreur à été interceptée !"}),s.jsx("p",{children:"Si tu le souhaites, tu peux envoyer le rapport d'erreur à Ghom pour qu'il puisse corriger le problème. Tu peux continuer ta partie, mais si tu rencontres des problèmes, il est conseillé de recharger la page. Si le bug persiste, il est possible que ta sauvegarde soit corrompue, dans ce cas tu devrais recommencer une nouvelle partie, désolé pour la gêne occasionnée."}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 w-fit mx-auto",children:[s.jsx(M,{onClick:()=>{n(),e()},size:"cta",className:"text-red-600",children:"Recommencer une partie"}),s.jsx(M,{onClick:()=>{n(),window.location.reload()},size:"cta",children:"Rafraichir le navigateur"}),s.jsx(M,{onClick:()=>{!o||d?window.open(`mailto:${ui.email}?subject=${encodeURI(`Rapport d'erreur: ${t.message}`)}&body=${encodeURI(`
${t.stack}

Game state:
< colle ici le contenu de ton presse-papier >`)}`):l(!0)},variant:"cta",size:"cta",children:"Envoyer le rapport"}),s.jsx(M,{onClick:()=>n(),variant:"cta",size:"cta",children:"Continuer la partie"})]})]}),i&&s.jsxs("div",{className:"absolute left-1/2 top-1/2 bg-background ring ring-red-600 p-4 rounded-lg max-w-xl space-y-4 -translate-y-1/2 -translate-x-1/2",children:[s.jsx("h1",{className:"text-3xl text-center",children:"Avant d'envoyer le rapport"}),s.jsx("p",{className:"text-xl leading-5",children:"Merci de copier ta sauvegarde dans le presse-papier afin de me la transmettre lors de ton rapport."}),s.jsx("h2",{className:"text-2xl",children:"Sauvegarde"}),s.jsx("code",{className:"text-sm whitespace-normal overflow-scroll w-full h-52",children:o}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(M,{onClick:()=>l(!1),children:"Retour"}),s.jsx(M,{onClick:()=>{navigator.clipboard.writeText(o).then(()=>{alert("La sauvegarde a été copiée dans le presse-papier"),l(!1),f(!0)}).catch(()=>{alert(`Impossible de copier la sauvegarde...
Essaye de la copier à la main, merci d'avance !`)})},variant:"cta",size:"cta",children:"Copier la sauvegarde"})]})]})]})},Ki=e=>{const n=ee(r=>({notification:r.notification})),t=ie(r=>({animations:r.quality.animations,transparency:r.quality.transparency}));return!e.show||!t.transparency||!t.animations||n.notification.length===0?null:s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full z-50 flex justify-center items-center",children:[s.jsx("div",{className:A(n.notification[0].className,"absolute animate-to-right rounded-r-full rounded-bl-full w-full h-[120px] opacity-50")}),s.jsx("div",{className:A(n.notification[0].className,"absolute animate-to-left rounded-l-full rounded-tr-full w-full h-[120px] opacity-50")}),s.jsxs("div",{className:A(n.notification[0].className,"bg-transparent font-changa italic animate-notification w-fit h-fit text-center"),children:[n.notification[0].header&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-3xl",dangerouslySetInnerHTML:{__html:n.notification[0].header}}),s.jsx("br",{})]}),s.jsx("span",{className:"text-6xl",dangerouslySetInnerHTML:{__html:n.notification[0].message}})]})]})},Qi=e=>{const{start:n}=Vi(),t=ge(({tutorial:r})=>r);return C.useEffect(()=>{e.show&&t&&n()},[e.show,t]),null},Ji={"bg-day":"text-day-foreground","bg-energy":"text-energy-foreground","bg-action":"text-action-foreground","bg-upgrade":"text-upgrade-foreground","bg-support":"text-support-foreground","bg-inflation":"text-inflation-foreground","bg-reputation":"text-reputation-foreground","bg-background":"text-foreground"},ze=({isCost:e,miniature:n,colors:t,value:r,symbol:o,...i})=>{const l=ie(d=>({perspective:d.quality.perspective,shadows:d.quality.shadows}));return e&&r===0?null:s.jsxs("div",{...i,className:A("relative aspect-square rounded-full text-changa",typeof t=="string"?t:t[0],{"w-8 h-8 text-sm":n,"w-10 h-10":!n,"shadow shadow-black":l.shadows},i.className),style:{transformStyle:l.perspective?"preserve-3d":"flat",transform:l.perspective?"translateZ(5px)":"",...i.style},children:[Array.isArray(t)&&s.jsx("div",{className:A("absolute w-1/2 h-full origin-right rotate-[-22.5deg] rounded-l-full",t[1])}),s.jsxs("div",{className:A("absolute top-1/2 left-1/2 font-changa",Ji[typeof t=="string"?t:t[0]]),style:{transform:`translate(-50%, -50%) ${l.perspective?"translateZ(5px)":""}`},children:[n&&o&&typeof r=="number"&&r>0?"+":"",r]})]})},el=e=>{const n=ie(o=>({shadows:o.quality.shadows,animation:o.quality.animations,transparency:o})),[t,r]=ee(o=>[o.upgrades,o.rawUpgrades]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:"upgrades",className:"pointer-events-none fixed w-[300px] h-24 top-2 left-1/2 -translate-x-1/2"}),s.jsx("div",{className:A("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":n.animation,"top-0":e.show&&t.length>0}),children:s.jsx("div",{className:A("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":t.length>5,"-translate-y-[25%]":t.length>10,"shadow shadow-black/50":n.shadows&&n.transparency,"bg-card/50":n.transparency,"bg-card":!n.transparency}),children:s.jsx("div",{className:A("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":t.length>5,"translate-y-[25%]":t.length>10}),children:t.map((o,i)=>{const l=Ct(o,{rawUpgrades:r}),d=pi[l.eventName];return s.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[s.jsx("img",{src:`images/upgrades/${l.image}`,alt:l.name,className:A("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":l.state==="triggered"&&n.animation,"ring-foreground":l.state==="triggered"&&!n.animation})}),s.jsx("div",{className:"h-6 relative",children:s.jsxs("div",{className:"relative",children:[l.max!==1/0&&s.jsx(an,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:l.cumul/l.max*100}),s.jsx(ze,{value:s.jsx(d.icon,{className:"h-5"}),colors:"colors"in d?d.colors:"bg-background",miniature:!0,className:"absolute h-6 w-6",style:{top:"-15px",left:"-15px",transform:"translate(0, -50%)"}}),s.jsx(ze,{value:l.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),s.jsxs(Pt,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[s.jsxs("h3",{className:"text-xl font-changa",children:[l.name," ",s.jsxs("span",{className:"text-upgrade font-bold",children:[l.cumul,l.max!==1/0&&l.max!==null?`/${l.max}`:""]})]}),s.jsx("p",{dangerouslySetInnerHTML:{__html:he(di(l.description,l.cumul))}}),s.jsx(fi,{eventName:l.eventName})]})]},i)})})})})]})};function ya(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function xa(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const tl=mi.find(e=>e.name==="Github"),nl=e=>{const n=ge(i=>()=>i.setTutorial(!0)),[t,r]=ie(i=>[i.quality.animations,i.quality.transparency]),o=ge(i=>i.toggleSettings);return s.jsxs("div",{id:"corner-icons",className:A("absolute flex top-4 right-4 z-50 gap-2","translate-x-1/2 pointer-events-none",{hidden:!r,"opacity-0":r,"transition-all duration-500 ease-in-out":t,"translate-x-0 opacity-100 flex":e.show}),children:[s.jsxs("a",{href:tl.url,target:"_blank",className:Gn({variant:"icon"}),children:[s.jsx(hi,{className:"w-5 mr-2"})," Github"]}),s.jsx(M,{onClick:n,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Lancer le tutoriel",children:s.jsx(xa,{})}),s.jsx(M,{onClick:o,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Ouvrir les paramètres",children:s.jsx(ya,{})}),s.jsx("div",{className:"w-10 h-10 "})]})};function Yt(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},C.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},C.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"0"})),C.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},C.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"0"})),C.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},C.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"0"}))))}function rl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function al(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const Vn=e=>e.value===0?s.jsx(s.Fragment,{}):s.jsx("div",{className:A("text-2xl font-changa border border-white px-1 bg-money text-money-foreground w-fit",{"text-md":e.miniature},e.className),style:e.style,children:s.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.symbol?`${e.value>0?"+":""}${e.value}`:e.value,"M$"]})}),wa=C.createContext({degX:0,degY:0,isHovered:!1}),Pr={transformStyle:"preserve-3d"},Un=({max:e=20,reverse:n=!1,scale:t=1,perspective:r=1e3,className:o="",children:i,style:l})=>{const d=ie(_=>_.quality.tilt&&_.quality.animations),f=C.useRef(null),m=oa(f),[x,a]=C.useState({}),[c,u]=C.useState(0),[p,h]=C.useState(0),g=C.useCallback(_=>{if(f.current){const j=f.current.getBoundingClientRect(),E=_.clientX-j.left,N=_.clientY-j.top,P=j.width/2,S=j.height/2,T=(N-S)/S*e,k=(E-P)/P*e;u(n?T:-T),h(n?-k:k),a({...Pr,transform:`
            perspective(${r}px)
            rotateX(${n?T:-T}deg)
            rotateY(${n?-k:k}deg)
            scale(${t})
          `})}},[e,r,n,t]),v=C.useCallback(()=>{u(0),h(0),a({...Pr,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return C.useEffect(()=>{const _=f.current;return m?_&&(_.addEventListener("mousemove",g),_.addEventListener("mouseleave",v)):v(),()=>{_&&(_.removeEventListener("mousemove",g),_.removeEventListener("mouseleave",v)),v()}},[e,n,t,r,m]),d?s.jsx("div",{ref:f,className:A("will-change-transform",o),style:{...x,...l},children:s.jsx(wa.Provider,{value:{degX:c,degY:p,isHovered:m},children:i})}):s.jsx("div",{className:o,style:l,children:i})},_a=()=>{const e=C.useContext(wa);return ie(t=>t.quality.foil)?s.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[s.jsx("div",{className:A("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),s.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):s.jsx(s.Fragment,{})},Tn=e=>{const n=ie(l=>({blur:l.quality.blur,shadows:l.quality.shadows,perspective:l.quality.perspective,animation:l.quality.animations,transparency:l.quality.transparency,tilt:l.quality.tilt})),t=ee(l=>({...l,canBeBuy:ra(e.card,l),canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(l,e.card),selectionInProgress:l.operationInProgress.some(d=>d.startsWith("selectCard"))})),r=typeof e.position=="number"?e.position-(t.hand.length-1)/2:0,o=e.isChoice?t.operationInProgress.filter(l=>l!=="choices").length>0:t.operationInProgress.length>0;let i="legendary";for(const[l,d]of Object.entries(bt))if(d===e.card.localAdvantage){i=l;break}return s.jsx("div",{className:A("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{"cursor-not-allowed":t.selectionInProgress&&e.card.state!=="selected"||!t.selectionInProgress&&(o||e.isPlaying||!e.isChoice&&t.choiceOptions.length>0),[A("transition-transform",e.card.state)]:n.animation,[A({"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removing",grayscale:t.selectionInProgress&&e.card.state!=="selected"||!t.selectionInProgress&&(t.choiceOptions.length>0||t.isGameOver||!t.canBeBuy||!t.canTriggerEffect)})]:!e.isChoice&&!e.isPlaying}),onClick:async()=>{e.isPlaying||(e.isChoice?t.choiceOptions.length>0&&!o&&await t.pickOption(e.card):t.selectionInProgress?t.selectCard(e.card.name):t.choiceOptions.length===0&&!o&&!t.isGameOver&&await t.playCard(e.card,{reason:qe(e.card)}))},onContextMenu:l=>{pn(e.card)&&e.card.url&&(l.preventDefault(),window.open(e.card.url,"_blank"))},style:{marginBottom:`${20-Math.abs(r)*5}px`,rotate:`${r*2}deg`,transitionDuration:n.animation?"0.3s":"0",transitionTimingFunction:n.animation?"ease-in-out":"linear"},children:e.card.state==="removing"&&n.animation?s.jsx("div",{className:"relative",children:Math.random()<.5?s.jsx(Yt,{className:A("absolute scale-x-[-1]",{"text-card/60":n.transparency,"text-card":!n.transparency}),style:{maskClip:"fill-box"}}):s.jsx(Yt,{className:A("absolute",{"text-card/60":n.transparency,"text-card":!n.transparency}),style:{maskClip:"fill-box"}})}):e.card.state==="removed"?s.jsx(s.Fragment,{}):s.jsxs(Un,{scale:1.1,className:A("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[A({"bg-card/60":n.transparency,"bg-card":!n.transparency})]:e.card.effect.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":n.shadows,"shadow-glow-20 shadow-primary":e.card.state==="selected"},"ring-2",{"ring-common/50":i==="common","ring-rare/50":i==="rare","ring-epic/50":i==="epic","ring-legendary/50":i==="legendary"}),children:[pn(e.card)&&e.card.detail&&s.jsxs("div",{className:A("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":n.shadows,"transition-opacity duration-200 ease-in-out delay-1000":n.animation,"opacity-0 group-hover/game-card:opacity-100 flex":n.transparency,"hidden group-hover/game-card:flex":!n.transparency}),children:[s.jsx(rl,{className:"w-10"}),s.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),s.jsx(al,{className:"w-10 self-end"})]}),n.perspective&&n.tilt&&s.jsx("div",{className:A("absolute w-full h-full rounded-xl",{"bg-card/60":n.transparency,"bg-card":!n.transparency}),style:{transform:"translateZ(-20px)"}}),s.jsxs("div",{className:A("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[A({"bg-support/50":n.transparency,"bg-support":!n.transparency})]:e.card.effect.type==="support"}),style:{transformStyle:n.perspective?"preserve-3d":"flat"},children:[s.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${n.perspective?"translateZ(5px)":""} translateX(${e.card.effect.cost.type==="money"?"-15px":"-8px"})`,transformStyle:n.perspective?"preserve-3d":"flat"},children:e.card.effect.cost.type==="energy"?s.jsx(ze,{isCost:!0,value:Et(e.card.effect.cost,t),colors:Bn(t,e.card.effect.cost.value),style:{transform:n.perspective?"translateZ(5px)":"none",transformStyle:n.perspective?"preserve-3d":"flat"}}):s.jsx(Vn,{value:e.card.effect.cost.value,style:{transform:`${n.perspective?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:n.perspective?"preserve-3d":"flat"}})}),s.jsx("h2",{className:A("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[A({"left-3 text-lg":e.card.effect.cost.type==="money"&&e.card.name.length>7,"left-7":e.card.effect.cost.type==="money"&&e.card.effect.cost.value>99,"text-md":e.card.name.length>11})]:e.card.effect.cost.value>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:n.perspective?"translateZ(5px)":"none"},children:e.card.name}),s.jsxs("div",{className:A("absolute bottom-0 left-0 translate-y-full flex","*:px-2 *:py-0 *:rounded-br-md *:text-sm *:font-mono",{"transition-opacity duration-1000 group-hover/game-card:opacity-0":n.transparency&&n.animation}),children:[s.jsxs("div",{className:"z-10",style:{color:`hsl(var(--${i}-foreground))`,backgroundColor:`hsl(var(--${i}))`},children:[i,e.card.localAdvantage>bt.legendary?"+".repeat(bt.legendary-e.card.localAdvantage):""]}),e.card.effect.upgrade&&s.jsx("div",{className:"bg-upgrade -ml-1",children:(()=>{const l=t.rawUpgrades.find(d=>d.name===e.card.name);return l.max===void 0?"cumul infini: ∞":`cumul max: ${l.max}`})()})]})]}),pn(e.card)?s.jsx(ol,{card:e.card}):s.jsx(il,{card:e.card}),s.jsxs("div",{className:A("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/60":n.transparency,"bg-card":!n.transparency}),style:{transformStyle:n.perspective?"preserve-3d":"flat"},children:[s.jsx("div",{className:"py-[10px] px-[15px] text-center",style:{transform:n.perspective?"translateZ(10px)":"none",transformStyle:n.perspective?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),(e.card.effect.ephemeral||e.card.effect.recycle)&&s.jsx("div",{className:A("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":n.transparency,"text-muted-foreground":!n.transparency}),children:e.card.effect.ephemeral?"Éphémère":"Recyclage"})]}),s.jsx(Vt,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),s.jsx(Vt,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),s.jsx(_a,{})]})},e.card.name)},ol=e=>{const{shadows:n,perspective:t,transparency:r,animation:o}=ie(i=>({shadows:i.quality.shadows,perspective:i.quality.perspective,transparency:i.quality.transparency,animation:i.quality.animations}));return s.jsxs("div",{className:"group/image relative",style:{transformStyle:t?"preserve-3d":"flat"},children:[s.jsx("div",{className:A({"inset-shadow":n},"relative flex justify-center items-center"),style:{transformStyle:t?"preserve-3d":"flat"},children:s.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:t?"translateZ(-15px)":"none"}})}),e.card.description&&s.jsx("div",{className:A("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":r}),style:{transform:t?"translateZ(-5px)":"none"},children:s.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},sl=["React","Knex"],il=e=>{const{perspective:n,animation:t}=ie(r=>({perspective:r.quality.perspective,animation:r.quality.animations}));return s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:n?"translateZ(15px)":"none"},children:s.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:A("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":t&&sl.includes(e.card.name)})})})})},ll=e=>{const n=ie(o=>({blur:o.quality.blur,shadows:o.quality.shadows,perspective:o.quality.perspective,animation:o.quality.animations,transparency:o.quality.transparency,tilt:o.quality.tilt})),t=ee(o=>({pickOption:o.pickOption})),r={id:e.resource[0],state:e.resource[1],value:e.resource[2],type:e.resource[3]};return s.jsx("div",{className:A("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{[A("transition-transform",r.state)]:n.animation}),onClick:async()=>{await t.pickOption(e.resource)},style:{transitionDuration:n.animation?"0.3s":"0",transitionTimingFunction:n.animation?"ease-in-out":"linear"},children:r.state==="removing"&&n.animation?s.jsx("div",{className:"relative",children:Math.random()<.5?s.jsx(Yt,{className:A("absolute scale-x-[-1]",{"text-card/60":n.transparency,"text-card":!n.transparency}),style:{maskClip:"fill-box"}}):s.jsx(Yt,{className:A("absolute",{"text-card/60":n.transparency,"text-card":!n.transparency}),style:{maskClip:"fill-box"}})}):r.state==="removed"?s.jsx(s.Fragment,{}):s.jsxs(Un,{scale:1.1,className:A("group/game-card","flex flex-col w-full h-full rounded-xl justify-center","*:shrink-0",{"bg-card/60":n.transparency,"bg-card":!n.transparency,"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":n.shadows,"shadow-glow-20 shadow-primary":r.state==="selected"},"ring-2",{"ring-money/50":r.type==="money","ring-energy/50":r.type==="energy","ring-reputation/50":r.type==="reputation"}),children:[n.perspective&&n.tilt&&s.jsx("div",{className:A("absolute w-full h-full rounded-xl",{"bg-card/60":n.transparency,"bg-card":!n.transparency}),style:{transform:"translateZ(-20px)"}}),s.jsxs("div",{style:{transformStyle:n.perspective?"preserve-3d":"flat"},children:[s.jsx("div",{className:"py-[10px] text-center font-changa text-2xl",style:{transform:n.perspective?"translateZ(10px)":"none",transformStyle:n.perspective?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:he(r.type==="money"?`${r.value}M$`:`${r.value} @${r.type}`)}}),s.jsx("div",{className:A("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":n.transparency,"text-muted-foreground":!n.transparency}),children:"Instantané"})]}),s.jsx(Vt,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),s.jsx(Vt,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),s.jsx(_a,{})]})},r.id)},cl=e=>{const n=ee(),t=ie(l=>l.quality.animations),r=n.operationInProgress.filter(l=>l!=="choices").length>0,o=C.useMemo(()=>na(n.day),[n.day]),i=n.energy+n.reputation<gt||n.hand.length>=Qe||n.draw.length===0||r;return C.useEffect(()=>{n.choiceOptions.length===0&&n.operationInProgress.includes("choices")&&n.setOperationInProgress("choices",!1),n.choiceOptions.length>0&&!n.operationInProgress.includes("choices")&&n.setOperationInProgress("choices",!0)},[n.choiceOptions.length,n.operationInProgress]),s.jsx("div",{id:"actions",className:A("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 pointer-events-none",{"transition-opacity duration-500 ease-in-out":t,"opacity-100 pointer-events-auto":e.show}),children:s.jsxs("div",{className:"space-y-4 group/actions bg-background/80 p-2 rounded-xl relative",children:[s.jsx("h2",{className:A("text-3xl ml-2 select-none",n.choiceOptions.length>0&&n.choiceOptions[0].length<4?"text-left":"text-center"),children:n.playZone.length>0?n.operationInProgress.includes("selectCard")?"Clique sur une carte de la main":n.playZone[n.playZone.length-1][0]:n.choiceOptions.length>0?s.jsxs(s.Fragment,{children:["Choisis une carte"," ",o&&n.choiceOptions.length<=2&&s.jsx("span",{dangerouslySetInnerHTML:{__html:he(n.choiceOptions.length===1?"@upgrade":"@action")}})," ",n.choiceOptions.length>1&&!o&&`(x${n.choiceOptions.length})`]}):"Actions"}),n.playZone.length>0?s.jsx("div",{className:"flex justify-center",children:s.jsx(Tn,{card:je(n.playZone[n.playZone.length-1],n),isPlaying:!0})}):n.choiceOptions.length===0?s.jsxs(M,{className:A("flex justify-start gap-2",{grayscale:i}),onClick:async()=>{n.setOperationInProgress("infinity-draw",!0),W.play.play(),await n.addEnergy(-gt,{skipGameOverPause:!0,reason:"Bouton pioche"}),await n.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await n.advanceTime(gt),_t(n)&&await V(2e3),n.setOperationInProgress("infinity-draw",!1)},disabled:i,size:"cta",children:[s.jsx(ze,{value:gt,isCost:!0,className:"w-8 h-8",colors:Bn(n,gt)})," ","Piocher une carte"]}):s.jsxs(s.Fragment,{children:[s.jsxs(M,{className:"flex gap-3 absolute right-2 -top-2",disabled:r,onClick:async()=>{await n.skip({reason:"Bouton passer"})},children:[s.jsx(ze,{value:o&&n.choiceOptions.length===1?10:5,symbol:!0,miniature:!0,colors:"bg-energy"}),"Passer"]}),(n.choiceOptions[0].length===0&&n.dangerouslyUpdate({choiceOptions:n.choiceOptions.slice(1)}),s.jsxs("div",{className:A("flex justify-center",{"grid grid-cols-3":n.choiceOptions[0].length<3}),children:[s.jsx("div",{className:A({hidden:n.choiceOptions[0].length!==1})}),n.choiceOptions[0].map((l,d)=>Xe(l)?s.jsx(ll,{resource:l},d):s.jsx(Tn,{card:je(l,n),isChoice:!0},d))]}))]})]})})},At=["Si tu ne peux plus jouer de carte, tu perds la partie.","Quand une carte est jouée, elle va dans la défausse.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Les cartes @action ont une bannière bleue.","Lorsque tu n'as plus d'@energy, tu consommes la @reputation.","Si tu n'as plus de @reputation, tu perds la partie.","Les cartes Éphémères sont détruites après utilisation.","Les carte Recyclage retournent dans la pioche.","Les effets des @upgrades sont cumulables !","Tu ne peux pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop restent dans la pioche.","Le prix des cartes d'@upgrade augmente progressivement.","Si tu obtiens MONEY_TO_REACHM$, tu gagnes la partie.","Chaque @sprint contient une semaine (7 @days).","A la fin d'un @sprint, tu ajoutes une carte @upgrade et une carte @action à ton deck.","Chaque carte jouée fait avancer le temps.","Le clic droit sur une carte @action ouvre un onglet vers le projet.","Recycler une carte, c'est la sortir de la défausse pour la remettre dans la pioche.","Chaque @day, tu ajoutes une nouvelle carte à ta pioche.","Quittez et revenez quand vous le voulez, tout est sauvegardé !","Plus une carte jouée est chère, plus elle fait avancer le temps.","Ce jeu a un petit point commun avec les jeux Konami...","Tous les 28 @days, l'@inflation augmente le niveau de difficulté."],ul=e=>{const n=C.useRef(null),t=oa(n),{animation:r,shadow:o,transparency:i}=ie(f=>({animation:f.quality.animations,transparency:f.quality.transparency,shadow:f.quality.shadows})),[l,d]=C.useState(0);return C.useEffect(()=>{const f=setInterval(()=>{t||d((l+1)%At.length)},5e3);return()=>clearInterval(f)},[l,t]),s.jsx("div",{ref:n,className:A("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":i,"bg-card":!i,"shadow shadow-black/50":o&&i,"transition-transform duration-500 ease-in-out":r,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>d((l+1)%At.length),children:s.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:s.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[s.jsx(xa,{className:"h-6 cursor-pointer"}),s.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:he(At[l])}})]})})})},dl=e=>{const n=ie(o=>o.quality.animations),t=ee(o=>o.reset),r=ge(o=>()=>o.setCardGameVisibility(!1));return s.jsx("div",{className:A("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":n,"-bottom-12":e.show,"delay-500":e.delay&&n}),children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:()=>r(),variant:"default",children:"Revenir à l'accueil"}),s.jsx(M,{onClick:()=>t(),variant:"default",children:"Recommencer"})]})})},fl=e=>{const n=ee(),t=Array.isArray(e.item)?gi(e.item)?je(e.item,n):Ct(e.item,n):e.item;return s.jsxs("span",{className:A("inline-flex items-center h-7 w-full rounded-full",typeof t=="string"?"":{"bg-action text-action-foreground":t.type==="action","bg-support text-support-foreground":t.type==="support","bg-upgrade text-upgrade-foreground":t.type==="upgrade"}),children:[typeof t=="object"&&s.jsx(ba,{item:t}),s.jsx("div",{className:"px-2",children:typeof t=="object"?t.name:t})]})},ba=({item:e,...n})=>s.jsx("img",{...n,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:A("aspect-square rounded-full h-full bg-background",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},n.className)}),hn=10,pl=e=>{const n=ee(t=>t.logs.toReversed());return s.jsx("div",{id:"logs",className:A("absolute right-0 bottom-0 translate-x-full pointer-events-none min-w-52",{hidden:!e.show}),children:s.jsx("table",{children:s.jsx("tbody",{children:new Array(hn).fill(0).map((t,r)=>{const o=n.slice()[hn-1-r];return o?s.jsxs("tr",{style:{opacity:r/hn},children:[s.jsx("td",{children:s.jsx(fl,{item:o.reason})}),s.jsx("td",{className:"pb-1.5",children:s.jsx("span",{className:A("inline-block ring-2",o.value>0?"ring-green-500":"ring-red-500",o.type==="money"?"":"rounded-full"),children:o.type==="money"?s.jsx(Vn,{miniature:!0,value:o.value}):s.jsx(ze,{miniature:!0,symbol:!0,value:o.value,colors:A({"bg-reputation":o.type==="reputation","bg-energy":o.type==="energy"})})})})]},r):s.jsxs("tr",{children:[s.jsx("td",{className:"pb-1.5",children:s.jsx("span",{className:"inline-block h-7"})}),s.jsx("td",{})]},r)})})})})};function ml(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},C.createElement("g",null,C.createElement("path",{d:"M256 18.365L50.14 136 256 253.635 461.86 136 256 18.365zm-154 168L50.14 216 256 333.635 461.86 216 410 186.365l-154 88-154-88zm0 80L50.14 296 256 413.635 461.86 296 410 266.365l-154 88-154-88zm0 80L50.14 376 256 493.635 461.86 376 410 346.365l-154 88-154-88z",fill:"currentColor",fillOpacity:"1"}))))}function hl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},C.createElement("g",null,C.createElement("path",{d:"M150.79 479.797l-85.27-185.08c-3.13-6.79-.15-14.862 6.634-17.993l129.163-59.51c6.783-3.12 14.862-.15 17.987 6.646l85.283 185.067c3.13 6.802.15 14.863-6.646 18L168.79 486.43c-6.795 3.144-14.868.15-18-6.633zm26.17-69.31l15.318-44.522 44.522 15.32 7.66-22.253-44.523-15.318 15.325-44.522-22.252-7.66-15.325 44.516-44.515-15.324-7.66 22.258 44.516 15.324-15.324 44.522zm106.07-211.05c47.9-85.625-53.11-105.304-102.586-62.593l-38.9 51.353C105.95 210 97.853 175.98 109.226 158.424l54.106-73.515 97.158-52.146c7.108-5.2 17.838-8.133 32.767-8.445l194.467 1.463.866 112.044-107.304-7.725c1.818 43.394-42.734 53.08-66.683 106.905l-13.813 46.38c-30.217-10.16-41.29-34.367-17.76-83.95zm-129.828-3.077l39.046-51.33c12.434-10.477 29.51-17.675 46.92-17.375-15.264 16.008-20.158 25.557-23.475 39.046-8 19.775-17.74 29.69-30.366 23.296-10.712 10.322-21.412 14.87-32.125 6.364z",fill:"currentColor",fillOpacity:"1"}))))}function gl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function vl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function yl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),C.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function xl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8c12.3-2.5 24.1-6.4 35.1-11.5c-2.1-10.8-3.1-21.9-3.1-33.3c0-80.3 53.8-148 127.3-169.2c.5-2.2 .7-4.5 .7-6.8c0-17.7-14.3-32-32-32H32zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm47.9-225c4.3 3.7 5.4 9.9 2.6 14.9L452.4 356H488c5.2 0 9.8 3.3 11.4 8.2s-.1 10.3-4.2 13.4l-96 72c-4.5 3.4-10.8 3.2-15.1-.6s-5.4-9.9-2.6-14.9L411.6 380H376c-5.2 0-9.8-3.3-11.4-8.2s.1-10.3 4.2-13.4l96-72c4.5-3.4 10.8-3.2 15.1 .6z"})))}function wl(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},C.createElement("g",null,C.createElement("path",{d:"M256 24c-31.466 48-62.932 96-62.932 160 0 56.794 37.144 113.568 45.514 148h34.836c8.37-34.432 45.514-91.206 45.514-148 0-64-31.466-112-62.932-160zM98.637 206c-47.2 0-78.664 32-78.664 80 0 32 22.115 63.526 62.93 64-15.732-16 .002-64 31.468-64 31.89 0 56.58 21.916 69.253 46h33.828c-13.744-47.52-49.108-126-118.813-126zm314.726 0c-69.705 0-105.07 78.48-118.814 126h33.827c12.673-24.084 37.362-46 69.252-46 31.465 0 47.2 48 31.466 64 40.816-.474 62.93-32 62.93-64 0-48-31.464-80-78.663-80zM153.076 350c-38.705 0-54.44 16-54.44 48 0 16 15.734 48 47.2 48 35.4 0 61.948-27 73.01-54h-35.682c-4.657 3.57-11.5 6-21.596 6-15.733 0-31.464-32-8.492-48zm37.694 0c.017.064.03.127.048.19-13.29 2.16-12.694 23.343 1.793 23.79v.02H319.39l-.003-.02c14.486-.447 15.083-21.63 1.792-23.79.017-.063.03-.126.048-.19H190.77zm168.154 0c22.972 16 7.24 48-8.492 48-10.096 0-16.94-2.43-21.596-6h-35.682c11.062 27 37.61 54 73.01 54 31.466 0 47.2-32 47.2-48 0-32-15.735-48-54.44-48zm-118.656 42c-15.733 16-15.734 48-31.467 64l31.468-16c0 16 0 32 15.732 48 15.733-16 15.732-32 15.732-48l31.467 16c-15.734-16-15.735-48-31.468-64h-31.464z",fill:"currentColor",fillOpacity:"1"}))))}function _l(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 16c-52.5 252.632-210 277.845 0 454.688C466 293.845 308.5 268.63 256 16zM124.75 167.407C98.5 243.197 46 294.117 46 369.907S151 496 229.75 496c-157.5-126.317-105-202.278-105-328.593zm262.5 0c0 126.317 52.5 202.278-105 328.593C361 496 466 445.696 466 369.907c0-75.79-52.5-126.71-78.75-202.5z"})))}const Ot=({iconClassName:e,barClassName:n,value:t,display:r,max:o,color:i,title:l,increaseOnly:d,...f})=>s.jsxs("div",{...f,className:A("flex items-center h-7 w-full",f.className),children:[s.jsx(ze,{title:l,value:r?r(t/o):t,miniature:!0,colors:i??"bg-primary",className:A("absolute z-50",e)}),s.jsx(an,{barColor:i,className:A(n,"ml-[30px] rounded-l-none"),value:t/o*100,increaseOnly:d})]});var bl="Separator",kr="horizontal",Cl=["horizontal","vertical"],Ca=y.forwardRef((e,n)=>{const{decorative:t,orientation:r=kr,...o}=e,i=jl(r)?r:kr,d=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(se.div,{"data-orientation":i,...d,...o,ref:n})});Ca.displayName=bl;function jl(e){return Cl.includes(e)}var ja=Ca;const On=y.forwardRef(({className:e,orientation:n="horizontal",decorative:t=!0,...r},o)=>s.jsx(ja,{ref:o,decorative:t,orientation:n,className:A("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));On.displayName=ja.displayName;function Y(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Le(e){const n=y.useRef(e);return y.useEffect(()=>{n.current=e}),y.useMemo(()=>(...t)=>{var r;return(r=n.current)==null?void 0:r.call(n,...t)},[])}function kt({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=Al({defaultProp:n,onChange:t}),i=e!==void 0,l=i?e:r,d=Le(t),f=y.useCallback(m=>{if(i){const a=typeof m=="function"?m(e):m;a!==e&&d(a)}else o(m)},[i,e,o,d]);return[l,f]}function Al({defaultProp:e,onChange:n}){const t=y.useState(e),[r]=t,o=y.useRef(r),i=Le(n);return y.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),t}const El=["top","right","bottom","left"],Me=Math.min,_e=Math.max,Kt=Math.round,Mt=Math.floor,Ve=e=>({x:e,y:e}),Nl={left:"right",right:"left",bottom:"top",top:"bottom"},Sl={start:"end",end:"start"};function Mn(e,n,t){return _e(e,Me(n,t))}function Fe(e,n){return typeof e=="function"?e(n):e}function He(e){return e.split("-")[0]}function pt(e){return e.split("-")[1]}function Zn(e){return e==="x"?"y":"x"}function Xn(e){return e==="y"?"height":"width"}function Ue(e){return["top","bottom"].includes(He(e))?"y":"x"}function Yn(e){return Zn(Ue(e))}function Pl(e,n,t){t===void 0&&(t=!1);const r=pt(e),o=Yn(e),i=Xn(o);let l=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(l=Qt(l)),[l,Qt(l)]}function kl(e){const n=Qt(e);return[Rn(e),n,Rn(n)]}function Rn(e){return e.replace(/start|end/g,n=>Sl[n])}function Tl(e,n,t){const r=["left","right"],o=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return t?n?o:r:n?r:o;case"left":case"right":return n?i:l;default:return[]}}function Ol(e,n,t,r){const o=pt(e);let i=Tl(He(e),t==="start",r);return o&&(i=i.map(l=>l+"-"+o),n&&(i=i.concat(i.map(Rn)))),i}function Qt(e){return e.replace(/left|right|bottom|top/g,n=>Nl[n])}function Ml(e){return{top:0,right:0,bottom:0,left:0,...e}}function Aa(e){return typeof e!="number"?Ml(e):{top:e,right:e,bottom:e,left:e}}function Jt(e){const{x:n,y:t,width:r,height:o}=e;return{width:r,height:o,top:t,left:n,right:n+r,bottom:t+o,x:n,y:t}}function Tr(e,n,t){let{reference:r,floating:o}=e;const i=Ue(n),l=Yn(n),d=Xn(l),f=He(n),m=i==="y",x=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,c=r[d]/2-o[d]/2;let u;switch(f){case"top":u={x,y:r.y-o.height};break;case"bottom":u={x,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:a};break;case"left":u={x:r.x-o.width,y:a};break;default:u={x:r.x,y:r.y}}switch(pt(n)){case"start":u[l]-=c*(t&&m?-1:1);break;case"end":u[l]+=c*(t&&m?-1:1);break}return u}const Rl=async(e,n,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=t,d=i.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(n));let m=await l.getElementRects({reference:e,floating:n,strategy:o}),{x,y:a}=Tr(m,r,f),c=r,u={},p=0;for(let h=0;h<d.length;h++){const{name:g,fn:v}=d[h],{x:_,y:j,data:E,reset:N}=await v({x,y:a,initialPlacement:r,placement:c,strategy:o,middlewareData:u,rects:m,platform:l,elements:{reference:e,floating:n}});x=_??x,a=j??a,u={...u,[g]:{...u[g],...E}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(c=N.placement),N.rects&&(m=N.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:o}):N.rects),{x,y:a}=Tr(m,c,f)),h=-1)}return{x,y:a,placement:c,strategy:o,middlewareData:u}};async function Nt(e,n){var t;n===void 0&&(n={});const{x:r,y:o,platform:i,rects:l,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:a="floating",altBoundary:c=!1,padding:u=0}=Fe(n,e),p=Aa(u),g=d[c?a==="floating"?"reference":"floating":a],v=Jt(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(g)))==null||t?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:m,rootBoundary:x,strategy:f})),_=a==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),E=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=Jt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:j,strategy:f}):_);return{top:(v.top-N.top+p.top)/E.y,bottom:(N.bottom-v.bottom+p.bottom)/E.y,left:(v.left-N.left+p.left)/E.x,right:(N.right-v.right+p.right)/E.x}}const Il=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:o,rects:i,platform:l,elements:d,middlewareData:f}=n,{element:m,padding:x=0}=Fe(e,n)||{};if(m==null)return{};const a=Aa(x),c={x:t,y:r},u=Yn(o),p=Xn(u),h=await l.getDimensions(m),g=u==="y",v=g?"top":"left",_=g?"bottom":"right",j=g?"clientHeight":"clientWidth",E=i.reference[p]+i.reference[u]-c[u]-i.floating[p],N=c[u]-i.reference[u],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let S=P?P[j]:0;(!S||!await(l.isElement==null?void 0:l.isElement(P)))&&(S=d.floating[j]||i.floating[p]);const T=E/2-N/2,k=S/2-h[p]/2-1,I=Me(a[v],k),$=Me(a[_],k),U=I,Z=S-h[p]-$,z=S/2-h[p]/2+T,J=Mn(U,z,Z),K=!f.arrow&&pt(o)!=null&&z!==J&&i.reference[p]/2-(z<U?I:$)-h[p]/2<0,L=K?z<U?z-U:z-Z:0;return{[u]:c[u]+L,data:{[u]:J,centerOffset:z-J-L,...K&&{alignmentOffset:L}},reset:K}}}),Dl=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:d,platform:f,elements:m}=n,{mainAxis:x=!0,crossAxis:a=!0,fallbackPlacements:c,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...g}=Fe(e,n);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const v=He(o),_=Ue(d),j=He(d)===d,E=await(f.isRTL==null?void 0:f.isRTL(m.floating)),N=c||(j||!h?[Qt(d)]:kl(d)),P=p!=="none";!c&&P&&N.push(...Ol(d,h,p,E));const S=[d,...N],T=await Nt(n,g),k=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(x&&k.push(T[v]),a){const z=Pl(o,l,E);k.push(T[z[0]],T[z[1]])}if(I=[...I,{placement:o,overflows:k}],!k.every(z=>z<=0)){var $,U;const z=((($=i.flip)==null?void 0:$.index)||0)+1,J=S[z];if(J)return{data:{index:z,overflows:I},reset:{placement:J}};let K=(U=I.filter(L=>L.overflows[0]<=0).sort((L,te)=>L.overflows[1]-te.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(u){case"bestFit":{var Z;const L=(Z=I.filter(te=>{if(P){const ue=Ue(te.placement);return ue===_||ue==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ue=>ue>0).reduce((ue,b)=>ue+b,0)]).sort((te,ue)=>te[1]-ue[1])[0])==null?void 0:Z[0];L&&(K=L);break}case"initialPlacement":K=d;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function Or(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Mr(e){return El.some(n=>e[n]>=0)}const Ll=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:t}=n,{strategy:r="referenceHidden",...o}=Fe(e,n);switch(r){case"referenceHidden":{const i=await Nt(n,{...o,elementContext:"reference"}),l=Or(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Mr(l)}}}case"escaped":{const i=await Nt(n,{...o,altBoundary:!0}),l=Or(i,t.floating);return{data:{escapedOffsets:l,escaped:Mr(l)}}}default:return{}}}}};async function Fl(e,n){const{placement:t,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=He(t),d=pt(t),f=Ue(t)==="y",m=["left","top"].includes(l)?-1:1,x=i&&f?-1:1,a=Fe(n,e);let{mainAxis:c,crossAxis:u,alignmentAxis:p}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return d&&typeof p=="number"&&(u=d==="end"?p*-1:p),f?{x:u*x,y:c*m}:{x:c*m,y:u*x}}const Hl=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:o,y:i,placement:l,middlewareData:d}=n,f=await Fl(n,e);return l===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:i+f.y,data:{...f,placement:l}}}}},$l=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:r,placement:o}=n,{mainAxis:i=!0,crossAxis:l=!1,limiter:d={fn:g=>{let{x:v,y:_}=g;return{x:v,y:_}}},...f}=Fe(e,n),m={x:t,y:r},x=await Nt(n,f),a=Ue(He(o)),c=Zn(a);let u=m[c],p=m[a];if(i){const g=c==="y"?"top":"left",v=c==="y"?"bottom":"right",_=u+x[g],j=u-x[v];u=Mn(_,u,j)}if(l){const g=a==="y"?"top":"left",v=a==="y"?"bottom":"right",_=p+x[g],j=p-x[v];p=Mn(_,p,j)}const h=d.fn({...n,[c]:u,[a]:p});return{...h,data:{x:h.x-t,y:h.y-r}}}}},Gl=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:t,y:r,placement:o,rects:i,middlewareData:l}=n,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Fe(e,n),x={x:t,y:r},a=Ue(o),c=Zn(a);let u=x[c],p=x[a];const h=Fe(d,n),g=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(f){const j=c==="y"?"height":"width",E=i.reference[c]-i.floating[j]+g.mainAxis,N=i.reference[c]+i.reference[j]-g.mainAxis;u<E?u=E:u>N&&(u=N)}if(m){var v,_;const j=c==="y"?"width":"height",E=["top","left"].includes(He(o)),N=i.reference[a]-i.floating[j]+(E&&((v=l.offset)==null?void 0:v[a])||0)+(E?0:g.crossAxis),P=i.reference[a]+i.reference[j]+(E?0:((_=l.offset)==null?void 0:_[a])||0)-(E?g.crossAxis:0);p<N?p=N:p>P&&(p=P)}return{[c]:u,[a]:p}}}},Bl=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){const{placement:t,rects:r,platform:o,elements:i}=n,{apply:l=()=>{},...d}=Fe(e,n),f=await Nt(n,d),m=He(t),x=pt(t),a=Ue(t)==="y",{width:c,height:u}=r.floating;let p,h;m==="top"||m==="bottom"?(p=m,h=x===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(h=m,p=x==="end"?"top":"bottom");const g=u-f.top-f.bottom,v=c-f.left-f.right,_=Me(u-f[p],g),j=Me(c-f[h],v),E=!n.middlewareData.shift;let N=_,P=j;if(a?P=x||E?Me(j,v):v:N=x||E?Me(_,g):g,E&&!x){const T=_e(f.left,0),k=_e(f.right,0),I=_e(f.top,0),$=_e(f.bottom,0);a?P=c-2*(T!==0||k!==0?T+k:_e(f.left,f.right)):N=u-2*(I!==0||$!==0?I+$:_e(f.top,f.bottom))}await l({...n,availableWidth:P,availableHeight:N});const S=await o.getDimensions(i.floating);return c!==S.width||u!==S.height?{reset:{rects:!0}}:{}}}};function mt(e){return Ea(e)?(e.nodeName||"").toLowerCase():"#document"}function be(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function $e(e){var n;return(n=(Ea(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Ea(e){return e instanceof Node||e instanceof be(e).Node}function Ne(e){return e instanceof Element||e instanceof be(e).Element}function Re(e){return e instanceof HTMLElement||e instanceof be(e).HTMLElement}function Rr(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof be(e).ShadowRoot}function Tt(e){const{overflow:n,overflowX:t,overflowY:r,display:o}=Se(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!["inline","contents"].includes(o)}function ql(e){return["table","td","th"].includes(mt(e))}function on(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function Kn(e){const n=Qn(),t=Ne(e)?Se(e):e;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Wl(e){let n=Ze(e);for(;Re(n)&&!ft(n);){if(Kn(n))return n;if(on(n))return null;n=Ze(n)}return null}function Qn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ft(e){return["html","body","#document"].includes(mt(e))}function Se(e){return be(e).getComputedStyle(e)}function sn(e){return Ne(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ze(e){if(mt(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Rr(e)&&e.host||$e(e);return Rr(n)?n.host:n}function Na(e){const n=Ze(e);return ft(n)?e.ownerDocument?e.ownerDocument.body:e.body:Re(n)&&Tt(n)?n:Na(n)}function St(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const o=Na(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=be(o);if(i){const d=In(l);return n.concat(l,l.visualViewport||[],Tt(o)?o:[],d&&t?St(d):[])}return n.concat(o,St(o,[],t))}function In(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sa(e){const n=Se(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const o=Re(e),i=o?e.offsetWidth:t,l=o?e.offsetHeight:r,d=Kt(t)!==i||Kt(r)!==l;return d&&(t=i,r=l),{width:t,height:r,$:d}}function Jn(e){return Ne(e)?e:e.contextElement}function ct(e){const n=Jn(e);if(!Re(n))return Ve(1);const t=n.getBoundingClientRect(),{width:r,height:o,$:i}=Sa(n);let l=(i?Kt(t.width):t.width)/r,d=(i?Kt(t.height):t.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const zl=Ve(0);function Pa(e){const n=be(e);return!Qn()||!n.visualViewport?zl:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Vl(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==be(e)?!1:n}function Je(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const o=e.getBoundingClientRect(),i=Jn(e);let l=Ve(1);n&&(r?Ne(r)&&(l=ct(r)):l=ct(e));const d=Vl(i,t,r)?Pa(i):Ve(0);let f=(o.left+d.x)/l.x,m=(o.top+d.y)/l.y,x=o.width/l.x,a=o.height/l.y;if(i){const c=be(i),u=r&&Ne(r)?be(r):r;let p=c,h=In(p);for(;h&&r&&u!==p;){const g=ct(h),v=h.getBoundingClientRect(),_=Se(h),j=v.left+(h.clientLeft+parseFloat(_.paddingLeft))*g.x,E=v.top+(h.clientTop+parseFloat(_.paddingTop))*g.y;f*=g.x,m*=g.y,x*=g.x,a*=g.y,f+=j,m+=E,p=be(h),h=In(p)}}return Jt({width:x,height:a,x:f,y:m})}function Ul(e){let{elements:n,rect:t,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=$e(r),d=n?on(n.floating):!1;if(r===l||d&&i)return t;let f={scrollLeft:0,scrollTop:0},m=Ve(1);const x=Ve(0),a=Re(r);if((a||!a&&!i)&&((mt(r)!=="body"||Tt(l))&&(f=sn(r)),Re(r))){const c=Je(r);m=ct(r),x.x=c.x+r.clientLeft,x.y=c.y+r.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+x.x,y:t.y*m.y-f.scrollTop*m.y+x.y}}function Zl(e){return Array.from(e.getClientRects())}function ka(e){return Je($e(e)).left+sn(e).scrollLeft}function Xl(e){const n=$e(e),t=sn(e),r=e.ownerDocument.body,o=_e(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),i=_e(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+ka(e);const d=-t.scrollTop;return Se(r).direction==="rtl"&&(l+=_e(n.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:d}}function Yl(e,n){const t=be(e),r=$e(e),o=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,d=0,f=0;if(o){i=o.width,l=o.height;const m=Qn();(!m||m&&n==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}return{width:i,height:l,x:d,y:f}}function Kl(e,n){const t=Je(e,!0,n==="fixed"),r=t.top+e.clientTop,o=t.left+e.clientLeft,i=Re(e)?ct(e):Ve(1),l=e.clientWidth*i.x,d=e.clientHeight*i.y,f=o*i.x,m=r*i.y;return{width:l,height:d,x:f,y:m}}function Ir(e,n,t){let r;if(n==="viewport")r=Yl(e,t);else if(n==="document")r=Xl($e(e));else if(Ne(n))r=Kl(n,t);else{const o=Pa(e);r={...n,x:n.x-o.x,y:n.y-o.y}}return Jt(r)}function Ta(e,n){const t=Ze(e);return t===n||!Ne(t)||ft(t)?!1:Se(t).position==="fixed"||Ta(t,n)}function Ql(e,n){const t=n.get(e);if(t)return t;let r=St(e,[],!1).filter(d=>Ne(d)&&mt(d)!=="body"),o=null;const i=Se(e).position==="fixed";let l=i?Ze(e):e;for(;Ne(l)&&!ft(l);){const d=Se(l),f=Kn(l);!f&&d.position==="fixed"&&(o=null),(i?!f&&!o:!f&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Tt(l)&&!f&&Ta(e,l))?r=r.filter(x=>x!==l):o=d,l=Ze(l)}return n.set(e,r),r}function Jl(e){let{element:n,boundary:t,rootBoundary:r,strategy:o}=e;const l=[...t==="clippingAncestors"?on(n)?[]:Ql(n,this._c):[].concat(t),r],d=l[0],f=l.reduce((m,x)=>{const a=Ir(n,x,o);return m.top=_e(a.top,m.top),m.right=Me(a.right,m.right),m.bottom=Me(a.bottom,m.bottom),m.left=_e(a.left,m.left),m},Ir(n,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ec(e){const{width:n,height:t}=Sa(e);return{width:n,height:t}}function tc(e,n,t){const r=Re(n),o=$e(n),i=t==="fixed",l=Je(e,!0,i,n);let d={scrollLeft:0,scrollTop:0};const f=Ve(0);if(r||!r&&!i)if((mt(n)!=="body"||Tt(o))&&(d=sn(n)),r){const a=Je(n,!0,i,n);f.x=a.x+n.clientLeft,f.y=a.y+n.clientTop}else o&&(f.x=ka(o));const m=l.left+d.scrollLeft-f.x,x=l.top+d.scrollTop-f.y;return{x:m,y:x,width:l.width,height:l.height}}function gn(e){return Se(e).position==="static"}function Dr(e,n){return!Re(e)||Se(e).position==="fixed"?null:n?n(e):e.offsetParent}function Oa(e,n){const t=be(e);if(on(e))return t;if(!Re(e)){let o=Ze(e);for(;o&&!ft(o);){if(Ne(o)&&!gn(o))return o;o=Ze(o)}return t}let r=Dr(e,n);for(;r&&ql(r)&&gn(r);)r=Dr(r,n);return r&&ft(r)&&gn(r)&&!Kn(r)?t:r||Wl(e)||t}const nc=async function(e){const n=this.getOffsetParent||Oa,t=this.getDimensions,r=await t(e.floating);return{reference:tc(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rc(e){return Se(e).direction==="rtl"}const ac={convertOffsetParentRelativeRectToViewportRelativeRect:Ul,getDocumentElement:$e,getClippingRect:Jl,getOffsetParent:Oa,getElementRects:nc,getClientRects:Zl,getDimensions:ec,getScale:ct,isElement:Ne,isRTL:rc};function oc(e,n){let t=null,r;const o=$e(e);function i(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),i();const{left:m,top:x,width:a,height:c}=e.getBoundingClientRect();if(d||n(),!a||!c)return;const u=Mt(x),p=Mt(o.clientWidth-(m+a)),h=Mt(o.clientHeight-(x+c)),g=Mt(m),_={rootMargin:-u+"px "+-p+"px "+-h+"px "+-g+"px",threshold:_e(0,Me(1,f))||1};let j=!0;function E(N){const P=N[0].intersectionRatio;if(P!==f){if(!j)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j=!1}try{t=new IntersectionObserver(E,{..._,root:o.ownerDocument})}catch{t=new IntersectionObserver(E,_)}t.observe(e)}return l(!0),i}function sc(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Jn(e),x=o||i?[...m?St(m):[],...St(n)]:[];x.forEach(v=>{o&&v.addEventListener("scroll",t,{passive:!0}),i&&v.addEventListener("resize",t)});const a=m&&d?oc(m,t):null;let c=-1,u=null;l&&(u=new ResizeObserver(v=>{let[_]=v;_&&_.target===m&&u&&(u.unobserve(n),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var j;(j=u)==null||j.observe(n)})),t()}),m&&!f&&u.observe(m),u.observe(n));let p,h=f?Je(e):null;f&&g();function g(){const v=Je(e);h&&(v.x!==h.x||v.y!==h.y||v.width!==h.width||v.height!==h.height)&&t(),h=v,p=requestAnimationFrame(g)}return t(),()=>{var v;x.forEach(_=>{o&&_.removeEventListener("scroll",t),i&&_.removeEventListener("resize",t)}),a==null||a(),(v=u)==null||v.disconnect(),u=null,f&&cancelAnimationFrame(p)}}const ic=Hl,lc=$l,cc=Dl,uc=Bl,dc=Ll,Lr=Il,fc=Gl,pc=(e,n,t)=>{const r=new Map,o={platform:ac,...t},i={...o.platform,_c:r};return Rl(e,n,{...o,platform:i})};var Ht=typeof document<"u"?y.useLayoutEffect:y.useEffect;function en(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,o;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!en(e[r],n[r]))return!1;return!0}if(o=Object.keys(e),t=o.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,o[r]))return!1;for(r=t;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!en(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function Ma(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fr(e,n){const t=Ma(e);return Math.round(n*t)/t}function Hr(e){const n=y.useRef(e);return Ht(()=>{n.current=e}),n}function mc(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[x,a]=y.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[c,u]=y.useState(r);en(c,r)||u(r);const[p,h]=y.useState(null),[g,v]=y.useState(null),_=y.useCallback(L=>{L!==P.current&&(P.current=L,h(L))},[]),j=y.useCallback(L=>{L!==S.current&&(S.current=L,v(L))},[]),E=i||p,N=l||g,P=y.useRef(null),S=y.useRef(null),T=y.useRef(x),k=f!=null,I=Hr(f),$=Hr(o),U=y.useCallback(()=>{if(!P.current||!S.current)return;const L={placement:n,strategy:t,middleware:c};$.current&&(L.platform=$.current),pc(P.current,S.current,L).then(te=>{const ue={...te,isPositioned:!0};Z.current&&!en(T.current,ue)&&(T.current=ue,$n.flushSync(()=>{a(ue)}))})},[c,n,t,$]);Ht(()=>{m===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,a(L=>({...L,isPositioned:!1})))},[m]);const Z=y.useRef(!1);Ht(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Ht(()=>{if(E&&(P.current=E),N&&(S.current=N),E&&N){if(I.current)return I.current(E,N,U);U()}},[E,N,U,I,k]);const z=y.useMemo(()=>({reference:P,floating:S,setReference:_,setFloating:j}),[_,j]),J=y.useMemo(()=>({reference:E,floating:N}),[E,N]),K=y.useMemo(()=>{const L={position:t,left:0,top:0};if(!J.floating)return L;const te=Fr(J.floating,x.x),ue=Fr(J.floating,x.y);return d?{...L,transform:"translate("+te+"px, "+ue+"px)",...Ma(J.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:ue}},[t,d,J.floating,x.x,x.y]);return y.useMemo(()=>({...x,update:U,refs:z,elements:J,floatingStyles:K}),[x,U,z,J,K])}const hc=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:o}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?Lr({element:r.current,padding:o}).fn(t):{}:r?Lr({element:r,padding:o}).fn(t):{}}}},gc=(e,n)=>({...ic(e),options:[e,n]}),vc=(e,n)=>({...lc(e),options:[e,n]}),yc=(e,n)=>({...fc(e),options:[e,n]}),xc=(e,n)=>({...cc(e),options:[e,n]}),wc=(e,n)=>({...uc(e),options:[e,n]}),_c=(e,n)=>({...dc(e),options:[e,n]}),bc=(e,n)=>({...hc(e),options:[e,n]});var Cc="Arrow",Ra=y.forwardRef((e,n)=>{const{children:t,width:r=10,height:o=5,...i}=e;return s.jsx(se.svg,{...i,ref:n,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ra.displayName=Cc;var jc=Ra,et=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function er(e){const[n,t]=y.useState(void 0);return et(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,d;if("borderBoxSize"in i){const f=i.borderBoxSize,m=Array.isArray(f)?f[0]:f;l=m.inlineSize,d=m.blockSize}else l=e.offsetWidth,d=e.offsetHeight;t({width:l,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else t(void 0)},[e]),n}var tr="Popper",[Ia,Da]=Ie(tr),[Ac,La]=Ia(tr),Fa=e=>{const{__scopePopper:n,children:t}=e,[r,o]=y.useState(null);return s.jsx(Ac,{scope:n,anchor:r,onAnchorChange:o,children:t})};Fa.displayName=tr;var Ha="PopperAnchor",$a=y.forwardRef((e,n)=>{const{__scopePopper:t,virtualRef:r,...o}=e,i=La(Ha,t),l=y.useRef(null),d=pe(n,l);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:s.jsx(se.div,{...o,ref:d})});$a.displayName=Ha;var nr="PopperContent",[Ec,Nc]=Ia(nr),Ga=y.forwardRef((e,n)=>{var R,G,X,ne,Q,re;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:a="partial",hideWhenDetached:c=!1,updatePositionStrategy:u="optimized",onPlaced:p,...h}=e,g=La(nr,t),[v,_]=y.useState(null),j=pe(n,ae=>_(ae)),[E,N]=y.useState(null),P=er(E),S=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,k=r+(i!=="center"?"-"+i:""),I=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},$=Array.isArray(m)?m:[m],U=$.length>0,Z={padding:I,boundary:$.filter(Pc),altBoundary:U},{refs:z,floatingStyles:J,placement:K,isPositioned:L,middlewareData:te}=mc({strategy:"fixed",placement:k,whileElementsMounted:(...ae)=>sc(...ae,{animationFrame:u==="always"}),elements:{reference:g.anchor},middleware:[gc({mainAxis:o+T,alignmentAxis:l}),f&&vc({mainAxis:!0,crossAxis:!1,limiter:a==="partial"?yc():void 0,...Z}),f&&xc({...Z}),wc({...Z,apply:({elements:ae,rects:q,availableWidth:me,availableHeight:ve})=>{const{width:ye,height:Ae}=q.reference,Ce=ae.floating.style;Ce.setProperty("--radix-popper-available-width",`${me}px`),Ce.setProperty("--radix-popper-available-height",`${ve}px`),Ce.setProperty("--radix-popper-anchor-width",`${ye}px`),Ce.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),E&&bc({element:E,padding:d}),kc({arrowWidth:S,arrowHeight:T}),c&&_c({strategy:"referenceHidden",...Z})]}),[ue,b]=Wa(K),w=Le(p);et(()=>{L&&(w==null||w())},[L,w]);const O=(R=te.arrow)==null?void 0:R.x,D=(G=te.arrow)==null?void 0:G.y,F=((X=te.arrow)==null?void 0:X.centerOffset)!==0,[H,B]=y.useState();return et(()=>{v&&B(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:L?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(ne=te.transformOrigin)==null?void 0:ne.x,(Q=te.transformOrigin)==null?void 0:Q.y].join(" "),...((re=te.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Ec,{scope:t,placedSide:ue,onArrowChange:N,arrowX:O,arrowY:D,shouldHideArrow:F,children:s.jsx(se.div,{"data-side":ue,"data-align":b,...h,ref:j,style:{...h.style,animation:L?void 0:"none"}})})})});Ga.displayName=nr;var Ba="PopperArrow",Sc={top:"bottom",right:"left",bottom:"top",left:"right"},qa=y.forwardRef(function(n,t){const{__scopePopper:r,...o}=n,i=Nc(Ba,r),l=Sc[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(jc,{...o,ref:t,style:{...o.style,display:"block"}})})});qa.displayName=Ba;function Pc(e){return e!==null}var kc=e=>({name:"transformOrigin",options:e,fn(n){var g,v,_;const{placement:t,rects:r,middlewareData:o}=n,l=((g=o.arrow)==null?void 0:g.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[m,x]=Wa(t),a={start:"0%",center:"50%",end:"100%"}[x],c=(((v=o.arrow)==null?void 0:v.x)??0)+d/2,u=(((_=o.arrow)==null?void 0:_.y)??0)+f/2;let p="",h="";return m==="bottom"?(p=l?a:`${c}px`,h=`${-f}px`):m==="top"?(p=l?a:`${c}px`,h=`${r.floating.height+f}px`):m==="right"?(p=`${-f}px`,h=l?a:`${u}px`):m==="left"&&(p=`${r.floating.width+f}px`,h=l?a:`${u}px`),{data:{x:p,y:h}}}});function Wa(e){const[n,t="center"]=e.split("-");return[n,t]}var Tc=Fa,Oc=$a,Mc=Ga,Rc=qa,Ic="Portal",za=y.forwardRef((e,n)=>{var d;const{container:t,...r}=e,[o,i]=y.useState(!1);et(()=>i(!0),[]);const l=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?vi.createPortal(s.jsx(se.div,{...r,ref:n}),l):null});za.displayName=Ic;function Dc(e,n){return y.useReducer((t,r)=>n[t][r]??t,e)}var nt=e=>{const{present:n,children:t}=e,r=Lc(n),o=typeof t=="function"?t({present:r.isPresent}):y.Children.only(t),i=pe(r.ref,Fc(o));return typeof t=="function"||r.isPresent?y.cloneElement(o,{ref:i}):null};nt.displayName="Presence";function Lc(e){const[n,t]=y.useState(),r=y.useRef({}),o=y.useRef(e),i=y.useRef("none"),l=e?"mounted":"unmounted",[d,f]=Dc(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=Rt(r.current);i.current=d==="mounted"?m:"none"},[d]),et(()=>{const m=r.current,x=o.current;if(x!==e){const c=i.current,u=Rt(m);e?f("MOUNT"):u==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(x&&c!==u?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),et(()=>{if(n){const m=a=>{const u=Rt(r.current).includes(a.animationName);a.target===n&&u&&$n.flushSync(()=>f("ANIMATION_END"))},x=a=>{a.target===n&&(i.current=Rt(r.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",m),n.addEventListener("animationend",m),()=>{n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",m),n.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(m=>{m&&(r.current=getComputedStyle(m)),t(m)},[])}}function Rt(e){return(e==null?void 0:e.animationName)||"none"}function Fc(e){var r,o;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function Hc(e,n=globalThis==null?void 0:globalThis.document){const t=Le(e);y.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[t,n])}var $c="DismissableLayer",Dn="dismissableLayer.update",Gc="dismissableLayer.pointerDownOutside",Bc="dismissableLayer.focusOutside",$r,Va=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rr=y.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...f}=e,m=y.useContext(Va),[x,a]=y.useState(null),c=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=y.useState({}),p=pe(n,S=>a(S)),h=Array.from(m.layers),[g]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),v=h.indexOf(g),_=x?h.indexOf(x):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,E=_>=v,N=zc(S=>{const T=S.target,k=[...m.branches].some(I=>I.contains(T));!E||k||(o==null||o(S),l==null||l(S),S.defaultPrevented||d==null||d())},c),P=Vc(S=>{const T=S.target;[...m.branches].some(I=>I.contains(T))||(i==null||i(S),l==null||l(S),S.defaultPrevented||d==null||d())},c);return Hc(S=>{_===m.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&d&&(S.preventDefault(),d()))},c),y.useEffect(()=>{if(x)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($r=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),Gr(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=$r)}},[x,c,t,m]),y.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),Gr())},[x,m]),y.useEffect(()=>{const S=()=>u({});return document.addEventListener(Dn,S),()=>document.removeEventListener(Dn,S)},[]),s.jsx(se.div,{...f,ref:p,style:{pointerEvents:j?E?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,N.onPointerDownCapture)})});rr.displayName=$c;var qc="DismissableLayerBranch",Wc=y.forwardRef((e,n)=>{const t=y.useContext(Va),r=y.useRef(null),o=pe(n,r);return y.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),s.jsx(se.div,{...e,ref:o})});Wc.displayName=qc;function zc(e,n=globalThis==null?void 0:globalThis.document){const t=Le(e),r=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const i=d=>{if(d.target&&!r.current){let f=function(){Ua(Gc,t,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=f,n.addEventListener("click",o.current,{once:!0})):f()}else n.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",i),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function Vc(e,n=globalThis==null?void 0:globalThis.document){const t=Le(e),r=y.useRef(!1);return y.useEffect(()=>{const o=i=>{i.target&&!r.current&&Ua(Bc,t,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gr(){const e=new CustomEvent(Dn);document.dispatchEvent(e)}function Ua(e,n,t,{discrete:r}){const o=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?yi(o,i):o.dispatchEvent(i)}var vn,ar="HoverCard",[Za,$f]=Ie(ar,[Da]),ln=Da(),[Uc,or]=Za(ar),Xa=e=>{const{__scopeHoverCard:n,children:t,open:r,defaultOpen:o,onOpenChange:i,openDelay:l=700,closeDelay:d=300}=e,f=ln(n),m=y.useRef(0),x=y.useRef(0),a=y.useRef(!1),c=y.useRef(!1),[u=!1,p]=kt({prop:r,defaultProp:o,onChange:i}),h=y.useCallback(()=>{clearTimeout(x.current),m.current=window.setTimeout(()=>p(!0),l)},[l,p]),g=y.useCallback(()=>{clearTimeout(m.current),!a.current&&!c.current&&(x.current=window.setTimeout(()=>p(!1),d))},[d,p]),v=y.useCallback(()=>p(!1),[p]);return y.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(x.current)},[]),s.jsx(Uc,{scope:n,open:u,onOpenChange:p,onOpen:h,onClose:g,onDismiss:v,hasSelectionRef:a,isPointerDownOnContentRef:c,children:s.jsx(Tc,{...f,children:t})})};Xa.displayName=ar;var Ya="HoverCardTrigger",Ka=y.forwardRef((e,n)=>{const{__scopeHoverCard:t,...r}=e,o=or(Ya,t),i=ln(t);return s.jsx(Oc,{asChild:!0,...i,children:s.jsx(se.a,{"data-state":o.open?"open":"closed",...r,ref:n,onPointerEnter:Y(e.onPointerEnter,nn(o.onOpen)),onPointerLeave:Y(e.onPointerLeave,nn(o.onClose)),onFocus:Y(e.onFocus,o.onOpen),onBlur:Y(e.onBlur,o.onClose),onTouchStart:Y(e.onTouchStart,l=>l.preventDefault())})})});Ka.displayName=Ya;var Zc="HoverCardPortal",[Gf,Xc]=Za(Zc,{forceMount:void 0}),tn="HoverCardContent",Qa=y.forwardRef((e,n)=>{const t=Xc(tn,e.__scopeHoverCard),{forceMount:r=t.forceMount,...o}=e,i=or(tn,e.__scopeHoverCard);return s.jsx(nt,{present:r||i.open,children:s.jsx(Yc,{"data-state":i.open?"open":"closed",...o,onPointerEnter:Y(e.onPointerEnter,nn(i.onOpen)),onPointerLeave:Y(e.onPointerLeave,nn(i.onClose)),ref:n})})});Qa.displayName=tn;var Yc=y.forwardRef((e,n)=>{const{__scopeHoverCard:t,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,...d}=e,f=or(tn,t),m=ln(t),x=y.useRef(null),a=pe(n,x),[c,u]=y.useState(!1);return y.useEffect(()=>{if(c){const p=document.body;return vn=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=vn,p.style.webkitUserSelect=vn}}},[c]),y.useEffect(()=>{if(x.current){const p=()=>{u(!1),f.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var g;((g=document.getSelection())==null?void 0:g.toString())!==""&&(f.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!1}}},[f.isPointerDownOnContentRef,f.hasSelectionRef]),y.useEffect(()=>{x.current&&Jc(x.current).forEach(h=>h.setAttribute("tabindex","-1"))}),s.jsx(rr,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:l,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:Y(i,p=>{p.preventDefault()}),onDismiss:f.onDismiss,children:s.jsx(Mc,{...m,...d,onPointerDown:Y(d.onPointerDown,p=>{p.currentTarget.contains(p.target)&&u(!0),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!0}),ref:a,style:{...d.style,userSelect:c?"text":void 0,WebkitUserSelect:c?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Kc="HoverCardArrow",Qc=y.forwardRef((e,n)=>{const{__scopeHoverCard:t,...r}=e,o=ln(t);return s.jsx(Rc,{...o,...r,ref:n})});Qc.displayName=Kc;function nn(e){return n=>n.pointerType==="touch"?void 0:e()}function Jc(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)n.push(t.currentNode);return n}var eu=Xa,tu=Ka,Ja=Qa;const eo=eu,to=tu,sr=y.forwardRef(({className:e,align:n="center",sideOffset:t=4,...r},o)=>s.jsx(Ja,{ref:o,align:n,sideOffset:t,className:A("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));sr.displayName=Ja.displayName;const no=e=>{const n=ee();return s.jsxs(eo,{openDelay:0,closeDelay:0,children:[s.jsx(to,{asChild:!0,children:e.children}),s.jsxs(sr,{className:"pointer-events-none",children:[s.jsxs("div",{className:"flex mb-2 gap-2",children:[e.card.effect.cost.type==="energy"?s.jsx(ze,{value:Et(e.card.effect.cost,n),colors:Bn(n,e.card.effect.cost.value),isCost:!0,miniature:!0,className:"w-5 h-5"}):s.jsx(Vn,{value:Et(e.card.effect.cost,n),miniature:!0}),s.jsx("h2",{children:e.card.name})]}),s.jsx("p",{dangerouslySetInnerHTML:{__html:e.card.effect.description}})]})]})},Ee=({name:e,Icon:n,value:t,...r})=>s.jsxs("div",{...r,className:A("flex items-center gap-1",r.className),children:[s.jsx(n,{className:"h-full aspect-square w-fit self-center justify-self-start"}),s.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[s.jsxs("span",{children:[e,t!=null?" :":""]})," ",t]})]}),ro=e=>{const n=ee(),t=ie(r=>({shadows:r.quality.shadows,animation:r.quality.animations,transparency:r.quality.transparency}));return s.jsxs(s.Fragment,{children:[e.forHUD&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[s.jsxs("div",{id:"energy",children:[s.jsx(Ot,{title:"Energie",value:n.energy,max:n.energyMax,color:"bg-energy"}),s.jsx("div",{className:"last:col-span-1 flex items-center",children:s.jsx(Ee,{Icon:xl,name:"Energie",className:"h-5"})})]}),s.jsxs("div",{id:"reputation",children:[s.jsx(Ot,{title:"Réputation",value:n.reputation,max:Hn,color:"bg-reputation"}),s.jsx("div",{className:"last:col-span-1 flex items-center",children:s.jsx(Ee,{Icon:wl,name:"Réputation",className:"h-5"})})]}),s.jsxs("div",{id:"day",children:[s.jsx(Ot,{title:"Journée",display:r=>Math.floor(r*24)%24+"h",value:n.dayFull===null?n.day%1:n.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),s.jsx("div",{className:"last:col-span-1 flex items-center",children:s.jsx(Ee,{Icon:jr,name:"Jour",value:Math.floor(n.day),className:"h-5"})})]}),s.jsxs("div",{id:"sprint",children:[s.jsx(Ot,{title:"Sprint",display:r=>Math.floor(r*7)+"j",value:Math.floor(n.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),s.jsx("div",{className:"last:col-span-1 flex items-center",children:s.jsx(Ee,{Icon:xi,name:"Sprint",value:Math.floor(n.day/7),className:"h-5"})})]})]}),s.jsx(On,{}),s.jsx("div",{className:"grid grid-cols-3 w-full gap-x-2",id:"deck",children:["deck","draw","discard"].map(r=>s.jsxs("div",{className:"grid grid-cols-subgrid col-span-3 space-y-1",children:[s.jsx("div",{className:"flex justify-end col-span-2",children:(r==="deck"?[...n.draw,...n.discard,...n.hand]:n[r]).map(o=>je(o,n)).toSorted((o,i)=>o.type===i.type?o.effect.upgrade?1:-1:i.type>o.type?1:-1).map((o,i)=>s.jsx(no,{card:o,children:s.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto",children:s.jsx(ba,{item:o,className:A("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.upgrade})})})},i))}),s.jsx(Ee,{Icon:r==="deck"?ml:r==="draw"?wi:hl,name:r==="deck"?"Deck":r==="draw"?"Pioche":"Défausse",value:r==="deck"?n.draw.length+n.discard.length+n.hand.length:n[r].length,className:"h-5"})]},r))}),s.jsx(On,{})]}),s.jsxs("div",{className:A("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",t.transparency?"bg-card/60":"bg-card",e.className),children:[s.jsx(Ee,{id:"money",Icon:vl,name:"Dollars",value:s.jsx("span",{dangerouslySetInnerHTML:{__html:he(`${n.money}M$ ${e.forHUD?`sur ${zt}M$`:""}`)}})}),s.jsx(Ee,{Icon:yl,name:"Score",value:s.jsxs("span",{className:"text-upgrade font-changa",children:[n.score.toLocaleString("fr")," pts"]})}),n.inflation>0&&s.jsx(Ee,{Icon:_l,name:"Inflation",value:s.jsxs("span",{className:"text-inflation font-changa",children:[n.inflation.toLocaleString("fr")," ",s.jsx("span",{dangerouslySetInnerHTML:{__html:he("@energys")}})]})}),!e.forHUD&&s.jsx(Ee,{Icon:jr,name:"Jour",value:Math.floor(n.day)}),s.jsx(Ee,{Icon:ya,name:"Mode",value:s.jsxs("span",{className:"capitalize",children:[jt[n.difficulty],n.debug&&" [debug]"]})}),n.infinityMode&&s.jsx(Ee,{Icon:gl,name:"Mode infini",value:"Activé"})]})]})},nu=e=>{const{shadows:n,animation:t}=ie(d=>({shadows:d.quality.shadows,animation:d.quality.animations})),[r,o]=C.useState(!0),[i,l]=C.useState(!1);return C.useEffect(()=>{e.show?(l(!0),o(!1)):(o(!0),l(!1))},[e.show]),s.jsxs("div",{className:A("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"delay-500":i&&t,"translate-x-0":e.show}),children:[s.jsx("div",{className:A("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":n})}),s.jsx("div",{className:A("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":n})}),s.jsx(dl,{show:e.show,delay:r}),s.jsx(pl,{show:e.show}),s.jsx(Pt,{className:"space-y-2 w-[400px]",children:s.jsx(ro,{className:"*:h-6 text-lg",forHUD:!0})})]})};function ru(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const ao=[{name:"Mel Andrew",score:121190,mode:"normal"},{name:"Ghom",score:3444,mode:"easy"},{name:"𝕺𝖓𝖞𝖝",score:35465,mode:"noob"},{name:"Placeholder",score:1500,mode:"normal"}],au=e=>{const{shadows:n,animation:t,transparency:r}=ie(o=>({shadows:o.quality.shadows,animation:o.quality.animations,transparency:o.quality.transparency}));return s.jsxs("div",{className:A("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"translate-x-0":e.show}),children:[s.jsx("div",{className:A("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":n})}),s.jsx("div",{className:A("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":n})}),s.jsx(Pt,{children:s.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[s.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),s.jsx("div",{className:A("rounded-xl p-5",{"bg-card/40":r,"bg-card":!r}),children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{}),s.jsx("th",{children:"Rank"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Score"}),s.jsx("th",{children:"Mode"})]})}),s.jsx("tbody",{children:ao.sort((o,i)=>i.score-o.score).map((o,i)=>s.jsxs("tr",{className:A("*:whitespace-nowrap",Sn(i)),children:[s.jsx("td",{children:i<3?s.jsx(ru,{className:A("w-4",Sn(i))}):""}),s.jsxs("th",{children:["# ",i+1]}),s.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:o.name}),s.jsxs("td",{children:[o.score.toLocaleString()," pts"]}),s.jsx("td",{children:jt[o.mode]})]},i))})]})}),s.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si tu as un meilleur score, tu peux me le soumettre ",s.jsx("br",{}),"en me contactant sur"," ",s.jsx("a",{href:"https://discord.gg/3vC2XWK",target:"_blank",children:"Discord"})," ","ou"," ",s.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",children:"LinkedIn"})," ","!"]})]})})]})};function wt(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const ou=e=>{const n=ie(r=>({animations:r.quality.animations,transparency:r.quality.transparency})),t=ee(r=>({handOverflow:r.hand.length>=Qe,almostEmptyDraw:r.draw.length<4&&r.draw.length>0,emptyDraw:r.draw.length===0,almostEmptyReputation:r.reputation<=5}));return e.show?s.jsx("div",{className:A("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none -translate-y-1/2",{"animate-pulse duration-700":n.animations&&n.transparency}),children:s.jsxs("div",{className:A("text-3xl flex flex-col gap-2","*:flex *:items-center *:gap-2",{"transition-[right] ease-in-out duration-1000":n.animations,[A("opacity-0",{"opacity-100":e.show})]:n.transparency,[A("hidden",{flex:e.show})]:!n.transparency}),children:[t.handOverflow&&s.jsxs("div",{children:[s.jsx(wt,{className:"w-10"})," Ta main est pleine !"]}),t.almostEmptyDraw&&s.jsxs("div",{children:[s.jsx(wt,{className:"w-10"})," Ta pioche est presque vide !"]}),t.emptyDraw&&s.jsxs("div",{children:[s.jsx(wt,{className:"w-10"})," Ta pioche est vide !"]}),t.almostEmptyReputation&&s.jsxs("div",{children:[s.jsx(wt,{className:"w-10"})," ",s.jsx("span",{dangerouslySetInnerHTML:{__html:he("Ta @reputation est basse !")}})]})]})}):null},su=()=>{const e=ee(),n=e.operationInProgress.length>0;return s.jsxs("div",{className:"group-hover/debug:grid hidden grid-cols-2 gap-1 *:mx-auto",children:[s.jsx(M,{size:"cta",onClick:()=>{throw new Error("Test d'erreur")},children:"Déclencher une erreur"}),s.jsx(M,{size:"cta",onClick:()=>e.addNotification({header:"Test de notif",message:"Une notification",className:"bg-background text-foreground"}),children:"Déclencher une notification"}),s.jsx(M,{size:"cta",disabled:n,onClick:async()=>{const r=Math.round(1/Te);await e.advanceTime(r)},children:"Ajouter 1 jour"}),s.jsx(M,{size:"cta",disabled:n,className:"text-upgrade",onClick:async()=>{e.setOperationInProgress("all upgrades",!0),e.upgrades=[];for(const t of e.rawUpgrades)await Promise.all(new Array(t.max??10).fill(0).map(async(r,o)=>{await V(100*o),await e.upgrade(t.name)})),await e.removeCard(t.name);e.setOperationInProgress("all upgrades",!1)},children:"Toutes les améliorations"}),s.jsx(M,{size:"cta",onClick:()=>e.incrementsInflation(),children:"Augmenter l'inflation"}),s.jsxs("div",{className:"flex",children:[s.jsx(M,{className:"text-green-500",onClick:()=>e.win(),disabled:n,children:"Win"}),s.jsx(M,{className:"text-red-500",onClick:()=>e.defeat("reputation"),disabled:n,children:"Lose"})]})]})},iu=()=>{const e=ee(r=>r.operationInProgress),[n,t]=C.useState([]);return C.useEffect(()=>{e.join(" | ")!==n[n.length-1]&&t(r=>[...r,e.join(" | ")].slice(-50))},[e]),s.jsxs(Pt,{className:A("group/debug absolute bottom-0 left-0 opacity-50 hover:opacity-100 z-50"),children:[s.jsxs("div",{className:e.length>0?"bg-red-500":"bg-green-500",children:["Operation in progress:",s.jsx("ul",{children:e.map((r,o)=>s.jsx("li",{children:r},o))})]}),s.jsx("div",{className:"group-hover/debug:block hidden",children:n.map((r,o)=>s.jsxs("div",{className:"whitespace-nowrap text-sm",children:["- ",r]},o))}),s.jsx(su,{})]})};var ir={},oo={exports:{}},lu="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cu=lu,uu=cu;function so(){}function io(){}io.resetWarningCache=so;var du=function(){function e(r,o,i,l,d,f){if(f!==uu){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:io,resetWarningCache:so};return t.PropTypes=t,t};oo.exports=du();var fu=oo.exports,lo=void 0;typeof window<"u"&&(lo=de);var pu=lo,lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.noop=function(){};Object.defineProperty(ir,"__esModule",{value:!0});var mu=function(){function e(n,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),co=y,hu=uo(co),gu=fu,oe=uo(gu),Br=pu,De=lr;function uo(e){return e&&e.__esModule?e:{default:e}}function vu(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yu(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function xu(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var cr=function(e){xu(n,e);function n(t){vu(this,n);var r=yu(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.initHowler=r.initHowler.bind(r),r}return mu(n,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(r){JSON.stringify(r.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(r)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof Br.Howl<"u"&&(this.howler=new Br.Howl({src:r.src,xhr:r.xhr,format:r.format,mute:r.mute,loop:r.loop,preload:r.preload,volume:r.volume,rate:r.rate,onend:r.onEnd,onplay:r.onPlay,onplayerror:r.onPlayError,onpause:r.onPause,onvolume:r.onVolume,onstop:r.onStop,onload:r.onLoad,onseek:r.onSeek,onloaderror:r.onLoadError,html5:r.html5}),r.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(r){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),r.mute!==this.props.mute&&this.mute(this.props.mute),r.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var r=this.howler.playing();r||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.pause(r):this.howler.pause()}},{key:"rate",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof r=="number"&&(o?this.howler.rate(r,o):this.howler.rate(r))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.stop(r):this.howler.stop()}},{key:"mute",value:function(){var r;(r=this.howler).mute.apply(r,arguments)}},{key:"volume",value:function(){var r;return(r=this.howler).volume.apply(r,arguments)}},{key:"loop",value:function(){var r;return(r=this.howler).loop.apply(r,arguments)}},{key:"seek",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!r&&r!==0)return this.howler.seek();if(r||r===0)return this.howler.seek(r),r}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return hu.default.createElement("div",null)}},{key:"howler",set:function(r){r&&(this._howler=r)},get:function(){return this._howler}}]),n}(co.Component);cr.propTypes={src:oe.default.oneOfType([oe.default.string,oe.default.arrayOf(oe.default.string)]).isRequired,format:oe.default.arrayOf(oe.default.string),xhr:oe.default.object,playing:oe.default.bool,mute:oe.default.bool,loop:oe.default.bool,preload:oe.default.bool,volume:oe.default.number,rate:oe.default.number,onEnd:oe.default.func,onPause:oe.default.func,onPlay:oe.default.func,onPlayError:oe.default.func,onVolume:oe.default.func,onStop:oe.default.func,onLoad:oe.default.func,onSeek:oe.default.func,onLoadError:oe.default.func,html5:oe.default.bool};cr.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:De.noop,onPause:De.noop,onPlay:De.noop,onPlayError:De.noop,onVolume:De.noop,onStop:De.noop,onLoad:De.noop,onSeek:De.noop,onLoadError:De.noop,html5:!1};ir.default=cr;var wu=ir.default;const _u=_i(wu),at=.4,bu=()=>{const e=ee(i=>i.isGameOver),n=ge(i=>i.musicVolume),t=ge(i=>i.musicMuted),r=ge(i=>i.setMusicVolume),o=ge(i=>i.isCardGameVisible);return C.useEffect(()=>{let i;return o&&!e&&n<at?i=setInterval(()=>{r(l=>l<at?Math.min(at,l+at/10):(clearInterval(i),l))},100):(!o||e)&&n>0&&(i=setInterval(()=>{r(l=>l>0?Math.max(0,l-at/10):(clearInterval(i),l))},100)),()=>clearInterval(i)},[o,e]),s.jsx(_u,{src:"sounds/music.mp3",volume:Math.min(at,n),mute:t,loop:!0,playing:!0})},Cu=e=>{const n=ge(i=>i.toggleRules),t=ee(),[r,o]=C.useState(0);return s.jsx("div",{onClick:i=>{i.target===i.currentTarget&&n()},className:A("absolute z-50 w-screen h-svh flex justify-center items-center bg-background/80",{hidden:!e.show}),children:s.jsxs("div",{className:"relative bg-background/80 space-y-4 p-10 rounded-xl pointer-events-auto",children:[s.jsx(M,{onClick:n,variant:"icon",size:"sm",className:"absolute top-5 right-5",children:s.jsx(bi,{})}),s.jsx("h1",{className:"text-5xl",children:"Informations"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-card p-5 rounded-xl space-y-2",children:[s.jsx("h2",{className:"text-3xl",children:"Règles du jeu"}),At.map((i,l)=>s.jsx("div",{dangerouslySetInnerHTML:{__html:he(i)}},l))]}),s.jsxs("div",{className:"grid grid-rows-3 gap-4 *:bg-card *:p-5 *:rounded-xl *:space-y-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl",children:"Taux de conversion"}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-right",children:s.jsx(xt,{htmlFor:"energy-input",dangerouslySetInnerHTML:{__html:he("En @energy :")}})}),s.jsx("th",{children:s.jsx(Ci,{id:"energy-input",min:0,type:"number",value:r,onChange:i=>o(+i.target.value),placeholder:"Entre une valeur en énergie",className:"w-fit h-6 pb-0 pt-1 px-1"})})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"text-right",children:"En Dollars :"}),s.jsx("td",{dangerouslySetInnerHTML:{__html:he(`${r*Nn}M$`)}})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"text-right",dangerouslySetInnerHTML:{__html:he("En @reputation :")}}),s.jsx("td",{children:(r/aa).toFixed(2)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"text-right",dangerouslySetInnerHTML:{__html:he("En @day :")}}),s.jsxs("td",{children:[r*Te>1?`${Math.floor(r*Te)} jours`:" ",r*Te%1>0&&r*Te>1?" et ":" ",Math.floor(r*Te%1*24)," heures et"," ",Math.floor(r*Te%1*24%1*60)," ","minutes"]})]})]})]})]}),s.jsxs("div",{className:"row-span-2 flex flex-col gap-5",children:[s.jsx("h2",{className:"text-3xl",children:"Statistiques"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-changa",children:"Général"}),s.jsx("table",{children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Score moyen"}),s.jsxs("td",{className:"font-changa text-upgrade",children:[t.scoreAverage," pts"]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Argent total"}),s.jsx("td",{dangerouslySetInnerHTML:{__html:he(`${t.totalMoney}M$`)}})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Parties gagnées"}),s.jsx("td",{children:t.wonGames})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Parties jouées"}),s.jsx("td",{children:t.playedGames})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Cartes découvertes"}),s.jsxs("td",{children:[t.discoveries.length," / ",t.cards.length]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Succès obtenus"}),s.jsxs("td",{children:[t.achievements.length," / ",kn.length]})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-changa",children:"Cartes découvertes"}),s.jsx("ul",{className:"flex flex-wrap gap-x-2",children:t.discoveries.length>0?t.discoveries.map((i,l)=>s.jsx(no,{card:je(i,t),children:s.jsx("li",{children:i})},l)):"Aucune découverte"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-changa",children:"Succès"}),s.jsx("ul",{className:"flex flex-wrap gap-x-2",children:t.achievements.length>0?t.achievements.map((i,l)=>s.jsxs(eo,{openDelay:0,closeDelay:0,children:[s.jsx(to,{asChild:!0,children:s.jsx("li",{children:i})}),s.jsxs(sr,{className:"pointer-events-none",children:[s.jsx("h2",{className:"mb-2",children:i}),s.jsx("p",{dangerouslySetInnerHTML:{__html:he(kn.find(d=>d.name===i).description)}})]})]},l)):"Aucun succès"})]})]})]})]})]})})},ju=e=>{const n=ie(l=>({shadows:l.quality.shadows,animation:l.quality.animations,transparency:l.quality.transparency})),[t,r]=ge(l=>[l.setCardGameVisibility,l.toggleSettings]),o=ee(l=>({isGameOver:l.isGameOver,isWon:l.isWon,reason:l.reason,score:l.score,reset:l.reset,continue:l.enableInfinityMode})),i=ao.sort((l,d)=>d.score-l.score).findIndex(({score:l})=>o.score>=l);return C.useEffect(()=>{o.isGameOver&&o.isWon&&n.animation&&e.show&&(W.victory.play(),la())},[o.isGameOver,o.isWon,n.animation,e.show]),s.jsx("div",{className:e.show?"block":"hidden",children:o.isGameOver&&s.jsx("div",{className:A("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":n.transparency,"bg-background":!n.transparency}),children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[s.jsxs(Un,{className:"flex flex-col select-none",max:10,reverse:!0,children:[s.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),s.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[o.isWon&&s.jsx("div",{className:"text-green-500",children:"Tu as gagné !"}),!o.isWon&&s.jsx("div",{className:"text-red-500",children:"Tu as perdu !"})]})]}),o.reason&&s.jsx("p",{className:"text-4xl",children:{reputation:"Tu as utilisé toute ta jauge de réputation...",mill:"Tu n'as plus de carte...","soft-lock":"Ta main est injouable...","mill-lock":"Tu n'as plus de carte à piocher..."}[o.reason]}),o.isWon?s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ro,{className:"*:h-10 text-3xl"}),s.jsx("div",{className:A("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":n.shadows&&n.transparency,"bg-card/50":n.transparency,"bg-card":!n.transparency}),children:i>=0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl",children:["Rank:"," ",s.jsxs("span",{className:A("font-changa text-4xl",Sn(i)),children:["# ",i+1]})]}),s.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[s.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contacte-moi"}),s.jsx("br",{}),"pour soumettre ton score !"]})]}):s.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Tu n'es pas classé, ",s.jsx("br",{})," ton score est trop faible."," ",s.jsx("br",{})," Essaye"," ",Ye.difficulty==="noob"||Ye.difficulty==="easy"?s.jsxs(s.Fragment,{children:["une difficulté plus élevée ! ",s.jsx("br",{}),s.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:r,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):s.jsx("div",{className:"text-2xl group/helpers",children:At.filter(l=>{switch(o.reason){case"reputation":return l.includes("@reputation")||l.includes("gagnes la partie");case"mill":return l.includes("plus jouer")||l.includes("défausse")||l.includes("limitée")||l.includes("Recycler")||l.includes("gagnes la partie");case"soft-lock":return l.includes("plus jouer")||l.includes("progressivement")||l.includes("cartes à jouer")||l.includes("gagnes la partie");case"mill-lock":return l.includes("plus jouer")||l.includes("pioche")||l.includes("Quand une carte est jouée")||l.includes("cartes à jouer")||l.includes("Recycler")||l.includes("gagnes la partie");default:return!1}}).map((l,d)=>s.jsx("div",{className:A("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":n.animation}),children:s.jsx("p",{className:A("hover:text-foreground",{[A("animate-trigger",{"delay-0":d===0,"delay-100":d===1,"delay-200":d===2,"delay-300":d===3,"delay-500":d===4,"delay-700":d===5})]:n.animation}),dangerouslySetInnerHTML:{__html:he(l)}})},d))}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(M,{onClick:()=>t(!1),variant:"default",children:"Quitter"}),s.jsx(M,{onClick:()=>o.reset(),variant:o.isWon?"default":"cta",size:o.isWon?"default":"cta",children:o.isWon?"Nouvelle partie":"Recommencer"}),o.isWon&&s.jsx(M,{onClick:()=>o.continue(),variant:"cta",size:"cta",children:"Mode infini"})]}),o.isWon&&s.jsx("div",{className:A({"animate-bounce w-full hover:duration-500":n.animation}),children:s.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:A("text-xl block mx-auto w-[300px] text-center border-2 border-upgrade rounded-xl py-3",{"transition-colors duration-500 ease-in-out":n.animation,"bg-card/50 hover:bg-card":n.transparency,"bg-card":!n.transparency}),children:"Buy me a coffee ☕️"})})]})})})};function fo(e){const n=y.useRef({value:e,previous:e});return y.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var ur="Checkbox",[Au,Bf]=Ie(ur),[Eu,Nu]=Au(ur),po=y.forwardRef((e,n)=>{const{__scopeCheckbox:t,name:r,checked:o,defaultChecked:i,required:l,disabled:d,value:f="on",onCheckedChange:m,...x}=e,[a,c]=y.useState(null),u=pe(n,j=>c(j)),p=y.useRef(!1),h=a?!!a.closest("form"):!0,[g=!1,v]=kt({prop:o,defaultProp:i,onChange:m}),_=y.useRef(g);return y.useEffect(()=>{const j=a==null?void 0:a.form;if(j){const E=()=>v(_.current);return j.addEventListener("reset",E),()=>j.removeEventListener("reset",E)}},[a,v]),s.jsxs(Eu,{scope:t,state:g,disabled:d,children:[s.jsx(se.button,{type:"button",role:"checkbox","aria-checked":Ke(g)?"mixed":g,"aria-required":l,"data-state":go(g),"data-disabled":d?"":void 0,disabled:d,value:f,...x,ref:u,onKeyDown:Y(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Y(e.onClick,j=>{v(E=>Ke(E)?!0:!E),h&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),h&&s.jsx(Su,{control:a,bubbles:!p.current,name:r,value:f,checked:g,required:l,disabled:d,style:{transform:"translateX(-100%)"}})]})});po.displayName=ur;var mo="CheckboxIndicator",ho=y.forwardRef((e,n)=>{const{__scopeCheckbox:t,forceMount:r,...o}=e,i=Nu(mo,t);return s.jsx(nt,{present:r||Ke(i.state)||i.state===!0,children:s.jsx(se.span,{"data-state":go(i.state),"data-disabled":i.disabled?"":void 0,...o,ref:n,style:{pointerEvents:"none",...e.style}})})});ho.displayName=mo;var Su=e=>{const{control:n,checked:t,bubbles:r=!0,...o}=e,i=y.useRef(null),l=fo(t),d=er(n);return y.useEffect(()=>{const f=i.current,m=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==t&&a){const c=new Event("click",{bubbles:r});f.indeterminate=Ke(t),a.call(f,Ke(t)?!1:t),f.dispatchEvent(c)}},[l,t,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:Ke(t)?!1:t,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ke(e){return e==="indeterminate"}function go(e){return Ke(e)?"indeterminate":e?"checked":"unchecked"}var vo=po,Pu=ho;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yo=(...e)=>e.filter((n,t,r)=>!!n&&r.indexOf(n)===t).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=y.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...d},f)=>y.createElement("svg",{ref:f,...Tu,width:n,height:n,stroke:e,strokeWidth:r?Number(t)*24/Number(n):t,className:yo("lucide",o),...d},[...l.map(([m,x])=>y.createElement(m,x)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=(e,n)=>{const t=y.forwardRef(({className:r,...o},i)=>y.createElement(Ou,{ref:i,iconNode:n,className:yo(`lucide-${ku(e)}`,r),...o}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=xo("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=xo("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),wo=y.forwardRef(({className:e,...n},t)=>s.jsx(vo,{ref:t,className:A("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:s.jsx(Pu,{className:A("flex items-center justify-center text-current"),children:s.jsx(Mu,{className:"h-4 w-4"})})}));wo.displayName=vo.displayName;function Iu(e){const n=e+"CollectionProvider",[t,r]=Ie(n),[o,i]=t(n,{collectionRef:{current:null},itemMap:new Map}),l=u=>{const{scope:p,children:h}=u,g=C.useRef(null),v=C.useRef(new Map).current;return s.jsx(o,{scope:p,itemMap:v,collectionRef:g,children:h})};l.displayName=n;const d=e+"CollectionSlot",f=C.forwardRef((u,p)=>{const{scope:h,children:g}=u,v=i(d,h),_=pe(p,v.collectionRef);return s.jsx(Pn,{ref:_,children:g})});f.displayName=d;const m=e+"CollectionItemSlot",x="data-radix-collection-item",a=C.forwardRef((u,p)=>{const{scope:h,children:g,...v}=u,_=C.useRef(null),j=pe(p,_),E=i(m,h);return C.useEffect(()=>(E.itemMap.set(_,{ref:_,...v}),()=>void E.itemMap.delete(_))),s.jsx(Pn,{[x]:"",ref:j,children:g})});a.displayName=m;function c(u){const p=i(e+"CollectionConsumer",u);return C.useCallback(()=>{const g=p.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${x}]`));return Array.from(p.itemMap.values()).sort((E,N)=>v.indexOf(E.ref.current)-v.indexOf(N.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:l,Slot:f,ItemSlot:a},c,r]}var Du=ji.useId||(()=>{}),Lu=0;function $t(e){const[n,t]=y.useState(Du());return et(()=>{t(r=>r??String(Lu++))},[e]),n?`radix-${n}`:""}var Fu=y.createContext(void 0);function _o(e){const n=y.useContext(Fu);return e||n||"ltr"}var yn="rovingFocusGroup.onEntryFocus",Hu={bubbles:!1,cancelable:!0},cn="RovingFocusGroup",[Ln,bo,$u]=Iu(cn),[Gu,Co]=Ie(cn,[$u]),[Bu,qu]=Gu(cn),jo=y.forwardRef((e,n)=>s.jsx(Ln.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ln.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Wu,{...e,ref:n})})}));jo.displayName=cn;var Wu=y.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...a}=e,c=y.useRef(null),u=pe(n,c),p=_o(i),[h=null,g]=kt({prop:l,defaultProp:d,onChange:f}),[v,_]=y.useState(!1),j=Le(m),E=bo(t),N=y.useRef(!1),[P,S]=y.useState(0);return y.useEffect(()=>{const T=c.current;if(T)return T.addEventListener(yn,j),()=>T.removeEventListener(yn,j)},[j]),s.jsx(Bu,{scope:t,orientation:r,dir:p,loop:o,currentTabStopId:h,onItemFocus:y.useCallback(T=>g(T),[g]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>S(T=>T-1),[]),children:s.jsx(se.div,{tabIndex:v||P===0?-1:0,"data-orientation":r,...a,ref:u,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{N.current=!0}),onFocus:Y(e.onFocus,T=>{const k=!N.current;if(T.target===T.currentTarget&&k&&!v){const I=new CustomEvent(yn,Hu);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const $=E().filter(K=>K.focusable),U=$.find(K=>K.active),Z=$.find(K=>K.id===h),J=[U,Z,...$].filter(Boolean).map(K=>K.ref.current);No(J,x)}}N.current=!1}),onBlur:Y(e.onBlur,()=>_(!1))})})}),Ao="RovingFocusGroupItem",Eo=y.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:i,...l}=e,d=$t(),f=i||d,m=qu(Ao,t),x=m.currentTabStopId===f,a=bo(t),{onFocusableItemAdd:c,onFocusableItemRemove:u}=m;return y.useEffect(()=>{if(r)return c(),()=>u()},[r,c,u]),s.jsx(Ln.ItemSlot,{scope:t,id:f,focusable:r,active:o,children:s.jsx(se.span,{tabIndex:x?0:-1,"data-orientation":m.orientation,...l,ref:n,onMouseDown:Y(e.onMouseDown,p=>{r?m.onItemFocus(f):p.preventDefault()}),onFocus:Y(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Y(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){m.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const h=Uu(p,m.orientation,m.dir);if(h!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=a().filter(_=>_.focusable).map(_=>_.ref.current);if(h==="last")v.reverse();else if(h==="prev"||h==="next"){h==="prev"&&v.reverse();const _=v.indexOf(p.currentTarget);v=m.loop?Zu(v,_+1):v.slice(_+1)}setTimeout(()=>No(v))}})})})});Eo.displayName=Ao;var zu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vu(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Uu(e,n,t){const r=Vu(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zu[r]}function No(e,n=!1){const t=document.activeElement;for(const r of e)if(r===t||(r.focus({preventScroll:n}),document.activeElement!==t))return}function Zu(e,n){return e.map((t,r)=>e[(n+r)%e.length])}var Xu=jo,Yu=Eo,dr="Radio",[Ku,So]=Ie(dr),[Qu,Ju]=Ku(dr),Po=y.forwardRef((e,n)=>{const{__scopeRadio:t,name:r,checked:o=!1,required:i,disabled:l,value:d="on",onCheck:f,...m}=e,[x,a]=y.useState(null),c=pe(n,h=>a(h)),u=y.useRef(!1),p=x?!!x.closest("form"):!0;return s.jsxs(Qu,{scope:t,checked:o,disabled:l,children:[s.jsx(se.button,{type:"button",role:"radio","aria-checked":o,"data-state":Oo(o),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:c,onClick:Y(e.onClick,h=>{o||f==null||f(),p&&(u.current=h.isPropagationStopped(),u.current||h.stopPropagation())})}),p&&s.jsx(ed,{control:x,bubbles:!u.current,name:r,value:d,checked:o,required:i,disabled:l,style:{transform:"translateX(-100%)"}})]})});Po.displayName=dr;var ko="RadioIndicator",To=y.forwardRef((e,n)=>{const{__scopeRadio:t,forceMount:r,...o}=e,i=Ju(ko,t);return s.jsx(nt,{present:r||i.checked,children:s.jsx(se.span,{"data-state":Oo(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:n})})});To.displayName=ko;var ed=e=>{const{control:n,checked:t,bubbles:r=!0,...o}=e,i=y.useRef(null),l=fo(t),d=er(n);return y.useEffect(()=>{const f=i.current,m=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==t&&a){const c=new Event("click",{bubbles:r});a.call(f,t),f.dispatchEvent(c)}},[l,t,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Oo(e){return e?"checked":"unchecked"}var td=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fr="RadioGroup",[nd,qf]=Ie(fr,[Co,So]),Mo=Co(),Ro=So(),[rd,ad]=nd(fr),Io=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,name:r,defaultValue:o,value:i,required:l=!1,disabled:d=!1,orientation:f,dir:m,loop:x=!0,onValueChange:a,...c}=e,u=Mo(t),p=_o(m),[h,g]=kt({prop:i,defaultProp:o,onChange:a});return s.jsx(rd,{scope:t,name:r,required:l,disabled:d,value:h,onValueChange:g,children:s.jsx(Xu,{asChild:!0,...u,orientation:f,dir:p,loop:x,children:s.jsx(se.div,{role:"radiogroup","aria-required":l,"aria-orientation":f,"data-disabled":d?"":void 0,dir:p,...c,ref:n})})})});Io.displayName=fr;var Do="RadioGroupItem",Lo=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,disabled:r,...o}=e,i=ad(Do,t),l=i.disabled||r,d=Mo(t),f=Ro(t),m=y.useRef(null),x=pe(n,m),a=i.value===o.value,c=y.useRef(!1);return y.useEffect(()=>{const u=h=>{td.includes(h.key)&&(c.current=!0)},p=()=>c.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",p)}},[]),s.jsx(Yu,{asChild:!0,...d,focusable:!l,active:a,children:s.jsx(Po,{disabled:l,required:i.required,checked:a,...f,...o,name:i.name,ref:x,onCheck:()=>i.onValueChange(o.value),onKeyDown:Y(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:Y(o.onFocus,()=>{var u;c.current&&((u=m.current)==null||u.click())})})})});Lo.displayName=Do;var od="RadioGroupIndicator",Fo=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,...r}=e,o=Ro(t);return s.jsx(To,{...o,...r,ref:n})});Fo.displayName=od;var Ho=Io,$o=Lo,sd=Fo;const Gt=y.forwardRef(({className:e,...n},t)=>s.jsx(Ho,{className:A("grid gap-2",e),...n,ref:t}));Gt.displayName=Ho.displayName;const Bt=y.forwardRef(({className:e,...n},t)=>s.jsx($o,{ref:t,className:A("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:s.jsx(sd,{className:"flex items-center justify-center",children:s.jsx(Ru,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Bt.displayName=$o.displayName;var xn="focusScope.autoFocusOnMount",wn="focusScope.autoFocusOnUnmount",qr={bubbles:!1,cancelable:!0},id="FocusScope",Go=y.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[d,f]=y.useState(null),m=Le(o),x=Le(i),a=y.useRef(null),c=pe(n,h=>f(h)),u=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let h=function(j){if(u.paused||!d)return;const E=j.target;d.contains(E)?a.current=E:We(a.current,{select:!0})},g=function(j){if(u.paused||!d)return;const E=j.relatedTarget;E!==null&&(d.contains(E)||We(a.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&We(d)};document.addEventListener("focusin",h),document.addEventListener("focusout",g);const _=new MutationObserver(v);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",g),_.disconnect()}}},[r,d,u.paused]),y.useEffect(()=>{if(d){zr.add(u);const h=document.activeElement;if(!d.contains(h)){const v=new CustomEvent(xn,qr);d.addEventListener(xn,m),d.dispatchEvent(v),v.defaultPrevented||(ld(pd(Bo(d)),{select:!0}),document.activeElement===h&&We(d))}return()=>{d.removeEventListener(xn,m),setTimeout(()=>{const v=new CustomEvent(wn,qr);d.addEventListener(wn,x),d.dispatchEvent(v),v.defaultPrevented||We(h??document.body,{select:!0}),d.removeEventListener(wn,x),zr.remove(u)},0)}}},[d,m,x,u]);const p=y.useCallback(h=>{if(!t&&!r||u.paused)return;const g=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=document.activeElement;if(g&&v){const _=h.currentTarget,[j,E]=cd(_);j&&E?!h.shiftKey&&v===E?(h.preventDefault(),t&&We(j,{select:!0})):h.shiftKey&&v===j&&(h.preventDefault(),t&&We(E,{select:!0})):v===_&&h.preventDefault()}},[t,r,u.paused]);return s.jsx(se.div,{tabIndex:-1,...l,ref:c,onKeyDown:p})});Go.displayName=id;function ld(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(We(r,{select:n}),document.activeElement!==t)return}function cd(e){const n=Bo(e),t=Wr(n,e),r=Wr(n.reverse(),e);return[t,r]}function Bo(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Wr(e,n){for(const t of e)if(!ud(t,{upTo:n}))return t}function ud(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dd(e){return e instanceof HTMLInputElement&&"select"in e}function We(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&dd(e)&&n&&e.select()}}var zr=fd();function fd(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Vr(e,n),e.unshift(n)},remove(n){var t;e=Vr(e,n),(t=e[0])==null||t.resume()}}}function Vr(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function pd(e){return e.filter(n=>n.tagName!=="A")}var _n=0;function md(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ur()),document.body.insertAdjacentElement("beforeend",e[1]??Ur()),_n++,()=>{_n===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),_n--}},[])}function Ur(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Oe=function(){return Oe=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Oe.apply(this,arguments)};function qo(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function hd(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,i;r<o;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return e.concat(i||Array.prototype.slice.call(n))}var qt="right-scroll-bar-position",Wt="width-before-scroll-bar",gd="with-scroll-bars-hidden",vd="--removed-body-scroll-bar-size";function bn(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function yd(e,n){var t=y.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var xd=typeof window<"u"?y.useLayoutEffect:y.useEffect,Zr=new WeakMap;function wd(e,n){var t=yd(null,function(r){return e.forEach(function(o){return bn(o,r)})});return xd(function(){var r=Zr.get(t);if(r){var o=new Set(r),i=new Set(e),l=t.current;o.forEach(function(d){i.has(d)||bn(d,null)}),i.forEach(function(d){o.has(d)||bn(d,l)})}Zr.set(t,e)},[e]),t}function _d(e){return e}function bd(e,n){n===void 0&&(n=_d);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var l=n(i,r);return t.push(l),function(){t=t.filter(function(d){return d!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(d){return i(d)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var d=t;t=[],d.forEach(i),l=t}var f=function(){var x=l;l=[],x.forEach(i)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(x){l.push(x),m()},filter:function(x){return l=l.filter(x),t}}}};return o}function Cd(e){e===void 0&&(e={});var n=bd(null);return n.options=Oe({async:!0,ssr:!1},e),n}var Wo=function(e){var n=e.sideCar,t=qo(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Oe({},t))};Wo.isSideCarExport=!0;function jd(e,n){return e.useMedium(n),Wo}var zo=Cd(),Cn=function(){},un=y.forwardRef(function(e,n){var t=y.useRef(null),r=y.useState({onScrollCapture:Cn,onWheelCapture:Cn,onTouchMoveCapture:Cn}),o=r[0],i=r[1],l=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,x=e.enabled,a=e.shards,c=e.sideCar,u=e.noIsolation,p=e.inert,h=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,_=e.gapMode,j=qo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=c,N=wd([t,n]),P=Oe(Oe({},j),o);return y.createElement(y.Fragment,null,x&&y.createElement(E,{sideCar:zo,removeScrollBar:m,shards:a,noIsolation:u,inert:p,setCallbacks:i,allowPinchZoom:!!h,lockRef:t,gapMode:_}),l?y.cloneElement(y.Children.only(d),Oe(Oe({},P),{ref:N})):y.createElement(v,Oe({},P,{className:f,ref:N}),d))});un.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};un.classNames={fullWidth:Wt,zeroRight:qt};var Ad=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ed(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Ad();return n&&e.setAttribute("nonce",n),e}function Nd(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function Sd(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var Pd=function(){var e=0,n=null;return{add:function(t){e==0&&(n=Ed())&&(Nd(n,t),Sd(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},kd=function(){var e=Pd();return function(n,t){y.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},Vo=function(){var e=kd(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},Td={left:0,top:0,right:0,gap:0},jn=function(e){return parseInt(e||"",10)||0},Od=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[jn(t),jn(r),jn(o)]},Md=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Td;var n=Od(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},Rd=Vo(),ut="data-scroll-locked",Id=function(e,n,t,r){var o=e.left,i=e.top,l=e.right,d=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(gd,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ut,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qt,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Wt,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(qt," .").concat(qt,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wt," .").concat(Wt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ut,`] {
    `).concat(vd,": ").concat(d,`px;
  }
`)},Xr=function(){var e=parseInt(document.body.getAttribute(ut)||"0",10);return isFinite(e)?e:0},Dd=function(){y.useEffect(function(){return document.body.setAttribute(ut,(Xr()+1).toString()),function(){var e=Xr()-1;e<=0?document.body.removeAttribute(ut):document.body.setAttribute(ut,e.toString())}},[])},Ld=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Dd();var i=y.useMemo(function(){return Md(o)},[o]);return y.createElement(Rd,{styles:Id(i,!n,o,t?"":"!important")})},Fn=!1;if(typeof window<"u")try{var It=Object.defineProperty({},"passive",{get:function(){return Fn=!0,!0}});window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{Fn=!1}var ot=Fn?{passive:!1}:!1,Fd=function(e){return e.tagName==="TEXTAREA"},Uo=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!Fd(e)&&t[n]==="visible")},Hd=function(e){return Uo(e,"overflowY")},$d=function(e){return Uo(e,"overflowX")},Yr=function(e,n){var t=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Zo(e,r);if(o){var i=Xo(e,r),l=i[1],d=i[2];if(l>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Gd=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},Bd=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},Zo=function(e,n){return e==="v"?Hd(n):$d(n)},Xo=function(e,n){return e==="v"?Gd(n):Bd(n)},qd=function(e,n){return e==="h"&&n==="rtl"?-1:1},Wd=function(e,n,t,r,o){var i=qd(e,window.getComputedStyle(n).direction),l=i*r,d=t.target,f=n.contains(d),m=!1,x=l>0,a=0,c=0;do{var u=Xo(e,d),p=u[0],h=u[1],g=u[2],v=h-g-i*p;(p||v)&&Zo(e,d)&&(a+=v,c+=p),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(n.contains(d)||n===d));return(x&&(Math.abs(a)<1||!o)||!x&&(Math.abs(c)<1||!o))&&(m=!0),m},Dt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kr=function(e){return[e.deltaX,e.deltaY]},Qr=function(e){return e&&"current"in e?e.current:e},zd=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Vd=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ud=0,st=[];function Zd(e){var n=y.useRef([]),t=y.useRef([0,0]),r=y.useRef(),o=y.useState(Ud++)[0],i=y.useState(Vo)[0],l=y.useRef(e);y.useEffect(function(){l.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=hd([e.lockRef.current],(e.shards||[]).map(Qr),!0).filter(Boolean);return h.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=y.useCallback(function(h,g){if("touches"in h&&h.touches.length===2)return!l.current.allowPinchZoom;var v=Dt(h),_=t.current,j="deltaX"in h?h.deltaX:_[0]-v[0],E="deltaY"in h?h.deltaY:_[1]-v[1],N,P=h.target,S=Math.abs(j)>Math.abs(E)?"h":"v";if("touches"in h&&S==="h"&&P.type==="range")return!1;var T=Yr(S,P);if(!T)return!0;if(T?N=S:(N=S==="v"?"h":"v",T=Yr(S,P)),!T)return!1;if(!r.current&&"changedTouches"in h&&(j||E)&&(r.current=N),!N)return!0;var k=r.current||N;return Wd(k,g,h,k==="h"?j:E,!0)},[]),f=y.useCallback(function(h){var g=h;if(!(!st.length||st[st.length-1]!==i)){var v="deltaY"in g?Kr(g):Dt(g),_=n.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&zd(N.delta,v)})[0];if(_&&_.should){g.cancelable&&g.preventDefault();return}if(!_){var j=(l.current.shards||[]).map(Qr).filter(Boolean).filter(function(N){return N.contains(g.target)}),E=j.length>0?d(g,j[0]):!l.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),m=y.useCallback(function(h,g,v,_){var j={name:h,delta:g,target:v,should:_,shadowParent:Xd(v)};n.current.push(j),setTimeout(function(){n.current=n.current.filter(function(E){return E!==j})},1)},[]),x=y.useCallback(function(h){t.current=Dt(h),r.current=void 0},[]),a=y.useCallback(function(h){m(h.type,Kr(h),h.target,d(h,e.lockRef.current))},[]),c=y.useCallback(function(h){m(h.type,Dt(h),h.target,d(h,e.lockRef.current))},[]);y.useEffect(function(){return st.push(i),e.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:c}),document.addEventListener("wheel",f,ot),document.addEventListener("touchmove",f,ot),document.addEventListener("touchstart",x,ot),function(){st=st.filter(function(h){return h!==i}),document.removeEventListener("wheel",f,ot),document.removeEventListener("touchmove",f,ot),document.removeEventListener("touchstart",x,ot)}},[]);var u=e.removeScrollBar,p=e.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:Vd(o)}):null,u?y.createElement(Ld,{gapMode:e.gapMode}):null)}function Xd(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const Yd=jd(zo,Zd);var Yo=y.forwardRef(function(e,n){return y.createElement(un,Oe({},e,{ref:n,sideCar:Yd}))});Yo.classNames=un.classNames;var Kd=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},it=new WeakMap,Lt=new WeakMap,Ft={},An=0,Ko=function(e){return e&&(e.host||Ko(e.parentNode))},Qd=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=Ko(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Jd=function(e,n,t,r){var o=Qd(n,Array.isArray(e)?e:[e]);Ft[t]||(Ft[t]=new WeakMap);var i=Ft[t],l=[],d=new Set,f=new Set(o),m=function(a){!a||d.has(a)||(d.add(a),m(a.parentNode))};o.forEach(m);var x=function(a){!a||f.has(a)||Array.prototype.forEach.call(a.children,function(c){if(d.has(c))x(c);else try{var u=c.getAttribute(r),p=u!==null&&u!=="false",h=(it.get(c)||0)+1,g=(i.get(c)||0)+1;it.set(c,h),i.set(c,g),l.push(c),h===1&&p&&Lt.set(c,!0),g===1&&c.setAttribute(t,"true"),p||c.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",c,v)}})};return x(n),d.clear(),An++,function(){l.forEach(function(a){var c=it.get(a)-1,u=i.get(a)-1;it.set(a,c),i.set(a,u),c||(Lt.has(a)||a.removeAttribute(r),Lt.delete(a)),u||a.removeAttribute(t)}),An--,An||(it=new WeakMap,it=new WeakMap,Lt=new WeakMap,Ft={})}},ef=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Kd(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Jd(r,o,t,"aria-hidden")):function(){return null}},pr="Dialog",[Qo,Jo]=Ie(pr),[tf,Pe]=Qo(pr),es=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=y.useRef(null),f=y.useRef(null),[m=!1,x]=kt({prop:r,defaultProp:o,onChange:i});return s.jsx(tf,{scope:n,triggerRef:d,contentRef:f,contentId:$t(),titleId:$t(),descriptionId:$t(),open:m,onOpenChange:x,onOpenToggle:y.useCallback(()=>x(a=>!a),[x]),modal:l,children:t})};es.displayName=pr;var ts="DialogTrigger",ns=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=Pe(ts,t),i=pe(n,o.triggerRef);return s.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":gr(o.open),...r,ref:i,onClick:Y(e.onClick,o.onOpenToggle)})});ns.displayName=ts;var mr="DialogPortal",[nf,rs]=Qo(mr,{forceMount:void 0}),as=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:o}=e,i=Pe(mr,n);return s.jsx(nf,{scope:n,forceMount:t,children:y.Children.map(r,l=>s.jsx(nt,{present:t||i.open,children:s.jsx(za,{asChild:!0,container:o,children:l})}))})};as.displayName=mr;var rn="DialogOverlay",os=y.forwardRef((e,n)=>{const t=rs(rn,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,i=Pe(rn,e.__scopeDialog);return i.modal?s.jsx(nt,{present:r||i.open,children:s.jsx(rf,{...o,ref:n})}):null});os.displayName=rn;var rf=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=Pe(rn,t);return s.jsx(Yo,{as:Pn,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(se.div,{"data-state":gr(o.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),tt="DialogContent",ss=y.forwardRef((e,n)=>{const t=rs(tt,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,i=Pe(tt,e.__scopeDialog);return s.jsx(nt,{present:r||i.open,children:i.modal?s.jsx(af,{...o,ref:n}):s.jsx(of,{...o,ref:n})})});ss.displayName=tt;var af=y.forwardRef((e,n)=>{const t=Pe(tt,e.__scopeDialog),r=y.useRef(null),o=pe(n,t.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return ef(i)},[]),s.jsx(is,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&i.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,i=>i.preventDefault())})}),of=y.forwardRef((e,n)=>{const t=Pe(tt,e.__scopeDialog),r=y.useRef(!1),o=y.useRef(!1);return s.jsx(is,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(d=t.triggerRef.current)==null||d.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((m=t.triggerRef.current)==null?void 0:m.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),is=y.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,d=Pe(tt,t),f=y.useRef(null),m=pe(n,f);return md(),s.jsxs(s.Fragment,{children:[s.jsx(Go,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:s.jsx(rr,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":gr(d.open),...l,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(lf,{titleId:d.titleId}),s.jsx(uf,{contentRef:f,descriptionId:d.descriptionId})]})]})}),hr="DialogTitle",ls=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=Pe(hr,t);return s.jsx(se.h2,{id:o.titleId,...r,ref:n})});ls.displayName=hr;var cs="DialogDescription",us=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=Pe(cs,t);return s.jsx(se.p,{id:o.descriptionId,...r,ref:n})});us.displayName=cs;var ds="DialogClose",fs=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=Pe(ds,t);return s.jsx(se.button,{type:"button",...r,ref:n,onClick:Y(e.onClick,()=>o.onOpenChange(!1))})});fs.displayName=ds;function gr(e){return e?"open":"closed"}var ps="DialogTitleWarning",[sf,ms]=Ri(ps,{contentName:tt,titleName:hr,docsSlug:"dialog"}),lf=({titleId:e})=>{const n=ms(ps),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},cf="DialogDescriptionWarning",uf=({contentRef:e,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ms(cf).contentName}}.`;return y.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(r))},[r,e,n]),null},df=es,ff=ns,pf=as,mf=os,hf=ss,gf=ls,vf=us,hs=fs,gs="AlertDialog",[yf,Wf]=Ie(gs,[Jo]),Ge=Jo(),vs=e=>{const{__scopeAlertDialog:n,...t}=e,r=Ge(n);return s.jsx(df,{...r,...t,modal:!0})};vs.displayName=gs;var xf="AlertDialogTrigger",ys=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ge(t);return s.jsx(ff,{...o,...r,ref:n})});ys.displayName=xf;var wf="AlertDialogPortal",xs=e=>{const{__scopeAlertDialog:n,...t}=e,r=Ge(n);return s.jsx(pf,{...r,...t})};xs.displayName=wf;var _f="AlertDialogOverlay",ws=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ge(t);return s.jsx(mf,{...o,...r,ref:n})});ws.displayName=_f;var dt="AlertDialogContent",[bf,Cf]=yf(dt),_s=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,children:r,...o}=e,i=Ge(t),l=y.useRef(null),d=pe(n,l),f=y.useRef(null);return s.jsx(sf,{contentName:dt,titleName:bs,docsSlug:"alert-dialog",children:s.jsx(bf,{scope:t,cancelRef:f,children:s.jsxs(hf,{role:"alertdialog",...i,...o,ref:d,onOpenAutoFocus:Y(o.onOpenAutoFocus,m=>{var x;m.preventDefault(),(x=f.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[s.jsx(Ai,{children:r}),s.jsx(Af,{contentRef:l})]})})})});_s.displayName=dt;var bs="AlertDialogTitle",Cs=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ge(t);return s.jsx(gf,{...o,...r,ref:n})});Cs.displayName=bs;var js="AlertDialogDescription",As=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ge(t);return s.jsx(vf,{...o,...r,ref:n})});As.displayName=js;var jf="AlertDialogAction",Es=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ge(t);return s.jsx(hs,{...o,...r,ref:n})});Es.displayName=jf;var Ns="AlertDialogCancel",Ss=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,{cancelRef:o}=Cf(Ns,t),i=Ge(t),l=pe(n,o);return s.jsx(hs,{...i,...r,ref:l})});Ss.displayName=Ns;var Af=({contentRef:e})=>{const n=`\`${dt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dt}\` by passing a \`${js}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},Ef=vs,Nf=ys,Sf=xs,Ps=ws,ks=_s,Ts=Es,Os=Ss,Ms=Cs,Rs=As;const Pf=Ef,kf=Nf,Tf=Sf,Is=y.forwardRef(({className:e,...n},t)=>{const r=ie(o=>({transparency:o.quality.transparency,animation:o.quality.animations}));return s.jsx(Ps,{className:A("fixed inset-0 z-50",{"bg-black/80":r.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":r.animation},e),...n,ref:t})});Is.displayName=Ps.displayName;const Ds=y.forwardRef(({className:e,...n},t)=>s.jsxs(Tf,{children:[s.jsx(Is,{}),s.jsx(ks,{ref:t,className:A("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n})]}));Ds.displayName=ks.displayName;const Ls=({className:e,...n})=>s.jsx("div",{className:A("flex flex-col space-y-2 text-center sm:text-left",e),...n});Ls.displayName="AlertDialogHeader";const Fs=({className:e,...n})=>s.jsx("div",{className:A("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});Fs.displayName="AlertDialogFooter";const Hs=y.forwardRef(({className:e,...n},t)=>s.jsx(Ms,{ref:t,className:A("text-lg font-semibold",e),...n}));Hs.displayName=Ms.displayName;const $s=y.forwardRef(({className:e,...n},t)=>s.jsx(Rs,{ref:t,className:A("text-sm text-muted-foreground",e),...n}));$s.displayName=Rs.displayName;const Gs=y.forwardRef(({className:e,...n},t)=>s.jsx(Ts,{ref:t,className:A(Gn({variant:"cta"}),e),...n}));Gs.displayName=Ts.displayName;const Bs=y.forwardRef(({className:e,...n},t)=>s.jsx(Os,{ref:t,className:A(Gn({variant:"default"}),"mt-2 sm:mt-0",e),...n}));Bs.displayName=Os.displayName;function Of(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),C.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),C.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function Mf(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),C.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),C.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function Rf(e){return C.createElement("div",{...e,className:A("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"})))}const If=e=>{const[n,t]=C.useState(0);return C.useEffect(()=>{const r=[];let o=!0;function i(){window.requestAnimationFrame(()=>{const l=performance.now();for(;r.length>0&&r[0]<=l-1e3;)r.shift();r.push(l),t(r.length),o&&i()})}return i(),()=>{o=!1}},[]),s.jsxs("span",{...e,children:[n," FPS"]})},Df=e=>{const[n,t]=ee(a=>[a.score,a.difficulty]),{toggleRules:r,toggleSettings:o,toggleMuted:i,muted:l}=ge(a=>({toggleRules:a.toggleRules,toggleSettings:a.toggleSettings,toggleMuted:a.toggleMusicMuted,muted:a.musicMuted})),d=ie(),[f,m]=C.useMemo(()=>[t!==d.difficulty,d.quality.animations!==Ye.quality.animations],[t,d.quality.animations,d.difficulty]),x=C.useCallback(()=>{m?window.location.search="?game":o()},[m,o]);return s.jsxs("div",{className:A("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":d.quality.animations,"opacity-0 bg-background/80":d.quality.transparency,hidden:!d.quality.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[s.jsx("div",{onClick:o,className:A("absolute inset-0",e.show?"pointer-events-auto":"pointer-events-none")}),s.jsxs(Pt,{className:"space-y-4 z-40",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("h2",{className:"text-3xl",children:"Settings"}),e.show&&s.jsx(If,{className:"text-2xl font-mono"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:r,variant:"icon",size:"icon",children:s.jsx(Rf,{})}),s.jsx(M,{onClick:i,variant:"icon",size:"icon",children:l?s.jsx(Of,{}):s.jsx(Mf,{})})]})]}),s.jsxs("div",{className:A("flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",{"*:bg-card/30":d.quality.transparency,"*:bg-card":!d.quality.transparency}),children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl",children:"Difficulté"}),s.jsx(Gt,{className:"space-y-0 gap-0",value:d.difficulty,onValueChange:a=>{d.updateDifficulty(a)},children:Object.keys(Ei).map(a=>s.jsxs(xt,{className:"flex items-center gap-2 py-2",children:[s.jsx(Bt,{value:a}),jt[a]]},a))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl",children:"Qualité"}),s.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(Ye.quality).map(a=>s.jsxs(xt,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[s.jsx(wo,{defaultChecked:d.quality[a],onCheckedChange:c=>d.updateQuality({[a]:c})}),jt[a]]},a))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl",children:"Thême (WIP)"}),s.jsx(Gt,{className:"space-y-0 gap-0",defaultValue:Ye.theme,onValueChange:a=>{const c=document.body,u=Array.from(c.classList.values()).find(p=>p.startsWith("theme-"));u&&c.classList.remove(u),c.classList.add(`theme-${a}`),d.updateTheme(a)},children:Ni.map(a=>s.jsxs(xt,{className:"flex items-center gap-2 py-2",children:[s.jsx(Bt,{value:a[0]}),a[0]]},a[0]))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl",children:"Vitesse"}),s.jsx(Gt,{className:"space-y-0 gap-0",value:d.speed,onValueChange:a=>d.updateSpeed(a),children:Object.values(Si).map(a=>s.jsxs(xt,{className:"flex items-center gap-2 py-2",children:[s.jsx(Bt,{value:a}),jt[a]]},a))})]})]}),s.jsxs("div",{className:"flex gap-5",children:[f&&s.jsx(M,{variant:"default",onClick:()=>{d.updateDifficulty(Ye.difficulty),o()},children:"Annuler"}),n>0&&f?s.jsxs(Pf,{children:[s.jsx(kf,{children:s.jsx(M,{variant:f?"cta":"default",disabled:!f,children:"Appliquer"})}),s.jsxs(Ds,{className:"w-fit",children:[s.jsxs(Ls,{children:[s.jsx(Hs,{className:"text-2xl",children:"Une partie est en cours !"}),s.jsxs($s,{className:"text-xl leading-5",children:["Le nouveau mode de difficulté sera ",s.jsx("br",{}),"appliqué à la prochaine partie."]})]}),s.jsxs(Fs,{children:[s.jsx(Bs,{children:"Annuler"}),s.jsx(Gs,{onClick:x,children:"Continuer"})]})]})]}):s.jsx(M,{variant:m?"cta":"default",onClick:x,children:"Appliquer"}),(m||f)&&s.jsxs("div",{className:"flex-grow border rounded-lg flex items-center gap-3 px-3",children:[s.jsx(wt,{className:"w-5"})," ",m?"Un rechargement peut être nécessaire.":"Le mode de difficulté sera appliqué à la prochaine partie."]})]})]})]})},Lf=e=>{const n=ee(r=>r.revivedHand),t=ie(({quality:{animations:r}})=>({animations:r}));return s.jsx("div",{id:"hand",className:A("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{"transition-[bottom] ease-in-out duration-1000":t.animations},e.show?"bottom-[-50px]":"-bottom-full"),children:n.map((r,o)=>s.jsx(Tn,{card:r,position:o},o))})},zf=()=>{Oi(),Mi();const[e,n]=ee(l=>[l.debug,l.handleError]),[t,r,o]=ge(l=>[l.isCardGameVisible,l.settingsVisible,l.rulesVisible]),i=C.useCallback(l=>{"error"in l?n(l.error):n(l.reason)},[n]);return C.useEffect(()=>(window.addEventListener("error",i),window.addEventListener("unhandledrejection",i),()=>{window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",i)}),[i]),s.jsx(zi,{steps:Ui,opaqueStyle:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:s.jsxs(Xi,{children:[s.jsx(bu,{}),s.jsx(ul,{show:t}),s.jsx(ou,{show:t}),s.jsx(au,{show:t}),s.jsx(nu,{show:t}),s.jsx(ju,{show:t}),s.jsx(cl,{show:t}),s.jsx(el,{show:t}),s.jsx(nl,{show:t}),s.jsx(Df,{show:t&&r}),s.jsx(Cu,{show:t&&o}),s.jsx(Lf,{show:t}),s.jsx(Qi,{show:t}),s.jsx(Ki,{show:t}),e&&s.jsx(iu,{})]})})};export{zf as Game};
