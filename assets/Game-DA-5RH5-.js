import{a as commonjsGlobal,d as create,u as useGlobalState,j as jsxRuntimeExports,c as cn,B as Button,r as reactExports,S as Slot,e as reactDomExports,R as React,C as Card,f as useHover,g as buttonVariants,h as BorderLight,i as cva,k as useComposedRefs,l as React$1,m as ReactDOM,n as Slottable}from"./index-Cu7MslrH.js";var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var n=function(){this.init()};n.prototype={init:function(){var r=this||t;return r._counter=1e3,r._html5AudioPool=[],r.html5PoolSize=10,r._codecs={},r._howls=[],r._muted=!1,r._volume=1,r._canPlayEvent="canplaythrough",r._navigator=typeof window<"u"&&window.navigator?window.navigator:null,r.masterGain=null,r.noAudio=!1,r.usingWebAudio=!0,r.autoSuspend=!0,r.ctx=null,r.autoUnlock=!0,r._setup(),r},volume:function(r){var s=this||t;if(r=parseFloat(r),s.ctx||x(),typeof r<"u"&&r>=0&&r<=1){if(s._volume=r,s._muted)return s;s.usingWebAudio&&s.masterGain.gain.setValueAtTime(r,t.ctx.currentTime);for(var i=0;i<s._howls.length;i++)if(!s._howls[i]._webAudio)for(var u=s._howls[i]._getSoundIds(),d=0;d<u.length;d++){var v=s._howls[i]._soundById(u[d]);v&&v._node&&(v._node.volume=v._volume*r)}return s}return s._volume},mute:function(r){var s=this||t;s.ctx||x(),s._muted=r,s.usingWebAudio&&s.masterGain.gain.setValueAtTime(r?0:s._volume,t.ctx.currentTime);for(var i=0;i<s._howls.length;i++)if(!s._howls[i]._webAudio)for(var u=s._howls[i]._getSoundIds(),d=0;d<u.length;d++){var v=s._howls[i]._soundById(u[d]);v&&v._node&&(v._node.muted=r?!0:v._muted)}return s},stop:function(){for(var r=this||t,s=0;s<r._howls.length;s++)r._howls[s].stop();return r},unload:function(){for(var r=this||t,s=r._howls.length-1;s>=0;s--)r._howls[s].unload();return r.usingWebAudio&&r.ctx&&typeof r.ctx.close<"u"&&(r.ctx.close(),r.ctx=null,x()),r},codecs:function(r){return(this||t)._codecs[r.replace(/^x-/,"")]},_setup:function(){var r=this||t;if(r.state=r.ctx&&r.ctx.state||"suspended",r._autoSuspend(),!r.usingWebAudio)if(typeof Audio<"u")try{var s=new Audio;typeof s.oncanplaythrough>"u"&&(r._canPlayEvent="canplay")}catch{r.noAudio=!0}else r.noAudio=!0;try{var s=new Audio;s.muted&&(r.noAudio=!0)}catch{}return r.noAudio||r._setupCodecs(),r},_setupCodecs:function(){var r=this||t,s=null;try{s=typeof Audio<"u"?new Audio:null}catch{return r}if(!s||typeof s.canPlayType!="function")return r;var i=s.canPlayType("audio/mpeg;").replace(/^no$/,""),u=r._navigator?r._navigator.userAgent:"",d=u.match(/OPR\/(\d+)/g),v=d&&parseInt(d[0].split("/")[1],10)<33,m=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,h=u.match(/Version\/(.*?) /),_=m&&h&&parseInt(h[1],10)<15;return r._codecs={mp3:!!(!v&&(i||s.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!i,opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(s.canPlayType('audio/wav; codecs="1"')||s.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!s.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(s.canPlayType("audio/x-m4b;")||s.canPlayType("audio/m4b;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!_&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!_&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!s.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(s.canPlayType("audio/x-flac;")||s.canPlayType("audio/flac;")).replace(/^no$/,"")},r},_unlockAudio:function(){var r=this||t;if(!(r._audioUnlocked||!r.ctx)){r._audioUnlocked=!1,r.autoUnlock=!1,!r._mobileUnloaded&&r.ctx.sampleRate!==44100&&(r._mobileUnloaded=!0,r.unload()),r._scratchBuffer=r.ctx.createBuffer(1,1,22050);var s=function(i){for(;r._html5AudioPool.length<r.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,r._releaseHtml5Audio(u)}catch{r.noAudio=!0;break}for(var d=0;d<r._howls.length;d++)if(!r._howls[d]._webAudio)for(var v=r._howls[d]._getSoundIds(),m=0;m<v.length;m++){var h=r._howls[d]._soundById(v[m]);h&&h._node&&!h._node._unlocked&&(h._node._unlocked=!0,h._node.load())}r._autoResume();var _=r.ctx.createBufferSource();_.buffer=r._scratchBuffer,_.connect(r.ctx.destination),typeof _.start>"u"?_.noteOn(0):_.start(0),typeof r.ctx.resume=="function"&&r.ctx.resume(),_.onended=function(){_.disconnect(0),r._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0),document.removeEventListener("keydown",s,!0);for(var y=0;y<r._howls.length;y++)r._howls[y]._emit("unlock")}};return document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),document.addEventListener("keydown",s,!0),r}},_obtainHtml5Audio:function(){var r=this||t;if(r._html5AudioPool.length)return r._html5AudioPool.pop();var s=new Audio().play();return s&&typeof Promise<"u"&&(s instanceof Promise||typeof s.then=="function")&&s.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(r){var s=this||t;return r._unlocked&&s._html5AudioPool.push(r),s},_autoSuspend:function(){var r=this;if(!(!r.autoSuspend||!r.ctx||typeof r.ctx.suspend>"u"||!t.usingWebAudio)){for(var s=0;s<r._howls.length;s++)if(r._howls[s]._webAudio){for(var i=0;i<r._howls[s]._sounds.length;i++)if(!r._howls[s]._sounds[i]._paused)return r}return r._suspendTimer&&clearTimeout(r._suspendTimer),r._suspendTimer=setTimeout(function(){if(r.autoSuspend){r._suspendTimer=null,r.state="suspending";var u=function(){r.state="suspended",r._resumeAfterSuspend&&(delete r._resumeAfterSuspend,r._autoResume())};r.ctx.suspend().then(u,u)}},3e4),r}},_autoResume:function(){var r=this;if(!(!r.ctx||typeof r.ctx.resume>"u"||!t.usingWebAudio))return r.state==="running"&&r.ctx.state!=="interrupted"&&r._suspendTimer?(clearTimeout(r._suspendTimer),r._suspendTimer=null):r.state==="suspended"||r.state==="running"&&r.ctx.state==="interrupted"?(r.ctx.resume().then(function(){r.state="running";for(var s=0;s<r._howls.length;s++)r._howls[s]._emit("resume")}),r._suspendTimer&&(clearTimeout(r._suspendTimer),r._suspendTimer=null)):r.state==="suspending"&&(r._resumeAfterSuspend=!0),r}};var t=new n,a=function(r){var s=this;if(!r.src||r.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}s.init(r)};a.prototype={init:function(r){var s=this;return t.ctx||x(),s._autoplay=r.autoplay||!1,s._format=typeof r.format!="string"?r.format:[r.format],s._html5=r.html5||!1,s._muted=r.mute||!1,s._loop=r.loop||!1,s._pool=r.pool||5,s._preload=typeof r.preload=="boolean"||r.preload==="metadata"?r.preload:!0,s._rate=r.rate||1,s._sprite=r.sprite||{},s._src=typeof r.src!="string"?r.src:[r.src],s._volume=r.volume!==void 0?r.volume:1,s._xhr={method:r.xhr&&r.xhr.method?r.xhr.method:"GET",headers:r.xhr&&r.xhr.headers?r.xhr.headers:null,withCredentials:r.xhr&&r.xhr.withCredentials?r.xhr.withCredentials:!1},s._duration=0,s._state="unloaded",s._sounds=[],s._endTimers={},s._queue=[],s._playLock=!1,s._onend=r.onend?[{fn:r.onend}]:[],s._onfade=r.onfade?[{fn:r.onfade}]:[],s._onload=r.onload?[{fn:r.onload}]:[],s._onloaderror=r.onloaderror?[{fn:r.onloaderror}]:[],s._onplayerror=r.onplayerror?[{fn:r.onplayerror}]:[],s._onpause=r.onpause?[{fn:r.onpause}]:[],s._onplay=r.onplay?[{fn:r.onplay}]:[],s._onstop=r.onstop?[{fn:r.onstop}]:[],s._onmute=r.onmute?[{fn:r.onmute}]:[],s._onvolume=r.onvolume?[{fn:r.onvolume}]:[],s._onrate=r.onrate?[{fn:r.onrate}]:[],s._onseek=r.onseek?[{fn:r.onseek}]:[],s._onunlock=r.onunlock?[{fn:r.onunlock}]:[],s._onresume=[],s._webAudio=t.usingWebAudio&&!s._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(s),s._autoplay&&s._queue.push({event:"play",action:function(){s.play()}}),s._preload&&s._preload!=="none"&&s.load(),s},load:function(){var r=this,s=null;if(t.noAudio){r._emit("loaderror",null,"No audio support.");return}typeof r._src=="string"&&(r._src=[r._src]);for(var i=0;i<r._src.length;i++){var u,d;if(r._format&&r._format[i])u=r._format[i];else{if(d=r._src[i],typeof d!="string"){r._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(d),u||(u=/\.([^.]+)$/.exec(d.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){s=r._src[i];break}}if(!s){r._emit("loaderror",null,"No codec support for selected audio sources.");return}return r._src=s,r._state="loading",window.location.protocol==="https:"&&s.slice(0,5)==="http:"&&(r._html5=!0,r._webAudio=!1),new o(r),r._webAudio&&l(r),r},play:function(r,s){var i=this,u=null;if(typeof r=="number")u=r,r=null;else{if(typeof r=="string"&&i._state==="loaded"&&!i._sprite[r])return null;if(typeof r>"u"&&(r="__default",!i._playLock)){for(var d=0,v=0;v<i._sounds.length;v++)i._sounds[v]._paused&&!i._sounds[v]._ended&&(d++,u=i._sounds[v]._id);d===1?r=null:u=null}}var m=u?i._soundById(u):i._inactiveSound();if(!m)return null;if(u&&!r&&(r=m._sprite||"__default"),i._state!=="loaded"){m._sprite=r,m._ended=!1;var h=m._id;return i._queue.push({event:"play",action:function(){i.play(h)}}),h}if(u&&!m._paused)return s||i._loadQueue("play"),m._id;i._webAudio&&t._autoResume();var _=Math.max(0,m._seek>0?m._seek:i._sprite[r][0]/1e3),y=Math.max(0,(i._sprite[r][0]+i._sprite[r][1])/1e3-_),E=y*1e3/Math.abs(m._rate),A=i._sprite[r][0]/1e3,w=(i._sprite[r][0]+i._sprite[r][1])/1e3;m._sprite=r,m._ended=!1;var R=function(){m._paused=!1,m._seek=_,m._start=A,m._stop=w,m._loop=!!(m._loop||i._sprite[r][2])};if(_>=w){i._ended(m);return}var b=m._node;if(i._webAudio){var N=function(){i._playLock=!1,R(),i._refreshBuffer(m);var S=m._muted||i._muted?0:m._volume;b.gain.setValueAtTime(S,t.ctx.currentTime),m._playStart=t.ctx.currentTime,typeof b.bufferSource.start>"u"?m._loop?b.bufferSource.noteGrainOn(0,_,86400):b.bufferSource.noteGrainOn(0,_,y):m._loop?b.bufferSource.start(0,_,86400):b.bufferSource.start(0,_,y),E!==1/0&&(i._endTimers[m._id]=setTimeout(i._ended.bind(i,m),E)),s||setTimeout(function(){i._emit("play",m._id),i._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?N():(i._playLock=!0,i.once("resume",N),i._clearTimer(m._id))}else{var j=function(){b.currentTime=_,b.muted=m._muted||i._muted||t._muted||b.muted,b.volume=m._volume*t.volume(),b.playbackRate=m._rate;try{var S=b.play();if(S&&typeof Promise<"u"&&(S instanceof Promise||typeof S.then=="function")?(i._playLock=!0,R(),S.then(function(){i._playLock=!1,b._unlocked=!0,s?i._loadQueue():i._emit("play",m._id)}).catch(function(){i._playLock=!1,i._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):s||(i._playLock=!1,R(),i._emit("play",m._id)),b.playbackRate=m._rate,b.paused){i._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}r!=="__default"||m._loop?i._endTimers[m._id]=setTimeout(i._ended.bind(i,m),E):(i._endTimers[m._id]=function(){i._ended(m),b.removeEventListener("ended",i._endTimers[m._id],!1)},b.addEventListener("ended",i._endTimers[m._id],!1))}catch(O){i._emit("playerror",m._id,O)}};b.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(b.src=i._src,b.load());var M=window&&window.ejecta||!b.readyState&&t._navigator.isCocoonJS;if(b.readyState>=3||M)j();else{i._playLock=!0,i._state="loading";var T=function(){i._state="loaded",j(),b.removeEventListener(t._canPlayEvent,T,!1)};b.addEventListener(t._canPlayEvent,T,!1),i._clearTimer(m._id)}}return m._id},pause:function(r){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"pause",action:function(){s.pause(r)}}),s;for(var i=s._getSoundIds(r),u=0;u<i.length;u++){s._clearTimer(i[u]);var d=s._soundById(i[u]);if(d&&!d._paused&&(d._seek=s.seek(i[u]),d._rateSeek=0,d._paused=!0,s._stopFade(i[u]),d._node))if(s._webAudio){if(!d._node.bufferSource)continue;typeof d._node.bufferSource.stop>"u"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),s._cleanBuffer(d._node)}else(!isNaN(d._node.duration)||d._node.duration===1/0)&&d._node.pause();arguments[1]||s._emit("pause",d?d._id:null)}return s},stop:function(r,s){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(r)}}),i;for(var u=i._getSoundIds(r),d=0;d<u.length;d++){i._clearTimer(u[d]);var v=i._soundById(u[d]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,i._stopFade(u[d]),v._node&&(i._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),i._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&i._clearSound(v._node))),s||i._emit("stop",v._id))}return i},mute:function(r,s){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(r,s)}}),i;if(typeof s>"u")if(typeof r=="boolean")i._muted=r;else return i._muted;for(var u=i._getSoundIds(s),d=0;d<u.length;d++){var v=i._soundById(u[d]);v&&(v._muted=r,v._interval&&i._stopFade(v._id),i._webAudio&&v._node?v._node.gain.setValueAtTime(r?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:r),i._emit("mute",v._id))}return i},volume:function(){var r=this,s=arguments,i,u;if(s.length===0)return r._volume;if(s.length===1||s.length===2&&typeof s[1]>"u"){var d=r._getSoundIds(),v=d.indexOf(s[0]);v>=0?u=parseInt(s[0],10):i=parseFloat(s[0])}else s.length>=2&&(i=parseFloat(s[0]),u=parseInt(s[1],10));var m;if(typeof i<"u"&&i>=0&&i<=1){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,s)}}),r;typeof u>"u"&&(r._volume=i),u=r._getSoundIds(u);for(var h=0;h<u.length;h++)m=r._soundById(u[h]),m&&(m._volume=i,s[2]||r._stopFade(u[h]),r._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(i,t.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=i*t.volume()),r._emit("volume",m._id))}else return m=u?r._soundById(u):r._sounds[0],m?m._volume:0;return r},fade:function(r,s,i,u){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"fade",action:function(){d.fade(r,s,i,u)}}),d;r=Math.min(Math.max(0,parseFloat(r)),1),s=Math.min(Math.max(0,parseFloat(s)),1),i=parseFloat(i),d.volume(r,u);for(var v=d._getSoundIds(u),m=0;m<v.length;m++){var h=d._soundById(v[m]);if(h){if(u||d._stopFade(v[m]),d._webAudio&&!h._muted){var _=t.ctx.currentTime,y=_+i/1e3;h._volume=r,h._node.gain.setValueAtTime(r,_),h._node.gain.linearRampToValueAtTime(s,y)}d._startFadeInterval(h,r,s,i,v[m],typeof u>"u")}}return d},_startFadeInterval:function(r,s,i,u,d,v){var m=this,h=s,_=i-s,y=Math.abs(_/.01),E=Math.max(4,y>0?u/y:u),A=Date.now();r._fadeTo=i,r._interval=setInterval(function(){var w=(Date.now()-A)/u;A=Date.now(),h+=_*w,h=Math.round(h*100)/100,_<0?h=Math.max(i,h):h=Math.min(i,h),m._webAudio?r._volume=h:m.volume(h,r._id,!0),v&&(m._volume=h),(i<s&&h<=i||i>s&&h>=i)&&(clearInterval(r._interval),r._interval=null,r._fadeTo=null,m.volume(i,r._id),m._emit("fade",r._id))},E)},_stopFade:function(r){var s=this,i=s._soundById(r);return i&&i._interval&&(s._webAudio&&i._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(i._interval),i._interval=null,s.volume(i._fadeTo,r),i._fadeTo=null,s._emit("fade",r)),s},loop:function(){var r=this,s=arguments,i,u,d;if(s.length===0)return r._loop;if(s.length===1)if(typeof s[0]=="boolean")i=s[0],r._loop=i;else return d=r._soundById(parseInt(s[0],10)),d?d._loop:!1;else s.length===2&&(i=s[0],u=parseInt(s[1],10));for(var v=r._getSoundIds(u),m=0;m<v.length;m++)d=r._soundById(v[m]),d&&(d._loop=i,r._webAudio&&d._node&&d._node.bufferSource&&(d._node.bufferSource.loop=i,i&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop,r.playing(v[m])&&(r.pause(v[m],!0),r.play(v[m],!0)))));return r},rate:function(){var r=this,s=arguments,i,u;if(s.length===0)u=r._sounds[0]._id;else if(s.length===1){var d=r._getSoundIds(),v=d.indexOf(s[0]);v>=0?u=parseInt(s[0],10):i=parseFloat(s[0])}else s.length===2&&(i=parseFloat(s[0]),u=parseInt(s[1],10));var m;if(typeof i=="number"){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,s)}}),r;typeof u>"u"&&(r._rate=i),u=r._getSoundIds(u);for(var h=0;h<u.length;h++)if(m=r._soundById(u[h]),m){r.playing(u[h])&&(m._rateSeek=r.seek(u[h]),m._playStart=r._webAudio?t.ctx.currentTime:m._playStart),m._rate=i,r._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(i,t.ctx.currentTime):m._node&&(m._node.playbackRate=i);var _=r.seek(u[h]),y=(r._sprite[m._sprite][0]+r._sprite[m._sprite][1])/1e3-_,E=y*1e3/Math.abs(m._rate);(r._endTimers[u[h]]||!m._paused)&&(r._clearTimer(u[h]),r._endTimers[u[h]]=setTimeout(r._ended.bind(r,m),E)),r._emit("rate",m._id)}}else return m=r._soundById(u),m?m._rate:r._rate;return r},seek:function(){var r=this,s=arguments,i,u;if(s.length===0)r._sounds.length&&(u=r._sounds[0]._id);else if(s.length===1){var d=r._getSoundIds(),v=d.indexOf(s[0]);v>=0?u=parseInt(s[0],10):r._sounds.length&&(u=r._sounds[0]._id,i=parseFloat(s[0]))}else s.length===2&&(i=parseFloat(s[0]),u=parseInt(s[1],10));if(typeof u>"u")return 0;if(typeof i=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,s)}}),r;var m=r._soundById(u);if(m)if(typeof i=="number"&&i>=0){var h=r.playing(u);h&&r.pause(u,!0),m._seek=i,m._ended=!1,r._clearTimer(u),!r._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=i);var _=function(){h&&r.play(u,!0),r._emit("seek",u)};if(h&&!r._webAudio){var y=function(){r._playLock?setTimeout(y,0):_()};setTimeout(y,0)}else _()}else if(r._webAudio){var E=r.playing(u)?t.ctx.currentTime-m._playStart:0,A=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(A+E*Math.abs(m._rate))}else return m._node.currentTime;return r},playing:function(r){var s=this;if(typeof r=="number"){var i=s._soundById(r);return i?!i._paused:!1}for(var u=0;u<s._sounds.length;u++)if(!s._sounds[u]._paused)return!0;return!1},duration:function(r){var s=this,i=s._duration,u=s._soundById(r);return u&&(i=s._sprite[u._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var r=this,s=r._sounds,i=0;i<s.length;i++)s[i]._paused||r.stop(s[i]._id),r._webAudio||(r._clearSound(s[i]._node),s[i]._node.removeEventListener("error",s[i]._errorFn,!1),s[i]._node.removeEventListener(t._canPlayEvent,s[i]._loadFn,!1),s[i]._node.removeEventListener("ended",s[i]._endFn,!1),t._releaseHtml5Audio(s[i]._node)),delete s[i]._node,r._clearTimer(s[i]._id);var u=t._howls.indexOf(r);u>=0&&t._howls.splice(u,1);var d=!0;for(i=0;i<t._howls.length;i++)if(t._howls[i]._src===r._src||r._src.indexOf(t._howls[i]._src)>=0){d=!1;break}return c&&d&&delete c[r._src],t.noAudio=!1,r._state="unloaded",r._sounds=[],r=null,null},on:function(r,s,i,u){var d=this,v=d["_on"+r];return typeof s=="function"&&v.push(u?{id:i,fn:s,once:u}:{id:i,fn:s}),d},off:function(r,s,i){var u=this,d=u["_on"+r],v=0;if(typeof s=="number"&&(i=s,s=null),s||i)for(v=0;v<d.length;v++){var m=i===d[v].id;if(s===d[v].fn&&m||!s&&m){d.splice(v,1);break}}else if(r)u["_on"+r]=[];else{var h=Object.keys(u);for(v=0;v<h.length;v++)h[v].indexOf("_on")===0&&Array.isArray(u[h[v]])&&(u[h[v]]=[])}return u},once:function(r,s,i){var u=this;return u.on(r,s,i,1),u},_emit:function(r,s,i){for(var u=this,d=u["_on"+r],v=d.length-1;v>=0;v--)(!d[v].id||d[v].id===s||r==="load")&&(setTimeout((function(m){m.call(this,s,i)}).bind(u,d[v].fn),0),d[v].once&&u.off(r,d[v].fn,d[v].id));return u._loadQueue(r),u},_loadQueue:function(r){var s=this;if(s._queue.length>0){var i=s._queue[0];i.event===r&&(s._queue.shift(),s._loadQueue()),r||i.action()}return s},_ended:function(r){var s=this,i=r._sprite;if(!s._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(s._ended.bind(s,r),100),s;var u=!!(r._loop||s._sprite[i][2]);if(s._emit("end",r._id),!s._webAudio&&u&&s.stop(r._id,!0).play(r._id),s._webAudio&&u){s._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=t.ctx.currentTime;var d=(r._stop-r._start)*1e3/Math.abs(r._rate);s._endTimers[r._id]=setTimeout(s._ended.bind(s,r),d)}return s._webAudio&&!u&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,s._clearTimer(r._id),s._cleanBuffer(r._node),t._autoSuspend()),!s._webAudio&&!u&&s.stop(r._id,!0),s},_clearTimer:function(r){var s=this;if(s._endTimers[r]){if(typeof s._endTimers[r]!="function")clearTimeout(s._endTimers[r]);else{var i=s._soundById(r);i&&i._node&&i._node.removeEventListener("ended",s._endTimers[r],!1)}delete s._endTimers[r]}return s},_soundById:function(r){for(var s=this,i=0;i<s._sounds.length;i++)if(r===s._sounds[i]._id)return s._sounds[i];return null},_inactiveSound:function(){var r=this;r._drain();for(var s=0;s<r._sounds.length;s++)if(r._sounds[s]._ended)return r._sounds[s].reset();return new o(r)},_drain:function(){var r=this,s=r._pool,i=0,u=0;if(!(r._sounds.length<s)){for(u=0;u<r._sounds.length;u++)r._sounds[u]._ended&&i++;for(u=r._sounds.length-1;u>=0;u--){if(i<=s)return;r._sounds[u]._ended&&(r._webAudio&&r._sounds[u]._node&&r._sounds[u]._node.disconnect(0),r._sounds.splice(u,1),i--)}}},_getSoundIds:function(r){var s=this;if(typeof r>"u"){for(var i=[],u=0;u<s._sounds.length;u++)i.push(s._sounds[u]._id);return i}else return[r]},_refreshBuffer:function(r){var s=this;return r._node.bufferSource=t.ctx.createBufferSource(),r._node.bufferSource.buffer=c[s._src],r._panner?r._node.bufferSource.connect(r._panner):r._node.bufferSource.connect(r._node),r._node.bufferSource.loop=r._loop,r._loop&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop||0),r._node.bufferSource.playbackRate.setValueAtTime(r._rate,t.ctx.currentTime),s},_cleanBuffer:function(r){var s=this,i=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!r.bufferSource)return s;if(t._scratchBuffer&&r.bufferSource&&(r.bufferSource.onended=null,r.bufferSource.disconnect(0),i))try{r.bufferSource.buffer=t._scratchBuffer}catch{}return r.bufferSource=null,s},_clearSound:function(r){var s=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);s||(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(r){this._parent=r,this.init()};o.prototype={init:function(){var r=this,s=r._parent;return r._muted=s._muted,r._loop=s._loop,r._volume=s._volume,r._rate=s._rate,r._seek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,s._sounds.push(r),r.create(),r},create:function(){var r=this,s=r._parent,i=t._muted||r._muted||r._parent._muted?0:r._volume;return s._webAudio?(r._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),r._node.gain.setValueAtTime(i,t.ctx.currentTime),r._node.paused=!0,r._node.connect(t.masterGain)):t.noAudio||(r._node=t._obtainHtml5Audio(),r._errorFn=r._errorListener.bind(r),r._node.addEventListener("error",r._errorFn,!1),r._loadFn=r._loadListener.bind(r),r._node.addEventListener(t._canPlayEvent,r._loadFn,!1),r._endFn=r._endListener.bind(r),r._node.addEventListener("ended",r._endFn,!1),r._node.src=s._src,r._node.preload=s._preload===!0?"auto":s._preload,r._node.volume=i*t.volume(),r._node.load()),r},reset:function(){var r=this,s=r._parent;return r._muted=s._muted,r._loop=s._loop,r._volume=s._volume,r._rate=s._rate,r._seek=0,r._rateSeek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,r},_errorListener:function(){var r=this;r._parent._emit("loaderror",r._id,r._node.error?r._node.error.code:0),r._node.removeEventListener("error",r._errorFn,!1)},_loadListener:function(){var r=this,s=r._parent;s._duration=Math.ceil(r._node.duration*10)/10,Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue()),r._node.removeEventListener(t._canPlayEvent,r._loadFn,!1)},_endListener:function(){var r=this,s=r._parent;s._duration===1/0&&(s._duration=Math.ceil(r._node.duration*10)/10,s._sprite.__default[1]===1/0&&(s._sprite.__default[1]=s._duration*1e3),s._ended(r)),r._node.removeEventListener("ended",r._endFn,!1)}};var c={},l=function(r){var s=r._src;if(c[s]){r._duration=c[s].duration,p(r);return}if(/^data:[^;]+;base64,/.test(s)){for(var i=atob(s.split(",")[1]),u=new Uint8Array(i.length),d=0;d<i.length;++d)u[d]=i.charCodeAt(d);g(u.buffer,r)}else{var v=new XMLHttpRequest;v.open(r._xhr.method,s,!0),v.withCredentials=r._xhr.withCredentials,v.responseType="arraybuffer",r._xhr.headers&&Object.keys(r._xhr.headers).forEach(function(m){v.setRequestHeader(m,r._xhr.headers[m])}),v.onload=function(){var m=(v.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){r._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}g(v.response,r)},v.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete c[s],r.load())},f(v)}},f=function(r){try{r.send()}catch{r.onerror()}},g=function(r,s){var i=function(){s._emit("loaderror",null,"Decoding audio data failed.")},u=function(d){d&&s._sounds.length>0?(c[s._src]=d,p(s,d)):i()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(r).then(u).catch(i):t.ctx.decodeAudioData(r,u,i)},p=function(r,s){s&&!r._duration&&(r._duration=s.duration),Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue())},x=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),s=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=s?parseInt(s[1],10):null;if(r&&i&&i<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=a,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=n,commonjsGlobal.Howler=t,commonjsGlobal.Howl=a,commonjsGlobal.Sound=o):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=a,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var o=a._howls.length-1;o>=0;o--)a._howls[o].stereo(t);return a},HowlerGlobal.prototype.pos=function(t,a,o){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(a=typeof a!="number"?c._pos[1]:a,o=typeof o!="number"?c._pos[2]:o,typeof t=="number")c._pos=[t,a,o],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(t,a,o,c,l,f){var g=this;if(!g.ctx||!g.ctx.listener)return g;var p=g._orientation;if(a=typeof a!="number"?p[1]:a,o=typeof o!="number"?p[2]:o,c=typeof c!="number"?p[3]:c,l=typeof l!="number"?p[4]:l,f=typeof f!="number"?p[5]:f,typeof t=="number")g._orientation=[t,a,o,c,l,f],typeof g.ctx.listener.forwardX<"u"?(g.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),g.ctx.listener.forwardY.setTargetAtTime(a,Howler.ctx.currentTime,.1),g.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),g.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),g.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),g.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):g.ctx.listener.setOrientation(t,a,o,c,l,f);else return p;return g},Howl.prototype.init=function(t){return function(a){var o=this;return o._orientation=a.orientation||[1,0,0],o._stereo=a.stereo||null,o._pos=a.pos||null,o._pannerAttr={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:360,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:360,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:0,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:"inverse",maxDistance:typeof a.maxDistance<"u"?a.maxDistance:1e4,panningModel:typeof a.panningModel<"u"?a.panningModel:"HRTF",refDistance:typeof a.refDistance<"u"?a.refDistance:1,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:1},o._onstereo=a.onstereo?[{fn:a.onstereo}]:[],o._onpos=a.onpos?[{fn:a.onpos}]:[],o._onorientation=a.onorientation?[{fn:a.onorientation}]:[],t.call(this,a)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,a){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,a)}}),o;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof a>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var l=o._getSoundIds(a),f=0;f<l.length;f++){var g=o._soundById(l[f]);if(g)if(typeof t=="number")g._stereo=t,g._pos=[t,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",(!g._panner||!g._panner.pan)&&n(g,c),c==="spatial"?typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):g._panner.setPosition(t,0,0):g._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",g._id);else return g._stereo}return o},Howl.prototype.pos=function(t,a,o,c){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(t,a,o,c)}}),l;if(a=typeof a!="number"?0:a,o=typeof o!="number"?-.5:o,typeof c>"u")if(typeof t=="number")l._pos=[t,a,o];else return l._pos;for(var f=l._getSoundIds(c),g=0;g<f.length;g++){var p=l._soundById(f[g]);if(p)if(typeof t=="number")p._pos=[t,a,o],p._node&&((!p._panner||p._panner.pan)&&n(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(a,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(t,a,o)),l._emit("pos",p._id);else return p._pos}return l},Howl.prototype.orientation=function(t,a,o,c){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(t,a,o,c)}}),l;if(a=typeof a!="number"?l._orientation[1]:a,o=typeof o!="number"?l._orientation[2]:o,typeof c>"u")if(typeof t=="number")l._orientation=[t,a,o];else return l._orientation;for(var f=l._getSoundIds(c),g=0;g<f.length;g++){var p=l._soundById(f[g]);if(p)if(typeof t=="number")p._orientation=[t,a,o],p._node&&(p._panner||(p._pos||(p._pos=l._pos||[0,0,-.5]),n(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(a,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(t,a,o)),l._emit("orientation",p._id);else return p._orientation}return l},Howl.prototype.pannerAttr=function(){var t=this,a=arguments,o,c,l;if(!t._webAudio)return t;if(a.length===0)return t._pannerAttr;if(a.length===1)if(typeof a[0]=="object")o=a[0],typeof c>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return l=t._soundById(parseInt(a[0],10)),l?l._pannerAttr:t._pannerAttr;else a.length===2&&(o=a[0],c=parseInt(a[1],10));for(var f=t._getSoundIds(c),g=0;g<f.length;g++)if(l=t._soundById(f[g]),l){var p=l._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var x=l._panner;x||(l._pos||(l._pos=t._pos||[0,0,-.5]),n(l,"spatial"),x=l._panner),x.coneInnerAngle=p.coneInnerAngle,x.coneOuterAngle=p.coneOuterAngle,x.coneOuterGain=p.coneOuterGain,x.distanceModel=p.distanceModel,x.maxDistance=p.maxDistance,x.refDistance=p.refDistance,x.rolloffFactor=p.rolloffFactor,x.panningModel=p.panningModel}return t},Sound.prototype.init=function(t){return function(){var a=this,o=a._parent;a._orientation=o._orientation,a._stereo=o._stereo,a._pos=o._pos,a._pannerAttr=o._pannerAttr,t.call(this),a._stereo?o.stereo(a._stereo):a._pos&&o.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var a=this,o=a._parent;return a._orientation=o._orientation,a._stereo=o._stereo,a._pos=o._pos,a._pannerAttr=o._pannerAttr,a._stereo?o.stereo(a._stereo):a._pos?o.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,o._refreshBuffer(a)),t.call(this)}}(Sound.prototype.reset);var n=function(t,a){a=a||"spatial",a==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(howler);const bank={music:new howler.Howl({src:["sounds/music.mp3"],volume:.7,loop:!0,preload:!0,autoplay:!0}),unauthorized:new howler.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),play:new howler.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new howler.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new howler.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new howler.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),recycle:new howler.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new howler.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new howler.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new howler.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new howler.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new howler.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new howler.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0})},GAME_ADVANTAGE={noob:4,easy:3,normal:2,hard:1,veteran:0},MAX_ENERGY=20,MAX_HAND_SIZE=8,MAX_REPUTATION=10,MONEY_TO_REACH=500,INFINITE_DRAW_COST=5,UPGRADE_COST_THRESHOLDS={string:["20","50","75"],number:[5,7,10]},ENERGY_TO_MONEY=5,REPUTATION_TO_ENERGY=10,TRIGGER_EVENTS={eachDay:["Chaque jour","par jour"],eachTurn:["A chaque carte jouée","par carte"],emptyHand:["Quand votre main est vide","chaque fois que la main est vide"],reputationDeclines:["Quand votre réputation baisse","à chaque baisse de réputation"]},metadata={version:"1.0.0"},settings=JSON.parse(localStorage.getItem("settings")??'{ "difficulty": "normal" }'),technos=[{name:"TypeScript",logo:"ts.png"},{name:"React",logo:"react.webp"},{name:"Tailwind CSS",logo:"tailwind.png"},{name:"NodeJS",logo:"node.png"},{name:"Vercel",logo:"vercel.png"},{name:"Next.js",logo:"nextjs.webp"},{name:"PostgreSQL",logo:"pgsql.png"},{name:"Docker",logo:"docker.webp"},{name:"PixiJS",logo:"pixi.png"},{name:"Three.js",logo:"three.png"},{name:"Gulp",logo:"gulp.webp"},{name:"Knex",logo:"knex.png"},{name:"Git",logo:"git.png"},{name:"Processing",logo:"processing.webp"},{name:"p5.js",logo:"p5.png"},{name:"Strapi",logo:"strapi.png"},{name:"Windows",logo:"windows.png"},{name:"MacOS",logo:"macos.png"},{name:"Linux",logo:"linux.png"},{name:"Jetbrains",logo:"jetbrains.webp"},{name:"Ruby",logo:"ruby.png"}],projects=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Vous pouvez utiliser cette lib pour construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"}],advantage$1=GAME_ADVANTAGE[settings.difficulty],effects=[{description:`Gagne ${(2+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((2+advantage$1)*ENERGY_TO_MONEY),type:"action",cost:2},{description:`Gagne ${(4+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((4+advantage$1)*ENERGY_TO_MONEY),type:"action",cost:4},{description:`Le matin, gagne ${advantage$1*ENERGY_TO_MONEY}M$. L'après-midi, gagne ${advantage$1} @energy${advantage$1>1?"s":""}`,onPlayed:async e=>{new Date().getHours()<12?await e.addMoney(advantage$1*ENERGY_TO_MONEY):await e.addEnergy(advantage$1)},type:"action",cost:0},{description:`Gagne ${(2+advantage$1)*ENERGY_TO_MONEY}M$ fois le nombre de cartes @action en main en comptant celle-ci`,onPlayed:async e=>{await e.addMoney((2+advantage$1)*ENERGY_TO_MONEY*e.hand.filter(n=>n.effect.type==="action").length)},type:"action",cost:4},{description:`Si le dark mode est activé, gagne ${(4+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((4+advantage$1)*ENERGY_TO_MONEY),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Si la @reputation est inférieur à 5, gagne ${(4+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((4+advantage$1)*ENERGY_TO_MONEY),condition:e=>e.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${advantage$1>4?` et gagne ${advantage$1-4} @energy${advantage$1-4>1?"s":""}`:""}`,onPlayed:async e=>{await e.play(e.hand[e.hand.length-1],{free:!0}),advantage$1>4&&await e.addEnergy(advantage$1-4)},condition:(e,n)=>{const t=e.hand[e.hand.length-1];return t&&t.name!==n.name&&(!t.effect.condition||t.effect.condition(e,e.hand[e.hand.length-1]))},type:"action",cost:Math.max(0,4-advantage$1),waitBeforePlay:!0},{description:`Pioche ${1+advantage$1} carte${advantage$1>0?"s":""}`,onPlayed:async e=>await e.draw(1+advantage$1),condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${advantage$1>2?2+(advantage$1-2):2} cartes`,onPlayed:async e=>await e.draw(advantage$1>2?2+(advantage$1-2):2),condition:e=>e.deck.length>=1,type:"support",cost:Math.max(0,2-advantage$1),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+advantage$1} cartes`,onPlayed:async e=>await e.draw(2+advantage$1),condition:e=>e.hand.length<5&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${advantage$1>=4?1+Math.floor((advantage$1-2)/2):1} carte${advantage$1>=4?"s":""} @action${advantage$1>=2&&advantage$1%2!==0?` et gagne ${advantage$1%2} @energy${advantage$1%2>0?"s":""}`:""}`,onPlayed:async e=>{await e.draw(advantage$1>=2?1+Math.floor((advantage$1-2)/2):1,{filter:n=>n.effect.type==="action"}),advantage$1>=2&&advantage$1%2!==0&&await e.addEnergy(advantage$1%2)},condition:e=>e.deck.some(n=>n.effect.type==="action"),type:"support",cost:Math.max(0,2-advantage$1),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(advantage$1/2)} carte${advantage$1>=2?"s":""} @action${advantage$1%2!==0?` et gagne ${advantage$1%2*ENERGY_TO_MONEY}M$`:""}`,onPlayed:async e=>{await e.draw(1,{filter:n=>n.effect.type==="action"}),advantage$1%2!==0&&await e.addMoney(advantage$1%2*ENERGY_TO_MONEY)},condition:e=>e.hand.every(n=>n.effect.type!=="action")&&e.deck.some(n=>n.effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${advantage$1>=1?2:"une"} carte${advantage$1>1?"s":""} et gagne ${(2+advantage$1-1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>{await e.drop(),await e.draw(advantage$1>=1?2:1),await e.addMoney((2+advantage$1-1)*ENERGY_TO_MONEY)},condition:e=>e.hand.length>=2&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${advantage$1>=1?1+advantage$1:"une"} carte${advantage$1>=1?"s":""}`,onPlayed:async e=>{await e.drop({toDeck:!0}),await e.draw(advantage$1>=1?1+advantage$1:1)},condition:e=>e.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+advantage$1} cartes`,onPlayed:async e=>{await e.dropAll(),await e.draw(5+advantage$1)},condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${advantage$1>5?5+(advantage$1-5):5} cartes`,onPlayed:async e=>{await e.dropAll({toDeck:!0}),await e.draw(advantage$1>5?5+(advantage$1-5):5)},type:"support",cost:Math.max(0,5-advantage$1),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${advantage$1>3?` et gagne ${(advantage$1-3)*ENERGY_TO_MONEY}M$`:""}`,onPlayed:async e=>{await e.draw(e.upgrades.length),advantage$1>3&&await e.addMoney((advantage$1-3)*ENERGY_TO_MONEY)},condition:e=>e.upgrades.length>0&&e.deck.length>=1,type:"support",cost:Math.max(0,3-advantage$1),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${advantage$1>0?` et gagne ${advantage$1*ENERGY_TO_MONEY}M$`:""}`,onPlayed:async e=>{await e.dropAll({filter:n=>n.effect.type==="support"}),await e.draw(2,{filter:n=>n.effect.type==="action"}),advantage$1>0&&await e.addMoney(advantage$1*ENERGY_TO_MONEY)},condition:e=>e.hand.filter(n=>n.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+advantage$1} cartes`,onPlayed:async e=>{await e.dropAll({filter:n=>n.effect.type==="action"}),await e.draw(3+advantage$1)},condition:e=>e.hand.some(n=>n.effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${advantage$1>4?` et gagne ${advantage$1-4} @energy${advantage$1-4>1?"s":""}`:""}`,onPlayed:async e=>{await e.draw(2,{filter:n=>typeof n.effect.cost=="number"}),advantage$1>4&&await e.addEnergy(advantage$1-4)},condition:e=>e.deck.some(n=>typeof n.effect.cost=="number"),type:"support",cost:Math.max(0,4-advantage$1),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${advantage$1>3?` et gagne ${advantage$1-3} @energy${advantage$1-3>1?"s":""}`:""}`,onPlayed:async e=>{await e.addNextCardModifier(n=>({...n,effect:{...n.effect,cost:typeof n.effect.cost=="number"?Math.ceil(n.effect.cost/2):String(Math.ceil(Number(n.effect.cost)/2))}})),advantage$1>3&&await e.addEnergy(advantage$1-3)},type:"support",cost:Math.max(0,3-advantage$1)},{description:`${advantage$1>4?`Ajoute ${advantage$1-4} @energy${advantage$1>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async e=>{advantage$1>4&&await e.addEnergy(advantage$1-4),await e.addEnergy(e.energy)},type:"action",cost:String(Math.max(0,4-advantage$1)*ENERGY_TO_MONEY)},{description:`Ajoute ${4+advantage$1} @energys`,onPlayed:async e=>await e.addEnergy(4+advantage$1),type:"action",cost:String(4*ENERGY_TO_MONEY)},{description:`Si la @reputation est inférieur à 5, ajoute ${advantage$1>3?5+advantage$1-3:5} @energys`,onPlayed:async e=>await e.addEnergy(advantage$1>3?5+advantage$1-3:5),condition:e=>e.reputation<5,type:"action",cost:String(Math.max(0,3-advantage$1)*ENERGY_TO_MONEY)},{description:"Remplis la jauge de @reputation",onPlayed:async e=>await e.addReputation(10),type:"action",cost:String(Math.max(0,5*REPUTATION_TO_ENERGY-advantage$1)*ENERGY_TO_MONEY),ephemeral:!0}],advantage=GAME_ADVANTAGE[settings.difficulty],upgrades=[{name:"Starbucks",triggerEvent:"eachDay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<MAX_ENERGY,onTrigger:async(e,n)=>{await e.addEnergy(n.cumul)},cumulable:!0,max:3,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)},{name:"Méditation",triggerEvent:"eachDay",description:"Pioche @cumul carte@s",image:"meditation.png",condition:e=>e.deck.length>0,onTrigger:async(e,n)=>{await e.draw(n.cumul)},cumulable:!0,max:3,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)},{name:"Bourse",triggerEvent:"eachDay",description:"Gagne @cumul fois 10% de votre capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,n)=>{await e.addMoney(Math.ceil(n.cumul/100*e.money))},cumulable:!0,cost:String(Math.max(0,8-advantage)*ENERGY_TO_MONEY)},{name:"Recyclage",triggerEvent:"eachDay",description:"Place @cumul carte@s aléatoire@s de la défausse dans le deck",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,n)=>{await e.recycle(n.cumul)},cumulable:!0,max:3,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)},{name:"I.A",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,n)=>{await e.addMoney(n.cumul*e.discard.length)},cumulable:!0,cost:String(Math.max(0,80-advantage)*ENERGY_TO_MONEY)},{name:"Sport",triggerEvent:"eachDay",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<MAX_REPUTATION,onTrigger:async(e,n)=>{await e.addReputation(n.cumul,{skipGameOverCheck:!0})},cumulable:!0,max:2,cost:Math.max(0,20-advantage)},{name:"PC Puissant",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre d'@energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,n)=>{await e.addMoney(n.cumul*e.energy)},cumulable:!0,max:2,cost:String(Math.max(0,40-advantage)*ENERGY_TO_MONEY)},{name:"Stagiaire",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,n)=>{await e.addMoney(n.cumul*e.hand.length)},cumulable:!0,max:5,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)}],upgrades$1=upgrades.map(e=>(e.description=`${e.description} ${TRIGGER_EVENTS[e.triggerEvent][1]}`,e));function isGameOver(e){return e.reputation===0?"reputation":e.deck.length===0&&e.hand.length===0?"mill":e.hand.every(n=>n.effect.condition&&!n.effect.condition(e,n)?!0:!parseCost(e,n).canBeBuy)&&(e.reputation+e.energy<INFINITE_DRAW_COST||e.hand.length>=MAX_HAND_SIZE||e.deck.length===0)?"soft-lock":!1}function rankColor(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function getUpgradeCost(e,n){const t=e.upgrades.length,a=UPGRADE_COST_THRESHOLDS[typeof n.effect.cost][t]??1/0;return Math.min(Number(a),Number(n.effect.cost))}function cloneSomething(e){return JSON.parse(JSON.stringify(e,(n,t)=>typeof t=="function"?void 0:t))}function applyNextCardModifiers(e,n){const t=cloneSomething(n),a=e.nextCardModifiers.slice();return n.effect.upgrade&&a.unshift(o=>o.effect.upgrade?{...o,effect:{...o.effect,cost:getUpgradeCost(e,o)}}:o),a.reduce((o,c)=>c(o),t)}function parseCost(e,n){const t=typeof n.effect.cost=="number"?"energy":"money",a=applyNextCardModifiers(e,n),o=Number(a.effect.cost),c=t==="money"?e[t]>=o:e[t]+e.reputation>=o;return{needs:t,cost:o,canBeBuy:c}}function formatText(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(MONEY_TO_REACH)).replace(/MAX_HAND_SIZE/g,String(MAX_HAND_SIZE)).replace(/@action([^\s.:,]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@support([^\s.:,]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/((?:\d+|<span[^>]*>\d+<\/span>)M\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function formatUpgradeText(e,n){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${n}</span>`).replace(/@s/g,n>1?"s":"")}async function wait(e=500){return new Promise(n=>setTimeout(n,e))}function shuffle(e,n=1){for(let t=0;t<n;t++)e.sort(()=>Math.random()-.5);return e}function map(e,n,t,a,o,c=!1){const l=(e-n)/(t-n)*(o-a)+a;return c?a<o?Math.max(Math.min(l,o),a):Math.max(Math.min(l,a),o):l}function isActionCardInfo(e){return e.image!==void 0}const supportEffects=effects.filter(e=>e.type==="support"),actionEffects=effects.filter(e=>e.type==="action");function generateInitialState(){const saveMetadata=localStorage.getItem("card-game-metadata"),saveDifficulty=localStorage.getItem("card-game-difficulty")??"normal",save=localStorage.getItem("card-game");if(save&&JSON.stringify(metadata)===saveMetadata&&settings.difficulty===saveDifficulty)return JSON.parse(save,(key,value)=>{switch(key){case"discard":case"deck":case"hand":return value.map(e=>{var n,t;return{...e,state:"idle",effect:{...e.effect,onPlayed:e.effect.upgrade?async a=>await a.upgrade(e.name):(n=effects.find(a=>formatText(a.description)===e.effect.description))==null?void 0:n.onPlayed,condition:(t=effects.find(a=>formatText(a.description)===e.effect.description))==null?void 0:t.condition}}});case"upgrades":return value.map(e=>{var n,t;return{...e,state:"idle",onTrigger:(n=upgrades$1.find(a=>a.name===e.name))==null?void 0:n.onTrigger,condition:(t=upgrades$1.find(a=>a.name===e.name))==null?void 0:t.condition}});case"nextCardModifiers":return value.map(modifier=>eval(modifier));case"operationInProgress":return{}}return value});localStorage.setItem("card-game-metadata",JSON.stringify(metadata)),localStorage.setItem("card-game-difficulty",settings.difficulty);const supports=technos.map((e,n)=>{const t=map(n,0,technos.length,0,supportEffects.length,!0),a=supportEffects[Math.floor(t)];return{...e,logo:`images/techno/${e.logo}`,state:"idle",effect:{...a,description:formatText(a.description)}}}),actions=projects.map((e,n)=>{const t=map(n,0,projects.length,0,actionEffects.length,!0),a=actionEffects[Math.floor(t)];return{...e,image:`images/projects/${e.image}`,state:"idle",effect:{...a,description:formatText(a.description)}}}),upgradeActions=upgrades$1.map(e=>({name:e.name,image:`images/upgrades/${e.image}`,state:"idle",effect:{upgrade:!0,ephemeral:!e.cumulable,description:formatText(`@upgrade <br/> ${formatUpgradeText(e.description,1)}`),onPlayed:async n=>await n.upgrade(e.name),type:"action",cost:e.cost}})),deck=shuffle([...supports,...actions,...upgradeActions],3);return{operationInProgress:{},score:0,reason:null,isWon:!1,isGameOver:!1,deck:deck.slice(7),hand:deck.slice(0,7),discard:[],upgrades:[],nextCardModifiers:[],day:1,energy:MAX_ENERGY,reputation:MAX_REPUTATION,money:0}}function cardGameMethods(e,n){return{setOperationInProgress:(t,a)=>{e(o=>({operationInProgress:{...o.operationInProgress,[t]:a}}))},updateScore:()=>{e(t=>({score:Math.floor(t.energy+t.reputation*REPUTATION_TO_ENERGY+t.money/ENERGY_TO_MONEY+t.upgrades.reduce((a,o)=>a+o.cumul,0)*10*(50/t.day)*100)}))},addEnergy:async(t,a)=>{if(t>0)bank.gain.play(),e(o=>({energy:Math.max(0,Math.min(MAX_ENERGY,o.energy+t))}));else if(t<0){const o=n(),c=Math.abs(t)-o.energy;e({energy:0}),await o.addReputation(-c,{skipGameOverCheck:a==null?void 0:a.skipGameOverCheck})}},addReputation:async(t,a)=>{if(t===10?bank.powerUp.play():t>0?bank.gain.play():bank.loss.play(),e(c=>({reputation:Math.max(0,Math.min(MAX_REPUTATION,c.reputation+t))})),await wait(),a!=null&&a.skipGameOverCheck)return;const o=n();o.isGameOver||o.reputation===0&&(bank.defeat.play(),bank.music.fade(.7,0,1e3),e({isGameOver:!0,isWon:!1,reason:"reputation"}))},addMoney:async t=>{t>0&&bank.cashing.play(),e(o=>({money:o.money+t})),await wait();const a=n();a.money>=MONEY_TO_REACH&&a.win()},addDay:async(t=1)=>{if(e(a=>({day:a.day+t,operationInProgress:{...a.operationInProgress,day:!0}})),t>0){const a=n();for(let o=0;o<t;o++)await a.triggerUpgradeEvent("eachDay")}e(a=>({operationInProgress:{...a.operationInProgress,day:!1}}))},upgrade:async t=>{e(c=>({operationInProgress:{...c.operationInProgress,[`upgrade ${t}`]:!0}}));const a=upgrades$1.find(c=>c.name===t);bank.upgrade.play();let o=n();if(o.upgrades.find(c=>c.name===t)?e(c=>({upgrades:c.upgrades.map(l=>l.name===t?{...l,cumul:l.cumul+1}:l)})):e(c=>({upgrades:[...c.upgrades,{...a,state:"appear",cumul:1,max:a.cumulable?a.max??1/0:1}]})),a.cumulable&&a.max){o=n();const c=o.upgrades.find(l=>l.name===t);if(c.cumul===c.max){const l=o.hand.find(f=>f.effect.upgrade&&f.name===t);e({hand:o.hand.map(f=>f.name===l.name?{...f,state:"played"}:f)}),await wait(),e({hand:o.hand.filter(f=>f.name!==l.name)})}}await wait(),e(c=>({upgrades:c.upgrades.map(l=>l.name===t?{...l,state:"idle"}:l),operationInProgress:{...c.operationInProgress,[`upgrade ${t}`]:!1}}))},triggerUpgrade:async t=>{const a=n(),o=a.upgrades.find(c=>c.name===t);e(c=>({upgrades:c.upgrades.map(l=>l.name===o.name?{...l,state:"triggered"}:l),operationInProgress:{...c.operationInProgress,[`trigger ${t}`]:!0}})),await wait(),await o.onTrigger(a,o),await wait(),e(c=>({upgrades:c.upgrades.map(l=>l.name===o.name?{...l,state:"idle"}:l),operationInProgress:{...c.operationInProgress,[`trigger ${t}`]:!1}}))},triggerUpgradeEvent:async t=>{const a=n();e(o=>({operationInProgress:{...o.operationInProgress,[`trigger ${t}`]:!0}})),await Promise.all(a.upgrades.slice().filter(o=>o.triggerEvent===t&&(!o.condition||o.condition(a,o))).map(async(o,c)=>{await wait(250*c),await a.triggerUpgrade(o.name)})),e(o=>({operationInProgress:{...o.operationInProgress,[`trigger ${t}`]:!1}}))},addNextCardModifier:async(t,a)=>{bank.powerUp.play(),e(o=>({nextCardModifiers:a!=null&&a.before?[t,...o.nextCardModifiers]:[...o.nextCardModifiers,t]}))},draw:async(t=1,a)=>{e(o=>{const c=a!=null&&a.fromDiscardPile?"discard":"deck",l=o.hand.slice(),f=o.discard.slice(),g=o[c].slice().filter(s=>a!=null&&a.filter?a.filter(s):!0),p=[];let x=!1,r=!1;for(let s=0;s<t&&g.length!==0;s++){const i=g.pop();i.state="drawn",p.push(i.name),l.length>=MAX_HAND_SIZE?(f.push(i),r=!0):(l.push(i),x=!0)}return(x||r)&&bank.draw.play(),{hand:l,discard:f,[c]:shuffle(o[c].filter(s=>!p.includes(s.name)),2),operationInProgress:{...o.operationInProgress,draw:!0}}}),await wait(),e(o=>({hand:o.hand.map(c=>({...c,state:"idle"})),operationInProgress:{...o.operationInProgress,draw:!1}}))},drop:async t=>{const a=t!=null&&t.toDeck?"deck":"discard";bank.drop.play();const o=n(),c=o.hand.slice().filter(g=>g.state==="idle"),l=Math.floor(Math.random()*c.length),f=c[l];e({hand:o.hand.map(g=>g.name===f.name?{...g,state:"dropped"}:g),operationInProgress:{...o.operationInProgress,drop:!0}}),await wait(),e(g=>({hand:g.hand.filter(p=>p.name!==f.name),[a]:shuffle([{...f,state:null},...g[a]],2),operationInProgress:{...g.operationInProgress,drop:!1}}))},dropAll:async t=>{const a=t!=null&&t.toDeck?"deck":"discard";bank.drop.play();const o=n();e({hand:o.hand.map(c=>c.state==="idle"&&(!(t!=null&&t.filter)||t.filter(c))?{...c,state:"dropped"}:c),operationInProgress:{...o.operationInProgress,dropAll:!0}}),await wait(),e(c=>({[a]:shuffle([...c.hand.filter(l=>!(t!=null&&t.filter)||t.filter(l)).map(l=>({...l,state:null})),...c[a]],2),hand:c.hand.filter(l=>(t==null?void 0:t.filter)&&!t.filter(l)),operationInProgress:{...c.operationInProgress,dropAll:!1}}))},recycle:async(t=1)=>{bank.recycle.play();const a=n(),o=a.discard.slice(),c=a.deck.slice(),l=[];for(let f=0;f<t&&o.length!==0;f++){const g=o.pop();l.push(g.name),c.push(g)}e({deck:shuffle(c),discard:a.discard.filter(f=>!l.includes(f.name))})},play:async(t,a)=>{const o=!!(a!=null&&a.free);let c=n();const l=async()=>{bank.unauthorized.play(),e({hand:c.hand.map(p=>p.name===t.name?{...p,state:"unauthorized"}:p)}),await wait(),e({hand:c.hand.map(p=>p.name===t.name?{...p,state:"idle"}:p)})};if(t.effect.condition&&!t.effect.condition(c,t)){await l();return}if(!o){const{needs:p,cost:x}=parseCost(c,t);if(c[p]<x)if(p==="energy"){if(c.reputation+c.energy<x){await l();return}await c.addEnergy(-x,{skipGameOverCheck:!0})}else{await l();return}else e({[p]:c[p]-x})}e(p=>({operationInProgress:{...p.operationInProgress,play:!0}})),bank.play.play();const f=async()=>{e(p=>({nextCardModifiers:[],hand:p.hand.map(x=>x.name===t.name?{...x,state:"played"}:x)})),await wait(),e(p=>({discard:t.effect.ephemeral?p.discard:shuffle([{...t,state:null},...p.discard],3),hand:p.hand.filter(x=>x.name!==t.name)})),t.effect.type==="action"&&await c.addDay()},g=async()=>{t.effect.waitBeforePlay&&await wait(),await t.effect.onPlayed(c,t),c.updateScore()};await Promise.all([f(),g()]),c=n(),c.hand.length===0&&await c.draw(),isGameOver(n())&&await wait(2e3),e(p=>({operationInProgress:{...p.operationInProgress,play:!1}}))},win:()=>{bank.victory.play(),e({isGameOver:!0,isWon:!0})},gameOver:t=>{bank.defeat.play(),bank.music.fade(.7,0,1e3),e({isGameOver:!0,isWon:!1,reason:t})},reset:()=>{localStorage.removeItem("card-game-metadata"),localStorage.removeItem("card-game-difficulty"),localStorage.removeItem("card-game"),e(generateInitialState()),bank.music.stop(),bank.music.play()}}}const useCardGame=create((e,n)=>({...generateInitialState(),...cardGameMethods(e,n)}));useCardGame.subscribe((e,n)=>{if((e.reputation!==n.reputation||e.money!==n.money||e.upgrades!==n.upgrades||e.energy!==n.energy||e.day!==n.day)&&e.updateScore(),localStorage.setItem("card-game",JSON.stringify(e,(t,a)=>typeof a=="function"&&!(t in e)?a.toString():a)),Object.values(e.operationInProgress).every(t=>!t)&&!e.isGameOver){const t=isGameOver(e);t&&e.gameOver(t)}});const GameControl=e=>{const n=useCardGame(a=>a.reset),t=useGlobalState(a=>()=>a.setCardGameVisibility(!1));return jsxRuntimeExports.jsx("div",{className:cn("absolute bottom-0 left-1/2 -translate-x-1/2 transition-[bottom] duration-500 ease-in-out",{"-bottom-12":e.show,"delay-500":e.delay}),children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>t(),variant:"default",children:"Revenir à l'accueil"}),jsxRuntimeExports.jsx(Button,{onClick:()=>n(),variant:"default",children:"Recommencer"})]})})};function createContext2(e,n){const t=reactExports.createContext(n);function a(c){const{children:l,...f}=c,g=reactExports.useMemo(()=>f,Object.values(f));return jsxRuntimeExports.jsx(t.Provider,{value:g,children:l})}function o(c){const l=reactExports.useContext(t);if(l)return l;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,o]}function createContextScope(e,n=[]){let t=[];function a(c,l){const f=reactExports.createContext(l),g=t.length;t=[...t,l];function p(r){const{scope:s,children:i,...u}=r,d=(s==null?void 0:s[e][g])||f,v=reactExports.useMemo(()=>u,Object.values(u));return jsxRuntimeExports.jsx(d.Provider,{value:v,children:i})}function x(r,s){const i=(s==null?void 0:s[e][g])||f,u=reactExports.useContext(i);if(u)return u;if(l!==void 0)return l;throw new Error(`\`${r}\` must be used within \`${c}\``)}return p.displayName=c+"Provider",[p,x]}const o=()=>{const c=t.map(l=>reactExports.createContext(l));return function(f){const g=(f==null?void 0:f[e])||c;return reactExports.useMemo(()=>({[`__scope${e}`]:{...f,[e]:g}}),[f,g])}};return o.scopeName=e,[a,composeContextScopes(o,...n)]}function composeContextScopes(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const l=a.reduce((f,{useScope:g,scopeName:p})=>{const r=g(c)[`__scope${p}`];return{...f,...r}},{});return reactExports.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return t.scopeName=n.scopeName,t}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((e,n)=>{const t=reactExports.forwardRef((a,o)=>{const{asChild:c,...l}=a,f=c?Slot:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(f,{...l,ref:o})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function dispatchDiscreteCustomEvent(e,n){e&&reactDomExports.flushSync(()=>e.dispatchEvent(n))}var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((e,n)=>{const{__scopeProgress:t,value:a=null,max:o,getValueLabel:c=defaultGetValueLabel,...l}=e;(o||o===0)&&!isValidMaxNumber(o)&&console.error(getInvalidMaxError(`${o}`,"Progress"));const f=isValidMaxNumber(o)?o:DEFAULT_MAX;a!==null&&!isValidValueNumber(a,f)&&console.error(getInvalidValueError(`${a}`,"Progress"));const g=isValidValueNumber(a,f)?a:null,p=isNumber(g)?c(g,f):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:t,value:g,max:f,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":isNumber(g)?g:void 0,"aria-valuetext":p,role:"progressbar","data-state":getProgressState(g,f),"data-value":g??void 0,"data-max":f,...l,ref:n})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME$1="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((e,n)=>{const{__scopeProgress:t,...a}=e,o=useProgressContext(INDICATOR_NAME$1,t);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:n})});ProgressIndicator.displayName=INDICATOR_NAME$1;function defaultGetValueLabel(e,n){return`${Math.round(e/n*100)}%`}function getProgressState(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function isNumber(e){return typeof e=="number"}function isValidMaxNumber(e){return isNumber(e)&&!isNaN(e)&&e>0}function isValidValueNumber(e,n){return isNumber(e)&&!isNaN(e)&&e<=n&&e>=0}function getInvalidMaxError(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$3=Progress$1,Indicator$1=ProgressIndicator;const Progress=reactExports.forwardRef(({barColor:e,className:n,value:t,...a},o)=>jsxRuntimeExports.jsx(Root$3,{ref:o,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...a,children:jsxRuntimeExports.jsx(Indicator$1,{className:cn("h-full w-full flex-1 transition-all",e,{"bg-primary":!e}),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Progress.displayName=Root$3.displayName;const ValueIcon=e=>{const n=useCardGame(t=>t.energy);return jsxRuntimeExports.jsxs("div",{className:cn("relative",e.className),style:e.style,children:[e.type==="energy"?!e.isCost||n>=e.value?jsxRuntimeExports.jsx("img",{src:"images/energy-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):n>0?jsxRuntimeExports.jsx("img",{src:"images/enerputation-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):jsxRuntimeExports.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Coût en réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}):jsxRuntimeExports.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}),jsxRuntimeExports.jsx("div",{className:cn("absolute top-1/2 left-1/2 font-bold text-[1.8em] text-white pointer-events-none box-content",e.textColor),style:{transform:"translateX(-50%) translateY(-50%) translateZ(5px)"},children:e.value})]})},Gauge=e=>jsxRuntimeExports.jsxs("div",{className:"flex items-center h-7 w-[250px]",children:[jsxRuntimeExports.jsx(ValueIcon,{type:e.type,value:e.value,iconScale:e.iconScale,textColor:e.textColor,className:"absolute -translate-x-1/2 z-50 scale-50"}),jsxRuntimeExports.jsx(Progress,{barColor:e.barColor,className:e.className,value:e.value/e.max*100})]});function Svg$b(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M225.814 32.316c-3.955-.014-7.922-.01-11.9.007-19.147.089-38.6.592-58.219 1.32l5.676 24.893c20.431-2.31 42.83-4.03 65.227-4.89 12.134-.466 24.194-.712 35.892-.65 35.095.183 66.937 3.13 87.77 11.202l8.908 3.454-3.977 8.685c-29.061 63.485-35.782 124.732-31.228 184.826 2.248-71.318 31.893-134.75 70.81-216.068-52.956-8.8-109.634-12.582-168.959-12.78zm28.034 38.79c-8.74.007-17.65.184-26.559.526-41.672 1.6-83.199 6.49-110.264 12.096 30.233 56.079 54.69 112.287 70.483 167.082a71.934 71.934 0 0 1 5.894.045c4.018.197 7.992.742 11.875 1.59-16.075-51.397-34.385-98.8-57.146-146.131l-5.143-10.694 11.686-2.068c29.356-5.198 59.656-7.21 88.494-7.219 1.922 0 3.84.007 5.748.024 18.324.16 35.984 1.108 52.346 2.535l11.054.965-3.224 10.617c-18.7 61.563-22.363 127.678-11.79 190.582.176.163.354.325.526.49 3.813-1.336 7.38-2.698 10.705-4.154-8.254-67.394-4.597-136.923 26.229-209.201-17.202-4.383-43.425-6.674-72.239-7.034a656.656 656.656 0 0 0-8.675-.05zm144.945 7.385c-30.956 65.556-52.943 118.09-56.547 174.803 20.038-66.802 58.769-126.685 102.904-165.158a602.328 602.328 0 0 0-46.357-9.645zM103.832 97.02c-18.76 3.868-37.086 8.778-54.812 15.562 8.626 7.48 24.22 21.395 43.14 39.889 8.708-8.963 17.589-17.818 26.852-25.87a1067.587 1067.587 0 0 0-15.18-29.581zm142.023 7.482c-13.62-.066-27.562.324-41.554 1.293-1.468 13.682-9.56 26.482-19.225 39.07 15.431 36.469 28.758 73.683 40.756 113.194 18.375 5.42 36.554 11.827 51.28 19.504-5.47-42.458-4.722-85.963 2.38-128.508-12.885-13.31-19.597-28.09-20.135-44.34a621.48 621.48 0 0 0-13.502-.213zm182.018 26.985c-24.73 29.3-46.521 65.997-61.37 105.912 27.264-38.782 60.79-69.032 96.477-90.4a1318.664 1318.664 0 0 0-35.107-15.512zm-300.74 11.959c-14.594 13.188-29.014 29.017-44.031 44.097 32.289 19.191 59.791 41.918 82.226 67.66 1.393-.526 2.8-.999 4.215-1.43-10.498-36.096-24.885-73.033-42.41-110.327zM360.52 268.198c-16.397 19.788-31.834 30.235-53.09 38.57 2.391 9.22-1.16 19.805-9.334 27.901-4.808 4.761-10.85 10.188-19.684 13.715a62.896 62.896 0 0 0 3.9 2.127c12.364 6.17 34.207 4.18 54.5-5.049 20.23-9.2 38.302-25.092 45-41.191 3.357-9.05.96-13.77-4.917-20.692-4.184-4.925-10.295-9.89-16.375-15.38zm-170.079.586c-10.715-.098-21.597 2.994-30.59 9.76-12.79 9.623-22.65 26.784-22.738 55.934v.2l-.01.2c-2.92 61.381 1.6 89.7 10.555 105.065 7.904 13.562 21.05 20.054 40.28 31.994.916-2.406 1.87-5.365 2.765-9.098 2.277-9.499 4.161-22.545 5.355-36.975 2.389-28.858 2.04-63.51-1.955-88.445l-2.111-13.19 13.016 2.995c31.615 7.273 49.7 8.132 60.2 6.28 10.502-1.854 14.061-5.523 20.221-11.624 5.79-5.732 5.682-7.795 4.456-11.021-1.227-3.227-6.149-8.545-14.5-13.633-16.703-10.176-45.085-19.611-71.614-26.647a53.988 53.988 0 0 0-13.33-1.795zm189.1 69.416c-10.013 9.754-22.335 17.761-35.277 23.647-20.983 9.542-44.063 13.907-63.211 7.553-6.76 2.516-10.687 5.407-12.668 7.8-2.718 3.284-2.888 5.7-1.967 9.16.92 3.46 3.665 7.568 7.059 10.524 3.393 2.956 7.426 4.492 8.959 4.564 46.794 2.222 67.046-11.207 92.277-26.783 7.358-4.542 10.174-13.743 9.469-22.931-.353-4.594-1.69-8.911-3.233-11.63a9.009 9.009 0 0 0-1.408-1.904zm-166.187 9.096c2.727 25.068 2.772 54.314.642 80.053-1.247 15.072-3.175 28.779-5.789 39.685-1.137 4.746-2.388 8.954-3.9 12.659l146.697-6.465c-1.656-6.149-3.344-12.324-5.031-18.502a127.004 127.004 0 0 1-17.24 4.424l.044.73-8.316.518c-5.121.614-10.452.953-15.983.992l-83.86 5.21 2.493-11.607c7.947-37.006 8.68-69.589 3.778-105.234a353.433 353.433 0 0 1-13.536-2.463zm31.972 4.684c3.948 31.933 3.473 62.41-2.406 95.2l19.264-1.196a39.44 39.44 0 0 1-6.1-14.778c-1.296-6.88-.575-14.538 3.926-20.87.199-.281.414-.55.627-.821-5.246-4.845-9.628-11.062-11.614-18.524-2.114-7.944-.794-17.67 5.497-25.27 2.079-2.51 4.592-4.776 7.543-6.816-2.61-2.08-4.898-4.285-6.874-6.582-3.064.021-6.345-.093-9.863-.343zm132.666 41.785c-23.456 14.253-49.81 27.876-96.41 25.664a26.402 26.402 0 0 1-4.518-.615c-1.233.553-1.891 1.256-2.382 1.947-.963 1.355-1.532 3.8-.909 7.113 1.248 6.627 7.525 13.889 13.37 14.569 41.385 4.813 69.979-8.726 87.341-24.477 8-7.258 8.068-11.9 6.89-16.951-.59-2.523-1.89-4.969-3.382-7.25zm-6.683 49.062a114.657 114.657 0 0 1-8.547 4.86c1.65 6.051 3.304 12.102 4.937 18.154l19.92-3.572c-5.14-4.387-9.162-8.954-12.39-13.496-1.442-2.029-2.713-4.001-3.92-5.946z"})))}function Svg$a(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function Svg$9(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M32 456a24 24 0 0 0 24 24h400a24 24 0 0 0 24-24V176H32zm80-238.86a9.14 9.14 0 0 1 9.14-9.14h109.72a9.14 9.14 0 0 1 9.14 9.14v109.72a9.14 9.14 0 0 1-9.14 9.14H121.14a9.14 9.14 0 0 1-9.14-9.14zM456 64h-55.92V32h-48v32H159.92V32h-48v32H56a23.8 23.8 0 0 0-24 23.77V144h448V87.77A23.8 23.8 0 0 0 456 64z"})))}function Svg$8(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"}),React.createElement("path",{d:"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"})))}function Svg$7(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),React.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),React.createElement("path",{d:"m64 160 29.74 282.51A24 24 0 0 0 117.61 464h276.78a24 24 0 0 0 23.87-21.49L448 160zm248 217.46-56-56-56 56L174.54 352l56-56-56-56L200 214.54l56 56 56-56L337.46 240l-56 56 56 56z"}),React.createElement("rect",{width:"448",height:"80",x:"32",y:"48",rx:"12",ry:"12"})))}const Stat=e=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(e.icon,{className:"h-full self-center"}),jsxRuntimeExports.jsxs("span",{className:"inline-block whitespace-nowrap",children:[jsxRuntimeExports.jsx("span",{children:e.name}),": ",e.value]})]}),Stats=e=>{const n=useCardGame(t=>({money:t.money,score:t.score,day:t.day,deck:t.deck,discard:t.discard}));return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col gap-2 items-start *:flex *:items-baseline *:gap-2 *:h-20 text-6xl text-left",e.className),children:[jsxRuntimeExports.jsx(Stat,{icon:Svg$b,name:"Dollars",value:jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:formatText(`${n.money}M$ ${e.verbose?`sur ${MONEY_TO_REACH}M$`:""}`)}})}),jsxRuntimeExports.jsx(Stat,{icon:Svg$a,name:"Score",value:jsxRuntimeExports.jsxs("span",{className:"text-upgrade font-changa",children:[n.score.toLocaleString("fr")," pts"]})}),jsxRuntimeExports.jsx(Stat,{icon:Svg$9,name:"Jour",value:n.day}),e.verbose&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Stat,{icon:Svg$8,name:"Deck",value:n.deck.length}),jsxRuntimeExports.jsx(Stat,{icon:Svg$7,name:"Défausse",value:n.discard.length})]})]})},GameValues=e=>{const[n,t]=React.useState(!0),[a,o]=React.useState(!1),c=useCardGame(l=>({energy:l.energy,reputation:l.reputation,reset:l.reset}));return React.useEffect(()=>{e.show?(o(!0),t(!1)):(t(!0),o(!1))},[e.show]),jsxRuntimeExports.jsxs("div",{className:cn("absolute top-20 left-3 -translate-x-[110%] transition-transform duration-500 ease-in-out",{"delay-500":a,"translate-x-0":e.show}),children:[jsxRuntimeExports.jsx("div",{className:"absolute bg-upgrade shadow shadow-black/50 w-10 h-4 left-0 top-5 -translate-x-full"}),jsxRuntimeExports.jsx("div",{className:"absolute bg-upgrade shadow shadow-black/50 w-10 h-4 left-0 bottom-5 -translate-x-full"}),jsxRuntimeExports.jsx(GameControl,{show:e.show,delay:n}),jsxRuntimeExports.jsxs(Card,{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl text-center",children:"Game values"}),jsxRuntimeExports.jsx(Gauge,{type:"energy",value:c.energy,max:MAX_ENERGY}),jsxRuntimeExports.jsx(Gauge,{type:"reputation",value:c.reputation,max:MAX_REPUTATION,barColor:"bg-pink-500"}),jsxRuntimeExports.jsx(Stats,{className:"*:h-6 text-lg",verbose:!0})]})]})},helpers=["Si vous n'avez plus de @reputation, vous perdez la partie.","Quand une carte est jouée, elle va dans la défausse.","Si vous ne pouvez plus jouer de carte, vous perdez la partie.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Chaque carte @action jouée ajoute un jour à la partie.","Les cartes @action ont une bannière bleue.","Lorsque vous n'avez plus d'@energy, vous consommez la @reputation.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Vous ne pouvez pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop sont défaussées à la place.","Le prix des cartes d'@upgrade augmente progressivement.","Si vous obtenez MONEY_TO_REACHM$, vous gagnez la partie."];function Svg$6(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const Helpers=e=>{const[n,t]=React.useState(0);return jsxRuntimeExports.jsx("div",{className:cn("absolute top-0 left-0 -translate-y-full -translate-x-full transition-transform duration-500 ease-in-out w-fit","rounded-br-3xl bg-card/50 shadow shadow-black/50 border-8 border-upgrade border-t-0 border-l-0 p-4",{"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>t((n+1)%helpers.length),children:jsxRuntimeExports.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[jsxRuntimeExports.jsx(Svg$6,{className:"h-6 cursor-pointer"}),jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:formatText(helpers[n])}})]})})})},Upgrades=e=>{const n=useCardGame(t=>t.upgrades);return jsxRuntimeExports.jsx("div",{className:cn("absolute w-full -top-full left-0 transition-all ease-in-out duration-500 pointer-events-none",{"top-0":e.show&&n.length>0}),children:jsxRuntimeExports.jsx("div",{className:cn("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade bg-card/50 shadow shadow-black/50"),children:jsxRuntimeExports.jsx("div",{className:"flex p-5 gap-10 relative shrink-0 w-max  translate-y-1/2",children:n.map((t,a)=>jsxRuntimeExports.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[jsxRuntimeExports.jsx("img",{src:`images/upgrades/${t.image}`,alt:t.name,className:cn("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":t.state==="triggered"})}),jsxRuntimeExports.jsx("div",{className:"h-6 relative",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[t.max!==1/0&&jsxRuntimeExports.jsx(Progress,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:t.cumul/t.max*100}),jsxRuntimeExports.jsx("div",{className:"absolute text-center font-changa left-0 -translate-y-3 aspect-square h-6 rounded-full bg-upgrade shadow shadow-black",children:t.cumul})]})}),jsxRuntimeExports.jsxs(Card,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px]",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl",children:[t.name," ",jsxRuntimeExports.jsxs("span",{className:"text-upgrade font-bold",children:[t.cumul,t.max!==1/0?`/${t.max}`:""]})]}),jsxRuntimeExports.jsx("p",{dangerouslySetInnerHTML:{__html:formatText(formatUpgradeText(t.description,t.cumul))}})]})]},a))})})})},scores=[{name:"ฟ- ק𝖆†/⑳ -ж",score:38120},{name:"Ghom",score:37980},{name:"Makushi",score:44e3},{name:"Xibalba",score:24050}],TiltContext=React.createContext({degX:0,degY:0,isHovered:!1}),constantStyle={transformStyle:"preserve-3d"},Tilt=({max:e=20,reverse:n=!1,scale:t=1,perspective:a=1e3,className:o="",children:c,style:l})=>{const f=React.useRef(null),g=useHover(f),[p,x]=React.useState({}),[r,s]=React.useState(0),[i,u]=React.useState(0),d=React.useCallback(m=>{if(f.current){const h=f.current.getBoundingClientRect(),_=m.clientX-h.left,y=m.clientY-h.top,E=h.width/2,A=h.height/2,w=(y-A)/A*e,R=(_-E)/E*e;s(n?w:-w),u(n?-R:R),x({...constantStyle,transform:`
            perspective(${a}px)
            rotateX(${n?w:-w}deg)
            rotateY(${n?-R:R}deg)
            scale(${t})
          `})}},[e,a,n,t]),v=React.useCallback(()=>{s(0),u(0),x({...constantStyle,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return React.useEffect(()=>{const m=f.current;return g?m&&(m.addEventListener("mousemove",d),m.addEventListener("mouseleave",v)):v(),()=>{m&&(m.removeEventListener("mousemove",d),m.removeEventListener("mouseleave",v)),v()}},[e,n,t,a,g]),jsxRuntimeExports.jsx("div",{ref:f,className:cn("will-change-transform",o),style:{...p,...l},children:jsxRuntimeExports.jsx(TiltContext.Provider,{value:{degX:r,degY:i,isHovered:g},children:c})})},TiltFoil=()=>{const e=React.useContext(TiltContext);return jsxRuntimeExports.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[jsxRuntimeExports.jsx("div",{className:cn("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),jsxRuntimeExports.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]})},GameOver=e=>{const n=useGlobalState(o=>o.setCardGameVisibility),t=useCardGame(o=>({isGameOver:o.isGameOver,isWon:o.isWon,reason:o.reason,score:o.score,reset:o.reset})),a=scores.sort((o,c)=>c.score-o.score).findIndex(({score:o})=>t.score>=o);return jsxRuntimeExports.jsx("div",{className:cn("absolute w-full",e.show?"block":"hidden"),children:t.isGameOver&&jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center bg-background/90 z-40 pointer-events-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-7",children:[jsxRuntimeExports.jsxs(Tilt,{className:"flex flex-col select-none",max:10,reverse:!0,children:[jsxRuntimeExports.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),jsxRuntimeExports.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[t.isWon&&jsxRuntimeExports.jsx("div",{className:"text-green-500",children:"Vous avez gagné !"}),!t.isWon&&jsxRuntimeExports.jsx("div",{className:"text-red-500",children:"Vous avez perdu !"})]})]}),t.reason&&jsxRuntimeExports.jsx("p",{className:"text-4xl",children:{reputation:"Vous avez utilisé toute votre jauge de réputation...",mill:"Vous n'avez plus de carte...","soft-lock":"Votre main est injouable..."}[t.reason]}),t.isWon?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Stats,{className:"*:h-10 text-3xl"}),jsxRuntimeExports.jsx("div",{className:"p-5 space-y-2 rounded-2xl bg-background shadow-md shadow-foreground/20",children:a>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl",children:["Rank:"," ",jsxRuntimeExports.jsxs("span",{className:cn("font-changa text-4xl",rankColor(a)),children:["# ",a+1]})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg",children:[jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-upgrade font-changa hover:underline",children:"Contactez-moi"})," ","pour ",jsxRuntimeExports.jsx("br",{})," soumettre votre score !"]})]}):jsxRuntimeExports.jsxs("div",{className:"text-lg",children:["Vous n'êtes pas classé, ",jsxRuntimeExports.jsx("br",{})," votre score est trop faible. ",jsxRuntimeExports.jsx("br",{})," essayez de nouveau !"]})})]}):jsxRuntimeExports.jsx("div",{className:"text-lg group/helpers",children:helpers.filter(o=>{switch(t.reason){case"reputation":return o.includes("@reputation")||o.includes("gagnez la partie");case"mill":return o.includes("plus jouer")||o.includes("défausse")||o.includes("limitée")||o.includes("gagnez la partie");case"soft-lock":return o.includes("plus jouer")||o.includes("progressivement")||o.includes("cartes à jouer")||o.includes("gagnez la partie");default:return!1}}).map((o,c)=>jsxRuntimeExports.jsx("div",{className:"transition-transform duration-500 ease-in-out transform hover:scale-110",children:jsxRuntimeExports.jsx("p",{className:cn("animate-trigger hover:text-foreground",{"delay-0":c===0,"delay-100":c===1,"delay-200":c===2,"delay-300":c===3,"delay-400":c===4}),dangerouslySetInnerHTML:{__html:formatText(o)}},c)}))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>n(!1),variant:t.isWon&&a!==-1?"opaque":"default",children:"Quitter"}),jsxRuntimeExports.jsx(Button,{onClick:()=>t.reset(),variant:t.isWon?a===-1?"opaque":"default":"cta",size:t.isWon?"default":"cta",children:"Recommencer"}),t.isWon&&jsxRuntimeExports.jsx("div",{className:"animate-bounce",children:jsxRuntimeExports.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:buttonVariants({variant:"cta",size:"cta"}),children:"Buy me a coffee ☕️"})})]})]})})})};function Svg$5(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Svg$4(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const MoneyIcon=e=>jsxRuntimeExports.jsx("div",{className:cn("text-2xl font-bold border border-white px-1 bg-money text-money-foreground",e.className),style:e.style,children:jsxRuntimeExports.jsxs("div",{style:{transform:"translateZ(5px)"},children:[e.value,"M$"]})}),GameCard=e=>{const{handSize:n,isAnyCardAnimated:t,isGameOver:a,play:o,canTriggerEffect:c,parsedCost:l}=useCardGame(g=>{const p=parseCost(g,e.card);return{handSize:g.hand.length,isAnyCardAnimated:g.hand.some(x=>x.state!=="idle")||g.upgrades.length>0&&g.upgrades.some(x=>x.state!=="idle")||Object.values(g.operationInProgress).some(x=>x),play:g.play,isGameOver:g.isGameOver,parsedCost:p,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(g,e.card)}}),f=e.position-(n-1)/2;return jsxRuntimeExports.jsx("div",{className:cn("game-card","relative w-[calc(630px/3)] h-[calc(880px/3)]","transition-transform hover:-translate-y-14","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",e.card.state,{grayscale:a||!l.canBeBuy||!c,"cursor-not-allowed":t}),onClick:async()=>{!t&&!a&&await o(e.card)},onContextMenu:g=>{g.preventDefault(),isActionCardInfo(e.card)&&e.card.url&&window.open(e.card.url,"_blank")},style:{marginBottom:`${20-Math.abs(f)*5}px`,rotate:`${f*2}deg`,transitionDuration:"0.3s",transitionTimingFunction:"ease-in-out"},children:jsxRuntimeExports.jsxs(Tilt,{scale:1.1,className:cn("group/game-card transition-shadow duration-200 ease-in-out","hover:shadow-glow-20","flex flex-col w-full h-full rounded-xl","*:shrink-0 shadow-primary",{"bg-card/80":e.card.effect.type==="support"}),children:[isActionCardInfo(e.card)&&e.card.detail&&jsxRuntimeExports.jsxs("div",{className:cn("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full shadow shadow-action","transition-opacity duration-200 ease-in-out delay-1000 opacity-0 group-hover/game-card:opacity-100","flex gap-1"),children:[jsxRuntimeExports.jsx(Svg$5,{className:"w-10"}),jsxRuntimeExports.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),jsxRuntimeExports.jsx(Svg$4,{className:"w-10 self-end"})]}),jsxRuntimeExports.jsxs("div",{className:cn("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action","bg-support/50":e.card.effect.type==="support"}),style:{transformStyle:"preserve-3d"},children:[jsxRuntimeExports.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:"translateZ(5px) translateX(-15px)",transformStyle:"preserve-3d"},children:l.needs==="energy"?jsxRuntimeExports.jsx(ValueIcon,{isCost:!0,type:"energy",value:l.cost,iconScale:"0.75",style:{transform:"translateZ(5px)",transformStyle:"preserve-3d"}}):jsxRuntimeExports.jsx(MoneyIcon,{value:String(l.cost),style:{transform:"translateZ(10px) rotate(-10deg)",transformStyle:"preserve-3d"}})}),jsxRuntimeExports.jsx("h2",{className:cn("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{"left-3 text-lg":l.needs==="money"&&e.card.name.length>7,"left-7":l.needs==="money"&&l.cost>99,"text-md":e.card.name.length>11,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:"translateZ(5px)"},children:e.card.name})]}),isActionCardInfo(e.card)?jsxRuntimeExports.jsx(GameCardProject,{card:e.card}):jsxRuntimeExports.jsx(GameCardTechno,{card:e.card}),jsxRuntimeExports.jsxs("div",{className:cn("flex-grow rounded-b-xl",e.card.effect.type==="action"&&"bg-card/80"),style:{transformStyle:"preserve-3d"},children:[jsxRuntimeExports.jsx("p",{className:"py-[10px] px-[15px] text-center",style:{transform:"translateZ(10px)",transformStyle:"preserve-3d"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&jsxRuntimeExports.jsx("div",{className:"text-center h-full text-2xl text-muted-foreground/30 font-bold",children:"Éphémère"})]}),jsxRuntimeExports.jsx(BorderLight,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),jsxRuntimeExports.jsx(BorderLight,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),jsxRuntimeExports.jsx(TiltFoil,{})]})})},GameCardProject=e=>jsxRuntimeExports.jsxs("div",{className:"group/image",style:{transformStyle:"preserve-3d"},children:[jsxRuntimeExports.jsx("div",{className:cn("inset-shadow","relative flex justify-center items-center"),style:{transformStyle:"preserve-3d"},children:jsxRuntimeExports.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:"translateZ(-15px)"}})}),e.card.description&&jsxRuntimeExports.jsx("div",{className:cn("transition-opacity duration-1000 group-hover/image:opacity-0","absolute bottom-0 w-full h-1/3 bg-background/50","flex justify-center items-center"),style:{transform:"translateZ(-5px)"},children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]}),spinners=["React","Knex"],GameCardTechno=e=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:"translateZ(20px)"},children:jsxRuntimeExports.jsx("img",{src:e.card.logo,alt:`Logo de la techno "${e.card.name}"`,className:cn("w-2/3 object-contain aspect-square",{"group-hover/game-card:animate-spin-forward":spinners.includes(e.card.name)})})})});function Svg$3(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const Scoreboard=e=>jsxRuntimeExports.jsxs("div",{className:cn("absolute right-3 top-16","w-fit translate-x-[110%] transition-transform duration-500 ease-in-out",{"translate-x-0":e.show}),children:[jsxRuntimeExports.jsx("div",{className:"absolute bg-upgrade shadow shadow-black/50 w-10 h-4 right-0 top-5 translate-x-full"}),jsxRuntimeExports.jsx("div",{className:"absolute bg-upgrade shadow shadow-black/50 w-10 h-4 right-0 bottom-5 translate-x-full"}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:"Scoreboard"}),jsxRuntimeExports.jsx("table",{children:jsxRuntimeExports.jsx("tbody",{children:scores.sort((n,t)=>t.score-n.score).map((n,t)=>jsxRuntimeExports.jsxs("tr",{className:cn("*:whitespace-nowrap",rankColor(t)),children:[jsxRuntimeExports.jsx("td",{children:t<3?jsxRuntimeExports.jsx(Svg$3,{className:cn("w-4",rankColor(t))}):""}),jsxRuntimeExports.jsxs("th",{children:["# ",t+1]}),jsxRuntimeExports.jsx("th",{className:"text-left",children:n.name}),jsxRuntimeExports.jsxs("td",{children:[n.score.toLocaleString()," pts"]})]},t))})}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground text-sm bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si vous avez un meilleur score, vous pouvez me le ",jsxRuntimeExports.jsx("br",{}),"soumettre en me contactant sur Discord ou LinkedIn !"]})]})})]}),GameActions=e=>{const n=useCardGame(),t=n.energy+n.reputation<INFINITE_DRAW_COST||n.hand.length>=MAX_HAND_SIZE||n.deck.length===0;return jsxRuntimeExports.jsx("div",{className:cn("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0","transition-opacity duration-500 ease-in-out",{"opacity-100":e.show}),children:jsxRuntimeExports.jsxs(Card,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:"Game Actions"}),jsxRuntimeExports.jsxs(Button,{className:cn("flex justify-start gap-2",{grayscale:t}),onClick:async()=>{n.setOperationInProgress("infinity-draw",!0),await n.addEnergy(-INFINITE_DRAW_COST),await n.draw(),isGameOver(n)&&await wait(2e3),n.setOperationInProgress("infinity-draw",!1)},disabled:t,size:"cta",children:[jsxRuntimeExports.jsx(ValueIcon,{value:INFINITE_DRAW_COST,type:"energy",isCost:!0,className:"w-8"})," ","Piocher une carte"]})]})})},useMusic=()=>{const[e,n]=React.useState(localStorage.getItem("muted")==="true");return React.useEffect(()=>{bank.music.mute(e),localStorage.setItem("muted",JSON.stringify(e))},[e]),React.useEffect(()=>(bank.music.playing()?bank.music.fade(0,.7,1e3):bank.music.play(),()=>{bank.music.fade(.7,0,1e3)}),[]),[e,()=>n(!e)]};function Svg$2(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),React.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),React.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function Svg$1(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M416 432 64 80"}),React.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),React.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function Svg(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}const CornerIcons=e=>{const[n,t]=useMusic(),a=useGlobalState(o=>o.toggleSettings);return jsxRuntimeExports.jsxs("div",{className:cn("absolute top-4 right-16 z-50 flex gap-2","transition-all duration-500 ease-in-out","translate-x-full opacity-0",{"translate-x-0 opacity-100":e.show}),children:[jsxRuntimeExports.jsx(Button,{onClick:a,variant:"icon",size:"icon",children:jsxRuntimeExports.jsx(Svg,{})}),jsxRuntimeExports.jsx(Button,{onClick:t,variant:"icon",size:"icon",children:n?jsxRuntimeExports.jsx(Svg$1,{}):jsxRuntimeExports.jsx(Svg$2,{})})]})};var NAME="Label",Label$1=reactExports.forwardRef((e,n)=>jsxRuntimeExports.jsx(Primitive.label,{...e,ref:n,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Label$1.displayName=NAME;var Root$2=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Root$2,{ref:t,className:cn(labelVariants(),e),...n}));Label.displayName=Root$2.displayName;function composeEventHandlers(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function createCollection(e){const n=e+"CollectionProvider",[t,a]=createContextScope(n),[o,c]=t(n,{collectionRef:{current:null},itemMap:new Map}),l=i=>{const{scope:u,children:d}=i,v=React.useRef(null),m=React.useRef(new Map).current;return jsxRuntimeExports.jsx(o,{scope:u,itemMap:m,collectionRef:v,children:d})};l.displayName=n;const f=e+"CollectionSlot",g=React.forwardRef((i,u)=>{const{scope:d,children:v}=i,m=c(f,d),h=useComposedRefs(u,m.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:h,children:v})});g.displayName=f;const p=e+"CollectionItemSlot",x="data-radix-collection-item",r=React.forwardRef((i,u)=>{const{scope:d,children:v,...m}=i,h=React.useRef(null),_=useComposedRefs(u,h),y=c(p,d);return React.useEffect(()=>(y.itemMap.set(h,{ref:h,...m}),()=>void y.itemMap.delete(h))),jsxRuntimeExports.jsx(Slot,{[x]:"",ref:_,children:v})});r.displayName=p;function s(i){const u=c(e+"CollectionConsumer",i);return React.useCallback(()=>{const v=u.collectionRef.current;if(!v)return[];const m=Array.from(v.querySelectorAll(`[${x}]`));return Array.from(u.itemMap.values()).sort((y,E)=>m.indexOf(y.ref.current)-m.indexOf(E.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:l,Slot:g,ItemSlot:r},s,a]}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1.useId||(()=>{}),count$1=0;function useId(e){const[n,t]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{t(a=>a??String(count$1++))},[e]),n?`radix-${n}`:""}function useCallbackRef$1(e){const n=reactExports.useRef(e);return reactExports.useEffect(()=>{n.current=e}),reactExports.useMemo(()=>(...t)=>{var a;return(a=n.current)==null?void 0:a.call(n,...t)},[])}function useControllableState({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,o]=useUncontrolledState({defaultProp:n,onChange:t}),c=e!==void 0,l=c?e:a,f=useCallbackRef$1(t),g=reactExports.useCallback(p=>{if(c){const r=typeof p=="function"?p(e):p;r!==e&&f(r)}else o(p)},[c,e,o,f]);return[l,g]}function useUncontrolledState({defaultProp:e,onChange:n}){const t=reactExports.useState(e),[a]=t,o=reactExports.useRef(a),c=useCallbackRef$1(n);return reactExports.useEffect(()=>{o.current!==a&&(c(a),o.current=a)},[a,o,c]),t}var DirectionContext=reactExports.createContext(void 0);function useDirection(e){const n=reactExports.useContext(DirectionContext);return e||n||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((e,n)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...e,ref:n})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:o=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:x=!1,...r}=e,s=reactExports.useRef(null),i=useComposedRefs(n,s),u=useDirection(c),[d=null,v]=useControllableState({prop:l,defaultProp:f,onChange:g}),[m,h]=reactExports.useState(!1),_=useCallbackRef$1(p),y=useCollection(t),E=reactExports.useRef(!1),[A,w]=reactExports.useState(0);return reactExports.useEffect(()=>{const R=s.current;if(R)return R.addEventListener(ENTRY_FOCUS,_),()=>R.removeEventListener(ENTRY_FOCUS,_)},[_]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:t,orientation:a,dir:u,loop:o,currentTabStopId:d,onItemFocus:reactExports.useCallback(R=>v(R),[v]),onItemShiftTab:reactExports.useCallback(()=>h(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>w(R=>R+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>w(R=>R-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:m||A===0?-1:0,"data-orientation":a,...r,ref:i,style:{outline:"none",...e.style},onMouseDown:composeEventHandlers(e.onMouseDown,()=>{E.current=!0}),onFocus:composeEventHandlers(e.onFocus,R=>{const b=!E.current;if(R.target===R.currentTarget&&b&&!m){const N=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(R.currentTarget.dispatchEvent(N),!N.defaultPrevented){const j=y().filter(C=>C.focusable),M=j.find(C=>C.active),T=j.find(C=>C.id===d),O=[M,T,...j].filter(Boolean).map(C=>C.ref.current);focusFirst$1(O,x)}}E.current=!1}),onBlur:composeEventHandlers(e.onBlur,()=>h(!1))})})}),ITEM_NAME$1="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:o=!1,tabStopId:c,...l}=e,f=useId(),g=c||f,p=useRovingFocusContext(ITEM_NAME$1,t),x=p.currentTabStopId===g,r=useCollection(t),{onFocusableItemAdd:s,onFocusableItemRemove:i}=p;return reactExports.useEffect(()=>{if(a)return s(),()=>i()},[a,s,i]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:t,id:g,focusable:a,active:o,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...l,ref:n,onMouseDown:composeEventHandlers(e.onMouseDown,u=>{a?p.onItemFocus(g):u.preventDefault()}),onFocus:composeEventHandlers(e.onFocus,()=>p.onItemFocus(g)),onKeyDown:composeEventHandlers(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){p.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const d=getFocusIntent(u,p.orientation,p.dir);if(d!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let m=r().filter(h=>h.focusable).map(h=>h.ref.current);if(d==="last")m.reverse();else if(d==="prev"||d==="next"){d==="prev"&&m.reverse();const h=m.indexOf(u.currentTarget);m=p.loop?wrapArray(m,h+1):m.slice(h+1)}setTimeout(()=>focusFirst$1(m))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$1;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function getFocusIntent(e,n,t){const a=getDirectionAwareKey(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return MAP_KEY_TO_FOCUS_INTENT[a]}function focusFirst$1(e,n=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:n}),document.activeElement!==t))return}function wrapArray(e,n){return e.map((t,a)=>e[(n+a)%e.length])}var Root$1=RovingFocusGroup,Item=RovingFocusGroupItem;function useSize(e){const[n,t]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let l,f;if("borderBoxSize"in c){const g=c.borderBoxSize,p=Array.isArray(g)?g[0]:g;l=p.inlineSize,f=p.blockSize}else l=e.offsetWidth,f=e.offsetHeight;t({width:l,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),n}function usePrevious(e){const n=reactExports.useRef({value:e,previous:e});return reactExports.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function useStateMachine(e,n){return reactExports.useReducer((t,a)=>n[t][a]??t,e)}var Presence=e=>{const{present:n,children:t}=e,a=usePresence(n),o=typeof t=="function"?t({present:a.isPresent}):reactExports.Children.only(t),c=useComposedRefs(a.ref,getElementRef(o));return typeof t=="function"||a.isPresent?reactExports.cloneElement(o,{ref:c}):null};Presence.displayName="Presence";function usePresence(e){const[n,t]=reactExports.useState(),a=reactExports.useRef({}),o=reactExports.useRef(e),c=reactExports.useRef("none"),l=e?"mounted":"unmounted",[f,g]=useStateMachine(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const p=getAnimationName(a.current);c.current=f==="mounted"?p:"none"},[f]),useLayoutEffect2(()=>{const p=a.current,x=o.current;if(x!==e){const s=c.current,i=getAnimationName(p);e?g("MOUNT"):i==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(x&&s!==i?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,g]),useLayoutEffect2(()=>{if(n){const p=r=>{const i=getAnimationName(a.current).includes(r.animationName);r.target===n&&i&&reactDomExports.flushSync(()=>g("ANIMATION_END"))},x=r=>{r.target===n&&(c.current=getAnimationName(a.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else g("ANIMATION_END")},[n,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:reactExports.useCallback(p=>{p&&(a.current=getComputedStyle(p)),t(p)},[])}}function getAnimationName(e){return(e==null?void 0:e.animationName)||"none"}function getElementRef(e){var a,o;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var RADIO_NAME="Radio",[createRadioContext,createRadioScope]=createContextScope(RADIO_NAME),[RadioProvider,useRadioContext]=createRadioContext(RADIO_NAME),Radio=reactExports.forwardRef((e,n)=>{const{__scopeRadio:t,name:a,checked:o=!1,required:c,disabled:l,value:f="on",onCheck:g,...p}=e,[x,r]=reactExports.useState(null),s=useComposedRefs(n,d=>r(d)),i=reactExports.useRef(!1),u=x?!!x.closest("form"):!0;return jsxRuntimeExports.jsxs(RadioProvider,{scope:t,checked:o,disabled:l,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"radio","aria-checked":o,"data-state":getState$1(o),"data-disabled":l?"":void 0,disabled:l,value:f,...p,ref:s,onClick:composeEventHandlers(e.onClick,d=>{o||g==null||g(),u&&(i.current=d.isPropagationStopped(),i.current||d.stopPropagation())})}),u&&jsxRuntimeExports.jsx(BubbleInput,{control:x,bubbles:!i.current,name:a,value:f,checked:o,required:c,disabled:l,style:{transform:"translateX(-100%)"}})]})});Radio.displayName=RADIO_NAME;var INDICATOR_NAME="RadioIndicator",RadioIndicator=reactExports.forwardRef((e,n)=>{const{__scopeRadio:t,forceMount:a,...o}=e,c=useRadioContext(INDICATOR_NAME,t);return jsxRuntimeExports.jsx(Presence,{present:a||c.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:n})})});RadioIndicator.displayName=INDICATOR_NAME;var BubbleInput=e=>{const{control:n,checked:t,bubbles:a=!0,...o}=e,c=reactExports.useRef(null),l=usePrevious(t),f=useSize(n);return reactExports.useEffect(()=>{const g=c.current,p=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==t&&r){const s=new Event("click",{bubbles:a});r.call(g,t),g.dispatchEvent(s)}},[l,t,a]),jsxRuntimeExports.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:c,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState$1(e){return e?"checked":"unchecked"}var ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RADIO_GROUP_NAME="RadioGroup",[createRadioGroupContext,createRadioGroupScope]=createContextScope(RADIO_GROUP_NAME,[createRovingFocusGroupScope,createRadioScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),useRadioScope=createRadioScope(),[RadioGroupProvider,useRadioGroupContext]=createRadioGroupContext(RADIO_GROUP_NAME),RadioGroup$1=reactExports.forwardRef((e,n)=>{const{__scopeRadioGroup:t,name:a,defaultValue:o,value:c,required:l=!1,disabled:f=!1,orientation:g,dir:p,loop:x=!0,onValueChange:r,...s}=e,i=useRovingFocusGroupScope(t),u=useDirection(p),[d,v]=useControllableState({prop:c,defaultProp:o,onChange:r});return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:t,name:a,required:l,disabled:f,value:d,onValueChange:v,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,...i,orientation:g,dir:u,loop:x,children:jsxRuntimeExports.jsx(Primitive.div,{role:"radiogroup","aria-required":l,"aria-orientation":g,"data-disabled":f?"":void 0,dir:u,...s,ref:n})})})});RadioGroup$1.displayName=RADIO_GROUP_NAME;var ITEM_NAME="RadioGroupItem",RadioGroupItem$1=reactExports.forwardRef((e,n)=>{const{__scopeRadioGroup:t,disabled:a,...o}=e,c=useRadioGroupContext(ITEM_NAME,t),l=c.disabled||a,f=useRovingFocusGroupScope(t),g=useRadioScope(t),p=reactExports.useRef(null),x=useComposedRefs(n,p),r=c.value===o.value,s=reactExports.useRef(!1);return reactExports.useEffect(()=>{const i=d=>{ARROW_KEYS.includes(d.key)&&(s.current=!0)},u=()=>s.current=!1;return document.addEventListener("keydown",i),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",u)}},[]),jsxRuntimeExports.jsx(Item,{asChild:!0,...f,focusable:!l,active:r,children:jsxRuntimeExports.jsx(Radio,{disabled:l,required:c.required,checked:r,...g,...o,name:c.name,ref:x,onCheck:()=>c.onValueChange(o.value),onKeyDown:composeEventHandlers(i=>{i.key==="Enter"&&i.preventDefault()}),onFocus:composeEventHandlers(o.onFocus,()=>{var i;s.current&&((i=p.current)==null||i.click())})})})});RadioGroupItem$1.displayName=ITEM_NAME;var INDICATOR_NAME2="RadioGroupIndicator",RadioGroupIndicator=reactExports.forwardRef((e,n)=>{const{__scopeRadioGroup:t,...a}=e,o=useRadioScope(t);return jsxRuntimeExports.jsx(RadioIndicator,{...o,...a,ref:n})});RadioGroupIndicator.displayName=INDICATOR_NAME2;var Root2$1=RadioGroup$1,Item2=RadioGroupItem$1,Indicator=RadioGroupIndicator;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...e)=>e.filter((n,t,a)=>!!n&&a.indexOf(n)===t).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:l,...f},g)=>reactExports.createElement("svg",{ref:g,...defaultAttributes,width:n,height:n,stroke:e,strokeWidth:a?Number(t)*24/Number(n):t,className:mergeClasses("lucide",o),...f},[...l.map(([p,x])=>reactExports.createElement(p,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,n)=>{const t=reactExports.forwardRef(({className:a,...o},c)=>reactExports.createElement(Icon,{ref:c,iconNode:n,className:mergeClasses(`lucide-${toKebabCase(e)}`,a),...o}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),RadioGroup=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Root2$1,{className:cn("grid gap-2",e),...n,ref:t}));RadioGroup.displayName=Root2$1.displayName;const RadioGroupItem=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Item2,{ref:t,className:cn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:jsxRuntimeExports.jsx(Indicator,{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RadioGroupItem.displayName=Item2.displayName;function useEscapeKeydown(e,n=globalThis==null?void 0:globalThis.document){const t=useCallbackRef$1(e);reactExports.useEffect(()=>{const a=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[t,n])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:l,onDismiss:f,...g}=e,p=reactExports.useContext(DismissableLayerContext),[x,r]=reactExports.useState(null),s=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,i]=reactExports.useState({}),u=useComposedRefs(n,w=>r(w)),d=Array.from(p.layers),[v]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),m=d.indexOf(v),h=x?d.indexOf(x):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,y=h>=m,E=usePointerDownOutside(w=>{const R=w.target,b=[...p.branches].some(N=>N.contains(R));!y||b||(o==null||o(w),l==null||l(w),w.defaultPrevented||f==null||f())},s),A=useFocusOutside(w=>{const R=w.target;[...p.branches].some(N=>N.contains(R))||(c==null||c(w),l==null||l(w),w.defaultPrevented||f==null||f())},s);return useEscapeKeydown(w=>{h===p.layers.size-1&&(a==null||a(w),!w.defaultPrevented&&f&&(w.preventDefault(),f()))},s),reactExports.useEffect(()=>{if(x)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=s.body.style.pointerEvents,s.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(x)),p.layers.add(x),dispatchUpdate(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(s.body.style.pointerEvents=originalBodyPointerEvents)}},[x,s,t,p]),reactExports.useEffect(()=>()=>{x&&(p.layers.delete(x),p.layersWithOutsidePointerEventsDisabled.delete(x),dispatchUpdate())},[x,p]),reactExports.useEffect(()=>{const w=()=>i({});return document.addEventListener(CONTEXT_UPDATE,w),()=>document.removeEventListener(CONTEXT_UPDATE,w)},[]),jsxRuntimeExports.jsx(Primitive.div,{...g,ref:u,style:{pointerEvents:_?y?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,A.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,E.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,n)=>{const t=reactExports.useContext(DismissableLayerContext),a=reactExports.useRef(null),o=useComposedRefs(n,a);return reactExports.useEffect(()=>{const c=a.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),jsxRuntimeExports.jsx(Primitive.div,{...e,ref:o})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,n=globalThis==null?void 0:globalThis.document){const t=useCallbackRef$1(e),a=reactExports.useRef(!1),o=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let g=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,t,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=g,n.addEventListener("click",o.current,{once:!0})):g()}else n.removeEventListener("click",o.current);a.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",c),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>a.current=!0}}function useFocusOutside(e,n=globalThis==null?void 0:globalThis.document){const t=useCallbackRef$1(e),a=reactExports.useRef(!1);return reactExports.useEffect(()=>{const o=c=>{c.target&&!a.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,t,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent(e,n,t,{discrete:a}){const o=t.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),a?dispatchDiscreteCustomEvent(o,c):o.dispatchEvent(c)}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((e,n)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...l}=e,[f,g]=reactExports.useState(null),p=useCallbackRef$1(o),x=useCallbackRef$1(c),r=reactExports.useRef(null),s=useComposedRefs(n,d=>g(d)),i=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(a){let d=function(_){if(i.paused||!f)return;const y=_.target;f.contains(y)?r.current=y:focus(r.current,{select:!0})},v=function(_){if(i.paused||!f)return;const y=_.relatedTarget;y!==null&&(f.contains(y)||focus(r.current,{select:!0}))},m=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&focus(f)};document.addEventListener("focusin",d),document.addEventListener("focusout",v);const h=new MutationObserver(m);return f&&h.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",v),h.disconnect()}}},[a,f,i.paused]),reactExports.useEffect(()=>{if(f){focusScopesStack.add(i);const d=document.activeElement;if(!f.contains(d)){const m=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);f.addEventListener(AUTOFOCUS_ON_MOUNT,p),f.dispatchEvent(m),m.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(f)),{select:!0}),document.activeElement===d&&focus(f))}return()=>{f.removeEventListener(AUTOFOCUS_ON_MOUNT,p),setTimeout(()=>{const m=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);f.addEventListener(AUTOFOCUS_ON_UNMOUNT,x),f.dispatchEvent(m),m.defaultPrevented||focus(d??document.body,{select:!0}),f.removeEventListener(AUTOFOCUS_ON_UNMOUNT,x),focusScopesStack.remove(i)},0)}}},[f,p,x,i]);const u=reactExports.useCallback(d=>{if(!t&&!a||i.paused)return;const v=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,m=document.activeElement;if(v&&m){const h=d.currentTarget,[_,y]=getTabbableEdges(h);_&&y?!d.shiftKey&&m===y?(d.preventDefault(),t&&focus(_,{select:!0})):d.shiftKey&&m===_&&(d.preventDefault(),t&&focus(y,{select:!0})):m===h&&d.preventDefault()}},[t,a,i.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...l,ref:s,onKeyDown:u})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(e,{select:n=!1}={}){const t=document.activeElement;for(const a of e)if(focus(a,{select:n}),document.activeElement!==t)return}function getTabbableEdges(e){const n=getTabbableCandidates(e),t=findVisible(n,e),a=findVisible(n.reverse(),e);return[t,a]}function getTabbableCandidates(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function findVisible(e,n){for(const t of e)if(!isHidden(t,{upTo:n}))return t}function isHidden(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function isSelectableInput(e){return e instanceof HTMLInputElement&&"select"in e}function focus(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&isSelectableInput(e)&&n&&e.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=arrayRemove(e,n),e.unshift(n)},remove(n){var t;e=arrayRemove(e,n),(t=e[0])==null||t.resume()}}}function arrayRemove(e,n){const t=[...e],a=t.indexOf(n);return a!==-1&&t.splice(a,1),t}function removeLinks(e){return e.filter(n=>n.tagName!=="A")}var PORTAL_NAME$2="Portal",Portal$1=reactExports.forwardRef((e,n)=>{var f;const{container:t,...a}=e,[o,c]=reactExports.useState(!1);useLayoutEffect2(()=>c(!0),[]);const l=t||o&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...a,ref:n}),l):null});Portal$1.displayName=PORTAL_NAME$2;var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",e[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),count--}},[])}function createFocusGuard(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var __assign=function(){return __assign=Object.assign||function(n){for(var t,a=1,o=arguments.length;a<o;a++){t=arguments[a];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},__assign.apply(this,arguments)};function __rest(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]]);return t}function __spreadArray(e,n,t){if(t||arguments.length===2)for(var a=0,o=n.length,c;a<o;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return e.concat(c||Array.prototype.slice.call(n))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function useCallbackRef(e,n){var t=reactExports.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(a){var o=t.value;o!==a&&(t.value=a,t.callback(a,o))}}}})[0];return t.callback=n,t.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(e,n){var t=useCallbackRef(null,function(a){return e.forEach(function(o){return assignRef(o,a)})});return useIsomorphicLayoutEffect(function(){var a=currentValues.get(t);if(a){var o=new Set(a),c=new Set(e),l=t.current;o.forEach(function(f){c.has(f)||assignRef(f,null)}),c.forEach(function(f){o.has(f)||assignRef(f,l)})}currentValues.set(t,e)},[e]),t}function ItoI(e){return e}function innerCreateMedium(e,n){n===void 0&&(n=ItoI);var t=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(c){var l=n(c,a);return t.push(l),function(){t=t.filter(function(f){return f!==l})}},assignSyncMedium:function(c){for(a=!0;t.length;){var l=t;t=[],l.forEach(c)}t={push:function(f){return c(f)},filter:function(){return t}}},assignMedium:function(c){a=!0;var l=[];if(t.length){var f=t;t=[],f.forEach(c),l=t}var g=function(){var x=l;l=[],x.forEach(c)},p=function(){return Promise.resolve().then(g)};p(),t={push:function(x){l.push(x),p()},filter:function(x){return l=l.filter(x),t}}}};return o}function createSidecarMedium(e){e===void 0&&(e={});var n=innerCreateMedium(null);return n.options=__assign({async:!0,ssr:!1},e),n}var SideCar$1=function(e){var n=e.sideCar,t=__rest(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign({},t))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,n){return e.useMedium(n),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,n){var t=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),o=a[0],c=a[1],l=e.forwardProps,f=e.children,g=e.className,p=e.removeScrollBar,x=e.enabled,r=e.shards,s=e.sideCar,i=e.noIsolation,u=e.inert,d=e.allowPinchZoom,v=e.as,m=v===void 0?"div":v,h=e.gapMode,_=__rest(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=s,E=useMergeRefs([t,n]),A=__assign(__assign({},_),o);return reactExports.createElement(reactExports.Fragment,null,x&&reactExports.createElement(y,{sideCar:effectCar,removeScrollBar:p,shards:r,noIsolation:i,inert:u,setCallbacks:c,allowPinchZoom:!!d,lockRef:t,gapMode:h}),l?reactExports.cloneElement(reactExports.Children.only(f),__assign(__assign({},A),{ref:E})):reactExports.createElement(m,__assign({},A,{className:g,ref:E}),f))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=getNonce();return n&&e.setAttribute("nonce",n),e}function injectStyles(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function insertStyleTag(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var stylesheetSingleton=function(){var e=0,n=null;return{add:function(t){e==0&&(n=makeStyleTag())&&(injectStyles(n,t),insertStyleTag(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(n,t){reactExports.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},styleSingleton=function(){var e=styleHookSingleton(),n=function(t){var a=t.styles,o=t.dynamic;return e(a,o),null};return n},zeroGap={left:0,top:0,right:0,gap:0},parse=function(e){return parseInt(e||"",10)||0},getOffset=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[parse(t),parse(a),parse(o)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var n=getOffset(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-t+n[2]-n[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,n,t,a){var o=e.left,c=e.top,l=e.right,f=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(f,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var n=e.noRelative,t=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;useLockAttribute();var c=reactExports.useMemo(function(){return getGapWidth(o)},[o]);return reactExports.createElement(Style,{styles:getStyles(c,!n,o,t?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!alwaysContainsScroll(e)&&t[n]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,n){var t=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=elementCouldBeScrolled(e,a);if(o){var c=getScrollVariables(e,a),l=c[1],f=c[2];if(l>f)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},getVScrollVariables=function(e){var n=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[n,t,a]},getHScrollVariables=function(e){var n=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[n,t,a]},elementCouldBeScrolled=function(e,n){return e==="v"?elementCouldBeVScrolled(n):elementCouldBeHScrolled(n)},getScrollVariables=function(e,n){return e==="v"?getVScrollVariables(n):getHScrollVariables(n)},getDirectionFactor=function(e,n){return e==="h"&&n==="rtl"?-1:1},handleScroll=function(e,n,t,a,o){var c=getDirectionFactor(e,window.getComputedStyle(n).direction),l=c*a,f=t.target,g=n.contains(f),p=!1,x=l>0,r=0,s=0;do{var i=getScrollVariables(e,f),u=i[0],d=i[1],v=i[2],m=d-v-c*u;(u||m)&&elementCouldBeScrolled(e,f)&&(r+=m,s+=u),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!g&&f!==document.body||g&&(n.contains(f)||n===f));return(x&&(Math.abs(r)<1||!o)||!x&&(Math.abs(s)<1||!o))&&(p=!0),p},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,n){return e[0]===n[0]&&e[1]===n[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(e){var n=reactExports.useRef([]),t=reactExports.useRef([0,0]),a=reactExports.useRef(),o=reactExports.useState(idCounter++)[0],c=reactExports.useState(styleSingleton)[0],l=reactExports.useRef(e);reactExports.useEffect(function(){l.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var d=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return d.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),d.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=reactExports.useCallback(function(d,v){if("touches"in d&&d.touches.length===2)return!l.current.allowPinchZoom;var m=getTouchXY(d),h=t.current,_="deltaX"in d?d.deltaX:h[0]-m[0],y="deltaY"in d?d.deltaY:h[1]-m[1],E,A=d.target,w=Math.abs(_)>Math.abs(y)?"h":"v";if("touches"in d&&w==="h"&&A.type==="range")return!1;var R=locationCouldBeScrolled(w,A);if(!R)return!0;if(R?E=w:(E=w==="v"?"h":"v",R=locationCouldBeScrolled(w,A)),!R)return!1;if(!a.current&&"changedTouches"in d&&(_||y)&&(a.current=E),!E)return!0;var b=a.current||E;return handleScroll(b,v,d,b==="h"?_:y,!0)},[]),g=reactExports.useCallback(function(d){var v=d;if(!(!lockStack.length||lockStack[lockStack.length-1]!==c)){var m="deltaY"in v?getDeltaXY(v):getTouchXY(v),h=n.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&deltaCompare(E.delta,m)})[0];if(h&&h.should){v.cancelable&&v.preventDefault();return}if(!h){var _=(l.current.shards||[]).map(extractRef).filter(Boolean).filter(function(E){return E.contains(v.target)}),y=_.length>0?f(v,_[0]):!l.current.noIsolation;y&&v.cancelable&&v.preventDefault()}}},[]),p=reactExports.useCallback(function(d,v,m,h){var _={name:d,delta:v,target:m,should:h,shadowParent:getOutermostShadowParent(m)};n.current.push(_),setTimeout(function(){n.current=n.current.filter(function(y){return y!==_})},1)},[]),x=reactExports.useCallback(function(d){t.current=getTouchXY(d),a.current=void 0},[]),r=reactExports.useCallback(function(d){p(d.type,getDeltaXY(d),d.target,f(d,e.lockRef.current))},[]),s=reactExports.useCallback(function(d){p(d.type,getTouchXY(d),d.target,f(d,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(c),e.setCallbacks({onScrollCapture:r,onWheelCapture:r,onTouchMoveCapture:s}),document.addEventListener("wheel",g,nonPassive),document.addEventListener("touchmove",g,nonPassive),document.addEventListener("touchstart",x,nonPassive),function(){lockStack=lockStack.filter(function(d){return d!==c}),document.removeEventListener("wheel",g,nonPassive),document.removeEventListener("touchmove",g,nonPassive),document.removeEventListener("touchstart",x,nonPassive)}},[]);var i=e.removeScrollBar,u=e.inert;return reactExports.createElement(reactExports.Fragment,null,u?reactExports.createElement(c,{styles:generateStyle(o)}):null,i?reactExports.createElement(RemoveScrollBar,{gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,n){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:n,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},correctTargets=function(e,n){return n.map(function(t){if(e.contains(t))return t;var a=unwrapHost(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},applyAttributeToOthers=function(e,n,t,a){var o=correctTargets(n,Array.isArray(e)?e:[e]);markerMap[t]||(markerMap[t]=new WeakMap);var c=markerMap[t],l=[],f=new Set,g=new Set(o),p=function(r){!r||f.has(r)||(f.add(r),p(r.parentNode))};o.forEach(p);var x=function(r){!r||g.has(r)||Array.prototype.forEach.call(r.children,function(s){if(f.has(s))x(s);else try{var i=s.getAttribute(a),u=i!==null&&i!=="false",d=(counterMap.get(s)||0)+1,v=(c.get(s)||0)+1;counterMap.set(s,d),c.set(s,v),l.push(s),d===1&&u&&uncontrolledNodes.set(s,!0),v===1&&s.setAttribute(t,"true"),u||s.setAttribute(a,"true")}catch(m){console.error("aria-hidden: cannot operate on ",s,m)}})};return x(n),f.clear(),lockCount++,function(){l.forEach(function(r){var s=counterMap.get(r)-1,i=c.get(r)-1;counterMap.set(r,s),c.set(r,i),s||(uncontrolledNodes.has(r)||r.removeAttribute(a),uncontrolledNodes.delete(r)),i||r.removeAttribute(t)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(e,n,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=getDefaultParent(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live]"))),applyAttributeToOthers(a,o,t,"aria-hidden")):function(){return null}},DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog=e=>{const{__scopeDialog:n,children:t,open:a,defaultOpen:o,onOpenChange:c,modal:l=!0}=e,f=reactExports.useRef(null),g=reactExports.useRef(null),[p=!1,x]=useControllableState({prop:a,defaultProp:o,onChange:c});return jsxRuntimeExports.jsx(DialogProvider,{scope:n,triggerRef:f,contentRef:g,contentId:useId(),titleId:useId(),descriptionId:useId(),open:p,onOpenChange:x,onOpenToggle:reactExports.useCallback(()=>x(r=>!r),[x]),modal:l,children:t})};Dialog.displayName=DIALOG_NAME;var TRIGGER_NAME$1="DialogTrigger",DialogTrigger=reactExports.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=useDialogContext(TRIGGER_NAME$1,t),c=useComposedRefs(n,o.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":getState(o.open),...a,ref:c,onClick:composeEventHandlers(e.onClick,o.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$1;var PORTAL_NAME$1="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME$1,{forceMount:void 0}),DialogPortal=e=>{const{__scopeDialog:n,forceMount:t,children:a,container:o}=e,c=useDialogContext(PORTAL_NAME$1,n);return jsxRuntimeExports.jsx(PortalProvider,{scope:n,forceMount:t,children:reactExports.Children.map(a,l=>jsxRuntimeExports.jsx(Presence,{present:t||c.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:o,children:l})}))})};DialogPortal.displayName=PORTAL_NAME$1;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay=reactExports.forwardRef((e,n)=>{const t=usePortalContext(OVERLAY_NAME$1,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,c=useDialogContext(OVERLAY_NAME$1,e.__scopeDialog);return c.modal?jsxRuntimeExports.jsx(Presence,{present:a||c.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...o,ref:n})}):null});DialogOverlay.displayName=OVERLAY_NAME$1;var DialogOverlayImpl=reactExports.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=useDialogContext(OVERLAY_NAME$1,t);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[o.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(o.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent=reactExports.forwardRef((e,n)=>{const t=usePortalContext(CONTENT_NAME$1,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,c=useDialogContext(CONTENT_NAME$1,e.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:a||c.open,children:c.modal?jsxRuntimeExports.jsx(DialogContentModal,{...o,ref:n}):jsxRuntimeExports.jsx(DialogContentNonModal,{...o,ref:n})})});DialogContent.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((e,n)=>{const t=useDialogContext(CONTENT_NAME$1,e.__scopeDialog),a=reactExports.useRef(null),o=useComposedRefs(n,t.contentRef,a);return reactExports.useEffect(()=>{const c=a.current;if(c)return hideOthers(c)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0;(l.button===2||f)&&c.preventDefault()}),onFocusOutside:composeEventHandlers(e.onFocusOutside,c=>c.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((e,n)=>{const t=useDialogContext(CONTENT_NAME$1,e.__scopeDialog),a=reactExports.useRef(!1),o=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l,f;(l=e.onCloseAutoFocus)==null||l.call(e,c),c.defaultPrevented||(a.current||(f=t.triggerRef.current)==null||f.focus(),c.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:c=>{var g,p;(g=e.onInteractOutside)==null||g.call(e,c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=c.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,...l}=e,f=useDialogContext(CONTENT_NAME$1,t),g=reactExports.useRef(null),p=useComposedRefs(n,g);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":getState(f.open),...l,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:f.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:g,descriptionId:f.descriptionId})]})]})}),TITLE_NAME$1="DialogTitle",DialogTitle=reactExports.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=useDialogContext(TITLE_NAME$1,t);return jsxRuntimeExports.jsx(Primitive.h2,{id:o.titleId,...a,ref:n})});DialogTitle.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="DialogDescription",DialogDescription=reactExports.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=useDialogContext(DESCRIPTION_NAME$1,t);return jsxRuntimeExports.jsx(Primitive.p,{id:o.descriptionId,...a,ref:n})});DialogDescription.displayName=DESCRIPTION_NAME$1;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=useDialogContext(CLOSE_NAME,t);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...a,ref:n,onClick:composeEventHandlers(e.onClick,()=>o.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(e){return e?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME$1,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{const n=useWarningContext(TITLE_WARNING_NAME),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return reactExports.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:e,descriptionId:n})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var c;const o=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(a))},[a,e,n]),null},Root=Dialog,Trigger=DialogTrigger,Portal=DialogPortal,Overlay=DialogOverlay,Content=DialogContent,Title=DialogTitle,Description=DialogDescription,Close=DialogClose,ROOT_NAME="AlertDialog",[createAlertDialogContext,createAlertDialogScope]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=e=>{const{__scopeAlertDialog:n,...t}=e,a=useDialogScope(n);return jsxRuntimeExports.jsx(Root,{...a,...t,modal:!0})};AlertDialog$1.displayName=ROOT_NAME;var TRIGGER_NAME="AlertDialogTrigger",AlertDialogTrigger$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Trigger,{...o,...a,ref:n})});AlertDialogTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="AlertDialogPortal",AlertDialogPortal$1=e=>{const{__scopeAlertDialog:n,...t}=e,a=useDialogScope(n);return jsxRuntimeExports.jsx(Portal,{...a,...t})};AlertDialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Overlay,{...o,...a,ref:n})});AlertDialogOverlay$1.displayName=OVERLAY_NAME;var CONTENT_NAME="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME),AlertDialogContent$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,children:a,...o}=e,c=useDialogScope(t),l=reactExports.useRef(null),f=useComposedRefs(n,l),g=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:t,cancelRef:g,children:jsxRuntimeExports.jsxs(Content,{role:"alertdialog",...c,...o,ref:f,onOpenAutoFocus:composeEventHandlers(o.onOpenAutoFocus,p=>{var x;p.preventDefault(),(x=g.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:a}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:l})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Title,{...o,...a,ref:n})});AlertDialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="AlertDialogDescription",AlertDialogDescription$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Description,{...o,...a,ref:n})});AlertDialogDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="AlertDialogAction",AlertDialogAction$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Close,{...o,...a,ref:n})});AlertDialogAction$1.displayName=ACTION_NAME;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel$1=reactExports.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,{cancelRef:o}=useAlertDialogContentContext(CANCEL_NAME,t),c=useDialogScope(t),l=useComposedRefs(n,o);return jsxRuntimeExports.jsx(Close,{...c,...a,ref:l})});AlertDialogCancel$1.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:e})=>{const n=`\`${CONTENT_NAME}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME}\` by passing a \`${DESCRIPTION_NAME}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},Root2=AlertDialog$1,Trigger2=AlertDialogTrigger$1,Portal2=AlertDialogPortal$1,Overlay2=AlertDialogOverlay$1,Content2=AlertDialogContent$1,Action=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=Root2,AlertDialogTrigger=Trigger2,AlertDialogPortal=Portal2,AlertDialogOverlay=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:t}));AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2,{ref:t,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n})]}));AlertDialogContent.displayName=Content2.displayName;const AlertDialogHeader=({className:e,...n})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",e),...n});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className:e,...n})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Title2,{ref:t,className:cn("text-lg font-semibold",e),...n}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Description2,{ref:t,className:cn("text-sm text-muted-foreground",e),...n}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Action,{ref:t,className:cn(buttonVariants({variant:"cta"}),e),...n}));AlertDialogAction.displayName=Action.displayName;const AlertDialogCancel=reactExports.forwardRef(({className:e,...n},t)=>jsxRuntimeExports.jsx(Cancel,{ref:t,className:cn(buttonVariants({variant:"default"}),"mt-2 sm:mt-0",e),...n}));AlertDialogCancel.displayName=Cancel.displayName;const Settings=e=>{const n=useCardGame(l=>l.score),t=useGlobalState(l=>l.toggleSettings),[a,o]=React.useState(settings.difficulty),c=React.useCallback(()=>{localStorage.setItem("settings",JSON.stringify({difficulty:a})),a!==settings.difficulty?window.location.reload():t()},[a,t]);return jsxRuntimeExports.jsx("div",{className:cn("absolute top-0 left-0 w-full h-full z-40 bg-background/80","flex items-center justify-center opacity-0 pointer-events-none","transition-opacity duration-500 ease-in-out",{"opacity-100 pointer-events-auto":e.show}),children:jsxRuntimeExports.jsxs(Card,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:"Settings"}),jsxRuntimeExports.jsx("div",{className:"grid *:space-y-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:"Difficulté"}),jsxRuntimeExports.jsx(RadioGroup,{className:"space-y-0 gap-0",defaultValue:a,onValueChange:l=>{o(l)},children:Object.keys(GAME_ADVANTAGE).map(l=>jsxRuntimeExports.jsxs(Label,{className:"flex items-center gap-2 py-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:l}),l]},l))})]})}),n>0&&a!==settings.difficulty?jsxRuntimeExports.jsxs(AlertDialog,{children:[jsxRuntimeExports.jsx(AlertDialogTrigger,{children:jsxRuntimeExports.jsx(Button,{children:"Appliquer"})}),jsxRuntimeExports.jsxs(AlertDialogContent,{className:"w-fit",children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{className:"text-2xl",children:"Une partie est en cours !"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:["Cette action va réinitialiser votre partie. ",jsxRuntimeExports.jsx("br",{}),"Êtes-vous sûr de vouloir continuer ?"]})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:c,children:"Continue"})]})]})]}):jsxRuntimeExports.jsx(Button,{onClick:c,children:"Appliquer"})]})})},Game=()=>{const e=useCardGame(),[n,t]=useGlobalState(a=>[a.isCardGameVisible,a.settingsVisible]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helpers,{show:n}),jsxRuntimeExports.jsx(Upgrades,{show:n}),jsxRuntimeExports.jsx(Scoreboard,{show:n}),jsxRuntimeExports.jsx(GameValues,{show:n}),jsxRuntimeExports.jsx(GameOver,{show:n}),jsxRuntimeExports.jsx(GameActions,{show:n}),jsxRuntimeExports.jsx(CornerIcons,{show:n}),jsxRuntimeExports.jsx(Settings,{show:n&&t}),!1,jsxRuntimeExports.jsx("div",{className:cn("absolute flex items-center -translate-x-1/2 max-w-[100vw]","left-[50vw] transition-[bottom] ease-in-out duration-1000",n?"bottom-[-50px]":"-bottom-full"),children:e.hand.sort((a,o)=>{const c=a.effect.type==="action"?1:0,l=o.effect.type==="action"?1:0,f=typeof a.effect.cost=="string"?1:0,g=typeof o.effect.cost=="string"?1:0,p=Number(a.effect.cost),x=Number(o.effect.cost),r=a.effect.description.localeCompare(o.effect.description);return c-l||f-g||p-x||r}).map((a,o)=>jsxRuntimeExports.jsx(GameCard,{card:a,position:o},o))})]})};export{Game};
