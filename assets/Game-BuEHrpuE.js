import{a as Tt,d as Je,j as r,T as D,M as qe,e as je,f as We,g as ut,h as Qa,R as hn,i as Vt,k as Sr,l as hc,m as fe,n as Ge,o as pn,s as pc,p as gc,q as fa,t as qt,v as Et,w as re,x as vc,y as es,I as ma,z as ts,A as xc,B as ha,C as Er,D as ns,E as rs,F as Pr,G as Pt,H as as,J as De,K as Wn,L as W,N as yc,O as wc,P as Hn,Q as Rt,S as bc,U as vt,V as X,W as ge,X as ze,Y as it,Z as dn,$ as xt,a0 as ss,a1 as sr,a2 as jc,a3 as Cc,a4 as St,a5 as os,a6 as or,a7 as Nc,a8 as ct,a9 as j,u as Ne,aa as Yt,r as u,ab as Q,c as S,ac as ue,ad as T,ae as Sc,af as ir,ag as Ec,ah as is,ai as et,aj as ls,ak as cs,al as Rr,am as gn,an as Pc,ao as ds,ap as vn,aq as Rc,ar as Mn,as as Zt,at as An,au as kc,av as Mc,aw as Ac,ax as Ic,ay as _t,az as Tc,aA as us,aB as Oc,aC as Dc,aD as fs,aE as ms,aF as Lc,aG as _c,aH as Fc,aI as $c,aJ as pa,aK as zc,aL as hs,aM as Bc,aN as Gc,aO as xn,aP as lt,aQ as lr,aR as qc,aS as de,aT as yn,aU as Wc,aV as Hc,aW as Vc,aX as Uc,aY as Kc,aZ as zt,a_ as ga,a$ as Yc,b0 as Zc,b1 as Xc,b2 as va}from"./index-Bxm9OURf.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Tt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),cr=[{name:"PremiÃ¨re victoire",description:"Gagne une partie",unlockCondition:e=>e.wonGames>=1},{name:"ConquÃ©rant",description:"Gagne 5 parties",unlockCondition:e=>e.wonGames>=5},{name:"Try harder",description:"Gagne 25 parties",unlockCondition:e=>e.wonGames>=10},{name:"MaÃ®tre du jeu",description:"Utilise 5 amÃ©liorations diffÃ©rentes en une partie",unlockCondition:e=>e.upgrades.length>=5},{name:"Enutrof",description:"Utilise toutes les amÃ©liorations Ã©conomiques en une partie",unlockCondition:e=>Je.filter(t=>t.tags.includes("money")).every(t=>e.upgrades.some(n=>n.name===t.name))},{name:"Eliatrop",description:"Utilise toutes les amÃ©liorations Ã©nergÃ©tiques en une partie",unlockCondition:e=>Je.filter(t=>t.tags.includes("energy")||t.tags.includes("reputation")).every(t=>e.upgrades.some(n=>n.name===t.name))},{name:"Ecaflip",description:r.jsxs(r.Fragment,{children:[r.jsx(D,{name:"coinFlip"})," 20 fois en une partie"]}),unlockCondition:e=>e.coinFlips>=20},{name:"Xelor",description:`Ai ${qe} cartes en main qui coutent zÃ©ro en mÃªme temps`,unlockCondition:e=>e.hand.filter(t=>je(t,e).effect.cost.value<=0).length>=5},{name:"Sadida",description:r.jsxs(r.Fragment,{children:[r.jsx(D,{name:"recycle"})," 150 cartes en une partie"]}),unlockCondition:e=>e.recycledCards>=150},{name:"Sacrieur",description:r.jsxs(r.Fragment,{children:[r.jsx(D,{name:"discard"})," 50 cartes en une partie"]}),unlockCondition:e=>e.discardedCards>=50},{name:"Trader",description:r.jsxs(r.Fragment,{children:["Ai 7 cartes ",r.jsx(D,{name:"action"})," en main en mÃªme temps"]}),unlockCondition:e=>e.hand.filter(t=>je(t,e).type==="action").length>=7},{name:"Milliardaire",description:r.jsxs(r.Fragment,{children:["Gagne ",r.jsx(We,{M$:1e3})," en une partie"]}),unlockCondition:e=>e.money>=1e3},{name:"Collectionneur",description:"DÃ©couvre 30 cartes diffÃ©rentes",unlockCondition:e=>e.discoveries.length>=30},{name:"Perfectionniste",description:r.jsxs(r.Fragment,{children:["DÃ©couvrir toutes les cartes ",r.jsx(D,{name:"upgrade"})]}),unlockCondition:e=>Je.every(t=>e.discoveries.includes(t.name))},{name:"ComplÃ©tionniste",description:"DÃ©couvre toutes les cartes",unlockCondition:e=>e.discoveries.length===ut.length},{name:"Retro gamer",description:"Utilise le Konami code",unlockCondition:e=>e.debug},{name:"Changer de thÃªme",description:"Change le thÃªme du jeu",unlockCondition:()=>Qa().theme!=="default"},{name:"Procrastinateur",description:r.jsxs(r.Fragment,{children:["Faire durer la partie plus de 90 ",r.jsx(D,{name:"day",plural:!0})]}),unlockCondition:e=>e.day>=90},{name:"SÃ©lectif",description:r.jsxs(r.Fragment,{children:["Passer 20 ",r.jsx(D,{name:"pick",children:"choix de carte"})," en une partie"]}),unlockCondition:e=>e.skippedChoices>=20},{name:"Jour, nuit, jour, nuit...",description:"Passe du thÃ¨me clair au thÃ¨me sombre 2 fois",unlockCondition:()=>+(localStorage.getItem("Jour, nuit, jour, nuit...")??0)>=4},{name:"Le temps c'est de l'argent",description:r.jsxs(r.Fragment,{children:["Gagne ",r.jsx(We,{M$:100})," avant le deuxiÃ¨me ",r.jsx(D,{name:"day"})]}),unlockCondition:e=>e.money>=100&&e.day<=1},{name:"Ultra badass",description:r.jsxs(r.Fragment,{children:["Obtient une carte de ",r.jsx(D,{name:"level"})," ",r.jsx(hn,{advantage:Vt.singularity})," ou plus"]}),unlockCondition:e=>Sr(e).some(t=>t.rarity>=Vt.singularity)}],dr={version:"1.1.7"};function vs(){const e=localStorage.getItem("globals");return e?JSON.parse(e):{debug:!1,scoreAverage:0,totalMoney:0,wonGames:0,playedGames:0,discoveries:[],achievements:[]}}function td(e,t){const n=()=>{const a=t();localStorage.setItem("globals",JSON.stringify({debug:a.debug,wonGames:a.wonGames,achievements:a.achievements,playedGames:a.playedGames,discoveries:a.discoveries,scoreAverage:a.scoreAverage,totalMoney:a.totalMoney}))};return{setDebug:a=>{e({debug:a}),n()},checkAchievements:async()=>{await fe(t,async()=>{const a=t();for(const s of cr)a.achievements.includes(s.name)||s.unlockCondition(t())&&(a.setOperationInProgress("checkAchievements",!0),await a.addAchievement(s.name));a.setOperationInProgress("checkAchievements",!1)})},checkDiscoveries:()=>{Et(t,()=>{const a=t();a.addDiscovery(...Ge(a).map(s=>s.name))})},addDiscovery:(...a)=>{Et(t,()=>{e(s=>({discoveries:Array.from(new Set([...s.discoveries,...a]))})),n()})},addAchievement:async a=>{await fe(t,async()=>{e(s=>({achievements:Array.from(new Set([...s.achievements,a]))})),re.achievement.play(),await t().addScreenMessage({header:"SuccÃ¨s dÃ©verrouillÃ©",message:a,className:"bg-primary text-primary-foreground text-center"}),n()})},addWonGame:()=>{Et(t,()=>{const a=t();e({wonGames:a.wonGames+1,scoreAverage:a.scoreAverage+(a.score-a.scoreAverage)/(a.wonGames+1),totalMoney:a.totalMoney+a.money,playedGames:a.playedGames+1}),n()})},addPlayedGame:()=>{Et(t,()=>{const a=t();e({playedGames:a.playedGames+1,totalMoney:a.totalMoney+a.money}),n()})}}}function xs(){const e=Qa().difficulty,t=localStorage.getItem("metadata"),n=localStorage.getItem("save");if(n&&JSON.stringify(dr)===t)return vc(n);localStorage.setItem("metadata",JSON.stringify(dr));const a=["Prettier","Knex","Jest","Processing"],s=[{header:["default"],options:es(ut.filter(o=>a.every(i=>i!==o.name)&&!o.effect().tags.includes("upgrade")),5).slice(0,ma).map(o=>({name:o.name,state:"idle",initialRarity:ts()}))}];for(let o=0;o<xc;o++)s.push({noResource:!0,header:["default"],filter:["!@upgrade"]});return{detail:null,selectedCard:null,coinFlips:0,recycledCards:0,discardedCards:0,skippedChoices:0,difficulty:e,error:null,choiceOptions:s,choiceOptionCount:ma,logs:[],screenMessageQueue:[],operationInProgress:["choices"],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,requestedCancel:!1,draw:a.slice(qe-2).map(o=>({name:o,state:"idle",initialRarity:Vt.common})),hand:a.slice(0,qe-2).map(o=>({name:o,state:"idle",initialRarity:Vt.common})),revivedHand:[],revivedDraw:[],revivedDiscard:[],playZone:[],discard:[],upgrades:[],globalCardModifiers:[{name:"upgrade cost threshold",params:[],reason:"Promotion temporaire"},{name:"all card inflation",params:[],reason:"Inflation"}],day:0,dayFull:!1,sprintFull:!1,energy:ha,energyMax:ha,reputation:Er,money:0,inflation:0}}function nd(e,t){return{setDetail:n=>{e({detail:n})},nextChoiceOptions:()=>{const a=t().choiceOptions.slice(1);e(s=>({choiceOptions:a.length>0?[ns(s,a[0]),...a.slice(1)]:[]}))},skipChoiceOptions:async n=>{await fe(t,async()=>{re.play.play();const a=t();await a.addEnergy(rs(a.day)&&a.choiceOptions.length===1?10:5,{reason:n.reason,skipGameOverPause:!0}),a.nextChoiceOptions(),await a.increments("skippedChoices")})},increments:async(n,a)=>{const s=t();typeof s[n]=="number"&&(e({[n]:s[n]+(a??1)}),await s.checkAchievements())},incrementsInflation:async()=>{const n=t();n.setOperationInProgress("inflation",!0),await n.transformCardsAnimation(Ge(n).map(a=>a.name),async()=>{re.powerUp.play(),e(a=>({inflation:a.inflation+Pr}))}),n.setOperationInProgress("inflation",!1)},handleError:n=>(n instanceof Error?e({error:n}):e({error:new Error(String(n))}),n),coinFlip:async n=>{await fe(t,async()=>{re.coinFlip.play();const a=t();a.setOperationInProgress("coinFlip",!0);const o=Math.random()>.5?"head":"tail",i=n[o].message;await Promise.all([await a.addScreenMessage({message:i,className:"bg-background text-foreground"}),await n[o].onTrigger(a,n.card,n.reason)]),await a.increments("coinFlips"),a.setOperationInProgress("coinFlip",!1)})},advanceTime:async n=>{await fe(t,async()=>{if(n<0)return;const a=t();a.setOperationInProgress("advanceTime",!0);const s=a.upgrades.length/Je.length,o=Ge(a).length/ut.length,i=a.money/Pt,l=as(.3*o+.3*s+.4*i,0,1,De,De*.2),c=Math.max(l,n*l);if(c<l)throw a.handleError(new Error(`Not enough energy to advance time: ${n}`));let d=Math.floor(a.day);const f=a.day+c,h=Math.floor(f);for(d;d<h;d++){const g=d!==0&&(d+1)%7===0,v=g&&(d+1)%28===0;if(e({day:d+1,dayFull:!0,sprintFull:g}),re.bell.play(),g&&re.upgrade.play(),await a.addScreenMessage({message:g?`Sprint ${Math.floor((d+1)/7)}`:`Jour ${d+1}`,className:g?"bg-upgrade text-upgrade-foreground":"bg-day text-day-foreground"}),await a.triggerEvent("daily"),e(p=>({dayFull:!1,choiceOptions:g?p.choiceOptions:[...p.choiceOptions,Wn(t(),{header:["default"],filter:["!@upgrade"]})]})),g){await a.triggerEvent("weekly");const p=t();e(m=>({sprintFull:!1,choiceOptions:[...m.choiceOptions,Wn(p,{noResource:!0,header:["action"],filter:["!@upgrade","@action"]}),Wn(p,{noResource:!0,header:["upgrade"],filter:["@upgrade"]})]})),v&&(await a.addScreenMessage({header:"L'inflation augmente",message:`Mois ${Math.floor((d+1)/7)}`,className:"bg-inflation text-inflation-foreground"}),a.incrementsInflation(),await a.triggerEvent("monthly"))}await W(1e3)}e({day:f,dayFull:null,sprintFull:null}),a.setOperationInProgress("advanceTime",!1)})},addLog:n=>{e(a=>({logs:[...a.logs,n].slice(-yc)}))},addScreenMessage:async n=>{await fe(t,async()=>{const a=t(),s=a.screenMessageQueue.length===0;s&&a.setOperationInProgress("screenMessage",!0),e({screenMessageQueue:[...a.screenMessageQueue,{...n,id:Math.random()}]}),await wc(()=>t().screenMessageQueue.length===0),s&&a.setOperationInProgress("screenMessage",!1)})},dangerouslyUpdate:n=>e(n),setOperationInProgress:(n,a)=>{Et(t,()=>{e(s=>({operationInProgress:a?Array.from(new Set([...s.operationInProgress,n])):s.operationInProgress.filter(o=>o!==n)}))})},updateScore:()=>{Et(t,()=>{const n=t(),a=1,s=os,o=1/or,i=n.energy*a,l=n.reputation*s,c=n.money*o;let d=0;n.upgrades.forEach(m=>{const x=Rt(m);d+=(x.cost.type==="money"?x.cost.value/or:x.cost.value)*x.cumul});let f=1;n.day<=28?f=2:n.day<=56&&(f=1.5);const h=1+(Nc[ct.difficulty]-3)*.2,v=(i+l+c+d)*f*h,p=n.money/Pt;e({score:Math.round(v*p*10)})})},addEnergy:async(n,a)=>{await fe(t,async()=>{const s=t();if(s.setOperationInProgress("energy",!0),n>0){const o=Math.min(n,s.energyMax-s.energy);o>0&&s.addLog({value:o,type:"energy",reason:a.reason}),e(i=>({energy:Math.max(0,Math.min(i.energyMax,i.energy+n))})),re.gain.play(),await W()}else if(n<0){const o=t(),i=Math.abs(n)-o.energy,l=Math.min(Math.abs(n),o.energy);l>0&&o.addLog({value:-l,type:"energy",reason:a.reason}),i>0?(e({energy:0}),await o.addReputation(-i,a)):e(c=>({energy:c.energy+n}))}s.setOperationInProgress("energy",!1)})},addMaxEnergy:async(n,a)=>{await fe(t,async()=>{if(n===0)return;const s=t();s.setOperationInProgress("maxEnergy",!0),e(o=>({energyMax:Math.max(0,o.energyMax+n)})),n>0?(re.powerUp.play(),await W(),await s.addEnergy(n,a)):(re.loss.play(),await W(),s.energy>s.energyMax&&await s.addEnergy(s.energyMax-s.energy,a)),s.setOperationInProgress("maxEnergy",!1)})},addReputation:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress("reputation",!0),n===10?re.powerUp.play():n>0?re.gain.play():re.loss.play(),n!==0&&s.addLog({value:n,type:"reputation",reason:a.reason}),e(o=>({reputation:Math.max(0,Math.min(Er,o.reputation+n))})),await W(),n<0&&await s.triggerEvent("onReputationDeclines"),!(a!=null&&a.skipGameOverPause)&&qt(s)&&await W(2e3),s.setOperationInProgress("reputation",!1)})},addMoney:async(n,a)=>{await fe(t,async()=>{let s=t();s.setOperationInProgress("money",!0),n!==0&&s.addLog({value:n,type:"money",reason:a==null?void 0:a.reason}),n>0&&(re.cashing.play(),await W()),e(o=>({money:o.money+n})),s=t(),!(a!=null&&a.skipGameOverPause)&&s.money>=Pt&&await W(2e3),s.setOperationInProgress("money",!1)})},upgrade:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`upgrade ${n}`,!0);const s=Je.find(o=>o.name===n);re.upgrade.play(),a.upgrades.find(o=>o.name===n)?e(o=>({upgrades:o.upgrades.map(i=>i.name===n?{...i,cumul:i.cumul+1}:i)})):e(o=>({upgrades:[...o.upgrades,{name:s.name,cumul:1,state:"appear"}]})),await W(),e(o=>({upgrades:Hn(o.upgrades,n,"idle")})),s.eventName==="onUpgradeThis"&&await a.triggerUpgrade(n,{}),await a.checkAchievements(),a.setOperationInProgress(`upgrade ${n}`,!1)})},triggerUpgrade:async(n,a)=>{await fe(t,async()=>{const s=t(),o=s.upgrades.find(l=>l.name===n),i=Rt(o);(!i.condition||i.condition(t(),i))&&(s.setOperationInProgress(`triggerUpgrade ${n}`,!0),e({upgrades:Hn(s.upgrades,n,"triggered")}),await W(),await i.onTrigger(t(),i,(a==null?void 0:a.reason)??o),e(l=>({upgrades:Hn(l.upgrades,n,"idle")})),s.setOperationInProgress(`triggerUpgrade ${n}`,!1))})},triggerEvent:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`triggerUpgradeEvent ${n}`,!0);const s=a.upgrades.map(o=>Rt(o)).filter(o=>o.eventName===n);for(const o of s)await a.triggerUpgrade(o.name,{reason:bc(o)});a.setOperationInProgress(`triggerUpgradeEvent ${n}`,!1)})},addGlobalCardModifier:async(n,a,s)=>{await fe(t,async()=>{re.powerUp.play();const o={name:n,params:a,reason:s};e(i=>({globalCardModifiers:[...i.globalCardModifiers,o]})),await W()})},transformCardsAnimation:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress("transformCards",!0);const o=vt(),i=Sr(s).filter(l=>n.includes(l.name));e(l=>({hand:X(l.hand,n,"transforming"),draw:X(l.draw,n,"transforming"),discard:X(l.discard,n,"transforming")})),await W(o/2),await a(i),await W(o/2),e(l=>({hand:X(l.hand,n,"idle"),draw:X(l.draw,n,"idle"),discard:X(l.discard,n,"idle")})),s.setOperationInProgress("transformCards",!1)})},shuffleStack:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`shuffleStack ${n}`,!0),re.shuffle.play();const s=vt()/2;await W(s),e(o=>{const i=n==="draw"?"revivedDraw":"revivedDiscard",l=es(o[i],3);return{[n]:l.map(c=>ge(c)),[i]:l}}),await W(s),a.setOperationInProgress(`shuffleStack ${n}`,!1)})},riseToTheStackSurface:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress(`shuffleStack ${n}`,!0),re.shuffle.play();const o=vt()/2;await W(o),e(i=>{const l=i[n].map(h=>je(h,i)),c=l.filter(a),f=[...l.filter(h=>!a(h)),...c];return{[n]:f.map(h=>ge(h)),[n==="draw"?"revivedDraw":"revivedDiscard"]:f}}),await W(o),s.setOperationInProgress(`shuffleStack ${n}`,!1)})},drawCard:async(n=1,a)=>{await fe(t,async()=>{let s=t();const o=a!=null&&a.fromDiscardPile?"discard":"draw",i=s[o].toReversed().filter(c=>{if(!a.filter)return!0;const d=je(c,s);return a.filter(d)}).slice(0,Math.min(n,qe-s.hand.length,s[o].length));if(i.length===0)return;s.setOperationInProgress("draw",!0),a.filter&&await s.riseToTheStackSurface(o,a.filter);const l=async c=>{s.addLog({reason:c,type:"cardManagement",value:o==="draw"?ze.draw:ze.drawFromDiscard}),e(d=>({[o]:X(d[o],c.name,"playing")})),await W(),e(d=>({[o]:it(d[o],c.name),hand:dn(xt(d.hand,X([c],"landing"),!0),d).map(f=>ge(f))})),o==="draw"?re.draw.play():re.recycle.play(),await W(),e(d=>({hand:X(d.hand,c.name,"idle")}))};if(i.length>3){const c=vt();await Promise.all(i.map(async(d,f)=>{await W(c/2*f+f),await l(d)}))}else for(const c of i)await l(c);await s.triggerEvent("onDraw"),s=t(),!(a!=null&&a.skipGameOverPause)&&qt(s)&&await W(2e3),s.setOperationInProgress("draw",!1)})},discardCard:async n=>{await fe(t,async()=>{const a=n!=null&&n.toDraw?"draw":"discard",s=t();s.setOperationInProgress("discard",!0);const o=s.hand.filter(c=>!(n!=null&&n.filter)||n.filter(je(c,s))),i=n!=null&&n.random?[o[Math.floor(Math.random()*s.hand.length)]]:o,l=async c=>{re.drop.play(),s.addLog({reason:c,type:"cardManagement",value:a==="discard"?ze.discard:ze.giveBack}),e(d=>({hand:X(d.hand,c.name,"discarding")})),await W(),e(d=>({hand:it(d.hand,c.name),[a]:xt(d[a],X([c],"landing"),!0)})),await W(),e(d=>({[a]:X(d[a],c.name,"idle")}))};if(i.length===s.hand.length){const c=vt();await Promise.all(i.map(async(d,f)=>{await W(c/2*f+f),await l(d)}))}else for(const c of i)await l(c);a==="draw"&&await s.shuffleStack("draw"),await s.increments("discardedCards",i.length),s.setOperationInProgress("discard",!1)})},removeCard:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`removeCard ${n}`,!0),a.addLog({reason:Ge(a).find(o=>o.name===n),type:"cardManagement",value:ze.destroy}),a.hand.some(o=>o.name===n)&&(e({hand:X(a.hand,n,"removing"),discard:X(a.discard,n,"removing"),draw:X(a.draw,n,"removing"),playZone:X(a.playZone,n,"removing")}),re.remove.play(),await W(),e({hand:X(a.hand,n,"idle"),discard:X(a.discard,n,"idle"),draw:X(a.draw,n,"idle"),playZone:X(a.playZone,n,"idle")}));const s=["discard","draw","hand","playZone"];e(o=>({...s.reduce((i,l)=>({...i,[l]:o[l].filter(c=>c.name!==n)}),{})})),a.setOperationInProgress(`removeCard ${n}`,!1)})},recycleCard:async n=>{await fe(t,async()=>{if(n.count===void 0&&(n.count=1/0),n.count<=0)return;let a=t();if(a.discard.length===0)return;a.setOperationInProgress("recycle",!0),a.discard.length>1&&(n.filter?(await a.riseToTheStackSurface("discard",n.filter),a=t()):n.shuffleBefore&&(await a.shuffleStack("discard"),a=t()));const s=a.discard.toReversed().filter(i=>!n.filter||n.filter(je(i,a))).slice(0,n.count),o=async i=>{a.addLog({reason:i,type:"cardManagement",value:ze.recycle}),re.recycle.play(),e(l=>({discard:X(l.discard,i.name,"playing")})),await W(),e(l=>({discard:it(l.discard,i.name),draw:xt(l.draw,[{...i,state:"landing"}],!0)})),await W(),e(l=>({draw:X(l.draw,i.name,"idle")}))};if(s.length>3){const i=vt();await Promise.all(s.map(async(l,c)=>{await W(i/2*c+c),await o(l)}))}else for(const i of s)await o(i);await a.increments("recycledCards",s.length),a.setOperationInProgress("recycle",!1)})},selectCard:n=>{e({selectedCard:n})},waitCardSelection:async n=>{const a=n.from.map(l=>Array.isArray(l)?l[0]:l.name);e(l=>({requestedCancel:!1,selectedCard:null,hand:X(l.hand,a,"selected")}));const s=t();s.setOperationInProgress("selectCard",!0);let o;const i=await new Promise(l=>{const c=()=>{e(h=>({hand:X(h.hand,a,"idle")}))},d=h=>{l(je(h,s)),clearInterval(o),e({selectedCard:null}),c()},f=()=>{l(null),clearInterval(o),e({requestedCancel:!1}),c()};o=setInterval(()=>{const h=t();if(h.requestedCancel)return f();h.selectedCard&&(n.from.some(g=>(Array.isArray(g)?g[0]:g.name)===h.selectedCard)?d(h.selectedCard):f())},100),setTimeout(()=>{f()},n.timeout??1e4)});return await W(),s.setOperationInProgress("selectCard",!1),i},playCard:async(n,a)=>{await fe(t,async()=>{const s=!!(a!=null&&a.free);let o=t();const i=(a==null?void 0:a.reason)??n,l=async()=>{re.unauthorized.play(),e({hand:X(o.hand,n.name,"unauthorized")}),await W(),e({hand:X(o.hand,n.name,"idle")})};if(n.effect.condition&&!n.effect.condition(o,n)){await l();return}if(s||n.effect.cost.value<=0||ss(n,o))o.setOperationInProgress(`play ${n.name}`,!0);else{await l();return}let c=[];if((n.effect.prePlay||n.effect.needsPlayZone)&&(e(p=>({hand:X(p.hand,n.name,"playing")})),await W(),e(p=>({playZone:X([...p.playZone,ge(n)],n.name,"landing"),hand:it(p.hand,n.name)})),await W(),e(p=>({playZone:X(p.playZone,n.name,"idle")})),n.effect.prePlay)){const p=await n.effect.prePlay(o,n);if(p==="cancel"){e(m=>({playZone:X(m.playZone,n.name,"discarding")})),await W(),e(m=>({playZone:it(m.playZone,n.name),hand:dn(X([...m.hand,ge(n)],n.name,"landing"),m).map(x=>ge(x))})),await W(),e(m=>({hand:X(m.hand,n.name,"idle")})),o.setOperationInProgress(`play ${n.name}`,!1);return}else c=p}if(o.addLog({reason:ge(n),type:"cardManagement",value:ze.play}),!s){const p=sr(n.effect.cost,o);await(n.effect.cost.type==="money"?o.addMoney(-p,{skipGameOverPause:!0,reason:i}):o.addEnergy(-p,{skipGameOverPause:!0,reason:i}))}re.play.play(),je(ge(n),o,{clean:!0});const d=jc(t(),n),f=n.effect.tags.includes("recyclage"),h=d?"removing":"playing";!n.effect.needsPlayZone&&!n.effect.prePlay&&e(p=>({hand:X(p.hand,n.name,h)}));const g=async()=>{f&&re.recycle.play(),d&&re.remove.play(),n.effect.needsPlayZone&&(e(m=>({playZone:X(m.playZone,n.name,h)})),await W()),e(m=>({discard:d||f?m.discard:xt(m.discard,[ge(n,"landing")],!0),draw:f?xt(m.draw,[ge(n,"landing")],!0):m.draw,hand:it(m.hand,n.name),playZone:it(m.playZone,n.name)})),await W(),e(m=>({discard:X(m.discard,n.name,"idle"),draw:X(m.draw,n.name,"idle")}));const p=t();(f||n.effect.tags.includes("recycle"))&&p.draw.length>1&&await p.shuffleStack("draw"),!d&&!f&&p.discard.length>1&&await p.shuffleStack("discard")},v=async()=>{await n.effect.onPlayed(t(),n,i,...c)};n.effect.waitBeforePlay?(await W(),await g(),await v()):n.effect.needsPlayZone||n.effect.prePlay?(await v(),await g()):await Promise.all([W().then(()=>g()),v()]),await o.triggerEvent("onPlay"),o=t(),o.hand.length===0&&(await o.triggerEvent("onEmptyHand"),await o.drawCard(1,{reason:i})),await o.advanceTime(sr({type:"energy",value:Cc(n.effect.cost)},o)),!(a!=null&&a.skipGameOverPause)&&qt(t())&&await W(2e3),o.setOperationInProgress(`play ${n.name}`,!1)})},pickOption:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`pick ${St(n)?n.id:n.name}`,!0);const s=a.choiceOptions[0];if(re.gain.play(),e({choiceOptions:[{...s,options:s.options.map(o=>(St(o)?o.id:o.name)===(St(n)?n.id:n.name)?{...o,state:"playing"}:{...o,state:"discarding"})},...a.choiceOptions.slice(1)]}),St(n)){switch(n.type){case"money":await a.addMoney(n.value,{reason:"Ressource",skipGameOverPause:!0});break;case"reputation":await a.addReputation(n.value,{reason:"Ressource",skipGameOverPause:!0});break;case"energy":await a.addEnergy(n.value,{reason:"Ressource",skipGameOverPause:!0});break}await W(),e(o=>({choiceOptions:[{...s,options:X(s.options,null)},...o.choiceOptions.slice(1)]})),a.nextChoiceOptions()}else await W(),e(o=>({choiceOptions:[{...s,options:X(s.options,null)},...o.choiceOptions.slice(1)]})),e(o=>{const i=o.hand.length<qe?"hand":"draw",l=i==="draw"?xt(o.draw,[ge(n,"landing")],!0):dn([...o.hand,ge(n,"landing")],o).map(c=>ge(c));return{[i]:l}}),a.nextChoiceOptions(),await W(),e(o=>({hand:X(o.hand,n.name,"idle"),draw:X(o.draw,n.name,"idle")})),a.addLog({reason:ge(n),type:"cardManagement",value:ze.pick}),a.checkDiscoveries();a.setOperationInProgress(`pick ${St(n)?n.id:n.name}`,!1)})},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:n=>{re.defeat.play(),e({isGameOver:!0,isWon:!1,reason:n})},reset:()=>{localStorage.removeItem("metadata"),localStorage.removeItem("save"),e({...xs(),...vs()});const n=t();e(pn(n))},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const ae=hc((e,t)=>{const n={...xs(),...nd(e,t),...vs(),...td(e,t)};return n.discoveries=Array.from(new Set([...n.discoveries,...Ge(n).map(a=>a.name)])),{...n,...pn(n)}});ae.subscribe(async(e,t)=>{await fe(()=>e,async()=>{if(!e.error)if(pc(e),(e.reputation!==t.reputation||e.money!==t.money||e.upgrades!==t.upgrades||e.energy!==t.energy||e.day!==t.day)&&e.updateScore(),(e.money!==t.money||Ge(e).length!==Ge(t).length||e.upgrades.length!==t.upgrades.length)&&gc(e,ut,Je),e.operationInProgress.join(",")!==t.operationInProgress.join("")&&e.operationInProgress.length===0){if(e.dangerouslyUpdate(pn(e,!0)),fa(e)&&await e.addAchievement("PremiÃ¨re victoire"),e.checkDiscoveries(),await e.checkAchievements(),fa(e))e.win(),e.addWonGame();else if(!e.isGameOver){const n=qt(e);n&&(e.defeat(n),e.addPlayedGame())}}else(e.hand.map(n=>n.name+n.state).join(",")!==t.hand.map(n=>n.name+n.state).join(",")||e.draw.map(n=>n.name+n.state).join(",")!==t.draw.map(n=>n.name+n.state).join(",")||e.discard.map(n=>n.name+n.state).join(",")!==t.discard.map(n=>n.name+n.state).join(",")||e.inflation!==t.inflation||e.globalCardModifiers.map(n=>n.name).join(",")!==t.globalCardModifiers.map(n=>n.name).join(","))&&e.dangerouslyUpdate(pn(e))})});const ya=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],rd=()=>{const[e,t]=ae(i=>[i.debug,i.setDebug]),[n,a]=j.useState(0),[s,o]=j.useState(null);j.useEffect(()=>{const i=l=>{s&&clearTimeout(s),l.key===ya[n]?a(c=>c+1):a(0),n===ya.length-1&&(a(0),t(!e)),o(setTimeout(()=>{a(0)},1e3))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[n,s,e,t])},ad=()=>{const e=Ne(s=>s.isCardGameVisible),t=ae(s=>s.operationInProgress.length>0),n=ae(s=>s.checkAchievements),a=ae(s=>s.checkDiscoveries);j.useEffect(()=>{const s=setInterval(()=>{e&&!t&&(a(),n().then())},1e3);return()=>clearInterval(s)},[e,t,n])};var kr={};(function e(t,n,a,s){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),y=C.getContext("2d");y.fillRect(0,0,1,1);var O=C.transferToImageBitmap();try{y.createPattern(O,"no-repeat")}catch{return!1}return!0}();function c(){}function d(C){var y=n.exports.Promise,O=y!==void 0?y:t.Promise;return typeof O=="function"?new O(C):(C(c,c),null)}var f=function(C,y){return{transform:function(O){if(C)return O;if(y.has(O))return y.get(O);var $=new OffscreenCanvas(O.width,O.height),G=$.getContext("2d");return G.drawImage(O,0,0),y.set(O,$),$},clear:function(){y.clear()}}}(l,new Map),h=function(){var C=Math.floor(16.666666666666668),y,O,$={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(q){var V=Math.random();return $[V]=requestAnimationFrame(function R(I){G===I||G+C-1<I?(G=I,delete $[V],q()):$[V]=requestAnimationFrame(R)}),V},O=function(q){$[q]&&cancelAnimationFrame($[q])}):(y=function(q){return setTimeout(q,C)},O=function(q){return clearTimeout(q)}),{frame:y,cancel:O}}(),g=function(){var C,y,O={};function $(G){function q(V,R){G.postMessage({options:V||{},callback:R})}G.init=function(R){var I=R.transferControlToOffscreen();G.postMessage({canvas:I},[I])},G.fire=function(R,I,Y){if(y)return q(R,null),y;var B=Math.random().toString(36).slice(2);return y=d(function(_){function z(ie){ie.data.callback===B&&(delete O[B],G.removeEventListener("message",z),y=null,f.clear(),Y(),_())}G.addEventListener("message",z),q(R,B),O[B]=z.bind(null,{data:{callback:B}})}),y},G.reset=function(){G.postMessage({reset:!0});for(var R in O)O[R](),delete O[R]}}return function(){if(C)return C;if(!a&&o){var G=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([G])))}catch(q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",q),null}$(C)}return C}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(C,y){return y?y(C):C}function m(C){return C!=null}function x(C,y,O){return p(C&&m(C[y])?C[y]:v[y],O)}function w(C){return C<0?0:Math.floor(C)}function b(C,y){return Math.floor(Math.random()*(y-C))+C}function N(C){return parseInt(C,16)}function E(C){return C.map(P)}function P(C){var y=String(C).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:N(y.substring(0,2)),g:N(y.substring(2,4)),b:N(y.substring(4,6))}}function A(C){var y=x(C,"origin",Object);return y.x=x(y,"x",Number),y.y=x(y,"y",Number),y}function k(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function M(C){var y=C.getBoundingClientRect();C.width=y.width,C.height=y.height}function K(C){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=C,y}function L(C,y,O,$,G,q,V,R,I){C.save(),C.translate(y,O),C.rotate(q),C.scale($,G),C.arc(0,0,1,V,R,I),C.restore()}function H(C){var y=C.angle*(Math.PI/180),O=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-y+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function ee(C,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.velocity*=y.decay,y.flat?(y.wobble=0,y.wobbleX=y.x+10*y.scalar,y.wobbleY=y.y+10*y.scalar,y.tiltSin=0,y.tiltCos=0,y.random=1):(y.wobble+=y.wobbleSpeed,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble),y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2);var O=y.tick++/y.totalTicks,$=y.x+y.random*y.tiltCos,G=y.y+y.random*y.tiltSin,q=y.wobbleX+y.random*y.tiltCos,V=y.wobbleY+y.random*y.tiltSin;if(C.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-O)+")",C.beginPath(),i&&y.shape.type==="path"&&typeof y.shape.path=="string"&&Array.isArray(y.shape.matrix))C.fill(F(y.shape.path,y.shape.matrix,y.x,y.y,Math.abs(q-$)*.1,Math.abs(V-G)*.1,Math.PI/10*y.wobble));else if(y.shape.type==="bitmap"){var R=Math.PI/10*y.wobble,I=Math.abs(q-$)*.1,Y=Math.abs(V-G)*.1,B=y.shape.bitmap.width*y.scalar,_=y.shape.bitmap.height*y.scalar,z=new DOMMatrix([Math.cos(R)*I,Math.sin(R)*I,-Math.sin(R)*Y,Math.cos(R)*Y,y.x,y.y]);z.multiplySelf(new DOMMatrix(y.shape.matrix));var ie=C.createPattern(f.transform(y.shape.bitmap),"no-repeat");ie.setTransform(z),C.globalAlpha=1-O,C.fillStyle=ie,C.fillRect(y.x-B/2,y.y-_/2,B,_),C.globalAlpha=1}else if(y.shape==="circle")C.ellipse?C.ellipse(y.x,y.y,Math.abs(q-$)*y.ovalScalar,Math.abs(V-G)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):L(C,y.x,y.y,Math.abs(q-$)*y.ovalScalar,Math.abs(V-G)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI);else if(y.shape==="star")for(var U=Math.PI/2*3,pe=4*y.scalar,ve=8*y.scalar,xe=y.x,Re=y.y,Pe=5,Oe=Math.PI/Pe;Pe--;)xe=y.x+Math.cos(U)*ve,Re=y.y+Math.sin(U)*ve,C.lineTo(xe,Re),U+=Oe,xe=y.x+Math.cos(U)*pe,Re=y.y+Math.sin(U)*pe,C.lineTo(xe,Re),U+=Oe;else C.moveTo(Math.floor(y.x),Math.floor(y.y)),C.lineTo(Math.floor(y.wobbleX),Math.floor(G)),C.lineTo(Math.floor(q),Math.floor(V)),C.lineTo(Math.floor($),Math.floor(y.wobbleY));return C.closePath(),C.fill(),y.tick<y.totalTicks}function ne(C,y,O,$,G){var q=y.slice(),V=C.getContext("2d"),R,I,Y=d(function(B){function _(){R=I=null,V.clearRect(0,0,$.width,$.height),f.clear(),G(),B()}function z(){a&&!($.width===s.width&&$.height===s.height)&&($.width=C.width=s.width,$.height=C.height=s.height),!$.width&&!$.height&&(O(C),$.width=C.width,$.height=C.height),V.clearRect(0,0,$.width,$.height),q=q.filter(function(ie){return ee(V,ie)}),q.length?R=h.frame(z):_()}R=h.frame(z),I=_});return{addFettis:function(B){return q=q.concat(B),Y},canvas:C,promise:Y,reset:function(){R&&h.cancel(R),I&&I()}}}function se(C,y){var O=!C,$=!!x(y||{},"resize"),G=!1,q=x(y,"disableForReducedMotion",Boolean),V=o&&!!x(y||{},"useWorker"),R=V?g():null,I=O?k:M,Y=C&&R?!!C.__confetti_initialized:!1,B=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_;function z(U,pe,ve){for(var xe=x(U,"particleCount",w),Re=x(U,"angle",Number),Pe=x(U,"spread",Number),Oe=x(U,"startVelocity",Number),oc=x(U,"decay",Number),ic=x(U,"gravity",Number),lc=x(U,"drift",Number),la=x(U,"colors",E),cc=x(U,"ticks",Number),ca=x(U,"shapes"),dc=x(U,"scalar"),uc=!!x(U,"flat"),da=A(U),ua=xe,qn=[],fc=C.width*da.x,mc=C.height*da.y;ua--;)qn.push(H({x:fc,y:mc,angle:Re,spread:Pe,startVelocity:Oe,color:la[ua%la.length],shape:ca[b(0,ca.length)],ticks:cc,decay:oc,gravity:ic,drift:lc,scalar:dc,flat:uc}));return _?_.addFettis(qn):(_=ne(C,qn,I,pe,ve),_.promise)}function ie(U){var pe=q||x(U,"disableForReducedMotion",Boolean),ve=x(U,"zIndex",Number);if(pe&&B)return d(function(Oe){Oe()});O&&_?C=_.canvas:O&&!C&&(C=K(ve),document.body.appendChild(C)),$&&!Y&&I(C);var xe={width:C.width,height:C.height};R&&!Y&&R.init(C),Y=!0,R&&(C.__confetti_initialized=!0);function Re(){if(R){var Oe={getBoundingClientRect:function(){if(!O)return C.getBoundingClientRect()}};I(Oe),R.postMessage({resize:{width:Oe.width,height:Oe.height}});return}xe.width=xe.height=null}function Pe(){_=null,$&&(G=!1,t.removeEventListener("resize",Re)),O&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,Y=!1)}return $&&!G&&(G=!0,t.addEventListener("resize",Re,!1)),R?R.fire(U,xe,Pe):z(U,xe,Pe)}return ie.reset=function(){R&&R.reset(),_&&_.reset()},ie}var Z;function J(){return Z||(Z=se(null,{useWorker:!0,resize:!0})),Z}function F(C,y,O,$,G,q,V){var R=new Path2D(C),I=new Path2D;I.addPath(R,new DOMMatrix(y));var Y=new Path2D;return Y.addPath(I,new DOMMatrix([Math.cos(V)*G,Math.sin(V)*G,-Math.sin(V)*q,Math.cos(V)*q,O,$])),Y}function oe(C){if(!i)throw new Error("path confetti are not supported in this browser");var y,O;typeof C=="string"?y=C:(y=C.path,O=C.matrix);var $=new Path2D(y),G=document.createElement("canvas"),q=G.getContext("2d");if(!O){for(var V=1e3,R=V,I=V,Y=0,B=0,_,z,ie=0;ie<V;ie+=2)for(var U=0;U<V;U+=2)q.isPointInPath($,ie,U,"nonzero")&&(R=Math.min(R,ie),I=Math.min(I,U),Y=Math.max(Y,ie),B=Math.max(B,U));_=Y-R,z=B-I;var pe=10,ve=Math.min(pe/_,pe/z);O=[ve,0,0,ve,-Math.round(_/2+R)*ve,-Math.round(z/2+I)*ve]}return{type:"path",path:y,matrix:O}}function le(C){var y,O=1,$="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?y=C:(y=C.text,O="scalar"in C?C.scalar:O,G="fontFamily"in C?C.fontFamily:G,$="color"in C?C.color:$);var q=10*O,V=""+q+"px "+G,R=new OffscreenCanvas(q,q),I=R.getContext("2d");I.font=V;var Y=I.measureText(y),B=Math.ceil(Y.actualBoundingBoxRight+Y.actualBoundingBoxLeft),_=Math.ceil(Y.actualBoundingBoxAscent+Y.actualBoundingBoxDescent),z=2,ie=Y.actualBoundingBoxLeft+z,U=Y.actualBoundingBoxAscent+z;B+=z+z,_+=z+z,R=new OffscreenCanvas(B,_),I=R.getContext("2d"),I.font=V,I.fillStyle=$,I.fillText(y,ie,U);var pe=1/O;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[pe,0,0,pe,-B*pe/2,-_*pe/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=se,n.exports.shapeFromPath=oe,n.exports.shapeFromText=le})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),kr,!1);const wn=kr.exports;kr.exports.create;const bn=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?wn.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):wn)({...e})};bn.shapeFromPath=e=>wn.shapeFromPath({...e});bn.shapeFromText=e=>wn.shapeFromText({...e});const ys=()=>{const t=Date.now()+5e3,n={startVelocity:30,spread:360,ticks:60,zIndex:0},a=(o,i)=>Math.random()*(i-o)+o,s=window.setInterval(()=>{const o=t-Date.now();if(o<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((l,c)=>{c>0&&l.remove()}),clearInterval(s);const i=50*(o/5e3);bn({...n,particleCount:i,zIndex:999999,origin:{x:a(.1,.3),y:Math.random()-.2}}),bn({...n,particleCount:i,zIndex:999999,origin:{x:a(.7,.9),y:Math.random()-.2}})},250)},he=5,Ft={position:"fixed",zIndex:10010,backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden"},$t={transition:"all 0.3s linear"},Vn=({children:e,style:t})=>{const{position:n,highlight:a}=Rs(),s=window.document.documentElement.getBoundingClientRect();return!n||!a?r.jsx("div",{className:"top-0 left-0 w-screen h-svh",style:{...Ft,...t},children:e}):Yt.createPortal(r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"top-0 left-0",style:{width:n.left-he,height:n.bottom+he,...$t,...Ft,...t}}),r.jsx("div",{className:"top-0",style:{left:n.left-he,width:s.width-(n.left-he),height:n.top-he,...$t,...Ft,...t}}),r.jsx("div",{style:{top:n.top-he,left:n.right+he,width:s.width-(n.right+he),height:s.height-(n.top-he),...$t,...Ft,...t}}),r.jsx("div",{className:"left-0",style:{top:n.bottom+he,width:n.right+he,height:s.height-(n.bottom+he),...$t,...Ft,...t}}),r.jsx("div",{style:{position:"fixed",top:n.top-he,left:n.left-he,width:n.width+he*2,height:n.height+he*2,zIndex:10015,backgroundColor:"transparent",outline:"2px solid hsl(var(--upgrade))",borderRadius:"0.2rem",...$t}}),r.jsx("div",{style:{position:"fixed",zIndex:10020},children:e})]}),document.body)};function sd(e,t){const n=u.createContext(t);function a(o){const{children:i,...l}=o,c=u.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:i})}function s(o){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,s]}function Ie(e,t=[]){let n=[];function a(o,i){const l=u.createContext(i),c=n.length;n=[...n,i];function d(h){const{scope:g,children:v,...p}=h,m=(g==null?void 0:g[e][c])||l,x=u.useMemo(()=>p,Object.values(p));return r.jsx(m.Provider,{value:x,children:v})}function f(h,g){const v=(g==null?void 0:g[e][c])||l,p=u.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,od(s,...t)]}function od(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Mr="Progress",Ar=100,[id,Kp]=Ie(Mr),[ld,cd]=id(Mr),ws=u.forwardRef((e,t)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:o=dd,...i}=e;(s||s===0)&&!wa(s)&&console.error(ud(`${s}`,"Progress"));const l=wa(s)?s:Ar;a!==null&&!ba(a,l)&&console.error(fd(`${a}`,"Progress"));const c=ba(a,l)?a:null,d=jn(c)?o(c,l):void 0;return r.jsx(ld,{scope:n,value:c,max:l,children:r.jsx(Q.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":jn(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Cs(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});ws.displayName=Mr;var bs="ProgressIndicator",js=u.forwardRef((e,t)=>{const{__scopeProgress:n,...a}=e,s=cd(bs,n);return r.jsx(Q.div,{"data-state":Cs(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});js.displayName=bs;function dd(e,t){return`${Math.round(e/t*100)}%`}function Cs(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function jn(e){return typeof e=="number"}function wa(e){return jn(e)&&!isNaN(e)&&e>0}function ba(e,t){return jn(e)&&!isNaN(e)&&e<=t&&e>=0}function ud(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ar}\`.`}function fd(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ar} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ns=ws,md=js;function hd(e){const[t,n]=j.useState([]);return j.useEffect(()=>{e!==t[1]&&n(a=>[a[1],e])},[e]),t[0]}const In=u.forwardRef(({barColor:e,className:t,value:n,increaseOnly:a,...s},o)=>{const i=hd(n);return r.jsx(Ns,{ref:o,className:S("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:r.jsx(md,{className:S("h-full w-full flex-1",e??"bg-primary",{[S("transition-transform duration-200 ease-out",{"duration-500":typeof n=="number"&&i===0&&n>90})]:!a||typeof n!="number"||typeof i!="number"||n>i}),style:{transform:`translateX(-${100-(n||0)}%)`}})})});In.displayName=Ns.displayName;function pd(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"})))}const Ss=j.createContext(null),Es=j.createContext(null),gd=({steps:e,children:t,opaqueStyle:n})=>{var K;const a=Ne(L=>L.isCardGameVisible),[s,o]=ue(L=>[L.tutorial,L.updateTutorial]),[i,l]=j.useState(null),[c,d]=j.useState(null),[f,h]=j.useState(null),[g,v]=j.useState(!1),[p,m]=j.useState(!1),x=L=>{v(!0),A(L),h(e[L]||null),l(L)},w=()=>{x(0)},b=()=>{re.bell.play(),l(null),h(null),d(null),o(!1)},N=()=>{if(i!==null){if(i>=e.length-1)return b();re.gain.play(),x(i+1)}},E=()=>{if(i!==null){if(i-1<0)return b();re.play.play(),x(i-1)}},P=L=>()=>{let H=0,ee=-1;e.forEach(ne=>{ne.id===L&&(ee=H),H++}),!(ee<0)&&x(ee)},A=L=>{var ne;if(L===null||((ne=e[L])==null?void 0:ne.id.charAt(0))==="_")return;const H=document.body;new MutationObserver((se,Z)=>{var oe;const J=document.querySelector(((oe=e[L])==null?void 0:oe.id)||"");if(!J)return;const F=J.getBoundingClientRect();F&&(d({left:F.left,top:F.top,right:F.right,bottom:F.bottom,width:F.width,height:F.height,x:F.x,y:F.y}),Z.disconnect())}).observe(H,{childList:!0,subtree:!0})},k=()=>{var ee,ne;if(i===null||((ee=e[i])==null?void 0:ee.id.charAt(0))==="_")return;const L=document.querySelector(((ne=e[i])==null?void 0:ne.id)||"");if(!L)return;const H=L.getBoundingClientRect();H&&d({left:H.left,top:H.top,right:H.right,bottom:H.bottom,width:H.width,height:H.height,x:H.x,y:H.y})};j.useEffect(()=>{!a||!s?(l(null),h(null),d(null)):w()},[s,a]),j.useEffect(()=>(window.addEventListener("resize",k),window.addEventListener("scroll",k,{capture:!0}),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k)}),[i]);let M=null;return f&&!c&&(M=r.jsx(Vn,{style:n,children:null})),f&&c&&(M=r.jsx(Vn,{style:n,children:(f==null?void 0:f.render({position:c,next:N,back:E,finish:b,goTo:P}))||null})),i!==null&&((K=e[i])==null?void 0:K.id.charAt(0))==="_"&&(M=r.jsx(Vn,{style:n,children:(f==null?void 0:f.render({position:void 0,next:N,back:E,finish:b,goTo:P}))||null})),r.jsx(Ss.Provider,{value:{start:w},children:r.jsxs(Es.Provider,{value:{position:c,isLoading:g,highlight:p,setLoading:v,setHighlight:m},children:[t,M,f&&r.jsxs("div",{className:"fixed w-fit right-2 bottom-2",style:{zIndex:999998},children:[i!==null&&r.jsxs("div",{className:"text-xl font-mono text-center text-white bg-black bg-opacity-50 p-1 rounded-md",children:[i+1," / ",e.length]}),r.jsxs(T,{variant:"cta",size:"cta",className:"my-2",onClick:b,children:["Passer le didacticiel ",r.jsx(pd,{className:"ml-2 h-5"})]}),r.jsx(In,{value:((i??0)+1)/e.length*100})]})]})})},Ps=()=>{const e=j.useContext(Ss);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},Rs=()=>{const e=j.useContext(Es);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},we=({location:e,highlight:t,children:n,style:a,...s})=>{const{position:o,isLoading:i,setLoading:l,setHighlight:c}=Rs(),d=j.useRef(null),[f,h]=j.useState(null);return j.useEffect(()=>{c(!!t)},[t]),j.useEffect(()=>{const g=o,v={};switch(e){case"right":case"left":case"top":case"bottom":if(!g)throw Error("Not position exists")}switch(e){case"right":case"left":v.top=g.top-he+"px",e==="left"?(v.left=g.left-he+"px",v.transform="translate(-100%, 0)"):v.left=g.right+he+"px";break;case"top":case"bottom":v.left=g.left+g.width/2+"px",e==="top"?(v.top=g.top-he+"px",v.transform="translate(-50%, -100%)"):(v.top=g.bottom+he+"px",v.transform="translate(-50%, 0)");break;case"center":v.left="50%",v.top="50%",v.transform="translate(-50%, -50%)";break}h(v),l(!1)},[o,i]),i?null:r.jsx("div",{...s,ref:d,className:"space-y-4 leading-6 *:whitespace-nowrap",style:{position:"fixed",visibility:"visible",zIndex:"10010",borderRadius:"3px",fontSize:"1.5rem",...f,...a},children:n})},be={backgroundColor:"hsl(var(--card))",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 4rem 0 rgba(255,255,255, 0.3)"},vd=[{id:"_welcome",render:({next:e,finish:t})=>r.jsxs(we,{style:be,location:"center",children:[r.jsx("h2",{children:"Bienvenue sur mon jeu de cartes !"}),r.jsxs("p",{children:["Je vais te guider rapidement Ã  travers les bases du jeu. ",r.jsx("br",{}),"J'espÃ¨re qu'il te plaira !"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Quitter le tutoriel"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"C'est parti !"})]}),r.jsx("img",{src:"images/tutorial/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})},{id:"#energy",render:({next:e,back:t})=>r.jsx(r.Fragment,{children:r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["L'",r.jsx(D,{name:"energy"})]}),r.jsxs("p",{children:["L'",r.jsx(D,{name:"energy"})," est la ressource principale du jeu. ",r.jsx("br",{}),"Elle te permet de jouer des cartes."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#reputation",render:({next:e,back:t})=>r.jsx(r.Fragment,{children:r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["La ",r.jsx(D,{name:"reputation"})]}),r.jsx("p",{children:"Cette jauge est importante !"}),r.jsxs("p",{children:["Elle te permet d'utiliser des cartes lorsque tu n'as plus assez d'",r.jsx(D,{name:"energy"}),". ",r.jsx("br",{}),"Cependant, si cette jauge est vide, tu perds la partie."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#day",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["La ",r.jsx(D,{name:"day",children:"journÃ©e"})]}),r.jsxs("p",{children:["La ",r.jsx(D,{name:"day",children:"journÃ©e"})," avance Ã  chaque carte jouÃ©e. ",r.jsx("br",{}),"Certains Ã©vÃ¨nements se dÃ©clencheront Ã  la fin de chaque"," ",r.jsx(D,{name:"day"}),"."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#sprint",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["Le ",r.jsx(D,{name:"sprint"})]}),r.jsxs("p",{children:["Le sprint est un cycle de 7 ",r.jsx(D,{name:"day",plural:!0}),", une semaine donc."]}),r.jsxs("p",{children:["Ã€ la fin de chaque ",r.jsx(D,{name:"sprint"}),", tu pourras choisir ",r.jsx("br",{})," ","une ",r.jsx(D,{name:"upgrade"})," Ã  ajouter Ã  ton deck."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#deck",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsx("h2",{children:"Le deck"}),r.jsxs("p",{children:["Comme dans la plupart des jeux de cartes, ton deck reprÃ©sente ",r.jsx("br",{}),"toutes les cartes que tu possÃ¨des."]}),r.jsxs("p",{children:["Ici, tu peux voir toutes les cartes de ton deck triÃ©es par ",r.jsx("br",{}),"type de carte. Si tu cherches une carte en particulier, ",r.jsx("br",{}),"tu peux utiliser la barre de recherche."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#money",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["L'",r.jsx(D,{name:"money"})]}),r.jsx("p",{children:"Il te permet de jouer certaines cartes"}),r.jsxs("p",{children:["Si tu atteins ",r.jsx(We,{M$:Pt}),", tu gagnes la partie."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#corner-icons",render:({next:e,back:t})=>r.jsxs(we,{location:"left",style:be,highlight:!0,children:[r.jsx("h2",{children:"Les paramÃ¨tres"}),r.jsx("p",{children:"En haut Ã  droite, tu peux accÃ©der aux paramÃ¨tres du jeu."}),r.jsxs("p",{children:["Tu pourras y arrÃªter la musique, y rÃ©gler la qualitÃ© graphique, ",r.jsx("br",{}),"y consulter les taux de conversion et les rÃ¨gles du jeu ",r.jsx("br",{}),"ou encore y ajuster le niveau de difficultÃ©."]}),r.jsxs("p",{children:["On y trouve Ã©galement le classement des meilleurs scores, ",r.jsx("br",{}),"les cartes dÃ©couvertes et les succÃ¨s dÃ©verrouillÃ©s ainsi ",r.jsx("br",{}),"que quelques statistiques sur tes parties prÃ©cÃ©dentes. ",r.jsx("br",{})]}),r.jsx("p",{children:"Si tu as besoin d'aide, tu peux consulter le tutoriel Ã  tout moment."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#hand",render:({next:e,back:t})=>r.jsxs(we,{location:"top",style:be,highlight:!0,children:[r.jsx("h2",{children:"La main"}),r.jsxs("p",{children:["Ta main est l'ensemble des cartes que tu peux jouer. ",r.jsx("br",{}),"Tu peux en jouer tant que tu as les ressources nÃ©cessaires ",r.jsx("br",{}),"et que leurs effets sont activables."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#card-stacks",render:({next:e,back:t})=>r.jsxs(we,{location:"left",style:be,highlight:!0,children:[r.jsx("h2",{children:"La pioche et la dÃ©fausse"}),r.jsx("p",{children:"A droite, tu trouveras la pioche et la dÃ©fausse."}),r.jsxs("p",{children:["La pioche contient les cartes que tu pourras piocher. ",r.jsx("br",{}),"La dÃ©fausse contient les cartes que tu viens de jouer."]}),r.jsxs("p",{children:["En cliquant sur l'une des deux piles, tu pourras voir ",r.jsx("br",{}),"les cartes qu'elles contiennent."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#upgrades",render:({next:e,back:t})=>r.jsxs(we,{location:"bottom",style:be,highlight:!0,children:[r.jsxs("h2",{children:["Les ",r.jsx(D,{name:"upgrade",plural:!0})]}),r.jsxs("p",{children:["Sur le haut de l'Ã©cran, tu verras apparaitre des"," ",r.jsx(D,{name:"upgrade",plural:!0}),". ",r.jsx("br",{}),"Elles s'activeront automatiquement lors de certains Ã©vÃ¨nements"]}),r.jsx("img",{src:"images/tutorial/upgrades.png",alt:"upgrades"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#logs",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsx("h2",{children:"Les logs"}),r.jsxs("p",{children:["Ici, tu pourras voir les effets des cartes que tu as jouÃ©es. ",r.jsx("br",{}),"Les logs sont triÃ©s par ordre chronologique."]}),r.jsx("img",{src:"images/tutorial/logs.png",alt:"logs"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#actions",render:({next:e,back:t})=>r.jsxs(we,{location:"top",style:be,highlight:!0,children:[r.jsx("h2",{children:"Les actions"}),r.jsxs("p",{children:["Au milieu de l'Ã©cran, tu trouveras des actions ",r.jsx("br",{}),"a effectuer au cours de la partie."]}),r.jsxs("p",{children:["Par exemple, choisir une carte Ã  ajouter Ã  ton deck ",r.jsx("br",{}),"ou mÃªme piocher une carte si tu ne peux pas jouer"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"_detail",render:({next:e,back:t})=>r.jsxs(we,{style:be,location:"center",children:[r.jsx("h2",{children:"Informations d'une carte"}),r.jsxs("p",{children:["Si tu veux plus d'informations sur une carte, ",r.jsx("br",{}),"tu peux faire un clic droit dessus."]}),r.jsxs("p",{children:["Une popup s'ouvrira avec les formes alternatives ",r.jsx("br",{}),"de la carte et plein d'autres informations utiles !"]}),r.jsx("img",{src:"images/tutorial/detail.png",alt:"card detail",className:"w-[500px]"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:()=>{re.victory.play(),ys(),e()},children:"Suivant"})]})]})},{id:"_end",render:({finish:e})=>r.jsxs(we,{style:be,location:"center",children:[r.jsx("h2",{children:"Fin du tutoriel"}),r.jsxs("p",{children:["Tu as maintenant toutes les clÃ©s en main. ",r.jsx("br",{}),"N'hÃ©site pas Ã  consulter les rÃ¨gles du jeu si tu as besoin d'aide."]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Lancer une partie"})}),r.jsx("img",{src:"images/tutorial/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})}],ks=j.createContext(null);function xd(){const e=j.useContext(ks);if(!e)throw new Error("useCrashReport must be used within a CrashReportProvider");return e}const yd=({children:e})=>{const[t,n,a]=ae(h=>[h.error,h.dangerouslyUpdate,()=>h]),[s,o]=j.useState(null),[i,l]=j.useState(null),[c,d]=j.useState(null);j.useEffect(()=>{t&&f(t,a())},[t]);const f=j.useCallback((h,g)=>{re.error.play(),o(h),l(Sc(g)),console.error(h);const v=JSON.stringify(ir(g,"revivedHand","revivedDraw","revivedDiscard"));W(500).then(()=>navigator.clipboard.writeText(v).catch(()=>{d(v)}).then(()=>alert("L'Ã©tat du jeu a Ã©tÃ© copiÃ© dans le presse-papier")))},[]);return r.jsx(ks.Provider,{value:{gameState:i,crashReport:s,addCrashReport:f,gameStringState:c,resetCrashReport:()=>{o(null),l(null),n({error:null})}},children:s?r.jsx(wd,{}):e})},wd=()=>{const e=ae(d=>d.reset),{resetCrashReport:t,crashReport:n,gameState:a,gameStringState:s}=xd(),[o,i]=j.useState(!1),[l,c]=j.useState(!1);return!n||!a?null:r.jsxs("div",{className:"absolute inset-0 bg-background/50 flex justify-center items-center",children:[r.jsxs("div",{className:"bg-background/90 ring ring-red-600 p-4 rounded-lg space-y-4 max-w-xl",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Une erreur Ã  Ã©tÃ© interceptÃ©e !"}),r.jsx("p",{children:"Si tu le souhaites, tu peux envoyer le rapport d'erreur Ã  Ghom pour qu'il puisse corriger le problÃ¨me. Tu peux continuer ta partie, mais si tu rencontres des problÃ¨mes, il est conseillÃ© de recharger la page. Si le bug persiste, il est possible que ta sauvegarde soit corrompue, dans ce cas tu devrais recommencer une nouvelle partie, dÃ©solÃ© pour la gÃªne occasionnÃ©e."}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 w-fit mx-auto",children:[r.jsx(T,{onClick:()=>{t(),e()},size:"cta",className:"text-red-600",children:"Recommencer une partie"}),r.jsx(T,{onClick:()=>{t(),window.location.reload()},size:"cta",children:"Rafraichir le navigateur"}),r.jsx(T,{onClick:()=>{!s||l?window.open(`mailto:${Ec.email}?subject=${encodeURI(`Rapport d'erreur: ${n.message}`)}&body=${encodeURI(`
${n.stack}

Game state:
< colle ici le contenu de ton presse-papier >`)}`):i(!0)},variant:"cta",size:"cta",children:"Envoyer le rapport"}),r.jsx(T,{onClick:()=>t(),variant:"cta",size:"cta",children:"Continuer la partie"})]})]}),o&&r.jsxs("div",{className:"absolute left-1/2 top-1/2 bg-background ring ring-red-600 p-4 rounded-lg max-w-xl space-y-4 -translate-y-1/2 -translate-x-1/2",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Avant d'envoyer le rapport"}),r.jsx("p",{className:"text-xl leading-5",children:"Merci de copier ta sauvegarde dans le presse-papier afin de me la transmettre lors de ton rapport."}),r.jsx("h2",{className:"text-2xl",children:"Sauvegarde"}),r.jsx("code",{className:"text-sm whitespace-normal overflow-scroll w-full h-52",children:s}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(T,{onClick:()=>i(!1),children:"Retour"}),r.jsx(T,{onClick:()=>{navigator.clipboard.writeText(s).then(()=>{alert("La sauvegarde a Ã©tÃ© copiÃ©e dans le presse-papier"),i(!1),c(!0)}).catch(()=>{alert(`Impossible de copier la sauvegarde...
Essaye de la copier Ã  la main, merci d'avance !`)})},variant:"cta",size:"cta",children:"Copier la sauvegarde"})]})]})]})},bd=e=>{const[t,n]=ae(a=>[a.screenMessageQueue[0],()=>{a.dangerouslyUpdate({screenMessageQueue:a.screenMessageQueue.slice(1)})}]);return j.useEffect(()=>{if(!t)return;const a=setTimeout(()=>{n()},2e3);return()=>clearTimeout(a)},[t,n]),!e.show||!t?null:r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full z-50 flex justify-center items-center",children:[r.jsx("div",{className:S(t.className,"absolute animate-to-right duration-[2s] rounded-r-full rounded-bl-full w-full h-[120px] opacity-50")}),r.jsx("div",{className:S(t.className,"absolute animate-to-left duration-[2s] rounded-l-full rounded-tr-full w-full h-[120px] opacity-50")}),r.jsxs("div",{className:S(t.className,"bg-transparent font-changa italic animate-notification duration-[2s] w-fit h-fit text-center"),children:[t.header&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-3xl",children:t.header}),r.jsx("br",{})]}),r.jsx("span",{className:"text-6xl",children:t.message})]})]},t.id)};function Ms(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},j.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},j.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"2"})),j.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},j.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"2"})),j.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},j.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"2"}))))}const As=j.createContext({degX:0,degY:0,isHovered:!1}),ja={transformStyle:"preserve-3d"},Ir=({max:e=20,reverse:t=!1,scale:n=1,perspective:a=1e3,className:s="",children:o,style:i,disabled:l=!1})=>{const c=ue(N=>N.quality.tilt&&N.quality.animations),d=j.useRef(null),f=is(d),[h,g]=j.useState({}),[v,p]=j.useState(0),[m,x]=j.useState(0),w=j.useCallback(N=>{if(!l&&d.current){const E=d.current.getBoundingClientRect(),P=N.clientX-E.left,A=N.clientY-E.top,k=E.width/2,M=E.height/2,K=(A-M)/M*e,L=(P-k)/k*e;p(t?K:-K),x(t?-L:L),g({...ja,transform:`
            perspective(${a}px)
            rotateX(${t?K:-K}deg)
            rotateY(${t?-L:L}deg)
            scale(${n})
          `})}},[e,a,t,n]),b=j.useCallback(()=>{p(0),x(0),g({...ja,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return j.useEffect(()=>{const N=d.current;return f?N&&(N.addEventListener("mousemove",w),N.addEventListener("mouseleave",b)):b(),()=>{N&&(N.removeEventListener("mousemove",w),N.removeEventListener("mouseleave",b)),b()}},[e,t,n,a,f]),c?r.jsx("div",{ref:d,className:S("will-change-transform",s),style:{...h,...i},children:r.jsx(As.Provider,{value:{degX:v,degY:m,isHovered:f},children:o})}):r.jsx("div",{className:s,style:i,children:o})},Is=()=>{const e=j.useContext(As);return ue(n=>n.quality.foil)?r.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[r.jsx("div",{className:S("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),r.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):r.jsx(r.Fragment,{})},Ts=e=>e.value<=0&&e.isCost?r.jsx(r.Fragment,{}):r.jsx("div",{className:S("text-2xl font-changa text-money w-fit h-fit bg-card flex justify-center px-1 shadow-lg",{"text-md px-0":e.miniature},e.className),style:e.style,children:r.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.symbol?`${e.value>0?"+":""}${e.value}`:e.value,"M$"]})}),Cn=e=>{const t=ae(),n=ue(),a=sr(e.cost,t);return a<=0?r.jsxs("div",{className:S("flex gap-1 bg-pink-500 text-white pl-2 pr-3 py-1 rounded-sm rounded-r-xl text-md font-changa h-6",{"inline-flex px-1 py-0 rounded-sm h-5 w-fit":e.miniature}),style:{transform:`${n.quality.perspective?"translateZ(10px)":""} ${e.miniature?"":"translateX(-16px) translateY(4px) rotateX(10deg) rotateY(10deg) rotateZ(-10deg)"}`,transformStyle:n.quality.perspective?"preserve-3d":"flat"},children:[r.jsx("span",{children:"Free"}),!e.miniature&&r.jsx("span",{className:"inline-block translate-x-full",children:"Â·"})]}):e.cost.type==="money"?r.jsx(Ts,{isCost:!0,miniature:e.miniature,value:a,style:{display:e.miniature?"inline-block":"block",transform:`${n.quality.perspective?"translateZ(10px)":""} ${e.miniature?"":"rotate(-10deg)"}`,transformStyle:n.quality.perspective?"preserve-3d":"flat"}}):r.jsx(et,{isCost:!0,miniature:e.miniature,value:a,colors:ls(t,e.cost.value),style:{display:e.miniature?"inline-block":"block",transform:n.quality.perspective?"translateZ(5px)":"none",transformStyle:n.quality.perspective?"preserve-3d":"flat"},className:e.miniature?"w-5 h-5":""})},Os=e=>{const t=ue(),n=cs(e.card.effect);return n.length===0?null:r.jsx("div",{className:S("text-center text-2xl font-bold",{"text-muted-foreground/50":t.quality.transparency,"text-muted-foreground":!t.quality.transparency}),children:n.map(a=>r.jsx("div",{children:r.jsx(D,{name:a})},a))})},tt=e=>{const t=ue(i=>({blur:i.quality.blur,shadows:i.quality.shadows,perspective:i.quality.perspective,animation:i.quality.animations,transparency:i.quality.transparency,tilt:i.quality.tilt})),n=ae(i=>({...i,canBeBuy:ss(e.card,i),canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(i,e.card),selectionInProgress:i.operationInProgress.some(l=>l.startsWith("selectCard"))})),a=typeof e.position=="number"?e.position-(n.hand.length-1)/2:0,s=e.isChoice?n.operationInProgress.filter(i=>i!=="choices").length>0:n.operationInProgress.length>0,o=Rr(e.card.rarity);return r.jsx("div",{className:S("game-card relative",gn,"-mx-3.5 z-10 hover:z-30 cursor-pointer select-none",{"-translate-x-[85px]":typeof e.position=="number","cursor-not-allowed":e.isStack||n.selectionInProgress&&e.card.state!=="selected"||!n.selectionInProgress&&(s||e.isPlaying||!e.isChoice&&n.choiceOptions.length>0),[S("transition-all",e.card.state)]:t.animation,[S({"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removing",grayscale:n.selectionInProgress&&e.card.state!=="selected"||!n.selectionInProgress&&(n.choiceOptions.length>0||n.isGameOver||!n.canBeBuy||!n.canTriggerEffect)})]:!e.isStack&&!e.isChoice&&!e.isPlaying&&!e.withoutDetail}),onClick:async()=>{if(!e.withoutDetail&&!e.isPlaying){if(e.isStack){n.setDetail(e.isStack);return}e.isChoice?n.choiceOptions.length>0&&!s&&await n.pickOption(e.card):n.selectionInProgress?n.selectCard(e.card.name):n.choiceOptions.length===0&&!s&&!n.isGameOver&&await n.playCard(e.card,{reason:ge(e.card)})}},onContextMenu:i=>{i.preventDefault(),!e.withoutDetail&&n.setDetail(ge(e.card))},style:{marginBottom:`${20-Math.abs(a)*5}px`,rotate:`${a*2}deg`,transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear",scale:e.card.state==="highlighted"?"1.1":"1",position:typeof e.position=="number"?"absolute":"relative",left:typeof e.position=="number"?`${a*170}px`:"0"},children:e.card.state==="removing"&&t.animation?r.jsx("div",{className:"relative",children:r.jsx(Ms,{className:S("absolute",Math.random()<.5?"scale-x-[-1]":"",{"text-card/60":t.transparency,"text-card":!t.transparency,[S({"stroke-common":o==="common","stroke-rare":o==="rare","stroke-epic":o==="epic","stroke-legendary":o==="legendary","stroke-cosmic":o==="cosmic","stroke-singularity":o==="singularity"})]:!e.card.effect.tags.includes("token")}),style:{maskClip:"fill-box"}})}):e.card.state==="removed"?r.jsx(r.Fragment,{}):r.jsx(Ir,{disabled:!!e.isStack,scale:1.1,className:S("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[S({"bg-card/60":t.transparency,"bg-card":!t.transparency})]:e.card.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,[S("ring-2",{"ring-common shadow-common":o==="common","ring-rare shadow-rare":o==="rare","ring-epic shadow-epic":o==="epic","ring-legendary shadow-legendary":o==="legendary","ring-cosmic shadow-cosmic":o==="cosmic","ring-singularity shadow-singularity":o==="singularity"})]:!e.card.effect.tags.includes("token")}),children:r.jsxs(r.Fragment,{children:[t.perspective&&t.tilt&&r.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),!n.discoveries.includes(e.card.name)&&r.jsx("div",{className:"absolute left-1/2 -top-1 -translate-y-full -translate-x-1/2 animate-pulse",children:r.jsx(Pc,{})}),r.jsxs("div",{className:S("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.type==="action","bg-support":e.card.type==="support","bg-upgrade":e.card.effect.tags.includes("upgrade")}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t.perspective?"translateZ(5px)":""} translateX(${e.card.effect.cost.type==="money"?"-15px":"-8px"})`,transformStyle:t.perspective?"preserve-3d":"flat"},children:r.jsx(Cn,{cost:e.card.effect.cost})}),r.jsx("h2",{className:S("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[S({"left-3 text-lg":e.card.effect.cost.type==="money"&&e.card.name.length>7,"left-7":e.card.effect.cost.type==="money"&&e.card.effect.cost.value>99,"text-md":e.card.name.length>11})]:e.card.effect.cost.value>0,"text-action-foreground":e.card.type==="action","text-support-foreground":e.card.type==="support","text-upgrade-foreground":e.card.effect.tags.includes("upgrade")}),style:{transformStyle:t.perspective?"preserve-3d":"flat",transform:t.perspective?"translateZ(5px)":"none"},children:e.card.name}),r.jsxs("div",{className:S("absolute bottom-0 left-0 translate-y-full flex","*:px-2 *:py-0 *:rounded-br-md *:text-sm *:font-mono",{"transition-opacity duration-1000 group-hover/game-card:opacity-0":t.transparency&&t.animation}),children:[!e.card.effect.tags.includes("token")&&r.jsx(hn,{advantage:e.card.rarity}),e.card.effect.tags.includes("upgrade")&&r.jsx("div",{className:"bg-upgrade",children:(()=>{const i=Je.find(l=>l.name===e.card.name);return i.max===void 0?"cumul infini: âˆž":`cumul max: ${i.max}`})()})]})]}),ds(e.card)?r.jsx(jd,{card:e.card}):r.jsx(Nd,{card:e.card}),r.jsxs("div",{className:S("flex-grow rounded-b-xl",e.card.type==="action"&&{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"py-[12px] px-[10px] text-center",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},children:e.card.effect.description}),r.jsx(Os,{card:e.card})]}),r.jsx(vn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),r.jsx(vn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),r.jsx(Is,{})]})})})},jd=e=>{const{shadows:t,perspective:n}=ue(a=>({shadows:a.quality.shadows,perspective:a.quality.perspective}));return r.jsx("div",{className:"group/image relative",style:{transformStyle:n?"preserve-3d":"flat"},children:r.jsx("div",{className:S({"inset-shadow":t},"relative flex justify-center items-center"),style:{transformStyle:n?"preserve-3d":"flat"},children:r.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:n?"translateZ(-15px)":"none"}})})})},Cd=["React","Knex"],Nd=e=>{const{perspective:t,animation:n}=ue(a=>({perspective:a.quality.perspective,animation:a.quality.animations}));return r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex justify-center items-center mt-7 mb-3",style:{transform:t?"translateZ(15px)":"none"},children:r.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:S("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":n&&Cd.includes(e.card.name)})})})})},Ca=e=>{const t=j.useRef(null),n=Rc(t),a=ae(i=>i[e.revivedKey]),s=ae(i=>i.operationInProgress.includes(`shuffleStack ${e.revivedKey.replace("revived","").toLowerCase()}`)),o=n?1.5:1;return r.jsxs("div",{ref:t,className:"space-y-4",style:{zIndex:e.zIndex??1},children:[r.jsx("div",{className:S(gn,"relative overflow-visible"),children:a.map((i,l,c)=>r.jsx("div",{className:S(gn,"absolute top-1/2 left-1/2 flex justify-center items-center transition-transform",(s||l<c.length-2)&&"border-l bg-card"),style:{transform:`translateY(calc(-50% - ${l*o}px)) translateX(calc(-50% + ${l*o}px)) ${s?`rotate(${l%2?-10:10}deg)`:""}`,borderColor:`hsl(var(--${Rr(i.rarity)}))`},children:!s&&l>=c.length-2&&r.jsx("div",{style:{transform:"translateY(10px)"},children:r.jsx(tt,{card:i,isStack:e.revivedKey})})},i.name))}),r.jsxs("div",{className:"text-center",children:[e.name," (",a.length,")"]})]})},Sd=e=>r.jsxs("div",{id:"card-stacks",className:S("flex gap-10 transition-opacity duration-1000 opacity-0 pointer-events-none","fixed top-36 right-20",(e==null?void 0:e.show)&&"opacity-100 pointer-events-auto"),children:[r.jsx(Ca,{name:"Pioche",revivedKey:"revivedDraw",zIndex:2}),r.jsx(Ca,{name:"DÃ©fausse",revivedKey:"revivedDiscard"})]}),Ed=e=>{const{start:t}=Ps(),n=Ne(({tutorial:a})=>a);return j.useEffect(()=>{e.show&&n&&t()},[e.show,n]),null},Pd=e=>{const t=Mn[e.eventName];return r.jsxs("div",{className:S("inline-flex justify-center items-center gap-1 mx-auto",e.className),children:[r.jsx(Ds,{name:e.eventName}),r.jsx("span",{className:"font-zain test-sm",children:t.name})]})},Ds=e=>{const t=Mn[e.name];return r.jsx(et,{value:r.jsx(t.icon,{className:S("h-5",e.className)}),colors:"colors"in t?t.colors:"bg-background",miniature:!0,className:S("block h-6 w-6",e.backgroundClassName)})},Rd=e=>{const t=ue(s=>({shadows:s.quality.shadows,animation:s.quality.animations,transparency:s})),n=ae(s=>s.setDetail),a=ae(s=>s.upgrades);return r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"upgrades",className:"pointer-events-none fixed w-[300px] h-24 top-2 left-1/2 -translate-x-1/2"}),r.jsx("div",{className:S("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":t.animation,"top-0":e.show&&a.length>0}),children:r.jsx("div",{className:S("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":a.length>5,"-translate-y-[25%]":a.length>10,"shadow shadow-black/50":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:r.jsx("div",{className:S("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":a.length>5,"translate-y-[25%]":a.length>10}),children:a.map((s,o)=>{const i=Rt(s),l=Mn[i.eventName];return r.jsxs("div",{className:"group/upgrade shrink-0 relative cursor-help",onClick:()=>{n(s)},onContextMenu:c=>{c.preventDefault(),n(s)},children:[r.jsx("img",{src:`images/upgrades/${i.image}`,alt:i.name,className:S("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto mx-auto ring-upgrade ring-4",{"animate-trigger":i.state==="triggered"&&t.animation,"ring-foreground":i.state==="triggered"&&!t.animation})}),r.jsx("div",{className:"h-6 relative",children:r.jsxs("div",{className:"relative",children:[i.max!==1/0&&r.jsx(In,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:i.cumul/i.max*100}),r.jsx(et,{value:r.jsx(l.icon,{className:"h-5"}),colors:"colors"in l?l.colors:"bg-background",miniature:!0,className:"absolute h-6 w-6",style:{top:"-15px",left:"-15px",transform:"translate(0, -50%)"}}),r.jsx(et,{value:i.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),r.jsxs(Zt,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[r.jsxs("h3",{className:"text-xl font-changa",children:[i.name," ",r.jsxs("span",{className:"text-upgrade font-bold",children:[i.cumul,i.max!==1/0&&i.max!==null?`/${i.max}`:""]})]}),r.jsx("p",{children:i.description(i.cumul)}),r.jsx(Pd,{eventName:i.eventName})]})]},o)})})})})]})};function Ls(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function _s(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}function Na(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M221.97 54.406c-40.375 0-77.013 8.01-104.345 21.563C90.293 89.52 70.937 109.51 70.937 134c0 2.57.213 5.094.626 7.563l-.032 5.875c-.555 82.898 16.25 164.612 14.97 244.718-.372 23.295 14.294 43.908 38 57.594s56.797 21.5 97.125 21.5c40.357 0 71.338-8.024 92.906-22.03 21.57-14.008 33.408-34.712 33.408-56.908 0-3.17.054-6.345.125-9.53 42.143-1.114 75.316-23.45 97.125-52.563 22.235-29.684 34.027-66.306 34.687-99.626.66-33.32-9.983-66.91-39.156-80.594-14.588-6.842-30.593-6.573-49.25-1.125-6.16 1.798-12.548 4.25-19.126 7.375.07-2.93.125-5.86.125-8.75v-6.72c.33-2.214.5-4.484.5-6.78 0-24.49-19.357-44.478-46.69-58.03-27.33-13.554-63.937-21.564-104.31-21.564zm0 18.688c37.87 0 72.087 7.752 96.03 19.625 23.943 11.87 36.28 26.974 36.28 41.28 0 14.306-12.337 29.44-36.28 41.313-23.943 11.87-58.16 19.593-96.03 19.593-37.87 0-72.09-7.722-96.032-19.594-23.943-11.87-36.313-27.006-36.313-41.312 0-14.306 12.37-29.41 36.313-41.28 23.942-11.874 58.16-19.626 96.03-19.626zm-69.657 39.03c-23.19 6.707-37.907 16.684-37.907 27.814 0 20.193 48.398 36.562 108.094 36.562 59.696 0 108.063-16.37 108.063-36.563 0-10.264-12.52-19.546-32.657-26.187 5.266 4.105 8.22 8.692 8.22 13.563 0 17.186-36.765 31.124-82.126 31.124-45.36 0-82.125-13.938-82.125-31.125 0-5.518 3.788-10.693 10.438-15.187zm263.312 68.282c4.34-.023 7.825.793 10.53 2.063 10.826 5.076 18.406 22.81 17.908 48.124-.5 25.313-9.714 55.51-26.844 78.375-16.296 21.75-38.106 36.352-67.126 37.905 4.352-49.843 14.23-100.49 19.28-147.844 20.724-13.842 35.894-18.567 46.25-18.624z"})))}const Fs=e=>{const t=ue(n=>({animation:n.quality.animations,transparency:n.quality.transparency}));return e.animated?r.jsx("div",{className:S({"animate-bounce w-full hover:duration-500":t.animation&&e.animated}),children:r.jsxs("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:S("text-2xl flex justify-center ring-2 ring-singularity text-singularity rounded-md py-2 mx-auto w-[220px] gap-2",{"bg-card/50 hover:bg-card":t.transparency,"bg-card":!t.transparency}),children:[r.jsx(Na,{className:"w-8 h-8"})," Buy me a coffee"]})}):r.jsxs("a",{href:"http://buymeacoffee.com/ghom",target:"_blank",className:An({variant:"icon",className:"border-2 border-singularity text-singularity gap-2"}),children:[r.jsx(Na,{})," Buy me a coffee"]})},kd=kc.find(e=>e.name==="Github"),Md=e=>{const{start:t}=Ps(),n=Ne(i=>()=>{i.setTutorial(!0),t()}),[a,s]=ue(i=>[i.quality.animations,i.quality.transparency]),o=Ne(i=>i.toggleSettings);return r.jsxs("div",{id:"corner-icons",className:S("absolute flex top-4 right-4 z-30 gap-2","translate-x-1/2 pointer-events-none",{hidden:!s,"opacity-0":s,"transition-all duration-500 ease-in-out":a,"translate-x-0 opacity-100 flex":e.show}),children:[r.jsx(Fs,{}),r.jsxs("a",{href:kd.url,target:"_blank",className:An({variant:"icon"}),children:[r.jsx(Mc,{className:"w-5 mr-2"})," Github"]}),r.jsx(T,{onClick:n,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Lancer le tutoriel",children:r.jsx(_s,{})}),r.jsx(T,{onClick:o,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Ouvrir les paramÃ¨tres",children:r.jsx(Ls,{})}),r.jsx("div",{className:"w-10 h-10 "})]})},Ad=e=>{const t=ue(a=>({blur:a.quality.blur,shadows:a.quality.shadows,perspective:a.quality.perspective,animation:a.quality.animations,transparency:a.quality.transparency,tilt:a.quality.tilt})),n=ae(a=>({pickOption:a.pickOption}));return r.jsx("div",{className:S("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{[S("transition-transform",e.resource.state)]:t.animation}),onClick:async()=>{await n.pickOption(e.resource)},style:{transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear"},children:e.resource.state==="removing"&&t.animation?r.jsx("div",{className:"relative",children:r.jsx(Ms,{className:S("absolute",Math.random()<.5?"scale-x-[-1]":"",{"text-card/60":t.transparency,"text-card":!t.transparency},{"stroke-energy":e.resource.type==="energy","stroke-money":e.resource.type==="money","stroke-reputation":e.resource.type==="reputation"}),style:{maskClip:"fill-box"}})}):e.resource.state==="removed"?r.jsx(r.Fragment,{}):r.jsxs(Ir,{scale:1.1,className:S("group/game-card","flex flex-col w-full h-full rounded-xl justify-center","*:shrink-0",{"bg-card/60":t.transparency,"bg-card":!t.transparency,"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,"shadow-glow-20 shadow-primary":e.resource.state==="selected"},"ring-2",{"ring-money/50":e.resource.type==="money","ring-energy/50":e.resource.type==="energy","ring-reputation/50":e.resource.type==="reputation"}),children:[t.perspective&&t.tilt&&r.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),r.jsxs("div",{style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"py-[10px] text-center font-changa text-2xl",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},children:e.resource.type==="money"?r.jsx(We,{M$:e.resource.value}):r.jsxs(r.Fragment,{children:[e.resource.value," ",r.jsx(D,{name:e.resource.type})]})}),r.jsx("div",{className:S("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":t.transparency,"text-muted-foreground":!t.transparency}),children:"InstantanÃ©"})]}),r.jsx(vn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),r.jsx(vn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),r.jsx(Is,{})]})},e.resource.id)},Id=e=>{const t=ae(),n=ue(c=>c.quality.animations),a=rs(t.day),[s,o]=j.useMemo(()=>{if(!t.choiceOptions[0])return[[],""];Ac(t.choiceOptions[0])||(t.choiceOptions[0]=ns(t,t.choiceOptions[0]));const c=t.choiceOptions[0];return[dn(c.options,t),Ic[c.header[0]](...c.header.slice(1))]},[t.choiceOptions[0]]),i=t.operationInProgress.filter(c=>c!=="choices").length>0,l=t.energy+t.reputation<_t||t.hand.length>=qe||t.draw.length===0||i;return j.useEffect(()=>{t.choiceOptions.length===0&&t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!1),t.choiceOptions.length>0&&!t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!0)},[t.choiceOptions.length,t.operationInProgress]),r.jsx("div",{id:"actions",className:S("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 pointer-events-none",{"transition-opacity duration-500 ease-in-out":n,"opacity-100 pointer-events-auto":e.show}),children:r.jsxs("div",{className:"space-y-4 group/actions bg-background/80 p-2 rounded-xl relative",children:[r.jsx("h2",{className:S("text-3xl ml-2 select-none",t.choiceOptions.length>0&&s.length<4?"text-left":"text-center"),children:t.playZone.length>0?t.operationInProgress.includes("selectCard")?"Clique sur une carte de la main":t.playZone[t.playZone.length-1].name:t.choiceOptions.length>0?o:"Actions"}),t.playZone.length>0?r.jsx("div",{className:"flex justify-center",children:t.playZone.map((c,d)=>r.jsx(tt,{card:je(c,t),isPlaying:!0},d))}):t.choiceOptions.length===0?r.jsxs(T,{className:S("flex justify-start gap-2",{grayscale:l}),onClick:async()=>{t.setOperationInProgress("infinity-draw",!0),re.play.play(),await t.addEnergy(-_t,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.advanceTime(_t),qt(t)&&await W(2e3),t.setOperationInProgress("infinity-draw",!1)},disabled:l,size:"cta",children:[r.jsx(et,{value:_t,isCost:!0,className:"w-8 h-8",colors:ls(t,_t)})," ","Piocher une carte"]}):r.jsxs(r.Fragment,{children:[r.jsxs(T,{className:"flex gap-3 absolute right-2 -top-2",disabled:i,onClick:async()=>{await t.skipChoiceOptions({reason:"Bouton passer"})},children:[r.jsx(et,{value:a&&t.choiceOptions.length===1?10:5,symbol:!0,miniature:!0,colors:"bg-energy"}),"Passer"]}),(s.length===0&&t.nextChoiceOptions(),r.jsxs("div",{className:S("flex justify-center",{"grid grid-cols-3":s.length<3}),children:[r.jsx("div",{className:S({hidden:s.length!==1})}),s.map((c,d)=>St(c)?r.jsx(Ad,{resource:c},d):r.jsx(tt,{card:c,isChoice:!0},d))]}))]})]})})},Tr={consumeReputation:r.jsxs(r.Fragment,{children:["Lorsque tu n'as plus d'",r.jsx(D,{name:"energy"}),", tu consommes la ",r.jsx(D,{name:"reputation"}),"."]}),emptyReputation:r.jsxs(r.Fragment,{children:["Si tu n'as plus de ",r.jsx(D,{name:"reputation"}),", tu perds la partie."]}),cantPlay:"Si tu ne peux plus jouer de carte, tu perds la partie.",playedToDiscard:"Quand une carte est jouÃ©e, elle va dans la dÃ©fausse.",supportInterest:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"support"})," sont importantes pour toujours avoir des cartes Ã  jouer."]}),costDollars:r.jsxs(r.Fragment,{children:["Certaines cartes coutent de l'",r.jsx(D,{name:"money"})," pour Ãªtre jouÃ©es."]}),limitedDraw:"Votre pioche est limitÃ©e. Jouez prudemment !",actionGivesResources:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"action"})," donnent souvent des resources"]}),upgradesAreActions:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"upgrade"})," sont considÃ©rÃ©es comme des cartes"," ",r.jsx(D,{name:"action"}),"."]}),ephemeralDestroyed:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"ephemeral",plural:!0})," sont dÃ©truites aprÃ¨s utilisation."]}),recyclageToDraw:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"recyclage"})," retournent dans la pioche."]}),upgradesCumulable:r.jsxs(r.Fragment,{children:["Les effets des ",r.jsx(D,{name:"upgrade",plural:!0})," sont cumulables !"]}),maxHandSize:r.jsxs(r.Fragment,{children:["Tu ne peux pas avoir plus de ",qe," cartes en main."]}),overDraw:"Les cartes piochÃ©es en trop restent dans la pioche.",upgradeCostThreshold:r.jsxs(r.Fragment,{children:["Le prix des cartes d'",r.jsx(D,{name:"upgrade"})," augmente progressivement."]}),winCondition:r.jsxs(r.Fragment,{children:["Si tu obtiens ",r.jsx(We,{M$:Pt}),", tu gagnes la partie."]}),sprintsAreWeek:r.jsxs(r.Fragment,{children:["Chaque ",r.jsx(D,{name:"sprint"})," contient une semaine (7"," ",r.jsx(D,{name:"day",plural:!0}),")."]}),sprintReward:r.jsxs(r.Fragment,{children:["A la fin d'un ",r.jsx(D,{name:"sprint"}),", tu ajoutes une carte"," ",r.jsx(D,{name:"upgrade"})," et une carte ",r.jsx(D,{name:"action"})," Ã  ton deck."]}),cardsAdvancesTime:r.jsxs(r.Fragment,{children:["Chaque carte jouÃ©e fait avancer le temps en fonction de son cout en"," ",r.jsx(D,{name:"energy"}),"."]}),rightClicDetail:"Fait un clic droit sur une carte pour avoir plus d'informations.",recycleTarget:r.jsxs(r.Fragment,{children:["Une carte qui ",r.jsx(D,{name:"recycle"})," sort une cible de la dÃ©fausse pour la remettre dans la pioche."]}),dailyReward:r.jsxs(r.Fragment,{children:["Chaque ",r.jsx(D,{name:"day"}),", tu ajoutes une nouvelle carte Ã  ta pioche."]}),permanentSave:"Quittez et revenez quand vous le voulez, tout est sauvegardÃ© !",konamiCode:"Ce jeu a un petit point commun avec les jeux Konami...",inflation:r.jsxs(r.Fragment,{children:["Tous les 28 ",r.jsx(D,{name:"day",plural:!0}),", l'",r.jsx(D,{name:"inflation"})," diminue le ",r.jsx(D,{name:"level"})," des cartes."]})},Td={reputation:["consumeReputation","emptyReputation","winCondition"],mill:["ephemeralDestroyed","limitedDraw","playedToDiscard","cantPlay","supportInterest","recyclageToDraw","recycleTarget","winCondition"],"soft-lock":["costDollars","upgradeCostThreshold","actionGivesResources","inflation","winCondition"],"mill-lock":["overDraw","cardsAdvancesTime","upgradesAreActions","upgradesCumulable","maxHandSize","winCondition"]},Un=Object.values(Tr),Od=e=>{const t=j.useRef(null),n=is(t),{animation:a,shadow:s,transparency:o}=ue(c=>({animation:c.quality.animations,transparency:c.quality.transparency,shadow:c.quality.shadows})),[i,l]=j.useState(0);return j.useEffect(()=>{const c=setInterval(()=>{n||l((i+1)%Un.length)},5e3);return()=>clearInterval(c)},[i,n]),r.jsx("div",{ref:t,className:S("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":o,"bg-card":!o,"shadow shadow-black/50":s&&o,"transition-transform duration-500 ease-in-out":a,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>l((i+1)%Un.length),children:r.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:r.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[r.jsx(_s,{className:"h-6 cursor-pointer"}),r.jsx("span",{className:"whitespace-nowrap",children:Un[i]})]})})})},Dd=()=>{const[e,t]=j.useState({x:0,y:0});return j.useEffect(()=>{const n=a=>{t({x:a.clientX,y:a.clientY})};return window.addEventListener("mousemove",n),()=>{window.removeEventListener("mousemove",n)}},[]),e},Ld=e=>{const{subjects:t,clear:n}=Tc(),a=ue(),s=Dd(),[o,i]=j.useState(null);j.useEffect(()=>{t[0]&&i(t[0])},[t]),j.useEffect(()=>{const c=setTimeout(()=>{n()},2e3);return()=>{clearTimeout(c)}},[o]);const l=e.show&&t.length>0;return r.jsx("div",{className:S("pointer-events-none z-50 fixed bg-card p-2 rounded-md shadow-sm shadow-primary max-w-md",{[S("transition-opacity",{"opacity-100 duration-75 ease-[cubic-bezier(0.4, 0, 1, 1)]":l,"opacity-0 duration-1000 ease-[cubic-bezier(0.0, 0, 0.2, 1)]":!l})]:a.quality.transparency,[S("hidden",{block:l})]:!a.quality.transparency}),style:{top:s.y+5,left:s.x+5,zIndex:999999},children:o})};function _d(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Fd(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const $s=e=>{const t=ae(),n=typeof e.item=="object"?us(e.item)?je(e.item,t):Rt(e.item):e.item;return r.jsxs("span",{onClick:()=>{typeof n=="object"&&t.setDetail(n)},onContextMenu:a=>{a.preventDefault(),typeof n=="object"&&t.setDetail(n)},className:S("inline-flex items-center h-7 w-full rounded-full",typeof n=="string"?"":S("cursor-help",{"bg-action text-action-foreground":n.type==="action","bg-support text-support-foreground":n.type==="support","bg-upgrade text-upgrade-foreground":n.type==="upgrade"})),children:[typeof n=="object"&&r.jsx(zs,{item:n}),r.jsx("div",{className:"px-2",children:typeof n=="object"?n.name:n})]})},zs=({item:e,...t})=>r.jsx("img",{...t,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:S("aspect-square rounded-full h-full bg-background",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},t.className)}),ce=({className:e,...t})=>{const n=ue();return r.jsx("div",{...t,className:S("space-y-4 border rounded-xl py-4 px-6",{"bg-card/50":n.quality.transparency,"bg-card":!n.quality.transparency},e)})},$d=({scrollBox:e,child:t,placeholder:n})=>{const[a,s]=u.useState(!1),o=u.useRef(null);return u.useEffect(()=>{if(!e.current)return;const i=new IntersectionObserver(l=>{const c=l[0];s(c.isIntersecting)},{root:e.current,rootMargin:"0px",threshold:.1});return o.current&&i.observe(o.current),()=>{o.current&&i.unobserve(o.current)}},[e]),r.jsx("div",{ref:o,children:a?t:n})},zd=e=>{const t=ue(),n=ae(o=>()=>o),[a,s]=ae(o=>[o.detail,o.setDetail]);return r.jsxs("div",{className:S("absolute inset-0 z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":t.quality.animations,"opacity-0 bg-background/80":t.quality.transparency,hidden:!t.quality.transparency,"opacity-100 flex pointer-events-auto":a&&e.show}),children:[r.jsx("div",{onClick:()=>s(null),className:S("absolute inset-0",a&&e.show?"pointer-events-auto":"pointer-events-none")}),a&&r.jsx(Zt,{className:"space-y-4 z-30 w-fit h-fit flex flex-col items-center",children:typeof a=="string"?r.jsx(Bd,{stack:a}):us(a)?r.jsx(Gd,{card:je(a,n())}):r.jsx(qd,{upgrade:Rt(a)})})]})},Bd=e=>{const t=j.useRef(null),n=ae(s=>s[e.stack]),a={revivedDraw:"Pioche",revivedDiscard:"DÃ©fausse",revivedHand:"Main"}[e.stack];return r.jsxs(r.Fragment,{children:[r.jsxs("h1",{className:"text-3xl",children:["Pile de ",a]}),r.jsx("div",{className:"flex ",children:r.jsx(ce,{children:r.jsx("div",{ref:t,className:"grid grid-cols-4 gap-x-10 px-10 max-w-[1000px] max-h-[600px] overflow-y-scroll",children:n.map(s=>r.jsx($d,{scrollBox:t,child:r.jsx(tt,{card:s,isStack:e.stack}),placeholder:r.jsx("div",{className:gn})},s.name))})})})]})},Gd=e=>{const t=ae(d=>()=>d),n=j.useRef(null),[a,s]=j.useState("tri par ordre d'exÃ©cution"),o=Oc(t(),ge(e.card)),i=Rr(e.card.rarity,!0),l=cs(e.card.effect),c=j.useMemo(()=>{var d;return(((d=n.current)==null?void 0:d.children.length)??0)>3},[n]);return r.jsxs(r.Fragment,{children:[r.jsxs("h1",{className:"text-3xl",children:['A propos de "',e.card.name,'"']}),!e.card.effect.tags.includes("token")&&r.jsx("div",{className:"flex",children:Object.entries(Vt).sort(([,d],[,f])=>d-f).map(([d,f])=>{const h=t(),g=Dc(f,h);return r.jsx("div",{children:r.jsx(tt,{withoutDetail:!0,card:je({name:e.card.name,state:i===d&&o.length===0?"highlighted":"idle",initialRarity:g},h,{withoutModifiers:!0})})},d)})}),r.jsxs("div",{className:"flex gap-5",children:[o.length>0&&r.jsxs(ce,{className:"shrink-0 flex flex-col relative",children:[r.jsx(T,{className:"absolute top-0 right-0",onClick:()=>{s(a==="tri par ordre d'exÃ©cution"?"tri par raison":a==="tri par raison"?"tri par type":"tri par ordre d'exÃ©cution")},children:a}),r.jsx("h2",{className:"text-2xl",children:"Modificateurs actifs"}),r.jsx("div",{className:"max-h-[300px] overflow-y-scroll flex-grow",children:r.jsx("table",{children:r.jsx("tbody",{children:o.sort((d,f)=>a==="tri par type"?d.type.localeCompare(f.type):a==="tri par raison"?(typeof d.reason=="object"?d.reason.name:d.reason).localeCompare(typeof f.reason=="object"?f.reason.name:f.reason):0).map((d,f)=>r.jsxs("tr",{className:"odd:bg-muted/50",children:[r.jsxs("th",{children:["#",f+1]}),r.jsx("th",{className:"whitespace-nowrap",children:typeof d.reason=="string"?r.jsx("span",{children:d.reason}):r.jsx($s,{item:d.reason})}),d.type==="localAdvantage"?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"text-right",children:r.jsx(hn,{advantage:d.before,orphan:!0})}),r.jsx("td",{children:r.jsx(xa,{className:"w-4"})}),r.jsx("td",{children:r.jsx(hn,{advantage:d.after,orphan:!0})})]}):r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"text-right",children:r.jsx(Cn,{cost:d.before,miniature:!0})}),r.jsx("td",{children:r.jsx(xa,{className:"w-4"})}),r.jsx("td",{children:r.jsx(Cn,{cost:d.after,miniature:!0})})]})]},f))})})})]}),(e.card.effect.tags.includes("token")||o.length>0)&&r.jsxs(ce,{className:"shrink-0",children:[r.jsx("h2",{className:"text-center text-2xl",children:"Ta carte"}),r.jsx(tt,{card:e.card,withoutDetail:!0})]}),r.jsxs("div",{ref:n,className:S("flex flex-col gap-5",{"grid grid-cols-2":c}),children:[r.jsxs(ce,{children:[r.jsxs("h2",{className:"text-2xl",children:["Type ",r.jsx(D,{name:e.card.type})]}),l&&l.length>0&&l.map(d=>r.jsxs("div",{children:[r.jsx(D,{name:d,className:"text-2xl"})," -"," ",fs[d].description]},d))]}),e.card.effect.hint&&r.jsxs(ce,{children:[r.jsx("h2",{className:"text-2xl",children:"A savoir"}),r.jsx("p",{className:"text-2xl",children:e.card.effect.hint})]}),e.card.type==="action"&&r.jsx(Wd,{card:e.card})]})]})]})},qd=e=>{const t=ae(n=>()=>n);return r.jsxs(r.Fragment,{children:[r.jsxs("h1",{className:"text-3xl",children:['A propos de "',e.upgrade.name,'"']}),r.jsxs("div",{className:"flex gap-5",children:[r.jsxs(ce,{children:[r.jsx("h2",{className:"text-2xl",children:"Carte associÃ©e"}),r.jsx(tt,{card:je(e.upgrade.name,t()),withoutDetail:!0})]}),r.jsxs("div",{className:"flex flex-col gap-5",children:[r.jsx(ce,{children:r.jsxs("div",{className:"flex justify-between gap-5",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"DÃ©clencheur"}),r.jsx("p",{className:"text-2xl",children:Mn[e.upgrade.eventName].name})]}),r.jsx("div",{children:r.jsx(Ds,{name:e.upgrade.eventName,className:"w-16 h-16",backgroundClassName:"w-[70px] h-[70px]"})})]})}),r.jsxs(ce,{children:[r.jsxs("h2",{className:"text-2xl",children:["Effet",e.upgrade.max>1&&"s"]}),r.jsx("div",{className:"max-h-[200px] overflow-y-scroll",children:r.jsx("table",{children:r.jsx("tbody",{children:new Array(e.upgrade.max).fill(null).slice(0,e.upgrade.max===1/0?5:e.upgrade.max).map((n,a)=>r.jsxs("tr",{children:[r.jsx("th",{children:r.jsxs(D,{name:"upgrade",children:["x",a+1]})}),r.jsx("td",{children:e.upgrade.description(a+1)})]},a))})})})]})]})]})]})},Bs=e=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex mb-2 gap-2",children:[r.jsx(Cn,{cost:e.card.effect.cost,miniature:!0}),r.jsx("h2",{children:e.card.name})]}),r.jsx("p",{children:e.card.effect.description}),r.jsx(Os,{card:e.card}),ds(e.card)&&e.card.families.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("hr",{}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.card.families.map(t=>r.jsx(ms,{name:t},t))})]})]}),Wd=e=>r.jsxs(r.Fragment,{children:[e.card.families.length>0&&r.jsxs(ce,{children:[r.jsx("h2",{className:"text-2xl",children:"Familles"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.card.families.map(t=>r.jsx(ms,{name:t},t))})]}),!e.card.effect.tags.includes("upgrade")&&r.jsxs(ce,{children:[r.jsxs("a",{className:S("flex gap-3 items-baseline flex-wrap",!e.card.url&&"cursor-default"),href:e.card.url,target:"_blank",children:[r.jsxs("h2",{className:"inline text-2xl whitespace-nowrap",children:['Projet "',e.card.name,'"']}),e.card.url&&r.jsx(ed,{className:"inline self-center"}),e.card.description&&r.jsxs("span",{className:"text-lg italic text-muted-foreground whitespace-nowrap",children:["(",e.card.description,")"]})]}),e.card.detail&&r.jsxs("div",{className:"flex-grow text-xl text-left max-w-lg relative ml-5",children:[e.card.detail,r.jsx("span",{className:"inline-block w-0 overflow-visible",children:r.jsx(Fd,{className:"w-5 h-5 inline-block translate-x-2 translate-y-1/2"})}),r.jsx(_d,{className:"w-5 h-5 absolute -left-2 top-0 -translate-x-full"})]})]})]});function Bt(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const Hd=e=>{const t=ue(a=>({animations:a.quality.animations,transparency:a.quality.transparency})),n=ae(a=>({handOverflow:a.hand.length>=qe,almostEmptyDraw:a.draw.length<4&&a.draw.length>0&&Ge(a).length>qe,emptyDraw:a.draw.length===0,almostEmptyReputation:a.reputation<=5}));return e.show?r.jsx("div",{className:S("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none -translate-y-1/2",{"animate-pulse duration-700":t.animations&&t.transparency}),children:r.jsxs("div",{className:S("text-3xl flex flex-col gap-2","*:flex *:items-center *:gap-2",{"transition-[right] ease-in-out duration-1000":t.animations,[S("opacity-0",{"opacity-100":e.show})]:t.transparency,[S("hidden",{flex:e.show})]:!t.transparency}),children:[n.handOverflow&&r.jsxs("div",{children:[r.jsx(Bt,{className:"w-10"})," Ta main est pleine !"]}),n.almostEmptyDraw&&r.jsxs("div",{children:[r.jsx(Bt,{className:"w-10"})," Ta pioche est presque vide !"]}),n.emptyDraw&&r.jsxs("div",{children:[r.jsx(Bt,{className:"w-10"})," Ta pioche est vide !"]}),n.almostEmptyReputation&&r.jsxs("div",{children:[r.jsx(Bt,{className:"w-10"})," Ta ",r.jsx(D,{name:"reputation"})," est basse !"]})]})}):null},Vd=()=>{const e=ae(),t=e.operationInProgress.length>0;return r.jsxs("div",{className:"group-hover/debug:grid hidden grid-cols-2 gap-1 *:mx-auto",children:[r.jsx(T,{size:"cta",onClick:()=>{throw new Error("Test d'erreur")},children:"DÃ©clencher une erreur"}),r.jsx(T,{size:"cta",onClick:()=>e.addScreenMessage({header:"Test de notif",message:"Une notification",className:"bg-background text-foreground"}),children:"DÃ©clencher une notification"}),r.jsx(T,{size:"cta",disabled:t,onClick:async()=>{const a=Math.round(1/De);await e.advanceTime(a)},children:"Ajouter 1 jour"}),r.jsx(T,{size:"cta",disabled:t,onClick:async()=>{const a=Math.round(7/De);await e.advanceTime(a)},children:"Ajouter une semaine"}),r.jsx(T,{size:"cta",disabled:t,className:"text-upgrade",onClick:async()=>{e.setOperationInProgress("get all upgrades",!0),e.upgrades=[];for(const n of Je)await Promise.all(new Array(n.max??10).fill(0).map(async(a,s)=>{await W(100*s),await e.upgrade(n.name)})),await e.removeCard(n.name);e.setOperationInProgress("get all upgrades",!1)},children:"Toutes les amÃ©liorations"}),r.jsx(T,{size:"cta",onClick:async()=>{e.choiceOptions=[],e.operationInProgress=[],e.setOperationInProgress("get all cards",!0);for(const n of ut)e.hand.some(a=>a.name===n.name)||e.draw.some(a=>a.name===n.name)||e.playZone.some(a=>a.name===n.name)||e.discard.some(a=>a.name===n.name)||e.draw.push(je({name:n.name,state:"idle",initialRarity:ts()},e));e.setOperationInProgress("get all cards",!1)},children:"Toutes les cartes"}),r.jsx(T,{size:"cta",onClick:()=>e.dangerouslyUpdate({inflation:0}),children:"Annuler l'inflation"}),r.jsx(T,{size:"cta",onClick:()=>e.incrementsInflation(),children:"Augmenter l'inflation"}),r.jsx(T,{size:"cta",onClick:async()=>{const n=ut.filter(a=>!a.effect().tags.includes("token")).map(a=>a.name);await e.transformCardsAnimation(n,()=>e.addGlobalCardModifier("level up cards",[n,Pr],"Level up button"))},children:"Level up cards"}),r.jsxs("div",{className:"flex",children:[r.jsx(T,{className:"text-green-500",onClick:()=>e.win(),disabled:t,children:"Win"}),r.jsx(T,{className:"text-red-500",onClick:()=>e.defeat("reputation"),disabled:t,children:"Lose"})]})]})},Ud=()=>{const e=ae(a=>a.operationInProgress),[t,n]=j.useState([]);return j.useEffect(()=>{e.join(" | ")!==t[t.length-1]&&n(a=>[...a,e.join(" | ")].slice(-50))},[e]),r.jsxs(Zt,{className:S("group/debug absolute bottom-0 left-0 opacity-50 hover:opacity-100 z-50"),children:[r.jsxs("div",{className:e.length>0?"bg-red-500":"bg-green-500",children:["Operation in progress:",r.jsx("ul",{children:e.map((a,s)=>r.jsx("li",{children:a},s))})]}),r.jsx("div",{className:"group-hover/debug:block hidden",children:t.map((a,s)=>r.jsxs("div",{className:"whitespace-nowrap text-sm",children:["- ",a]},s))}),r.jsx(Vd,{})]})};var Or={},Gs={exports:{}},Kd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yd=Kd,Zd=Yd;function qs(){}function Ws(){}Ws.resetWarningCache=qs;var Xd=function(){function e(a,s,o,i,l,c){if(c!==Zd){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ws,resetWarningCache:qs};return n.PropTypes=n,n};Gs.exports=Xd();var Jd=Gs.exports,Hs=void 0;typeof window<"u"&&(Hs=Lc);var Qd=Hs,Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.noop=function(){};Object.defineProperty(Or,"__esModule",{value:!0});var eu=function(){function e(t,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Vs=u,tu=Us(Vs),nu=Jd,me=Us(nu),Sa=Qd,$e=Dr;function Us(e){return e&&e.__esModule?e:{default:e}}function ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function au(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function su(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Lr=function(e){su(t,e);function t(n){ru(this,t);var a=au(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.initHowler=a.initHowler.bind(a),a}return eu(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(a){JSON.stringify(a.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(a)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof Sa.Howl<"u"&&(this.howler=new Sa.Howl({src:a.src,xhr:a.xhr,format:a.format,mute:a.mute,loop:a.loop,preload:a.preload,volume:a.volume,rate:a.rate,onend:a.onEnd,onplay:a.onPlay,onplayerror:a.onPlayError,onpause:a.onPause,onvolume:a.onVolume,onstop:a.onStop,onload:a.onLoad,onseek:a.onSeek,onloaderror:a.onLoadError,html5:a.html5}),a.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(a){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),a.mute!==this.props.mute&&this.mute(this.props.mute),a.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var a=this.howler.playing();a||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;a?this.howler.pause(a):this.howler.pause()}},{key:"rate",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof a=="number"&&(s?this.howler.rate(a,s):this.howler.rate(a))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;a?this.howler.stop(a):this.howler.stop()}},{key:"mute",value:function(){var a;(a=this.howler).mute.apply(a,arguments)}},{key:"volume",value:function(){var a;return(a=this.howler).volume.apply(a,arguments)}},{key:"loop",value:function(){var a;return(a=this.howler).loop.apply(a,arguments)}},{key:"seek",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!a&&a!==0)return this.howler.seek();if(a||a===0)return this.howler.seek(a),a}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return tu.default.createElement("div",null)}},{key:"howler",set:function(a){a&&(this._howler=a)},get:function(){return this._howler}}]),t}(Vs.Component);Lr.propTypes={src:me.default.oneOfType([me.default.string,me.default.arrayOf(me.default.string)]).isRequired,format:me.default.arrayOf(me.default.string),xhr:me.default.object,playing:me.default.bool,mute:me.default.bool,loop:me.default.bool,preload:me.default.bool,volume:me.default.number,rate:me.default.number,onEnd:me.default.func,onPause:me.default.func,onPlay:me.default.func,onPlayError:me.default.func,onVolume:me.default.func,onStop:me.default.func,onLoad:me.default.func,onSeek:me.default.func,onLoadError:me.default.func,html5:me.default.bool};Lr.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:$e.noop,onPause:$e.noop,onPlay:$e.noop,onPlayError:$e.noop,onVolume:$e.noop,onStop:$e.noop,onLoad:$e.noop,onSeek:$e.noop,onLoadError:$e.noop,html5:!1};Or.default=Lr;var ou=Or.default;const iu=_c(ou),yt=.4,lu=()=>{const e=ae(o=>o.isGameOver),t=Ne(o=>o.musicVolume),n=Ne(o=>o.musicMuted),a=Ne(o=>o.setMusicVolume),s=Ne(o=>o.isCardGameVisible);return j.useEffect(()=>{let o;return s&&!e&&t<yt?o=setInterval(()=>{a(i=>i<yt?Math.min(yt,i+yt/10):(clearInterval(o),i))},100):(!s||e)&&t>0&&(o=setInterval(()=>{a(i=>i>0?Math.max(0,i-yt/10):(clearInterval(o),i))},100)),()=>clearInterval(o)},[s,e]),r.jsx(iu,{src:"sounds/music.mp3",volume:Math.min(yt,t),mute:n,loop:!0,playing:!0})},Ks=[{name:"Mel Andrew",score:27206,mode:"normal"},{name:"Ghom",score:45269,mode:"normal"},{name:"ð•ºð–“ð–žð–",score:35465,mode:"noob"},{name:"Placeholder",score:1500,mode:"normal"}];function cu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function du(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function uu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),j.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function fu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8c12.3-2.5 24.1-6.4 35.1-11.5c-2.1-10.8-3.1-21.9-3.1-33.3c0-80.3 53.8-148 127.3-169.2c.5-2.2 .7-4.5 .7-6.8c0-17.7-14.3-32-32-32H32zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm47.9-225c4.3 3.7 5.4 9.9 2.6 14.9L452.4 356H488c5.2 0 9.8 3.3 11.4 8.2s-.1 10.3-4.2 13.4l-96 72c-4.5 3.4-10.8 3.2-15.1-.6s-5.4-9.9-2.6-14.9L411.6 380H376c-5.2 0-9.8-3.3-11.4-8.2s.1-10.3 4.2-13.4l96-72c4.5-3.4 10.8-3.2 15.1 .6z"})))}function mu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j.createElement("g",null,j.createElement("path",{d:"M256 24c-31.466 48-62.932 96-62.932 160 0 56.794 37.144 113.568 45.514 148h34.836c8.37-34.432 45.514-91.206 45.514-148 0-64-31.466-112-62.932-160zM98.637 206c-47.2 0-78.664 32-78.664 80 0 32 22.115 63.526 62.93 64-15.732-16 .002-64 31.468-64 31.89 0 56.58 21.916 69.253 46h33.828c-13.744-47.52-49.108-126-118.813-126zm314.726 0c-69.705 0-105.07 78.48-118.814 126h33.827c12.673-24.084 37.362-46 69.252-46 31.465 0 47.2 48 31.466 64 40.816-.474 62.93-32 62.93-64 0-48-31.464-80-78.663-80zM153.076 350c-38.705 0-54.44 16-54.44 48 0 16 15.734 48 47.2 48 35.4 0 61.948-27 73.01-54h-35.682c-4.657 3.57-11.5 6-21.596 6-15.733 0-31.464-32-8.492-48zm37.694 0c.017.064.03.127.048.19-13.29 2.16-12.694 23.343 1.793 23.79v.02H319.39l-.003-.02c14.486-.447 15.083-21.63 1.792-23.79.017-.063.03-.126.048-.19H190.77zm168.154 0c22.972 16 7.24 48-8.492 48-10.096 0-16.94-2.43-21.596-6h-35.682c11.062 27 37.61 54 73.01 54 31.466 0 47.2-32 47.2-48 0-32-15.735-48-54.44-48zm-118.656 42c-15.733 16-15.734 48-31.467 64l31.468-16c0 16 0 32 15.732 48 15.733-16 15.732-32 15.732-48l31.467 16c-15.734-16-15.735-48-31.468-64h-31.464z",fill:"currentColor",fillOpacity:"1"}))))}function hu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M256 16c-52.5 252.632-210 277.845 0 454.688C466 293.845 308.5 268.63 256 16zM124.75 167.407C98.5 243.197 46 294.117 46 369.907S151 496 229.75 496c-157.5-126.317-105-202.278-105-328.593zm262.5 0c0 126.317 52.5 202.278-105 328.593C361 496 466 445.696 466 369.907c0-75.79-52.5-126.71-78.75-202.5z"})))}var pu="Separator",Ea="horizontal",gu=["horizontal","vertical"],Ys=u.forwardRef((e,t)=>{const{decorative:n,orientation:a=Ea,...s}=e,o=vu(a)?a:Ea,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(Q.div,{"data-orientation":o,...l,...s,ref:t})});Ys.displayName=pu;function vu(e){return gu.includes(e)}var Zs=Ys;const ur=u.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(Zs,{ref:s,decorative:n,orientation:t,className:S("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));ur.displayName=Zs.displayName;const Qt=({iconClassName:e,barClassName:t,value:n,display:a,max:s,color:o,title:i,increaseOnly:l,...c})=>r.jsxs("div",{...c,className:S("flex items-center h-7 w-full",c.className),children:[r.jsx(et,{title:i,value:a?a(n/s):n,miniature:!0,colors:o??"bg-primary",className:S("absolute z-50",e)}),r.jsx(In,{barColor:o,className:S(t,"ml-[30px] rounded-l-none"),value:n/s*100,increaseOnly:l})]});function xu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j.createElement("g",null,j.createElement("path",{d:"M256 18.365L50.14 136 256 253.635 461.86 136 256 18.365zm-154 168L50.14 216 256 333.635 461.86 216 410 186.365l-154 88-154-88zm0 80L50.14 296 256 413.635 461.86 296 410 266.365l-154 88-154-88zm0 80L50.14 376 256 493.635 461.86 376 410 346.365l-154 88-154-88z",fill:"currentColor",fillOpacity:"1"}))))}const yu=e=>{const t=ae(n=>({deck:Ge(n),draw:n.draw,discard:n.discard,hand:n.hand}));return r.jsx(ke,{Icon:e.collection==="deck"?xu:e.collection==="draw"?Fc:$c,name:e.collection==="deck"?"Deck":e.collection==="draw"?"Pioche":"DÃ©fausse",value:t[e.collection].length,className:"h-5"})},ke=({name:e,Icon:t,value:n,...a})=>r.jsxs("div",{...a,className:S("flex items-center gap-1",a.className),children:[r.jsx(t,{className:"h-full aspect-square w-fit self-center justify-self-start"}),r.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[r.jsxs("span",{children:[e,n!=null?" :":""]})," ",n]})]}),Xs=e=>{const t=ae(),n=ue(o=>({shadows:o.quality.shadows,animation:o.quality.animations,transparency:o.quality.transparency})),[a,s]=j.useState("");return r.jsxs(r.Fragment,{children:[e.forHUD&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[r.jsxs("div",{id:"energy",children:[r.jsx(Qt,{title:"Energie",value:t.energy,max:t.energyMax,color:"bg-energy"}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:fu,name:"Energie",className:"h-5"})})]}),r.jsxs("div",{id:"reputation",children:[r.jsx(Qt,{title:"RÃ©putation",value:t.reputation,max:Er,color:"bg-reputation"}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:mu,name:"RÃ©putation",className:"h-5"})})]}),r.jsxs("div",{id:"day",children:[r.jsx(Qt,{title:"JournÃ©e",display:o=>Math.floor(o*24)%24+"h",value:t.dayFull===null?t.day%1:t.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:pa,name:"Jour",value:Math.floor(t.day),className:"h-5"})})]}),r.jsxs("div",{id:"sprint",children:[r.jsx(Qt,{title:"Sprint",display:o=>Math.floor(o*7)+"j",value:Math.floor(t.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:zc,name:"Sprint",value:Math.floor(t.day/7),className:"h-5"})})]})]}),r.jsx(ur,{}),r.jsxs("div",{id:"deck",className:"space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(hs,{value:a,onChange:o=>s(o.target.value),placeholder:"Rechercher dans le deck...",className:"flex-grow"}),a.length>0&&r.jsx(Bc,{onClick:()=>s(""),className:"cursor-pointer w-3 h-3 absolute top-1/2 right-4 -translate-y-1/2"})]}),r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsx("div",{className:"flex justify-end col-span-2",children:Sr(t).filter(o=>!a||o.type.includes(a.toLowerCase())||o.name.toLowerCase().includes(a.toLowerCase())||o.effect.tags.some(i=>{var l;return i.includes(a.toLowerCase())||((l=fs[i])==null?void 0:l.name.toLowerCase().includes(a.toLowerCase()))})||o.type==="action"&&o.families.some(i=>i.toLowerCase().includes(a.toLowerCase()))||Gc(o.effect.description).toLowerCase().includes(a.toLowerCase())).toSorted((o,i)=>o.type===i.type?o.effect.tags.includes("upgrade")?1:-1:i.type>o.type?1:-1).map((o,i)=>r.jsx(xn,{popover:r.jsx(Bs,{card:o}),children:r.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto cursor-help",onClick:()=>{t.setDetail(ge(o))},onContextMenu:l=>{l.preventDefault(),t.setDetail(ge(o))},children:r.jsx(zs,{item:o,className:S("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.tags.includes("upgrade")})})})},i))}),r.jsx(yu,{collection:"deck"})]})]}),r.jsx(ur,{})]}),r.jsxs("div",{className:S("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",n.transparency?"bg-card/60":"bg-card",e.className),children:[r.jsx(ke,{id:"money",Icon:du,name:"Dollars",value:r.jsxs("span",{children:[r.jsx(We,{M$:t.money})," ",e.forHUD&&r.jsxs(r.Fragment,{children:["sur ",r.jsx(We,{M$:Pt})]})]})}),r.jsx(ke,{Icon:uu,name:"Score",value:r.jsxs("span",{className:"text-upgrade font-changa",children:[t.score.toLocaleString("fr")," pts"]})}),t.inflation>0&&r.jsx(ke,{Icon:hu,name:"Inflation",value:r.jsxs("span",{className:"text-inflation font-changa",children:["-",Math.floor(t.inflation/Pr)," ",r.jsx(D,{name:"level",plural:t.inflation>=4})]})}),!e.forHUD&&r.jsx(ke,{Icon:pa,name:"Jour",value:Math.floor(t.day)}),r.jsx(ke,{Icon:Ls,name:"Mode",value:r.jsxs("span",{className:"capitalize",children:[lt[t.difficulty],t.debug&&" [debug]"]})}),t.infinityMode&&r.jsx(ke,{Icon:cu,name:"Mode infini",value:"ActivÃ©"})]})]})},wu=e=>{const t=ue(i=>({shadows:i.quality.shadows,animation:i.quality.animations,transparency:i.quality.transparency})),[n,a]=Ne(i=>[i.setCardGameVisibility,i.toggleSettings]),s=ae(i=>({isGameOver:i.isGameOver,isWon:i.isWon,reason:i.reason,score:i.score,reset:i.reset,continue:i.enableInfinityMode})),o=Ks.sort((i,l)=>l.score-i.score).findIndex(({score:i})=>s.score>=i);return j.useEffect(()=>{s.isGameOver&&s.isWon&&t.animation&&e.show&&(re.victory.play(),ys())},[s.isGameOver,s.isWon,t.animation,e.show]),r.jsx("div",{className:e.show?"block":"hidden",children:s.isGameOver&&r.jsx("div",{className:S("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":t.transparency,"bg-background":!t.transparency}),children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[r.jsxs(Ir,{className:"flex flex-col select-none",max:10,reverse:!0,children:[r.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),r.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[s.isWon&&r.jsx("div",{className:"text-green-500",children:"Tu as gagnÃ© !"}),!s.isWon&&r.jsx("div",{className:"text-red-500",children:"Tu as perdu !"})]})]}),s.reason&&r.jsx("p",{className:"text-4xl",children:{reputation:"Tu as utilisÃ© toute ta jauge de rÃ©putation...",mill:"Tu n'as plus de carte...","soft-lock":"Ta main est injouable...","mill-lock":"Tu n'as plus de carte Ã  piocher..."}[s.reason]}),s.isWon?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Xs,{className:"*:h-10 text-3xl"}),r.jsx("div",{className:S("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:o>=0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-3xl",children:["Rank:"," ",r.jsxs("span",{className:S("font-changa text-4xl",lr(o)),children:["# ",o+1]})]}),r.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[r.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contacte-moi"}),r.jsx("br",{}),"pour soumettre ton score !"]})]}):r.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Tu n'es pas classÃ©, ",r.jsx("br",{})," ton score est trop faible."," ",r.jsx("br",{})," Essaye"," ",ct.difficulty==="noob"||ct.difficulty==="easy"?r.jsxs(r.Fragment,{children:["une difficultÃ© plus Ã©levÃ©e ! ",r.jsx("br",{}),r.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:a,children:"ParamÃ¨tres de difficultÃ©"})]}):"de nouveau !"]})})]}):r.jsx("div",{className:"text-2xl group/helpers",children:s.reason&&Td[s.reason].map((i,l)=>r.jsx("div",{className:S("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":t.animation}),children:r.jsx("p",{className:S("hover:text-foreground",{[S("animate-trigger delay-1000",{"delay-0":l===0,"delay-100":l===1,"delay-200":l===2,"delay-300":l===3,"delay-500":l===4,"delay-700":l===5})]:t.animation}),children:Tr[i]})},l))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(T,{onClick:()=>n(!1),variant:"default",children:"Quitter"}),r.jsx(T,{onClick:()=>s.reset(),variant:s.isWon?"default":"cta",size:s.isWon?"default":"cta",children:s.isWon?"Nouvelle partie":"Recommencer"}),s.isWon&&r.jsx(T,{onClick:()=>s.continue(),popover:r.jsxs("div",{children:[r.jsx("h3",{children:"Mode Infini"}),r.jsx("p",{children:"Si tu veux continuer a t'amuser sur cette partie, c'est possible ! Mais le jeu continueras indÃ©finiment et ton score ne sera pas recevable"})]}),variant:"cta",size:"cta",children:"Mode infini"})]}),s.isWon&&r.jsx(Fs,{animated:!0})]})})})},bu=e=>{const t=ae(a=>a.revivedHand),n=ue(({quality:{animations:a}})=>({animations:a}));return r.jsx("div",{id:"hand",className:S("absolute left-[50vw]",{"transition-[bottom] ease-in-out duration-1000":n.animations},e.show?"bottom-[250px]":"-bottom-full"),children:t.map((a,s)=>r.jsx(tt,{card:a,position:s},a.name))})},ju=e=>{const t=ue(s=>s.quality.animations),n=ae(s=>s.reset),a=Ne(s=>()=>s.setCardGameVisibility(!1));return r.jsx("div",{className:S("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":t,"-bottom-12":e.show,"delay-500":e.delay&&t}),children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:()=>a(),variant:"default",children:"Revenir Ã  l'accueil"}),r.jsx(T,{onClick:()=>n(),variant:"default",children:"Recommencer"})]})})},Pa=10,Cu=41,Nu=e=>{const t=ae(a=>a.logs),n=j.useRef(null);return j.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[t]),r.jsx("div",{id:"logs",ref:n,className:S("absolute right-0 bottom-0 translate-x-full min-w-52 overflow-y-scroll",{"hidden pointer-events-none":!e.show}),style:{maxHeight:Pa*Cu,maskImage:`linear-gradient(to bottom, transparent, black ${Math.floor(as(t.length,0,Pa,0,100,!0))}%)`,scrollbarWidth:"none",scrollBehavior:"smooth"},children:r.jsx("table",{children:r.jsx("tbody",{children:t.map((a,s)=>a?r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx($s,{item:a.reason})}),r.jsx("td",{className:"pb-1.5",children:r.jsx("span",{className:S("inline-block ring-2",a.type!=="cardManagement"&&(a.value>0?"ring-green-500":"ring-red-500"),a.type==="money"?"":"rounded-full"),children:a.type==="money"?r.jsx(Ts,{miniature:!0,value:a.value,symbol:!0}):a.type==="reputation"||a.type==="energy"?r.jsx(et,{miniature:!0,symbol:!0,value:a.value,colors:S({"bg-reputation":a.type==="reputation","bg-energy":a.type==="energy"})}):r.jsx(r.Fragment,{children:(()=>{const o=Object.entries(ze).find(l=>l[1]===a.value)[0],i=qc[o];return r.jsx(xn,{popover:o==="drawFromDiscard"?"Pioche dans la dÃ©fausse":o==="play"?"Joue":r.jsx(D,{name:o}),children:r.jsx(i,{className:"h-6 w-auto","aria-label":"w-5 h-5"})})})()})})})]},s):r.jsxs("tr",{children:[r.jsx("td",{className:"pb-1.5",children:r.jsx("span",{className:"inline-block h-7"})}),r.jsx("td",{})]},s))})})})},Su=e=>{const{shadows:t,animation:n}=ue(l=>({shadows:l.quality.shadows,animation:l.quality.animations})),[a,s]=j.useState(!0),[o,i]=j.useState(!1);return j.useEffect(()=>{e.show?(i(!0),s(!1)):(s(!0),i(!1))},[e.show]),r.jsxs("div",{className:S("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"delay-500":o&&n,"translate-x-0":e.show}),children:[r.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":t})}),r.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":t})}),r.jsx(ju,{show:e.show,delay:a}),r.jsx(Nu,{show:e.show}),r.jsx(Zt,{className:"space-y-2 w-[400px]",children:r.jsx(Xs,{className:"*:h-6 text-lg",forHUD:!0})})]})};function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Js(e){const t=e+"CollectionProvider",[n,a]=Ie(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:p,children:m}=v,x=j.useRef(null),w=j.useRef(new Map).current;return r.jsx(s,{scope:p,itemMap:w,collectionRef:x,children:m})};i.displayName=t;const l=e+"CollectionSlot",c=j.forwardRef((v,p)=>{const{scope:m,children:x}=v,w=o(l,m),b=de(p,w.collectionRef);return r.jsx(yn,{ref:b,children:x})});c.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=j.forwardRef((v,p)=>{const{scope:m,children:x,...w}=v,b=j.useRef(null),N=de(p,b),E=o(d,m);return j.useEffect(()=>(E.itemMap.set(b,{ref:b,...w}),()=>void E.itemMap.delete(b))),r.jsx(yn,{[f]:"",ref:N,children:x})});h.displayName=d;function g(v){const p=o(e+"CollectionConsumer",v);return j.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((E,P)=>w.indexOf(E.ref.current)-w.indexOf(P.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},g,a]}var Ce=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Eu=Wc.useId||(()=>{}),Pu=0;function Qe(e){const[t,n]=u.useState(Eu());return Ce(()=>{e||n(a=>a??String(Pu++))},[e]),e||(t?`radix-${t}`:"")}function _e(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function ft({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,s]=Ru({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:a,l=_e(n),c=u.useCallback(d=>{if(o){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else s(d)},[o,e,s,l]);return[i,c]}function Ru({defaultProp:e,onChange:t}){const n=u.useState(e),[a]=n,s=u.useRef(a),o=_e(t);return u.useEffect(()=>{s.current!==a&&(o(a),s.current=a)},[a,s,o]),n}var ku=u.createContext(void 0);function Tn(e){const t=u.useContext(ku);return e||t||"ltr"}var Kn="rovingFocusGroup.onEntryFocus",Mu={bubbles:!1,cancelable:!0},On="RovingFocusGroup",[fr,Qs,Au]=Js(On),[Iu,Dn]=Ie(On,[Au]),[Tu,Ou]=Iu(On),eo=u.forwardRef((e,t)=>r.jsx(fr.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(fr.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Du,{...e,ref:t})})}));eo.displayName=On;var Du=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,g=u.useRef(null),v=de(t,g),p=Tn(o),[m=null,x]=ft({prop:i,defaultProp:l,onChange:c}),[w,b]=u.useState(!1),N=_e(d),E=Qs(n),P=u.useRef(!1),[A,k]=u.useState(0);return u.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(Kn,N),()=>M.removeEventListener(Kn,N)},[N]),r.jsx(Tu,{scope:n,orientation:a,dir:p,loop:s,currentTabStopId:m,onItemFocus:u.useCallback(M=>x(M),[x]),onItemShiftTab:u.useCallback(()=>b(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(M=>M+1),[]),onFocusableItemRemove:u.useCallback(()=>k(M=>M-1),[]),children:r.jsx(Q.div,{tabIndex:w||A===0?-1:0,"data-orientation":a,...h,ref:v,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{P.current=!0}),onFocus:te(e.onFocus,M=>{const K=!P.current;if(M.target===M.currentTarget&&K&&!w){const L=new CustomEvent(Kn,Mu);if(M.currentTarget.dispatchEvent(L),!L.defaultPrevented){const H=E().filter(J=>J.focusable),ee=H.find(J=>J.active),ne=H.find(J=>J.id===m),Z=[ee,ne,...H].filter(Boolean).map(J=>J.ref.current);ro(Z,f)}}P.current=!1}),onBlur:te(e.onBlur,()=>b(!1))})})}),to="RovingFocusGroupItem",no=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:o,...i}=e,l=Qe(),c=o||l,d=Ou(to,n),f=d.currentTabStopId===c,h=Qs(n),{onFocusableItemAdd:g,onFocusableItemRemove:v}=d;return u.useEffect(()=>{if(a)return g(),()=>v()},[a,g,v]),r.jsx(fr.ItemSlot,{scope:n,id:c,focusable:a,active:s,children:r.jsx(Q.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,p=>{a?d.onItemFocus(c):p.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:te(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const m=Fu(p,d.orientation,d.dir);if(m!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=h().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")w.reverse();else if(m==="prev"||m==="next"){m==="prev"&&w.reverse();const b=w.indexOf(p.currentTarget);w=d.loop?$u(w,b+1):w.slice(b+1)}setTimeout(()=>ro(w))}})})})});no.displayName=to;var Lu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _u(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Fu(e,t,n){const a=_u(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Lu[a]}function ro(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function $u(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var ao=eo,so=no;function zu(e,t){return u.useReducer((n,a)=>t[n][a]??n,e)}var gt=e=>{const{present:t,children:n}=e,a=Bu(t),s=typeof n=="function"?n({present:a.isPresent}):u.Children.only(n),o=de(a.ref,Gu(s));return typeof n=="function"||a.isPresent?u.cloneElement(s,{ref:o}):null};gt.displayName="Presence";function Bu(e){const[t,n]=u.useState(),a=u.useRef({}),s=u.useRef(e),o=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=zu(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=en(a.current);o.current=l==="mounted"?d:"none"},[l]),Ce(()=>{const d=a.current,f=s.current;if(f!==e){const g=o.current,v=en(d);e?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ce(()=>{if(t){const d=h=>{const v=en(a.current).includes(h.animationName);h.target===t&&v&&Yt.flushSync(()=>c("ANIMATION_END"))},f=h=>{h.target===t&&(o.current=en(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(a.current=getComputedStyle(d)),n(d)},[])}}function en(e){return(e==null?void 0:e.animationName)||"none"}function Gu(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _r="Tabs",[qu,Yp]=Ie(_r,[Dn]),oo=Dn(),[Wu,Fr]=qu(_r),io=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=Tn(l),[h,g]=ft({prop:a,onChange:s,defaultProp:o});return r.jsx(Wu,{scope:n,baseId:Qe(),value:h,onValueChange:g,orientation:i,dir:f,activationMode:c,children:r.jsx(Q.div,{dir:f,"data-orientation":i,...d,ref:t})})});io.displayName=_r;var lo="TabsList",co=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,o=Fr(lo,n),i=oo(n);return r.jsx(ao,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:a,children:r.jsx(Q.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});co.displayName=lo;var uo="TabsTrigger",fo=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...o}=e,i=Fr(uo,n),l=oo(n),c=po(i.baseId,a),d=go(i.baseId,a),f=a===i.value;return r.jsx(so,{asChild:!0,...l,focusable:!s,active:f,children:r.jsx(Q.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:te(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(a):h.preventDefault()}),onKeyDown:te(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(a)}),onFocus:te(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(a)})})})});fo.displayName=uo;var mo="TabsContent",ho=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:o,...i}=e,l=Fr(mo,n),c=po(l.baseId,a),d=go(l.baseId,a),f=a===l.value,h=u.useRef(f);return u.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),r.jsx(gt,{present:s||f,children:({present:g})=>r.jsx(Q.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&o})})});ho.displayName=mo;function po(e,t){return`${e}-trigger-${t}`}function go(e,t){return`${e}-content-${t}`}var Hu=io,vo=co,xo=fo,yo=ho;const Vu=Hu,wo=u.forwardRef(({className:e,...t},n)=>r.jsx(vo,{ref:n,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));wo.displayName=vo.displayName;const Ye=u.forwardRef(({className:e,...t},n)=>r.jsx(xo,{ref:n,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 font-changa ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ye.displayName=xo.displayName;const Ze=u.forwardRef(({className:e,...t},n)=>r.jsx(yo,{ref:n,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ze.displayName=yo.displayName;const Uu=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"A propos"}),r.jsxs(ce,{children:[r.jsxs("h3",{children:["Version ",r.jsx("code",{children:dr.version})]}),r.jsxs("p",{children:["Code source disponible sur"," ",r.jsx("a",{href:"https://github.com/GhomKrosmonaute/GhomKrosmonaute.github.io",target:"_blank",className:"font-bold hover:underline",children:"GitHub"})]})]})]}),tn="Camille ABELLA (Ghom)",Ku=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"CrÃ©dits"}),r.jsxs("div",{className:"grid grid-cols-12 gap-5",children:[r.jsxs(ce,{className:"col-span-4",children:[r.jsx("h3",{children:"</> DÃ©veloppement"}),r.jsx("p",{children:tn})]}),r.jsxs(ce,{className:"col-span-4",children:[r.jsx("h3",{children:"ðŸŽ® Game Design"}),r.jsx("p",{children:tn})]}),r.jsxs(ce,{className:"col-span-4",children:[r.jsx("h3",{children:"ðŸŽµ Musiques"}),r.jsx("p",{children:tn})]}),r.jsxs(ce,{className:"col-span-2",children:[r.jsx("h3",{children:"ðŸ”Š Sons"}),r.jsxs("ul",{children:[r.jsx("li",{children:r.jsx("a",{href:"https://freesound.org/",className:"font-bold",target:"_blank",children:"freesound.org"})}),r.jsx("li",{children:r.jsx("a",{href:"https://pixabay.com/",className:"font-bold",target:"_blank",children:"pixabay.com"})})]})]}),r.jsxs(ce,{className:"col-span-5",children:[r.jsx("h3",{children:"ðŸ–Œï¸ Graphismes & icÃ´nes"}),r.jsxs("p",{children:[tn,r.jsx("br",{}),"For icons:"," ",r.jsx("a",{href:"https://react-icons.github.io/react-icons/",className:"font-bold",target:"_blank",children:"react-icons"})," ","and"," ",r.jsx("a",{href:"https://game-icons.net/",className:"font-bold",target:"_blank",children:"game-icons.net"}),r.jsx("br",{}),r.jsx("a",{href:"https://codepen.io/kaykay1323/pen/OJGmPxV",className:"font-bold",target:"_blank",children:"Kaykay's CSS god rays"})," ","for the background"]})]}),r.jsxs(ce,{className:"col-span-5",children:[r.jsx("h3",{children:"âœ… Play tests"}),r.jsxs("ul",{children:[r.jsx("li",{children:"MÃ©lodie Deichfischer (Mel-Andrew)"}),r.jsx("li",{children:"empereuronyx (ð•ºð–“ð–žð–)"}),r.jsx("li",{children:"kikuchi_003 (kikuchi)"})]})]})]})]}),Yu=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Aide"}),r.jsx(ce,{children:r.jsx("div",{className:"max-h-[60vh] overflow-y-scroll gap-y-1 gap-x-4 xl:grid grid-cols-2",children:Object.values(Tr).map((e,t)=>r.jsx("div",{className:"whitespace-nowrap",children:e},t))})})]}),Zu=e=>{const[t,n]=j.useState(0);return j.useEffect(()=>{const a=[];let s=!0;function o(){window.requestAnimationFrame(()=>{const i=performance.now();for(;a.length>0&&a[0]<=i-1e3;)a.shift();a.push(i),n(a.length),s&&o()})}return o(),()=>{s=!1}},[]),r.jsxs("span",{...e,children:[t," FPS"]})};function $r(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function zr(e){const[t,n]=u.useState(void 0);return Ce(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Br="Checkbox",[Xu,Zp]=Ie(Br),[Ju,Qu]=Xu(Br),bo=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,...f}=e,[h,g]=u.useState(null),v=de(t,N=>g(N)),p=u.useRef(!1),m=h?!!h.closest("form"):!0,[x=!1,w]=ft({prop:s,defaultProp:o,onChange:d}),b=u.useRef(x);return u.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const E=()=>w(b.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[h,w]),r.jsxs(Ju,{scope:n,state:x,disabled:l,children:[r.jsx(Q.button,{type:"button",role:"checkbox","aria-checked":dt(x)?"mixed":x,"aria-required":i,"data-state":No(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:te(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:te(e.onClick,N=>{w(E=>dt(E)?!0:!E),m&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),m&&r.jsx(ef,{control:h,bubbles:!p.current,name:a,value:c,checked:x,required:i,disabled:l,style:{transform:"translateX(-100%)"}})]})});bo.displayName=Br;var jo="CheckboxIndicator",Co=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,o=Qu(jo,n);return r.jsx(gt,{present:a||dt(o.state)||o.state===!0,children:r.jsx(Q.span,{"data-state":No(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Co.displayName=jo;var ef=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,o=u.useRef(null),i=$r(n),l=zr(t);return u.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&h){const g=new Event("click",{bubbles:a});c.indeterminate=dt(n),h.call(c,dt(n)?!1:n),c.dispatchEvent(g)}},[i,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:dt(n)?!1:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dt(e){return e==="indeterminate"}function No(e){return dt(e)?"indeterminate":e?"checked":"unchecked"}var So=bo,tf=Co;const Eo=u.forwardRef(({className:e,...t},n)=>r.jsx(So,{ref:n,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(tf,{className:S("flex items-center justify-center text-current"),children:r.jsx(ps,{className:"h-4 w-4"})})}));Eo.displayName=So.displayName;var Gr="Radio",[nf,Po]=Ie(Gr),[rf,af]=nf(Gr),Ro=u.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,...d}=e,[f,h]=u.useState(null),g=de(t,m=>h(m)),v=u.useRef(!1),p=f?!!f.closest("form"):!0;return r.jsxs(rf,{scope:n,checked:s,disabled:i,children:[r.jsx(Q.button,{type:"button",role:"radio","aria-checked":s,"data-state":Ao(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:g,onClick:te(e.onClick,m=>{s||c==null||c(),p&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),p&&r.jsx(sf,{control:f,bubbles:!v.current,name:a,value:l,checked:s,required:o,disabled:i,style:{transform:"translateX(-100%)"}})]})});Ro.displayName=Gr;var ko="RadioIndicator",Mo=u.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...s}=e,o=af(ko,n);return r.jsx(gt,{present:a||o.checked,children:r.jsx(Q.span,{"data-state":Ao(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Mo.displayName=ko;var sf=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,o=u.useRef(null),i=$r(n),l=zr(t);return u.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&h){const g=new Event("click",{bubbles:a});h.call(c,n),c.dispatchEvent(g)}},[i,n,a]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ao(e){return e?"checked":"unchecked"}var of=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qr="RadioGroup",[lf,Xp]=Ie(qr,[Dn,Po]),Io=Dn(),To=Po(),[cf,df]=lf(qr),Oo=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:h,...g}=e,v=Io(n),p=Tn(d),[m,x]=ft({prop:o,defaultProp:s,onChange:h});return r.jsx(cf,{scope:n,name:a,required:i,disabled:l,value:m,onValueChange:x,children:r.jsx(ao,{asChild:!0,...v,orientation:c,dir:p,loop:f,children:r.jsx(Q.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...g,ref:t})})})});Oo.displayName=qr;var Do="RadioGroupItem",Lo=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...s}=e,o=df(Do,n),i=o.disabled||a,l=Io(n),c=To(n),d=u.useRef(null),f=de(t,d),h=o.value===s.value,g=u.useRef(!1);return u.useEffect(()=>{const v=m=>{of.includes(m.key)&&(g.current=!0)},p=()=>g.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",p)}},[]),r.jsx(so,{asChild:!0,...l,focusable:!i,active:h,children:r.jsx(Ro,{disabled:i,required:o.required,checked:h,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:te(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:te(s.onFocus,()=>{var v;g.current&&((v=d.current)==null||v.click())})})})});Lo.displayName=Do;var uf="RadioGroupIndicator",_o=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,s=To(n);return r.jsx(Mo,{...s,...a,ref:t})});_o.displayName=uf;var Fo=Oo,$o=Lo,ff=_o;const un=u.forwardRef(({className:e,...t},n)=>r.jsx(Fo,{className:S("grid gap-2",e),...t,ref:n}));un.displayName=Fo.displayName;const fn=u.forwardRef(({className:e,...t},n)=>r.jsx($o,{ref:n,className:S("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(ff,{className:"flex items-center justify-center",children:r.jsx(Qc,{className:"h-2.5 w-2.5 fill-current text-current"})})}));fn.displayName=$o.displayName;function mf(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e);u.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var hf="DismissableLayer",mr="dismissableLayer.update",pf="dismissableLayer.pointerDownOutside",gf="dismissableLayer.focusOutside",Ra,zo=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wr=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(zo),[f,h]=u.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=u.useState({}),p=de(t,k=>h(k)),m=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(x),b=f?m.indexOf(f):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,E=b>=w,P=yf(k=>{const M=k.target,K=[...d.branches].some(L=>L.contains(M));!E||K||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},g),A=wf(k=>{const M=k.target;[...d.branches].some(L=>L.contains(M))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},g);return mf(k=>{b===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},g),u.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ra=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ka(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ra)}},[f,g,n,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ka())},[f,d]),u.useEffect(()=>{const k=()=>v({});return document.addEventListener(mr,k),()=>document.removeEventListener(mr,k)},[]),r.jsx(Q.div,{...c,ref:p,style:{pointerEvents:N?E?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,A.onFocusCapture),onBlurCapture:te(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,P.onPointerDownCapture)})});Wr.displayName=hf;var vf="DismissableLayerBranch",xf=u.forwardRef((e,t)=>{const n=u.useContext(zo),a=u.useRef(null),s=de(t,a);return u.useEffect(()=>{const o=a.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(Q.div,{...e,ref:s})});xf.displayName=vf;function yf(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e),a=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!a.current){let c=function(){Bo(pf,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);a.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function wf(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e),a=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!a.current&&Bo(gf,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ka(){const e=new CustomEvent(mr);document.dispatchEvent(e)}function Bo(e,t,n,{discrete:a}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Hc(s,o):s.dispatchEvent(o)}var Yn="focusScope.autoFocusOnMount",Zn="focusScope.autoFocusOnUnmount",Ma={bubbles:!1,cancelable:!0},bf="FocusScope",Hr=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=u.useState(null),d=_e(s),f=_e(o),h=u.useRef(null),g=de(t,m=>c(m)),v=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(a){let m=function(N){if(v.paused||!l)return;const E=N.target;l.contains(E)?h.current=E:Xe(h.current,{select:!0})},x=function(N){if(v.paused||!l)return;const E=N.relatedTarget;E!==null&&(l.contains(E)||Xe(h.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&Xe(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),b.disconnect()}}},[a,l,v.paused]),u.useEffect(()=>{if(l){Ia.add(v);const m=document.activeElement;if(!l.contains(m)){const w=new CustomEvent(Yn,Ma);l.addEventListener(Yn,d),l.dispatchEvent(w),w.defaultPrevented||(jf(Pf(Go(l)),{select:!0}),document.activeElement===m&&Xe(l))}return()=>{l.removeEventListener(Yn,d),setTimeout(()=>{const w=new CustomEvent(Zn,Ma);l.addEventListener(Zn,f),l.dispatchEvent(w),w.defaultPrevented||Xe(m??document.body,{select:!0}),l.removeEventListener(Zn,f),Ia.remove(v)},0)}}},[l,d,f,v]);const p=u.useCallback(m=>{if(!n&&!a||v.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(x&&w){const b=m.currentTarget,[N,E]=Cf(b);N&&E?!m.shiftKey&&w===E?(m.preventDefault(),n&&Xe(N,{select:!0})):m.shiftKey&&w===N&&(m.preventDefault(),n&&Xe(E,{select:!0})):w===b&&m.preventDefault()}},[n,a,v.paused]);return r.jsx(Q.div,{tabIndex:-1,...i,ref:g,onKeyDown:p})});Hr.displayName=bf;function jf(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Xe(a,{select:t}),document.activeElement!==n)return}function Cf(e){const t=Go(e),n=Aa(t,e),a=Aa(t.reverse(),e);return[n,a]}function Go(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Aa(e,t){for(const n of e)if(!Nf(n,{upTo:t}))return n}function Nf(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Sf(e){return e instanceof HTMLInputElement&&"select"in e}function Xe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Sf(e)&&t&&e.select()}}var Ia=Ef();function Ef(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ta(e,t),e.unshift(t)},remove(t){var n;e=Ta(e,t),(n=e[0])==null||n.resume()}}}function Ta(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function Pf(e){return e.filter(t=>t.tagName!=="A")}var Rf="Portal",Vr=u.forwardRef((e,t)=>{var l;const{container:n,...a}=e,[s,o]=u.useState(!1);Ce(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Vc.createPortal(r.jsx(Q.div,{...a,ref:t}),i):null});Vr.displayName=Rf;var Xn=0;function qo(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Oa()),document.body.insertAdjacentElement("beforeend",e[1]??Oa()),Xn++,()=>{Xn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xn--}},[])}function Oa(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ye=function(){return ye=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ye.apply(this,arguments)};function Ur(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function Wo(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var Wt="right-scroll-bar-position",Ht="width-before-scroll-bar",kf="with-scroll-bars-hidden",Mf="--removed-body-scroll-bar-size";function Jn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Af(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var If=typeof window<"u"?u.useLayoutEffect:u.useEffect,Da=new WeakMap;function Ho(e,t){var n=Af(null,function(a){return e.forEach(function(s){return Jn(s,a)})});return If(function(){var a=Da.get(n);if(a){var s=new Set(a),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Jn(l,null)}),o.forEach(function(l){s.has(l)||Jn(l,i)})}Da.set(n,e)},[e]),n}function Tf(e){return e}function Of(e,t){t===void 0&&(t=Tf);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,a);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(a=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){a=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var f=i;i=[],f.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){i.push(f),d()},filter:function(f){return i=i.filter(f),n}}}};return s}function Vo(e){e===void 0&&(e={});var t=Of(null);return t.options=ye({async:!0,ssr:!1},e),t}var Uo=function(e){var t=e.sideCar,n=Ur(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return u.createElement(a,ye({},n))};Uo.isSideCarExport=!0;function Ko(e,t){return e.useMedium(t),Uo}var Yo=Vo(),Qn=function(){},Ln=u.forwardRef(function(e,t){var n=u.useRef(null),a=u.useState({onScrollCapture:Qn,onWheelCapture:Qn,onTouchMoveCapture:Qn}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,v=e.noIsolation,p=e.inert,m=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,N=Ur(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,P=Ho([n,t]),A=ye(ye({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(E,{sideCar:Yo,removeScrollBar:d,shards:h,noIsolation:v,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:b}),i?u.cloneElement(u.Children.only(l),ye(ye({},A),{ref:P})):u.createElement(w,ye({},A,{className:c,ref:P}),l))});Ln.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ln.classNames={fullWidth:Ht,zeroRight:Wt};var Df=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Df();return t&&e.setAttribute("nonce",t),e}function _f(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ff(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $f=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Lf())&&(_f(t,n),Ff(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zf=function(){var e=$f();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Kr=function(){var e=zf(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},Bf={left:0,top:0,right:0,gap:0},er=function(e){return parseInt(e||"",10)||0},Gf=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[er(n),er(a),er(s)]},qf=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Bf;var t=Gf(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},Wf=Kr(),kt="data-scroll-locked",Hf=function(e,t,n,a){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kf,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(kt,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wt,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Ht,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Wt," .").concat(Wt,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Ht," .").concat(Ht,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(kt,`] {
    `).concat(Mf,": ").concat(l,`px;
  }
`)},La=function(){var e=parseInt(document.body.getAttribute(kt)||"0",10);return isFinite(e)?e:0},Vf=function(){u.useEffect(function(){return document.body.setAttribute(kt,(La()+1).toString()),function(){var e=La()-1;e<=0?document.body.removeAttribute(kt):document.body.setAttribute(kt,e.toString())}},[])},Zo=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;Vf();var o=u.useMemo(function(){return qf(s)},[s]);return u.createElement(Wf,{styles:Hf(o,!t,s,n?"":"!important")})},hr=!1;if(typeof window<"u")try{var nn=Object.defineProperty({},"passive",{get:function(){return hr=!0,!0}});window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{hr=!1}var wt=hr?{passive:!1}:!1,Uf=function(e){return e.tagName==="TEXTAREA"},Xo=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Uf(e)&&n[t]==="visible")},Kf=function(e){return Xo(e,"overflowY")},Yf=function(e){return Xo(e,"overflowX")},_a=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=Jo(e,a);if(s){var o=Qo(e,a),i=o[1],l=o[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Zf=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},Xf=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},Jo=function(e,t){return e==="v"?Kf(t):Yf(t)},Qo=function(e,t){return e==="v"?Zf(t):Xf(t)},Jf=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qf=function(e,t,n,a,s){var o=Jf(e,window.getComputedStyle(t).direction),i=o*a,l=n.target,c=t.contains(l),d=!1,f=i>0,h=0,g=0;do{var v=Qo(e,l),p=v[0],m=v[1],x=v[2],w=m-x-o*p;(p||w)&&Jo(e,l)&&(h+=w,g+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(g)<1||!s))&&(d=!0),d},rn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fa=function(e){return[e.deltaX,e.deltaY]},$a=function(e){return e&&"current"in e?e.current:e},em=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tm=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nm=0,bt=[];function rm(e){var t=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(nm++)[0],o=u.useState(Kr)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Wo([e.lockRef.current],(e.shards||[]).map($a),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(m,x){if("touches"in m&&m.touches.length===2)return!i.current.allowPinchZoom;var w=rn(m),b=n.current,N="deltaX"in m?m.deltaX:b[0]-w[0],E="deltaY"in m?m.deltaY:b[1]-w[1],P,A=m.target,k=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in m&&k==="h"&&A.type==="range")return!1;var M=_a(k,A);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=_a(k,A)),!M)return!1;if(!a.current&&"changedTouches"in m&&(N||E)&&(a.current=P),!P)return!0;var K=a.current||P;return Qf(K,x,m,K==="h"?N:E,!0)},[]),c=u.useCallback(function(m){var x=m;if(!(!bt.length||bt[bt.length-1]!==o)){var w="deltaY"in x?Fa(x):rn(x),b=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&em(P.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var N=(i.current.shards||[]).map($a).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=N.length>0?l(x,N[0]):!i.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(m,x,w,b){var N={name:m,delta:x,target:w,should:b,shadowParent:am(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),f=u.useCallback(function(m){n.current=rn(m),a.current=void 0},[]),h=u.useCallback(function(m){d(m.type,Fa(m),m.target,l(m,e.lockRef.current))},[]),g=u.useCallback(function(m){d(m.type,rn(m),m.target,l(m,e.lockRef.current))},[]);u.useEffect(function(){return bt.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,wt),document.addEventListener("touchmove",c,wt),document.addEventListener("touchstart",f,wt),function(){bt=bt.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,wt),document.removeEventListener("touchmove",c,wt),document.removeEventListener("touchstart",f,wt)}},[]);var v=e.removeScrollBar,p=e.inert;return u.createElement(u.Fragment,null,p?u.createElement(o,{styles:tm(s)}):null,v?u.createElement(Zo,{gapMode:e.gapMode}):null)}function am(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sm=Ko(Yo,rm);var ei=u.forwardRef(function(e,t){return u.createElement(Ln,ye({},e,{ref:t,sideCar:sm}))});ei.classNames=Ln.classNames;var om=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jt=new WeakMap,an=new WeakMap,sn={},tr=0,ti=function(e){return e&&(e.host||ti(e.parentNode))},im=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=ti(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lm=function(e,t,n,a){var s=im(t,Array.isArray(e)?e:[e]);sn[n]||(sn[n]=new WeakMap);var o=sn[n],i=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(a),p=v!==null&&v!=="false",m=(jt.get(g)||0)+1,x=(o.get(g)||0)+1;jt.set(g,m),o.set(g,x),i.push(g),m===1&&p&&an.set(g,!0),x===1&&g.setAttribute(n,"true"),p||g.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return f(t),l.clear(),tr++,function(){i.forEach(function(h){var g=jt.get(h)-1,v=o.get(h)-1;jt.set(h,g),o.set(h,v),g||(an.has(h)||h.removeAttribute(a),an.delete(h)),v||h.removeAttribute(n)}),tr--,tr||(jt=new WeakMap,jt=new WeakMap,an=new WeakMap,sn={})}},ni=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=om(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),lm(a,s,n,"aria-hidden")):function(){return null}},Yr="Dialog",[ri,ai]=Ie(Yr),[cm,Te]=ri(Yr),si=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,f]=ft({prop:a,defaultProp:s,onChange:o});return r.jsx(cm,{scope:t,triggerRef:l,contentRef:c,contentId:Qe(),titleId:Qe(),descriptionId:Qe(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};si.displayName=Yr;var oi="DialogTrigger",ii=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(oi,n),o=de(t,s.triggerRef);return r.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jr(s.open),...a,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});ii.displayName=oi;var Zr="DialogPortal",[dm,li]=ri(Zr,{forceMount:void 0}),ci=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,o=Te(Zr,t);return r.jsx(dm,{scope:t,forceMount:n,children:u.Children.map(a,i=>r.jsx(gt,{present:n||o.open,children:r.jsx(Vr,{asChild:!0,container:s,children:i})}))})};ci.displayName=Zr;var Nn="DialogOverlay",di=u.forwardRef((e,t)=>{const n=li(Nn,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,o=Te(Nn,e.__scopeDialog);return o.modal?r.jsx(gt,{present:a||o.open,children:r.jsx(um,{...s,ref:t})}):null});di.displayName=Nn;var um=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(Nn,n);return r.jsx(ei,{as:yn,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(Q.div,{"data-state":Jr(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),mt="DialogContent",ui=u.forwardRef((e,t)=>{const n=li(mt,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,o=Te(mt,e.__scopeDialog);return r.jsx(gt,{present:a||o.open,children:o.modal?r.jsx(fm,{...s,ref:t}):r.jsx(mm,{...s,ref:t})})});ui.displayName=mt;var fm=u.forwardRef((e,t)=>{const n=Te(mt,e.__scopeDialog),a=u.useRef(null),s=de(t,n.contentRef,a);return u.useEffect(()=>{const o=a.current;if(o)return ni(o)},[]),r.jsx(fi,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),mm=u.forwardRef((e,t)=>{const n=Te(mt,e.__scopeDialog),a=u.useRef(!1),s=u.useRef(!1);return r.jsx(fi,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),fi=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Te(mt,n),c=u.useRef(null),d=de(t,c);return qo(),r.jsxs(r.Fragment,{children:[r.jsx(Hr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:r.jsx(Wr,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Jr(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(pm,{titleId:l.titleId}),r.jsx(vm,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Xr="DialogTitle",mi=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(Xr,n);return r.jsx(Q.h2,{id:s.titleId,...a,ref:t})});mi.displayName=Xr;var hi="DialogDescription",pi=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(hi,n);return r.jsx(Q.p,{id:s.descriptionId,...a,ref:t})});pi.displayName=hi;var gi="DialogClose",vi=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(gi,n);return r.jsx(Q.button,{type:"button",...a,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});vi.displayName=gi;function Jr(e){return e?"open":"closed"}var xi="DialogTitleWarning",[hm,yi]=sd(xi,{contentName:mt,titleName:Xr,docsSlug:"dialog"}),pm=({titleId:e})=>{const t=yi(xi),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},gm="DialogDescriptionWarning",vm=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yi(gm).contentName}}.`;return u.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},xm=si,ym=ii,wm=ci,bm=di,jm=ui,Cm=mi,Nm=pi,wi=vi,bi="AlertDialog",[Sm,Jp]=Ie(bi,[ai]),Ue=ai(),ji=e=>{const{__scopeAlertDialog:t,...n}=e,a=Ue(t);return r.jsx(xm,{...a,...n,modal:!0})};ji.displayName=bi;var Em="AlertDialogTrigger",Ci=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=Ue(n);return r.jsx(ym,{...s,...a,ref:t})});Ci.displayName=Em;var Pm="AlertDialogPortal",Ni=e=>{const{__scopeAlertDialog:t,...n}=e,a=Ue(t);return r.jsx(wm,{...a,...n})};Ni.displayName=Pm;var Rm="AlertDialogOverlay",Si=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=Ue(n);return r.jsx(bm,{...s,...a,ref:t})});Si.displayName=Rm;var Mt="AlertDialogContent",[km,Mm]=Sm(Mt),Ei=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...s}=e,o=Ue(n),i=u.useRef(null),l=de(t,i),c=u.useRef(null);return r.jsx(hm,{contentName:Mt,titleName:Pi,docsSlug:"alert-dialog",children:r.jsx(km,{scope:n,cancelRef:c,children:r.jsxs(jm,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:te(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Uc,{children:a}),r.jsx(Im,{contentRef:i})]})})})});Ei.displayName=Mt;var Pi="AlertDialogTitle",Ri=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=Ue(n);return r.jsx(Cm,{...s,...a,ref:t})});Ri.displayName=Pi;var ki="AlertDialogDescription",Mi=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=Ue(n);return r.jsx(Nm,{...s,...a,ref:t})});Mi.displayName=ki;var Am="AlertDialogAction",Ai=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=Ue(n);return r.jsx(wi,{...s,...a,ref:t})});Ai.displayName=Am;var Ii="AlertDialogCancel",Ti=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=Mm(Ii,n),o=Ue(n),i=de(t,s);return r.jsx(wi,{...o,...a,ref:i})});Ti.displayName=Ii;var Im=({contentRef:e})=>{const t=`\`${Mt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mt}\` by passing a \`${ki}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Tm=ji,Om=Ci,Dm=Ni,Oi=Si,Di=Ei,Li=Ai,_i=Ti,Fi=Ri,$i=Mi;const Lm=Tm,_m=Om,Fm=Dm,zi=u.forwardRef(({className:e,...t},n)=>{const a=ue(s=>({transparency:s.quality.transparency,animation:s.quality.animations}));return r.jsx(Oi,{className:S("fixed inset-0 z-50",{"bg-black/80":a.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":a.animation},e),...t,ref:n})});zi.displayName=Oi.displayName;const Bi=u.forwardRef(({className:e,...t},n)=>r.jsxs(Fm,{children:[r.jsx(zi,{}),r.jsx(Di,{ref:n,className:S("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bi.displayName=Di.displayName;const Gi=({className:e,...t})=>r.jsx("div",{className:S("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gi.displayName="AlertDialogHeader";const qi=({className:e,...t})=>r.jsx("div",{className:S("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qi.displayName="AlertDialogFooter";const Wi=u.forwardRef(({className:e,...t},n)=>r.jsx(Fi,{ref:n,className:S("text-lg font-semibold",e),...t}));Wi.displayName=Fi.displayName;const Hi=u.forwardRef(({className:e,...t},n)=>r.jsx($i,{ref:n,className:S("text-sm text-muted-foreground",e),...t}));Hi.displayName=$i.displayName;const Vi=u.forwardRef(({className:e,...t},n)=>r.jsx(Li,{ref:n,className:S(An({variant:"cta"}),e),...t}));Vi.displayName=Li.displayName;const Ui=u.forwardRef(({className:e,...t},n)=>r.jsx(_i,{ref:n,className:S(An({variant:"default"}),"mt-2 sm:mt-0",e),...t}));Ui.displayName=_i.displayName;function $m(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),j.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),j.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function zm(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),j.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),j.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function za(e,[t,n]){return Math.min(n,Math.max(t,e))}const Bm=["top","right","bottom","left"],Le=Math.min,Se=Math.max,Sn=Math.round,on=Math.floor,nt=e=>({x:e,y:e}),Gm={left:"right",right:"left",bottom:"top",top:"bottom"},qm={start:"end",end:"start"};function pr(e,t,n){return Se(e,Le(t,n))}function He(e,t){return typeof e=="function"?e(t):e}function Ve(e){return e.split("-")[0]}function Ot(e){return e.split("-")[1]}function Qr(e){return e==="x"?"y":"x"}function ea(e){return e==="y"?"height":"width"}function rt(e){return["top","bottom"].includes(Ve(e))?"y":"x"}function ta(e){return Qr(rt(e))}function Wm(e,t,n){n===void 0&&(n=!1);const a=Ot(e),s=ta(e),o=ea(s);let i=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=En(i)),[i,En(i)]}function Hm(e){const t=En(e);return[gr(e),t,gr(t)]}function gr(e){return e.replace(/start|end/g,t=>qm[t])}function Vm(e,t,n){const a=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:a:t?a:s;case"left":case"right":return t?o:i;default:return[]}}function Um(e,t,n,a){const s=Ot(e);let o=Vm(Ve(e),n==="start",a);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(gr)))),o}function En(e){return e.replace(/left|right|bottom|top/g,t=>Gm[t])}function Km(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ki(e){return typeof e!="number"?Km(e):{top:e,right:e,bottom:e,left:e}}function Pn(e){const{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function Ba(e,t,n){let{reference:a,floating:s}=e;const o=rt(t),i=ta(t),l=ea(i),c=Ve(t),d=o==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,g=a[l]/2-s[l]/2;let v;switch(c){case"top":v={x:f,y:a.y-s.height};break;case"bottom":v={x:f,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:h};break;case"left":v={x:a.x-s.width,y:h};break;default:v={x:a.x,y:a.y}}switch(Ot(t)){case"start":v[i]-=g*(n&&d?-1:1);break;case"end":v[i]+=g*(n&&d?-1:1);break}return v}const Ym=async(e,t,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=Ba(d,a,c),g=a,v={},p=0;for(let m=0;m<l.length;m++){const{name:x,fn:w}=l[m],{x:b,y:N,data:E,reset:P}=await w({x:f,y:h,initialPlacement:a,placement:g,strategy:s,middlewareData:v,rects:d,platform:i,elements:{reference:e,floating:t}});f=b??f,h=N??h,v={...v,[x]:{...v[x],...E}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(d=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:f,y:h}=Ba(d,g,c)),m=-1)}return{x:f,y:h,placement:g,strategy:s,middlewareData:v}};async function Ut(e,t){var n;t===void 0&&(t={});const{x:a,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:v=0}=He(t,e),p=Ki(v),x=l[g?h==="floating"?"reference":"floating":h],w=Pn(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),b=h==="floating"?{x:a,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),E=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Pn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:N,strategy:c}):b);return{top:(w.top-P.top+p.top)/E.y,bottom:(P.bottom-w.bottom+p.bottom)/E.y,left:(w.left-P.left+p.left)/E.x,right:(P.right-w.right+p.right)/E.x}}const Zm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=He(e,t)||{};if(d==null)return{};const h=Ki(f),g={x:n,y:a},v=ta(s),p=ea(v),m=await i.getDimensions(d),x=v==="y",w=x?"top":"left",b=x?"bottom":"right",N=x?"clientHeight":"clientWidth",E=o.reference[p]+o.reference[v]-g[v]-o.floating[p],P=g[v]-o.reference[v],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=A?A[N]:0;(!k||!await(i.isElement==null?void 0:i.isElement(A)))&&(k=l.floating[N]||o.floating[p]);const M=E/2-P/2,K=k/2-m[p]/2-1,L=Le(h[w],K),H=Le(h[b],K),ee=L,ne=k-m[p]-H,se=k/2-m[p]/2+M,Z=pr(ee,se,ne),J=!c.arrow&&Ot(s)!=null&&se!==Z&&o.reference[p]/2-(se<ee?L:H)-m[p]/2<0,F=J?se<ee?se-ee:se-ne:0;return{[v]:g[v]+F,data:{[v]:Z,centerOffset:se-Z-F,...J&&{alignmentOffset:F}},reset:J}}}),Xm=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...x}=He(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Ve(s),b=rt(l),N=Ve(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=g||(N||!m?[En(l)]:Hm(l)),A=p!=="none";!g&&A&&P.push(...Um(l,m,p,E));const k=[l,...P],M=await Ut(t,x),K=[];let L=((a=o.flip)==null?void 0:a.overflows)||[];if(f&&K.push(M[w]),h){const se=Wm(s,i,E);K.push(M[se[0]],M[se[1]])}if(L=[...L,{placement:s,overflows:K}],!K.every(se=>se<=0)){var H,ee;const se=(((H=o.flip)==null?void 0:H.index)||0)+1,Z=k[se];if(Z)return{data:{index:se,overflows:L},reset:{placement:Z}};let J=(ee=L.filter(F=>F.overflows[0]<=0).sort((F,oe)=>F.overflows[1]-oe.overflows[1])[0])==null?void 0:ee.placement;if(!J)switch(v){case"bestFit":{var ne;const F=(ne=L.filter(oe=>{if(A){const le=rt(oe.placement);return le===b||le==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(le=>le>0).reduce((le,C)=>le+C,0)]).sort((oe,le)=>oe[1]-le[1])[0])==null?void 0:ne[0];F&&(J=F);break}case"initialPlacement":J=l;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function Ga(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qa(e){return Bm.some(t=>e[t]>=0)}const Jm=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...s}=He(e,t);switch(a){case"referenceHidden":{const o=await Ut(t,{...s,elementContext:"reference"}),i=Ga(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:qa(i)}}}case"escaped":{const o=await Ut(t,{...s,altBoundary:!0}),i=Ga(o,n.floating);return{data:{escapedOffsets:i,escaped:qa(i)}}}default:return{}}}}};async function Qm(e,t){const{placement:n,platform:a,elements:s}=e,o=await(a.isRTL==null?void 0:a.isRTL(s.floating)),i=Ve(n),l=Ot(n),c=rt(n)==="y",d=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,h=He(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof p=="number"&&(v=l==="end"?p*-1:p),c?{x:v*f,y:g*d}:{x:g*d,y:v*f}}const eh=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await Qm(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},th=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y:b}=x;return{x:w,y:b}}},...c}=He(e,t),d={x:n,y:a},f=await Ut(t,c),h=rt(Ve(s)),g=Qr(h);let v=d[g],p=d[h];if(o){const x=g==="y"?"top":"left",w=g==="y"?"bottom":"right",b=v+f[x],N=v-f[w];v=pr(b,v,N)}if(i){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=p+f[x],N=p-f[w];p=pr(b,p,N)}const m=l.fn({...t,[g]:v,[h]:p});return{...m,data:{x:m.x-n,y:m.y-a}}}}},nh=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=He(e,t),f={x:n,y:a},h=rt(s),g=Qr(h);let v=f[g],p=f[h];const m=He(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const N=g==="y"?"height":"width",E=o.reference[g]-o.floating[N]+x.mainAxis,P=o.reference[g]+o.reference[N]-x.mainAxis;v<E?v=E:v>P&&(v=P)}if(d){var w,b;const N=g==="y"?"width":"height",E=["top","left"].includes(Ve(s)),P=o.reference[h]-o.floating[N]+(E&&((w=i.offset)==null?void 0:w[h])||0)+(E?0:x.crossAxis),A=o.reference[h]+o.reference[N]+(E?0:((b=i.offset)==null?void 0:b[h])||0)-(E?x.crossAxis:0);p<P?p=P:p>A&&(p=A)}return{[g]:v,[h]:p}}}},rh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:a,platform:s,elements:o}=t,{apply:i=()=>{},...l}=He(e,t),c=await Ut(t,l),d=Ve(n),f=Ot(n),h=rt(n)==="y",{width:g,height:v}=a.floating;let p,m;d==="top"||d==="bottom"?(p=d,m=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(m=d,p=f==="end"?"top":"bottom");const x=v-c.top-c.bottom,w=g-c.left-c.right,b=Le(v-c[p],x),N=Le(g-c[m],w),E=!t.middlewareData.shift;let P=b,A=N;if(h?A=f||E?Le(N,w):w:P=f||E?Le(b,x):x,E&&!f){const M=Se(c.left,0),K=Se(c.right,0),L=Se(c.top,0),H=Se(c.bottom,0);h?A=g-2*(M!==0||K!==0?M+K:Se(c.left,c.right)):P=v-2*(L!==0||H!==0?L+H:Se(c.top,c.bottom))}await i({...t,availableWidth:A,availableHeight:P});const k=await s.getDimensions(o.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Dt(e){return Yi(e)?(e.nodeName||"").toLowerCase():"#document"}function Ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ke(e){var t;return(t=(Yi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Yi(e){return e instanceof Node||e instanceof Ee(e).Node}function Me(e){return e instanceof Element||e instanceof Ee(e).Element}function Fe(e){return e instanceof HTMLElement||e instanceof Ee(e).HTMLElement}function Wa(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ee(e).ShadowRoot}function Xt(e){const{overflow:t,overflowX:n,overflowY:a,display:s}=Ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(s)}function ah(e){return["table","td","th"].includes(Dt(e))}function _n(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function na(e){const t=ra(),n=Me(e)?Ae(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function sh(e){let t=at(e);for(;Fe(t)&&!It(t);){if(na(t))return t;if(_n(t))return null;t=at(t)}return null}function ra(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function It(e){return["html","body","#document"].includes(Dt(e))}function Ae(e){return Ee(e).getComputedStyle(e)}function Fn(e){return Me(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function at(e){if(Dt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wa(e)&&e.host||Ke(e);return Wa(t)?t.host:t}function Zi(e){const t=at(e);return It(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fe(t)&&Xt(t)?t:Zi(t)}function Kt(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Zi(e),o=s===((a=e.ownerDocument)==null?void 0:a.body),i=Ee(s);if(o){const l=vr(i);return t.concat(i,i.visualViewport||[],Xt(s)?s:[],l&&n?Kt(l):[])}return t.concat(s,Kt(s,[],n))}function vr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xi(e){const t=Ae(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Fe(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:a,l=Sn(n)!==o||Sn(a)!==i;return l&&(n=o,a=i),{width:n,height:a,$:l}}function aa(e){return Me(e)?e:e.contextElement}function At(e){const t=aa(e);if(!Fe(t))return nt(1);const n=t.getBoundingClientRect(),{width:a,height:s,$:o}=Xi(t);let i=(o?Sn(n.width):n.width)/a,l=(o?Sn(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const oh=nt(0);function Ji(e){const t=Ee(e);return!ra()||!t.visualViewport?oh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ih(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ee(e)?!1:t}function ht(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=aa(e);let i=nt(1);t&&(a?Me(a)&&(i=At(a)):i=At(e));const l=ih(o,n,a)?Ji(o):nt(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const g=Ee(o),v=a&&Me(a)?Ee(a):a;let p=g,m=vr(p);for(;m&&a&&v!==p;){const x=At(m),w=m.getBoundingClientRect(),b=Ae(m),N=w.left+(m.clientLeft+parseFloat(b.paddingLeft))*x.x,E=w.top+(m.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,h*=x.y,c+=N,d+=E,p=Ee(m),m=vr(p)}}return Pn({width:f,height:h,x:c,y:d})}function lh(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e;const o=s==="fixed",i=Ke(a),l=t?_n(t.floating):!1;if(a===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=nt(1);const f=nt(0),h=Fe(a);if((h||!h&&!o)&&((Dt(a)!=="body"||Xt(i))&&(c=Fn(a)),Fe(a))){const g=ht(a);d=At(a),f.x=g.x+a.clientLeft,f.y=g.y+a.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x,y:n.y*d.y-c.scrollTop*d.y+f.y}}function ch(e){return Array.from(e.getClientRects())}function Qi(e){return ht(Ke(e)).left+Fn(e).scrollLeft}function dh(e){const t=Ke(e),n=Fn(e),a=e.ownerDocument.body,s=Se(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),o=Se(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let i=-n.scrollLeft+Qi(e);const l=-n.scrollTop;return Ae(a).direction==="rtl"&&(i+=Se(t.clientWidth,a.clientWidth)-s),{width:s,height:o,x:i,y:l}}function uh(e,t){const n=Ee(e),a=Ke(e),s=n.visualViewport;let o=a.clientWidth,i=a.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=ra();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function fh(e,t){const n=ht(e,!0,t==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,o=Fe(e)?At(e):nt(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,d=a*o.y;return{width:i,height:l,x:c,y:d}}function Ha(e,t,n){let a;if(t==="viewport")a=uh(e,n);else if(t==="document")a=dh(Ke(e));else if(Me(t))a=fh(t,n);else{const s=Ji(e);a={...t,x:t.x-s.x,y:t.y-s.y}}return Pn(a)}function el(e,t){const n=at(e);return n===t||!Me(n)||It(n)?!1:Ae(n).position==="fixed"||el(n,t)}function mh(e,t){const n=t.get(e);if(n)return n;let a=Kt(e,[],!1).filter(l=>Me(l)&&Dt(l)!=="body"),s=null;const o=Ae(e).position==="fixed";let i=o?at(e):e;for(;Me(i)&&!It(i);){const l=Ae(i),c=na(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Xt(i)&&!c&&el(e,i))?a=a.filter(f=>f!==i):s=l,i=at(i)}return t.set(e,a),a}function hh(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e;const i=[...n==="clippingAncestors"?_n(t)?[]:mh(t,this._c):[].concat(n),a],l=i[0],c=i.reduce((d,f)=>{const h=Ha(t,f,s);return d.top=Se(h.top,d.top),d.right=Le(h.right,d.right),d.bottom=Le(h.bottom,d.bottom),d.left=Se(h.left,d.left),d},Ha(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ph(e){const{width:t,height:n}=Xi(e);return{width:t,height:n}}function gh(e,t,n){const a=Fe(t),s=Ke(t),o=n==="fixed",i=ht(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=nt(0);if(a||!a&&!o)if((Dt(t)!=="body"||Xt(s))&&(l=Fn(t)),a){const h=ht(t,!0,o,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=Qi(s));const d=i.left+l.scrollLeft-c.x,f=i.top+l.scrollTop-c.y;return{x:d,y:f,width:i.width,height:i.height}}function nr(e){return Ae(e).position==="static"}function Va(e,t){return!Fe(e)||Ae(e).position==="fixed"?null:t?t(e):e.offsetParent}function tl(e,t){const n=Ee(e);if(_n(e))return n;if(!Fe(e)){let s=at(e);for(;s&&!It(s);){if(Me(s)&&!nr(s))return s;s=at(s)}return n}let a=Va(e,t);for(;a&&ah(a)&&nr(a);)a=Va(a,t);return a&&It(a)&&nr(a)&&!na(a)?n:a||sh(e)||n}const vh=async function(e){const t=this.getOffsetParent||tl,n=this.getDimensions,a=await n(e.floating);return{reference:gh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function xh(e){return Ae(e).direction==="rtl"}const yh={convertOffsetParentRelativeRectToViewportRelativeRect:lh,getDocumentElement:Ke,getClippingRect:hh,getOffsetParent:tl,getElementRects:vh,getClientRects:ch,getDimensions:ph,getScale:At,isElement:Me,isRTL:xh};function wh(e,t){let n=null,a;const s=Ke(e);function o(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:f,width:h,height:g}=e.getBoundingClientRect();if(l||t(),!h||!g)return;const v=on(f),p=on(s.clientWidth-(d+h)),m=on(s.clientHeight-(f+g)),x=on(d),b={rootMargin:-v+"px "+-p+"px "+-m+"px "+-x+"px",threshold:Se(0,Le(1,c))||1};let N=!0;function E(P){const A=P[0].intersectionRatio;if(A!==c){if(!N)return i();A?i(!1,A):a=setTimeout(()=>{i(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return i(!0),o}function bh(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=aa(e),f=s||o?[...d?Kt(d):[],...Kt(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const h=d&&l?wh(d,n):null;let g=-1,v=null;i&&(v=new ResizeObserver(w=>{let[b]=w;b&&b.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=v)==null||N.observe(t)})),n()}),d&&!c&&v.observe(d),v.observe(t));let p,m=c?ht(e):null;c&&x();function x(){const w=ht(e);m&&(w.x!==m.x||w.y!==m.y||w.width!==m.width||w.height!==m.height)&&n(),m=w,p=requestAnimationFrame(x)}return n(),()=>{var w;f.forEach(b=>{s&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),h==null||h(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(p)}}const jh=eh,Ch=th,Nh=Xm,Sh=rh,Eh=Jm,Ua=Zm,Ph=nh,Rh=(e,t,n)=>{const a=new Map,s={platform:yh,...n},o={...s.platform,_c:a};return Ym(e,t,{...s,platform:o})};var mn=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Rn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Rn(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){const o=s[a];if(!(o==="_owner"&&e.$$typeof)&&!Rn(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function nl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ka(e,t){const n=nl(e);return Math.round(t*n)/n}function Ya(e){const t=u.useRef(e);return mn(()=>{t.current=e}),t}function kh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,h]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=u.useState(a);Rn(g,a)||v(a);const[p,m]=u.useState(null),[x,w]=u.useState(null),b=u.useCallback(F=>{F!==A.current&&(A.current=F,m(F))},[]),N=u.useCallback(F=>{F!==k.current&&(k.current=F,w(F))},[]),E=o||p,P=i||x,A=u.useRef(null),k=u.useRef(null),M=u.useRef(f),K=c!=null,L=Ya(c),H=Ya(s),ee=u.useCallback(()=>{if(!A.current||!k.current)return;const F={placement:t,strategy:n,middleware:g};H.current&&(F.platform=H.current),Rh(A.current,k.current,F).then(oe=>{const le={...oe,isPositioned:!0};ne.current&&!Rn(M.current,le)&&(M.current=le,Yt.flushSync(()=>{h(le)}))})},[g,t,n,H]);mn(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const ne=u.useRef(!1);mn(()=>(ne.current=!0,()=>{ne.current=!1}),[]),mn(()=>{if(E&&(A.current=E),P&&(k.current=P),E&&P){if(L.current)return L.current(E,P,ee);ee()}},[E,P,ee,L,K]);const se=u.useMemo(()=>({reference:A,floating:k,setReference:b,setFloating:N}),[b,N]),Z=u.useMemo(()=>({reference:E,floating:P}),[E,P]),J=u.useMemo(()=>{const F={position:n,left:0,top:0};if(!Z.floating)return F;const oe=Ka(Z.floating,f.x),le=Ka(Z.floating,f.y);return l?{...F,transform:"translate("+oe+"px, "+le+"px)",...nl(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:le}},[n,l,Z.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:ee,refs:se,elements:Z,floatingStyles:J}),[f,ee,se,Z,J])}const Mh=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?Ua({element:a.current,padding:s}).fn(n):{}:a?Ua({element:a,padding:s}).fn(n):{}}}},Ah=(e,t)=>({...jh(e),options:[e,t]}),Ih=(e,t)=>({...Ch(e),options:[e,t]}),Th=(e,t)=>({...Ph(e),options:[e,t]}),Oh=(e,t)=>({...Nh(e),options:[e,t]}),Dh=(e,t)=>({...Sh(e),options:[e,t]}),Lh=(e,t)=>({...Eh(e),options:[e,t]}),_h=(e,t)=>({...Mh(e),options:[e,t]});var Fh="Arrow",rl=u.forwardRef((e,t)=>{const{children:n,width:a=10,height:s=5,...o}=e;return r.jsx(Q.svg,{...o,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});rl.displayName=Fh;var $h=rl,sa="Popper",[al,sl]=Ie(sa),[zh,ol]=al(sa),il=e=>{const{__scopePopper:t,children:n}=e,[a,s]=u.useState(null);return r.jsx(zh,{scope:t,anchor:a,onAnchorChange:s,children:n})};il.displayName=sa;var ll="PopperAnchor",cl=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,o=ol(ll,n),i=u.useRef(null),l=de(t,i);return u.useEffect(()=>{o.onAnchorChange((a==null?void 0:a.current)||i.current)}),a?null:r.jsx(Q.div,{...s,ref:l})});cl.displayName=ll;var oa="PopperContent",[Bh,Gh]=al(oa),dl=u.forwardRef((e,t)=>{var R,I,Y,B,_,z;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:p,...m}=e,x=ol(oa,n),[w,b]=u.useState(null),N=de(t,ie=>b(ie)),[E,P]=u.useState(null),A=zr(E),k=(A==null?void 0:A.width)??0,M=(A==null?void 0:A.height)??0,K=a+(o!=="center"?"-"+o:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(d)?d:[d],ee=H.length>0,ne={padding:L,boundary:H.filter(Wh),altBoundary:ee},{refs:se,floatingStyles:Z,placement:J,isPositioned:F,middlewareData:oe}=kh({strategy:"fixed",placement:K,whileElementsMounted:(...ie)=>bh(...ie,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[Ah({mainAxis:s+M,alignmentAxis:i}),c&&Ih({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Th():void 0,...ne}),c&&Oh({...ne}),Dh({...ne,apply:({elements:ie,rects:U,availableWidth:pe,availableHeight:ve})=>{const{width:xe,height:Re}=U.reference,Pe=ie.floating.style;Pe.setProperty("--radix-popper-available-width",`${pe}px`),Pe.setProperty("--radix-popper-available-height",`${ve}px`),Pe.setProperty("--radix-popper-anchor-width",`${xe}px`),Pe.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),E&&_h({element:E,padding:l}),Hh({arrowWidth:k,arrowHeight:M}),g&&Lh({strategy:"referenceHidden",...ne})]}),[le,C]=ml(J),y=_e(p);Ce(()=>{F&&(y==null||y())},[F,y]);const O=(R=oe.arrow)==null?void 0:R.x,$=(I=oe.arrow)==null?void 0:I.y,G=((Y=oe.arrow)==null?void 0:Y.centerOffset)!==0,[q,V]=u.useState();return Ce(()=>{w&&V(window.getComputedStyle(w).zIndex)},[w]),r.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:F?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(B=oe.transformOrigin)==null?void 0:B.x,(_=oe.transformOrigin)==null?void 0:_.y].join(" "),...((z=oe.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Bh,{scope:n,placedSide:le,onArrowChange:P,arrowX:O,arrowY:$,shouldHideArrow:G,children:r.jsx(Q.div,{"data-side":le,"data-align":C,...m,ref:N,style:{...m.style,animation:F?void 0:"none"}})})})});dl.displayName=oa;var ul="PopperArrow",qh={top:"bottom",right:"left",bottom:"top",left:"right"},fl=u.forwardRef(function(t,n){const{__scopePopper:a,...s}=t,o=Gh(ul,a),i=qh[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx($h,{...s,ref:n,style:{...s.style,display:"block"}})})});fl.displayName=ul;function Wh(e){return e!==null}var Hh=e=>({name:"transformOrigin",options:e,fn(t){var x,w,b;const{placement:n,rects:a,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,f]=ml(n),h={start:"0%",center:"50%",end:"100%"}[f],g=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,v=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let p="",m="";return d==="bottom"?(p=i?h:`${g}px`,m=`${-c}px`):d==="top"?(p=i?h:`${g}px`,m=`${a.floating.height+c}px`):d==="right"?(p=`${-c}px`,m=i?h:`${v}px`):d==="left"&&(p=`${a.floating.width+c}px`,m=i?h:`${v}px`),{data:{x:p,y:m}}}});function ml(e){const[t,n="center"]=e.split("-");return[t,n]}var Vh=il,Uh=cl,Kh=dl,Yh=fl,Zh="VisuallyHidden",hl=u.forwardRef((e,t)=>r.jsx(Q.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hl.displayName=Zh;var pl=Vo(),rr=function(){},$n=u.forwardRef(function(e,t){var n=u.useRef(null),a=u.useState({onScrollCapture:rr,onWheelCapture:rr,onTouchMoveCapture:rr}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,v=e.noIsolation,p=e.inert,m=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,N=Ur(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,P=Ho([n,t]),A=ye(ye({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(E,{sideCar:pl,removeScrollBar:d,shards:h,noIsolation:v,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:b}),i?u.cloneElement(u.Children.only(l),ye(ye({},A),{ref:P})):u.createElement(w,ye({},A,{className:c,ref:P}),l))});$n.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$n.classNames={fullWidth:Ht,zeroRight:Wt};var xr=!1;if(typeof window<"u")try{var ln=Object.defineProperty({},"passive",{get:function(){return xr=!0,!0}});window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{xr=!1}var Ct=xr?{passive:!1}:!1,Xh=function(e){return e.tagName==="TEXTAREA"},gl=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xh(e)&&n[t]==="visible")},Jh=function(e){return gl(e,"overflowY")},Qh=function(e){return gl(e,"overflowX")},Za=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=vl(e,a);if(s){var o=xl(e,a),i=o[1],l=o[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},ep=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},tp=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},vl=function(e,t){return e==="v"?Jh(t):Qh(t)},xl=function(e,t){return e==="v"?ep(t):tp(t)},np=function(e,t){return e==="h"&&t==="rtl"?-1:1},rp=function(e,t,n,a,s){var o=np(e,window.getComputedStyle(t).direction),i=o*a,l=n.target,c=t.contains(l),d=!1,f=i>0,h=0,g=0;do{var v=xl(e,l),p=v[0],m=v[1],x=v[2],w=m-x-o*p;(p||w)&&vl(e,l)&&(h+=w,g+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(g)<1||!s))&&(d=!0),d},cn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xa=function(e){return[e.deltaX,e.deltaY]},Ja=function(e){return e&&"current"in e?e.current:e},ap=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sp=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},op=0,Nt=[];function ip(e){var t=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(op++)[0],o=u.useState(Kr)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Wo([e.lockRef.current],(e.shards||[]).map(Ja),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(m,x){if("touches"in m&&m.touches.length===2)return!i.current.allowPinchZoom;var w=cn(m),b=n.current,N="deltaX"in m?m.deltaX:b[0]-w[0],E="deltaY"in m?m.deltaY:b[1]-w[1],P,A=m.target,k=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in m&&k==="h"&&A.type==="range")return!1;var M=Za(k,A);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=Za(k,A)),!M)return!1;if(!a.current&&"changedTouches"in m&&(N||E)&&(a.current=P),!P)return!0;var K=a.current||P;return rp(K,x,m,K==="h"?N:E,!0)},[]),c=u.useCallback(function(m){var x=m;if(!(!Nt.length||Nt[Nt.length-1]!==o)){var w="deltaY"in x?Xa(x):cn(x),b=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&ap(P.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var N=(i.current.shards||[]).map(Ja).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=N.length>0?l(x,N[0]):!i.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(m,x,w,b){var N={name:m,delta:x,target:w,should:b,shadowParent:lp(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),f=u.useCallback(function(m){n.current=cn(m),a.current=void 0},[]),h=u.useCallback(function(m){d(m.type,Xa(m),m.target,l(m,e.lockRef.current))},[]),g=u.useCallback(function(m){d(m.type,cn(m),m.target,l(m,e.lockRef.current))},[]);u.useEffect(function(){return Nt.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ct),document.addEventListener("touchmove",c,Ct),document.addEventListener("touchstart",f,Ct),function(){Nt=Nt.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,Ct),document.removeEventListener("touchmove",c,Ct),document.removeEventListener("touchstart",f,Ct)}},[]);var v=e.removeScrollBar,p=e.inert;return u.createElement(u.Fragment,null,p?u.createElement(o,{styles:sp(s)}):null,v?u.createElement(Zo,{gapMode:e.gapMode}):null)}function lp(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cp=Ko(pl,ip);var yl=u.forwardRef(function(e,t){return u.createElement($n,ye({},e,{ref:t,sideCar:cp}))});yl.classNames=$n.classNames;var dp=[" ","Enter","ArrowUp","ArrowDown"],up=[" ","Enter"],Jt="Select",[zn,Bn,fp]=Js(Jt),[Lt,Qp]=Ie(Jt,[fp,sl]),Gn=sl(),[mp,st]=Lt(Jt),[hp,pp]=Lt(Jt),wl=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:g,required:v}=e,p=Gn(t),[m,x]=u.useState(null),[w,b]=u.useState(null),[N,E]=u.useState(!1),P=Tn(d),[A=!1,k]=ft({prop:a,defaultProp:s,onChange:o}),[M,K]=ft({prop:i,defaultProp:l,onChange:c}),L=u.useRef(null),H=m?!!m.closest("form"):!0,[ee,ne]=u.useState(new Set),se=Array.from(ee).map(Z=>Z.props.value).join(";");return r.jsx(Vh,{...p,children:r.jsxs(mp,{required:v,scope:t,trigger:m,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Qe(),value:M,onValueChange:K,open:A,onOpenChange:k,dir:P,triggerPointerDownPosRef:L,disabled:g,children:[r.jsx(zn.Provider,{scope:t,children:r.jsx(hp,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(Z=>{ne(J=>new Set(J).add(Z))},[]),onNativeOptionRemove:u.useCallback(Z=>{ne(J=>{const F=new Set(J);return F.delete(Z),F})},[]),children:n})}),H?r.jsxs(Hl,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:M,onChange:Z=>K(Z.target.value),disabled:g,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(ee)]},se):null]})})};wl.displayName=Jt;var bl="SelectTrigger",jl=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,o=Gn(n),i=st(bl,n),l=i.disabled||a,c=de(t,i.onTriggerChange),d=Bn(n),[f,h,g]=Vl(p=>{const m=d().filter(b=>!b.disabled),x=m.find(b=>b.value===i.value),w=Ul(m,p,x);w!==void 0&&i.onValueChange(w.value)}),v=()=>{l||(i.onOpenChange(!0),g())};return r.jsx(Uh,{asChild:!0,...o,children:r.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Wl(i.value)?"":void 0,...s,ref:c,onClick:te(s.onClick,p=>{p.currentTarget.focus()}),onPointerDown:te(s.onPointerDown,p=>{const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(v(),i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:te(s.onKeyDown,p=>{const m=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(m&&p.key===" ")&&dp.includes(p.key)&&(v(),p.preventDefault())})})})});jl.displayName=bl;var Cl="SelectValue",Nl=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:o,placeholder:i="",...l}=e,c=st(Cl,n),{onValueNodeHasChildrenChange:d}=c,f=o!==void 0,h=de(t,c.onValueNodeChange);return Ce(()=>{d(f)},[d,f]),r.jsx(Q.span,{...l,ref:h,style:{pointerEvents:"none"},children:Wl(c.value)?r.jsx(r.Fragment,{children:i}):o})});Nl.displayName=Cl;var gp="SelectIcon",Sl=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return r.jsx(Q.span,{"aria-hidden":!0,...s,ref:t,children:a||"â–¼"})});Sl.displayName=gp;var vp="SelectPortal",El=e=>r.jsx(Vr,{asChild:!0,...e});El.displayName=vp;var pt="SelectContent",Pl=u.forwardRef((e,t)=>{const n=st(pt,e.__scopeSelect),[a,s]=u.useState();if(Ce(()=>{s(new DocumentFragment)},[]),!n.open){const o=a;return o?Yt.createPortal(r.jsx(Rl,{scope:e.__scopeSelect,children:r.jsx(zn.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx(kl,{...e,ref:t})});Pl.displayName=pt;var Be=10,[Rl,ot]=Lt(pt),xp="SelectContentImpl",kl=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:p,hideWhenDetached:m,avoidCollisions:x,...w}=e,b=st(pt,n),[N,E]=u.useState(null),[P,A]=u.useState(null),k=de(t,R=>E(R)),[M,K]=u.useState(null),[L,H]=u.useState(null),ee=Bn(n),[ne,se]=u.useState(!1),Z=u.useRef(!1);u.useEffect(()=>{if(N)return ni(N)},[N]),qo();const J=u.useCallback(R=>{const[I,...Y]=ee().map(z=>z.ref.current),[B]=Y.slice(-1),_=document.activeElement;for(const z of R)if(z===_||(z==null||z.scrollIntoView({block:"nearest"}),z===I&&P&&(P.scrollTop=0),z===B&&P&&(P.scrollTop=P.scrollHeight),z==null||z.focus(),document.activeElement!==_))return},[ee,P]),F=u.useCallback(()=>J([M,N]),[J,M,N]);u.useEffect(()=>{ne&&F()},[ne,F]);const{onOpenChange:oe,triggerPointerDownPosRef:le}=b;u.useEffect(()=>{if(N){let R={x:0,y:0};const I=B=>{var _,z;R={x:Math.abs(Math.round(B.pageX)-(((_=le.current)==null?void 0:_.x)??0)),y:Math.abs(Math.round(B.pageY)-(((z=le.current)==null?void 0:z.y)??0))}},Y=B=>{R.x<=10&&R.y<=10?B.preventDefault():N.contains(B.target)||oe(!1),document.removeEventListener("pointermove",I),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y,{capture:!0})}}},[N,oe,le]),u.useEffect(()=>{const R=()=>oe(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[oe]);const[C,y]=Vl(R=>{const I=ee().filter(_=>!_.disabled),Y=I.find(_=>_.ref.current===document.activeElement),B=Ul(I,R,Y);B&&setTimeout(()=>B.ref.current.focus())}),O=u.useCallback((R,I,Y)=>{const B=!Z.current&&!Y;(b.value!==void 0&&b.value===I||B)&&(K(R),B&&(Z.current=!0))},[b.value]),$=u.useCallback(()=>N==null?void 0:N.focus(),[N]),G=u.useCallback((R,I,Y)=>{const B=!Z.current&&!Y;(b.value!==void 0&&b.value===I||B)&&H(R)},[b.value]),q=a==="popper"?yr:Ml,V=q===yr?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:p,hideWhenDetached:m,avoidCollisions:x}:{};return r.jsx(Rl,{scope:n,content:N,viewport:P,onViewportChange:A,itemRefCallback:O,selectedItem:M,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:F,selectedItemText:L,position:a,isPositioned:ne,searchRef:C,children:r.jsx(yl,{as:yn,allowPinchZoom:!0,children:r.jsx(Hr,{asChild:!0,trapped:b.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:te(s,R=>{var I;(I=b.trigger)==null||I.focus({preventScroll:!0}),R.preventDefault()}),children:r.jsx(Wr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:r.jsx(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:R=>R.preventDefault(),...w,...V,onPlaced:()=>se(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:te(w.onKeyDown,R=>{const I=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!I&&R.key.length===1&&y(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let B=ee().filter(_=>!_.disabled).map(_=>_.ref.current);if(["ArrowUp","End"].includes(R.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const _=R.target,z=B.indexOf(_);B=B.slice(z+1)}setTimeout(()=>J(B)),R.preventDefault()}})})})})})})});kl.displayName=xp;var yp="SelectItemAlignedPosition",Ml=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,o=st(pt,n),i=ot(pt,n),[l,c]=u.useState(null),[d,f]=u.useState(null),h=de(t,k=>f(k)),g=Bn(n),v=u.useRef(!1),p=u.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:w,focusSelectedItem:b}=i,N=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&m&&x&&w){const k=o.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),K=o.valueNode.getBoundingClientRect(),L=w.getBoundingClientRect();if(o.dir!=="rtl"){const _=L.left-M.left,z=K.left-_,ie=k.left-z,U=k.width+ie,pe=Math.max(U,M.width),ve=window.innerWidth-Be,xe=za(z,[Be,ve-pe]);l.style.minWidth=U+"px",l.style.left=xe+"px"}else{const _=M.right-L.right,z=window.innerWidth-K.right-_,ie=window.innerWidth-k.right-z,U=k.width+ie,pe=Math.max(U,M.width),ve=window.innerWidth-Be,xe=za(z,[Be,ve-pe]);l.style.minWidth=U+"px",l.style.right=xe+"px"}const H=g(),ee=window.innerHeight-Be*2,ne=m.scrollHeight,se=window.getComputedStyle(d),Z=parseInt(se.borderTopWidth,10),J=parseInt(se.paddingTop,10),F=parseInt(se.borderBottomWidth,10),oe=parseInt(se.paddingBottom,10),le=Z+J+ne+oe+F,C=Math.min(x.offsetHeight*5,le),y=window.getComputedStyle(m),O=parseInt(y.paddingTop,10),$=parseInt(y.paddingBottom,10),G=k.top+k.height/2-Be,q=ee-G,V=x.offsetHeight/2,R=x.offsetTop+V,I=Z+J+R,Y=le-I;if(I<=G){const _=x===H[H.length-1].ref.current;l.style.bottom="0px";const z=d.clientHeight-m.offsetTop-m.offsetHeight,ie=Math.max(q,V+(_?$:0)+z+F),U=I+ie;l.style.height=U+"px"}else{const _=x===H[0].ref.current;l.style.top="0px";const ie=Math.max(G,Z+m.offsetTop+(_?O:0)+V)+Y;l.style.height=ie+"px",m.scrollTop=I-G+m.offsetTop}l.style.margin=`${Be}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=ee+"px",a==null||a(),requestAnimationFrame(()=>v.current=!0)}},[g,o.trigger,o.valueNode,l,d,m,x,w,o.dir,a]);Ce(()=>N(),[N]);const[E,P]=u.useState();Ce(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const A=u.useCallback(k=>{k&&p.current===!0&&(N(),b==null||b(),p.current=!1)},[N,b]);return r.jsx(bp,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:r.jsx(Q.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ml.displayName=yp;var wp="SelectPopperPosition",yr=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=Be,...o}=e,i=Gn(n);return r.jsx(Kh,{...i,...o,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yr.displayName=wp;var[bp,ia]=Lt(pt,{}),wr="SelectViewport",Al=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...s}=e,o=ot(wr,n),i=ia(wr,n),l=de(t,o.onViewportChange),c=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(zn.Slot,{scope:n,children:r.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:te(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&h){const v=Math.abs(c.current-f.scrollTop);if(v>0){const p=window.innerHeight-Be*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),w=Math.max(m,x);if(w<p){const b=w+v,N=Math.min(p,b),E=b-N;h.style.height=N+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Al.displayName=wr;var Il="SelectGroup",[jp,Cp]=Lt(Il),Np=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Qe();return r.jsx(jp,{scope:n,id:s,children:r.jsx(Q.div,{role:"group","aria-labelledby":s,...a,ref:t})})});Np.displayName=Il;var Tl="SelectLabel",Ol=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Cp(Tl,n);return r.jsx(Q.div,{id:s.id,...a,ref:t})});Ol.displayName=Tl;var kn="SelectItem",[Sp,Dl]=Lt(kn),Ll=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:o,...i}=e,l=st(kn,n),c=ot(kn,n),d=l.value===a,[f,h]=u.useState(o??""),[g,v]=u.useState(!1),p=de(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,a,s)}),m=Qe(),x=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Sp,{scope:n,value:a,disabled:s,textId:m,isSelected:d,onItemTextChange:u.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:r.jsx(zn.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:r.jsx(Q.div,{role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:p,onFocus:te(i.onFocus,()=>v(!0)),onBlur:te(i.onBlur,()=>v(!1)),onPointerUp:te(i.onPointerUp,x),onPointerMove:te(i.onPointerMove,w=>{var b;s?(b=c.onItemLeave)==null||b.call(c):w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:te(i.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(up.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Ll.displayName=kn;var Gt="SelectItemText",_l=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...o}=e,i=st(Gt,n),l=ot(Gt,n),c=Dl(Gt,n),d=pp(Gt,n),[f,h]=u.useState(null),g=de(t,w=>h(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),v=f==null?void 0:f.textContent,p=u.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=d;return Ce(()=>(m(p),()=>x(p)),[m,x,p]),r.jsxs(r.Fragment,{children:[r.jsx(Q.span,{id:c.textId,...o,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Yt.createPortal(o.children,i.valueNode):null]})});_l.displayName=Gt;var Fl="SelectItemIndicator",$l=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return Dl(Fl,n).isSelected?r.jsx(Q.span,{"aria-hidden":!0,...a,ref:t}):null});$l.displayName=Fl;var br="SelectScrollUpButton",zl=u.forwardRef((e,t)=>{const n=ot(br,e.__scopeSelect),a=ia(br,e.__scopeSelect),[s,o]=u.useState(!1),i=de(t,a.onScrollButtonChange);return Ce(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(Gl,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zl.displayName=br;var jr="SelectScrollDownButton",Bl=u.forwardRef((e,t)=>{const n=ot(jr,e.__scopeSelect),a=ia(jr,e.__scopeSelect),[s,o]=u.useState(!1),i=de(t,a.onScrollButtonChange);return Ce(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(Gl,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Bl.displayName=jr;var Gl=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,o=ot("SelectScrollButton",n),i=u.useRef(null),l=Bn(n),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Ce(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),r.jsx(Q.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:te(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:te(s.onPointerLeave,()=>{c()})})}),Ep="SelectSeparator",ql=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return r.jsx(Q.div,{"aria-hidden":!0,...a,ref:t})});ql.displayName=Ep;var Cr="SelectArrow",Pp=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Gn(n),o=st(Cr,n),i=ot(Cr,n);return o.open&&i.position==="popper"?r.jsx(Yh,{...s,...a,ref:t}):null});Pp.displayName=Cr;function Wl(e){return e===""||e===void 0}var Hl=u.forwardRef((e,t)=>{const{value:n,...a}=e,s=u.useRef(null),o=de(t,s),i=$r(n);return u.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[i,n]),r.jsx(hl,{asChild:!0,children:r.jsx("select",{...a,ref:o,defaultValue:n})})});Hl.displayName="BubbleSelect";function Vl(e){const t=_e(e),n=u.useRef(""),a=u.useRef(0),s=u.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=u.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,o]}function Ul(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=Rp(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Rp(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var kp=wl,Kl=jl,Mp=Nl,Ap=Sl,Ip=El,Yl=Pl,Tp=Al,Zl=Ol,Xl=Ll,Op=_l,Dp=$l,Jl=zl,Ql=Bl,ec=ql;const Lp=kp,_p=Mp,tc=u.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(Kl,{ref:a,className:S("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Ap,{asChild:!0,children:r.jsx(gs,{className:"h-4 w-4 opacity-50"})})]}));tc.displayName=Kl.displayName;const nc=u.forwardRef(({className:e,...t},n)=>r.jsx(Jl,{ref:n,className:S("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Jc,{className:"h-4 w-4"})}));nc.displayName=Jl.displayName;const rc=u.forwardRef(({className:e,...t},n)=>r.jsx(Ql,{ref:n,className:S("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(gs,{className:"h-4 w-4"})}));rc.displayName=Ql.displayName;const ac=u.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(Ip,{children:r.jsxs(Yl,{ref:s,className:S("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(nc,{}),r.jsx(Tp,{className:S("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(rc,{})]})}));ac.displayName=Yl.displayName;const Fp=u.forwardRef(({className:e,...t},n)=>r.jsx(Zl,{ref:n,className:S("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Fp.displayName=Zl.displayName;const Nr=u.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(Xl,{ref:a,className:S("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Dp,{children:r.jsx(ps,{className:"h-4 w-4"})})}),r.jsx(Op,{children:t})]}));Nr.displayName=Xl.displayName;const $p=u.forwardRef(({className:e,...t},n)=>r.jsx(ec,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",e),...t}));$p.displayName=ec.displayName;const zp=e=>{const[t,n]=ae(f=>[f.score,f.difficulty]),{toggleSettings:a,toggleMuted:s,muted:o}=Ne(f=>({toggleSettings:f.toggleSettings,toggleMuted:f.toggleMusicMuted,muted:f.musicMuted})),i=ue(),[l,c]=j.useMemo(()=>[n!==i.difficulty,i.quality.animations!==ct.quality.animations],[n,i.quality.animations,i.difficulty]),d=j.useCallback(()=>{c?window.location.search="?game":a()},[c,a]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative flex justify-between items-baseline",children:[r.jsx("h2",{className:"text-3xl absolute top-0 left-0 w-full text-center mt-1",children:"Settings"}),e.show&&r.jsx(Zu,{className:"text-2xl font-mono ml-2"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(T,{onClick:s,variant:"icon",size:"icon",children:o?r.jsx($m,{}):r.jsx(zm,{})})})]}),r.jsxs("div",{className:"flex gap-5",children:[r.jsxs(ce,{children:[r.jsx("h3",{children:"DifficultÃ©"}),r.jsx(un,{className:"space-y-0 gap-0",value:i.difficulty,onValueChange:f=>{i.updateDifficulty(f)},children:Object.keys(Kc).map(f=>r.jsxs(zt,{className:"flex items-center gap-2 py-2",children:[r.jsx(fn,{value:f}),lt[f]]},f))})]}),r.jsxs(ce,{className:"relative",children:[r.jsx("h3",{children:"QualitÃ©"}),r.jsxs(Lp,{defaultValue:i.quality.preset,onValueChange:f=>{i.updateQuality({preset:f,...f==="custom"?{}:Object.fromEntries(Object.entries(ir(i.quality,"preset")).map(([h])=>[h,ga[f].includes(h)]))})},children:[r.jsx(tc,{className:"w-36 text-xl absolute right-2 -top-2",children:r.jsx(_p,{placeholder:"Preset"})}),r.jsxs(ac,{children:[r.jsx(Nr,{value:"custom",children:lt.custom}),Object.entries(ga).map(([f])=>r.jsx(Nr,{value:f,children:lt[f]},f))]})]}),r.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(ir(ct.quality,"preset")).map(f=>r.jsxs(zt,{className:S("flex items-center gap-2 py-2 select-none odd:pr-5",i.quality.preset!=="custom"&&"cursor-not-allowed"),children:[r.jsx(Eo,{disabled:i.quality.preset!=="custom",defaultChecked:i.quality[f],checked:i.quality[f],onCheckedChange:h=>i.updateQuality({[f]:h})}),lt[f]]},f))})]}),r.jsxs(ce,{children:[r.jsx("h3",{children:"ThÃªme"}),r.jsx(un,{className:"space-y-0 gap-0",defaultValue:ct.theme,onValueChange:f=>{const h=document.body,g=Array.from(h.classList.values()).find(v=>v.startsWith("theme-"));g&&h.classList.remove(g),h.classList.add(`theme-${f}`),i.updateTheme(f)},children:Yc.map(f=>r.jsxs(zt,{className:"flex items-center gap-2 py-2",children:[r.jsx(fn,{value:f[0]}),f[0]]},f[0]))})]}),r.jsxs(ce,{children:[r.jsx("h3",{children:"Vitesse"}),r.jsx(un,{className:"space-y-0 gap-0",value:i.speed,onValueChange:f=>i.updateSpeed(f),children:Object.values(Zc).map(f=>r.jsxs(zt,{className:"flex items-center gap-2 py-2",children:[r.jsx(fn,{value:f}),lt[f]]},f))})]})]}),r.jsxs("div",{className:"flex gap-5",children:[l&&r.jsx(T,{variant:"default",onClick:()=>{i.updateDifficulty(ct.difficulty),a()},children:"Annuler"}),t>0&&l?r.jsxs(Lm,{children:[r.jsx(_m,{children:r.jsx(T,{variant:l?"cta":"default",disabled:!l,children:"Appliquer"})}),r.jsxs(Bi,{className:"w-fit",children:[r.jsxs(Gi,{children:[r.jsx(Wi,{className:"text-2xl",children:"Une partie est en cours !"}),r.jsxs(Hi,{className:"text-xl leading-5",children:["Le nouveau mode de difficultÃ© sera ",r.jsx("br",{}),"appliquÃ© Ã  la prochaine partie."]})]}),r.jsxs(qi,{children:[r.jsx(Ui,{children:"Annuler"}),r.jsx(Vi,{onClick:d,children:"Continuer"})]})]})]}):r.jsx(T,{variant:c?"cta":"default",onClick:d,children:"Appliquer"}),(c||l)&&r.jsxs("div",{className:"flex-grow border rounded-lg flex items-center gap-3 px-3",children:[r.jsx(Bt,{className:"w-5"})," ",c?"Un rechargement peut Ãªtre nÃ©cessaire.":"Le mode de difficultÃ© sera appliquÃ© Ã  la prochaine partie."]})]})]})},Bp=()=>{const[e,t]=j.useState(0);return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Taux de conversion"}),r.jsx(ce,{children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-right",children:r.jsxs(zt,{htmlFor:"energy-input",children:["En ",r.jsx(D,{name:"energy"})," :"]})}),r.jsx("th",{children:r.jsx(hs,{id:"energy-input",min:0,type:"number",value:e,onChange:n=>t(+n.target.value),placeholder:"Entre une valeur en Ã©nergie",className:"w-fit h-6 pb-0 pt-1 px-1"})})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"text-right",children:"En dollars :"}),r.jsx("td",{children:r.jsx(We,{M$:e*or})})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"text-right",children:["En ",r.jsx(D,{name:"reputation"})," :"]}),r.jsx("td",{children:(e/os).toFixed(2)})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"text-right",children:["En ",r.jsx(D,{name:"day"})," :"]}),r.jsxs("td",{children:[e*De>1?`${Math.floor(e*De)} jours`:" ",e*De%1>0&&e*De>1?" et ":" ",Math.floor(e*De%1*24)," heures et"," ",Math.floor(e*De%1*24%1*60)," ","minutes"]})]})]})]})})]})};function Gp(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const qp=()=>r.jsxs("div",{className:"space-y-2 pointer-events-auto flex flex-col items-center",children:[r.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),r.jsx(ce,{children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Rank"}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Score"}),r.jsx("th",{children:"Mode"})]})}),r.jsx("tbody",{children:Ks.sort((e,t)=>t.score-e.score).map((e,t)=>r.jsxs("tr",{className:S("*:whitespace-nowrap",lr(t)),children:[r.jsx("td",{children:t<3?r.jsx(Gp,{className:S("w-4",lr(t))}):""}),r.jsxs("th",{children:["# ",t+1]}),r.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:e.name}),r.jsxs("td",{children:[e.score.toLocaleString()," pts"]}),r.jsx("td",{children:lt[e.mode]})]},t))})]})}),r.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si tu as un meilleur score, tu peux me le soumettre ",r.jsx("br",{}),"en me contactant sur"," ",r.jsx("a",{href:"https://discord.gg/3vC2XWK",target:"_blank",className:"font-bold",children:"Discord"})," ","ou"," ",r.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"font-bold",children:"LinkedIn"})," ","!"]})]}),Wp=()=>{const e=ae();return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Statistiques"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs(ce,{children:[r.jsx("h3",{className:"font-changa",children:"GÃ©nÃ©ral"}),r.jsx("table",{children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Score moyen"}),r.jsxs("td",{className:"font-changa text-upgrade",children:[Math.floor(e.scoreAverage).toLocaleString()," pts"]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Argent total"}),r.jsx("td",{children:r.jsx(We,{M$:e.totalMoney})})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Parties gagnÃ©es"}),r.jsx("td",{children:e.wonGames})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Parties jouÃ©es"}),r.jsx("td",{children:e.playedGames})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Cartes dÃ©couvertes"}),r.jsxs("td",{children:[e.discoveries.length," / ",ut.length]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"SuccÃ¨s obtenus"}),r.jsxs("td",{children:[e.achievements.length," / ",cr.length]})]})]})})]}),r.jsxs(ce,{className:"col-span-3",children:[r.jsx("h3",{className:"font-changa",children:"Cartes dÃ©couvertes"}),r.jsx(Xc,{children:e.discoveries.length>0?e.discoveries.map((t,n)=>{let a;try{a=je(t,e)}catch{return null}return r.jsx(xn,{popover:r.jsx(Bs,{card:a}),children:r.jsx("li",{children:r.jsx(va,{children:t})})},n)}):"Aucune dÃ©couverte"})]})]}),r.jsxs(ce,{children:[r.jsx("h3",{className:"font-changa",children:"SuccÃ¨s"}),r.jsx("ul",{className:"flex flex-wrap gap-x-2",children:e.achievements.length>0?e.achievements.map((t,n)=>{var a;return r.jsx(xn,{popover:r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mb-2",children:t}),r.jsx("p",{children:((a=cr.find(s=>s.name===t))==null?void 0:a.description)??"Ce succÃ¨s n'existe plus."})]}),children:r.jsx("li",{children:r.jsx(va,{children:t})})},n)}):"Aucun succÃ¨s"})]})]})},Hp=e=>{const t=Ne(a=>a.toggleSettings),n=ue();return r.jsxs("div",{className:S("absolute inset-0 z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":n.quality.animations,"opacity-0 bg-background/80":n.quality.transparency,hidden:!n.quality.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[r.jsx("div",{onClick:t,className:S("absolute inset-0",e.show?"pointer-events-auto":"pointer-events-none")}),r.jsx(Zt,{className:"z-40 max-w-[1500px]",children:r.jsxs(Vu,{defaultValue:"settings",children:[r.jsxs(wo,{className:"w-full -translate-y-2",children:[r.jsx(Ye,{value:"settings",children:"ParamÃ¨tres"}),r.jsx(Ye,{value:"stats",children:"Statistiques"}),r.jsx(Ye,{value:"scores",children:"Scoreboard"}),r.jsx(Ye,{value:"help",children:"Aide"}),r.jsx(Ye,{value:"tools",children:"Outils"}),r.jsx(Ye,{value:"about",children:"A propos"}),r.jsx(Ye,{value:"credits",children:"CrÃ©dits"})]}),r.jsxs("div",{className:S("space-y-2",e.show?"block":"hidden"),children:[r.jsx(Ze,{value:"settings",children:r.jsx(zp,{show:e.show})}),r.jsx(Ze,{value:"stats",children:r.jsx(Wp,{})}),r.jsx(Ze,{value:"scores",children:r.jsx(qp,{})}),r.jsx(Ze,{value:"help",children:r.jsx(Yu,{})}),r.jsx(Ze,{value:"tools",children:r.jsx(Bp,{})}),r.jsx(Ze,{value:"about",children:r.jsx(Uu,{})}),r.jsx(Ze,{value:"credits",children:r.jsx(Ku,{})})]})]})})]})};let ar=0;const Vp=3;function sc(){document.documentElement.style.setProperty("--rainbow",`${ar} 100% 50%`),ar=(ar+Vp)%360,requestAnimationFrame(sc)}sc();const eg=()=>{rd(),ad();const[e,t]=ae(o=>[o.debug,o.handleError]),[n,a]=Ne(o=>[o.isCardGameVisible,o.settingsVisible]),s=j.useCallback(o=>{"error"in o?t(o.error):t(o.reason)},[t]);return j.useEffect(()=>(window.addEventListener("error",s),window.addEventListener("unhandledrejection",s),()=>{window.removeEventListener("error",s),window.removeEventListener("unhandledrejection",s)}),[s]),r.jsx(gd,{steps:vd,opaqueStyle:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:r.jsxs(yd,{children:[r.jsx(lu,{}),r.jsx(Od,{show:n}),r.jsx(Hd,{show:n}),r.jsx(Su,{show:n}),r.jsx(Sd,{show:n}),r.jsx(Id,{show:n}),r.jsx(Rd,{show:n}),r.jsx(bu,{show:n}),r.jsx(zd,{show:n}),r.jsx(bd,{show:n}),r.jsx(Ed,{show:n}),r.jsx(wu,{show:n}),r.jsx(Md,{show:n}),r.jsx(Hp,{show:n&&a}),r.jsx(Ld,{show:n}),e&&r.jsx(Ud,{})]})})};export{eg as Game};
