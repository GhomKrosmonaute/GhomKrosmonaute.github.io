import{R as C,j as l,a as ko,r as x,P as de,c as P,u as Ge,B as X,E as G,G as Eo,s as Ne,M as ot,d as Po,e as gn,f as wr,g as Xt,I as Gt,U as Hu,h as ye,i as tn,k as Gu,l as zu,m as _a,n as tt,o as Wu,p as Xi,q as ba,C as kn,t as xe,v as Vu,w as Uu,x as ro,S as oo,y as qu,z as Xu,A as Yi,L as ao,D as Yu,F as Zu,H as Ku}from"./index-CZNYME0r.js";const Ju=()=>{const e=C.useContext(ns);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},Zi=()=>{const e=C.useContext(rs);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},ge=5,nn={position:"fixed",zIndex:10010,backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden"},rn={transition:"all 0.3s linear"},Or=({children:e,style:t})=>{const{position:n,highlight:r}=Zi(),o=window.document.documentElement.getBoundingClientRect();return!n||!r?l.jsx("div",{className:"top-0 left-0 w-screen h-svh",style:{...nn,...t},children:e}):ko.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"top-0 left-0",style:{width:n.left-ge,height:n.bottom+ge,...rn,...nn,...t}}),l.jsx("div",{className:"top-0",style:{left:n.left-ge,width:o.width-(n.left-ge),height:n.top-ge,...rn,...nn,...t}}),l.jsx("div",{style:{top:n.top-ge,left:n.right+ge,width:o.width-(n.right+ge),height:o.height-(n.top-ge),...rn,...nn,...t}}),l.jsx("div",{className:"left-0",style:{top:n.bottom+ge,width:n.right+ge,height:o.height-(n.bottom+ge),...rn,...nn,...t}}),l.jsx("div",{style:{position:"fixed",top:n.top-ge,left:n.left-ge,width:n.width+ge*2,height:n.height+ge*2,zIndex:10015,backgroundColor:"transparent",outline:"2px solid hsl(var(--upgrade))",borderRadius:"0.2rem",...rn}}),l.jsx("div",{style:{position:"fixed",zIndex:10020},children:e})]}),document.body)};function Qu(e,t){const n=x.createContext(t);function r(a){const{children:s,...u}=a,f=x.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:f,children:s})}function o(a){const s=x.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function it(e,t=[]){let n=[];function r(a,s){const u=x.createContext(s),f=n.length;n=[...n,s];function p(i){const{scope:c,children:d,...h}=i,m=(c==null?void 0:c[e][f])||u,y=x.useMemo(()=>h,Object.values(h));return l.jsx(m.Provider,{value:y,children:d})}function g(i,c){const d=(c==null?void 0:c[e][f])||u,h=x.useContext(d);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,g]}const o=()=>{const a=n.map(s=>x.createContext(s));return function(u){const f=(u==null?void 0:u[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[r,ed(o,...t)]}function ed(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((u,{useScope:f,scopeName:p})=>{const i=f(a)[`__scope${p}`];return{...u,...i}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Ao="Progress",To=100,[td,gv]=it(Ao),[nd,rd]=td(Ao),Ki=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=od,...s}=e;(o||o===0)&&!Sa(o)&&console.error(ad(`${o}`,"Progress"));const u=Sa(o)?o:To;r!==null&&!Ca(r,u)&&console.error(id(`${r}`,"Progress"));const f=Ca(r,u)?r:null,p=er(f)?a(f,u):void 0;return l.jsx(nd,{scope:n,value:f,max:u,children:l.jsx(de.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":er(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":es(f,u),"data-value":f??void 0,"data-max":u,...s,ref:t})})});Ki.displayName=Ao;var Ji="ProgressIndicator",Qi=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=rd(Ji,n);return l.jsx(de.div,{"data-state":es(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});Qi.displayName=Ji;function od(e,t){return`${Math.round(e/t*100)}%`}function es(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function er(e){return typeof e=="number"}function Sa(e){return er(e)&&!isNaN(e)&&e>0}function Ca(e,t){return er(e)&&!isNaN(e)&&e<=t&&e>=0}function ad(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${To}\`.`}function id(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${To} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ts=Ki,sd=Qi;function ld(e){const[t,n]=C.useState([]);return C.useEffect(()=>{e!==t[1]&&n(r=>[r[1],e])},[e]),t[0]}const _r=x.forwardRef(({barColor:e,className:t,value:n,increaseOnly:r,...o},a)=>{const s=ld(n);return e==="bg-green-500"&&console.log(n),l.jsx(ts,{ref:a,className:P("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...o,value:n,children:l.jsx(sd,{className:P("h-full w-full flex-1",e??"bg-primary",{[P("transition-transform duration-200 ease-out",{"duration-500":typeof n=="number"&&s===0&&n>90})]:!r||typeof n!="number"||typeof s!="number"||n>s}),style:{transform:`translateX(-${100-(n||0)}%)`}})})});_r.displayName=ts.displayName;function cd(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"})))}const ns=C.createContext(null),rs=C.createContext(null),ud=({steps:e,children:t,opaqueStyle:n})=>{var R;const r=Ge(N=>()=>N.setTutorial(!1)),[o,a]=C.useState(null),[s,u]=C.useState(null),[f,p]=C.useState(null),[g,i]=C.useState(!1),[c,d]=C.useState(!1),h=N=>{i(!0),E(N),p(e[N]||null),a(N)},m=()=>{h(0)},y=()=>{a(null),p(null),u(null),r()},v=()=>{if(o!==null){if(o>=e.length-1)return y();h(o+1)}},_=()=>{if(o!==null){if(o-1<0)return y();h(o-1)}},S=N=>()=>{let j=0,U=-1;e.forEach(J=>{J.id===N&&(U=j),j++}),!(U<0)&&h(U)},E=N=>{var J;if(N===null||((J=e[N])==null?void 0:J.id.charAt(0))==="_")return;const j=document.body;new MutationObserver((fe,le)=>{var te;const Z=document.querySelector(((te=e[N])==null?void 0:te.id)||"");if(!Z)return;const Y=Z.getBoundingClientRect();Y&&(u({left:Y.left,top:Y.top,right:Y.right,bottom:Y.bottom,width:Y.width,height:Y.height,x:Y.x,y:Y.y}),le.disconnect())}).observe(j,{childList:!0,subtree:!0})},A=()=>{var U,J;if(o===null||((U=e[o])==null?void 0:U.id.charAt(0))==="_")return;const N=document.querySelector(((J=e[o])==null?void 0:J.id)||"");if(!N)return;const j=N.getBoundingClientRect();j&&u({left:j.left,top:j.top,right:j.right,bottom:j.bottom,width:j.width,height:j.height,x:j.x,y:j.y})};C.useEffect(()=>(window.addEventListener("resize",A),window.addEventListener("scroll",A,{capture:!0}),()=>{window.removeEventListener("resize",A),window.removeEventListener("scroll",A)}),[o]);let M=null;return f&&!s&&(M=l.jsx(Or,{style:n,children:null})),f&&s&&(M=l.jsx(Or,{style:n,children:(f==null?void 0:f.render({position:s,next:v,back:_,finish:y,goTo:S}))||null})),o!==null&&((R=e[o])==null?void 0:R.id.charAt(0))==="_"&&(M=l.jsx(Or,{style:n,children:(f==null?void 0:f.render({position:void 0,next:v,back:_,finish:y,goTo:S}))||null})),l.jsx(ns.Provider,{value:{start:m},children:l.jsxs(rs.Provider,{value:{position:s,isLoading:g,highlight:c,setLoading:i,setHighlight:d},children:[t,M,f&&l.jsxs("div",{className:"fixed w-fit right-2 bottom-2",style:{zIndex:999999},children:[l.jsxs(X,{variant:"cta",size:"cta",className:"mb-2",onClick:y,children:["Passer le didacticiel ",l.jsx(cd,{className:"ml-2"})]}),l.jsx(_r,{value:((o??0)+1)/e.length*100})]})]})})},Ue=({location:e,highlight:t,children:n,style:r,...o})=>{const{position:a,isLoading:s,setLoading:u,setHighlight:f}=Zi(),p=C.useRef(null),[g,i]=C.useState(null);return C.useEffect(()=>{f(!!t)},[t]),C.useEffect(()=>{const c=a,d={};switch(e){case"right":case"left":case"top":case"bottom":if(!c)throw Error("Not position exists")}switch(e){case"right":case"left":d.top=c.top-ge+"px",e==="left"?(d.left=c.left-ge+"px",d.transform="translate(-100%, 0)"):d.left=c.right+ge+"px";break;case"top":case"bottom":d.left=c.left+c.width/2+"px",e==="top"?(d.top=c.top-ge+"px",d.transform="translate(-50%, -100%)"):(d.top=c.bottom+ge+"px",d.transform="translate(-50%, 0)");break;case"center":d.left="50%",d.top="50%",d.transform="translate(-50%, -50%)";break}i(d),u(!1)},[a,s]),s?null:l.jsx("div",{...o,ref:p,className:"space-y-4 leading-6 *:whitespace-nowrap",style:{position:"fixed",visibility:"visible",zIndex:"10010",borderRadius:"3px",fontSize:"1.5rem",...g,...r},children:n})},dd={"upgrade cost threshold":()=>({condition:e=>!!e.effect.upgrade,use:(e,t)=>e.effect.upgrade?{...e,effect:{...e.effect,cost:Cp(t,e)}}:e}),"lowers price of hand cards":(e,t)=>({condition:n=>e.includes(n.name),use:n=>({...n,effect:{...n.effect,cost:(typeof n.effect.cost=="string"?String:Number)(Math.max(0,Number(n.effect.cost)-t*(typeof n.effect.cost=="string"?G:1)))}})}),"next money card cost energy":()=>({once:!0,condition:(e,t)=>{const n=bn(t,e,['["next money card cost energy",[]]']);return n.needs==="money"&&n.cost>0},use:e=>({...e,effect:{...e.effect,cost:Math.min(20,Math.ceil(Number(e.effect.cost)/G))}})}),"next card half cost":()=>({once:!0,condition:(e,t)=>bn(t,e,['["next card half cost",[]]']).cost>1,use:e=>({...e,effect:{...e.effect,cost:typeof e.effect.cost=="number"?Math.ceil(e.effect.cost/2):String(Math.ceil(Number(e.effect.cost)/2))}})})},k=Eo[Ne.difficulty],un=[{description:`Gagne ${(2+k)*G}M$`,onPlayed:async(e,t,n)=>await e.addMoney((2+k)*G,{skipGameOverPause:!0,reason:n}),type:"action",cost:2},{description:`Gagne ${(4+k)*G}M$`,onPlayed:async(e,t,n)=>await e.addMoney((4+k)*G,{skipGameOverPause:!0,reason:n}),type:"action",cost:4},{description:`Lance une pièce. <br/> Face: gagne ${(1+k)*G}M$. <br/> Pile: gagne ${1+k} @energy${1+k>1?"s":""}`,onPlayed:async(e,t,n)=>await e.coinFlip({onHead:async()=>await e.addMoney((1+k)*G,{skipGameOverPause:!0,reason:n}),onTail:async()=>await e.addEnergy(1+k,{skipGameOverPause:!0,reason:n})}),type:"action",cost:1},{description:`Lance une pièce. <br/> Face: gagne ${(4+k)*G}M$. <br/> Pile: gagne ${4+k} @energy${4+k>1?"s":""}`,onPlayed:async(e,t,n)=>await e.coinFlip({onHead:async()=>await e.addMoney((4+k)*G,{skipGameOverPause:!0,reason:n}),onTail:async()=>await e.addEnergy(4+k,{skipGameOverPause:!0,reason:n})}),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Gagne ${(2+k)*G}M$ fois le nombre de cartes @action en main en comptant celle-ci`,onPlayed:async(e,t,n)=>{await e.addMoney((2+k)*G*e.hand.filter(r=>r.effect.type==="action").length,{skipGameOverPause:!0,reason:n})},type:"action",cost:4},{description:`Si la @reputation est inférieur à 5, gagne ${(4+k)*G}M$`,onPlayed:async(e,t,n)=>await e.addMoney((4+k)*G,{skipGameOverPause:!0,reason:n}),condition:e=>e.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${k>4?` et gagne ${k-4} @energy${k-4>1?"s":""}`:""}`,onPlayed:async(e,t,n)=>{await e.playCard(e.hand[e.hand.length-1],{free:!0,skipGameOverPause:!0,reason:n}),k>4&&await e.addEnergy(k-4,{skipGameOverPause:!0,reason:n})},condition:(e,t)=>{const n=e.hand[e.hand.length-1];return n&&n.name!==t.name&&(!n.effect.condition||n.effect.condition(e,e.hand[e.hand.length-1]))},type:"action",cost:Math.max(0,4-k),waitBeforePlay:!0},{description:"Défausse la carte la plus à droite de ta main, gagne son coût en @energy",onPlayed:async(e,t,n)=>{const r=e.hand[e.hand.length-1];await e.discardCard({filter:a=>a.name===r.name,reason:n});const o=typeof r.effect.cost=="string"?Math.ceil(Number(r.effect.cost)/G):r.effect.cost;await e.addEnergy(o,{skipGameOverPause:!0,reason:n})},condition:(e,t)=>e.hand.length>=1&&e.hand.indexOf(t)!==e.hand.length-1,type:"action",cost:0},{description:`Pioche ${1+k} carte${k>0?"s":""}`,onPlayed:async(e,t,n)=>await e.drawCard(1+k,{skipGameOverPause:!0,reason:n}),condition:e=>e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${k>2?2+(k-2):2} cartes`,onPlayed:async(e,t,n)=>await e.drawCard(k>2?2+(k-2):2,{skipGameOverPause:!0,reason:n}),condition:e=>e.draw.length>=1,type:"support",cost:Math.max(0,2-k),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+k} cartes`,onPlayed:async(e,t,n)=>await e.drawCard(2+k,{skipGameOverPause:!0,reason:n}),condition:e=>e.hand.length<5&&e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${k>=4?1+Math.floor((k-2)/2):1} carte${k>=4?"s":""} @action${k>=2&&k%2!==0?` et gagne ${k%2} @energy${k%2>0?"s":""}`:""}`,onPlayed:async(e,t,n)=>{await e.drawCard(k>=2?1+Math.floor((k-2)/2):1,{filter:r=>r.effect.type==="action",skipGameOverPause:!0,reason:n}),k>=2&&k%2!==0&&await e.addEnergy(k%2,{skipGameOverPause:!0,reason:n})},condition:e=>e.draw.some(t=>t.effect.type==="action"),type:"support",cost:Math.max(0,2-k),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(k/2)} carte${k>=2?"s":""} @action${k%2!==0?` et gagne ${k%2*G}M$`:""}`,onPlayed:async(e,t,n)=>{await e.drawCard(1,{filter:r=>r.effect.type==="action",skipGameOverPause:!0,reason:n}),k%2!==0&&await e.addMoney(k%2*G,{skipGameOverPause:!0,reason:n})},condition:e=>e.hand.every(t=>t.effect.type!=="action")&&e.draw.some(t=>t.effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${k>=1?2:"une"} carte${k>1?"s":""} et gagne ${(2+k-1)*G}M$`,onPlayed:async(e,t,n)=>{await e.discardCard({random:!0,reason:n}),await e.drawCard(k>=1?2:1,{skipGameOverPause:!0,reason:n}),await e.addMoney((2+k-1)*G,{skipGameOverPause:!0,reason:n})},condition:e=>e.hand.length>=2&&e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${k>=1?1+k:"une"} carte${k>=1?"s":""}`,onPlayed:async(e,t,n)=>{await e.discardCard({toDraw:!0,random:!0,reason:n}),await e.drawCard(k>=1?1+k:1,{skipGameOverPause:!0,reason:n})},condition:e=>e.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+k} cartes`,onPlayed:async(e,t,n)=>{await e.discardCard({reason:n}),await e.drawCard(5+k,{skipGameOverPause:!0,reason:n})},condition:e=>e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${k>5?5+(k-5):5} cartes`,onPlayed:async(e,t,n)=>{await e.discardCard({toDraw:!0,reason:n}),await e.drawCard(k>5?5+(k-5):5,{skipGameOverPause:!0,reason:n})},type:"support",cost:Math.max(0,5-k),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${k>3?` et gagne ${(k-3)*G}M$`:""}`,onPlayed:async(e,t,n)=>{await e.drawCard(e.upgrades.length,{skipGameOverPause:!0,reason:n}),k>3&&await e.addMoney((k-3)*G,{skipGameOverPause:!0,reason:n})},condition:e=>e.upgrades.length>0&&e.draw.length>=1,type:"support",cost:Math.max(0,3-k),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${k>0?` et gagne ${k*G}M$`:""}`,onPlayed:async(e,t,n)=>{await e.discardCard({filter:r=>r.effect.type==="support",reason:n}),await e.drawCard(2,{filter:r=>r.effect.type==="action",skipGameOverPause:!0,reason:n}),k>0&&await e.addMoney(k*G,{skipGameOverPause:!0,reason:n})},condition:e=>e.hand.filter(t=>t.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+k} cartes`,onPlayed:async(e,t,n)=>{await e.discardCard({filter:r=>r.effect.type==="action",reason:n}),await e.drawCard(3+k,{skipGameOverPause:!0,reason:n})},condition:e=>e.hand.some(t=>t.effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:"Recycle toutes les cartes de la défausse",onPlayed:async(e,t,n)=>{await e.recycleCard(e.discard.length,{reason:n})},condition:e=>e.discard.length>0,type:"support",cost:Math.max(0,10-k),waitBeforePlay:!0},{description:`Recycle ${1+k} carte${k>0?"s":""} aléatoire${k>0?"s":""} de la défausse`,onPlayed:async(e,t,n)=>{await e.recycleCard(1+k,{reason:n})},condition:e=>e.discard.length>0,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${k>4?` et gagne ${k-4} @energy${k-4>1?"s":""}`:""}`,onPlayed:async(e,t,n)=>{await e.drawCard(2,{filter:r=>typeof r.effect.cost=="number",skipGameOverPause:!0,reason:n}),k>4&&await e.addEnergy(k-4,{skipGameOverPause:!0,reason:n})},condition:e=>e.draw.some(t=>typeof t.effect.cost=="number"),type:"support",cost:Math.max(0,4-k),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${k>3?`, gagne ${k-3} @energy${k-3>1?"s":""}`:""}`,onPlayed:async(e,t,n)=>{e.addCardModifier("next card half cost",[]),k>3&&await e.addEnergy(k-3,{skipGameOverPause:!0,reason:n})},type:"support",cost:Math.max(0,3-k)},{description:"La prochaine carte qui coûte de l'argent coûte maintenant de l'@energy",onPlayed:async e=>{e.addCardModifier("next money card cost energy",[])},type:"support",cost:0},{description:`Baisse le prix de toutes les cartes en main de ${1+k} @energys ou de ${(1+k)*G}M$`,onPlayed:async(e,t)=>{const n=e.hand.filter(r=>r.name!==t.name&&Number(t.effect.cost)>0).map(r=>r.name);e.addCardModifier("lowers price of hand cards",[n,1+k])},condition:e=>e.hand.some(t=>Number(t.effect.cost)>0),type:"support",cost:Math.max(0,ot-k),ephemeral:!0},{description:`${k>4?`Ajoute ${k-4} @energy${k>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async(e,t,n)=>{k>4&&await e.addEnergy(k-4,{skipGameOverPause:!0,reason:n}),await e.addEnergy(e.energy,{skipGameOverPause:!0,reason:n})},type:"action",cost:String(Math.max(0,4-k)*G)},{description:`Ajoute ${4+k} @energys`,onPlayed:async(e,t,n)=>await e.addEnergy(4+k,{skipGameOverPause:!0,reason:n}),type:"action",cost:String(4*G)},{description:`Si la @reputation est inférieur à 5, ajoute ${k>3?5+k-3:5} @energys`,onPlayed:async(e,t,n)=>await e.addEnergy(k>3?5+k-3:5,{skipGameOverPause:!0,reason:n}),condition:e=>e.reputation<5,type:"action",cost:String(Math.max(0,3-k)*G)},{description:"Remplis la jauge de @reputation",onPlayed:async(e,t,n)=>await e.addReputation(10,{skipGameOverPause:!0,reason:n}),type:"action",cost:String(Math.max(0,5*Po-k)*G),ephemeral:!0}].map((e,t)=>({...e,index:t})),gt=Eo[Ne.difficulty],vn=[{name:"Starbucks",eventName:"onPlay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<gn,onTrigger:async(e,t,n)=>{await e.addEnergy(t.cumul,{skipGameOverPause:!0,reason:n})},max:3,cost:String(Math.max(0,20-gt)*G)},{name:"Méditation",eventName:"onPlay",description:"Pioche @cumul carte@s tant que ta main n'est pas pleine",image:"meditation.png",condition:e=>e.draw.length>0&&e.hand.length<ot,onTrigger:async(e,t,n)=>{await e.drawCard(Math.min(t.cumul,ot-e.hand.length),{skipGameOverPause:!0,reason:n})},max:3,cost:String(Math.max(0,20-gt)*G)},{name:"Bourse",eventName:"daily",description:"Gagne @cumul fois 10% de ton capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,t,n)=>{await e.addMoney(Math.ceil(t.cumul*(e.money/10)),{skipGameOverPause:!0,reason:n})},max:5,cost:String(Math.max(0,10-gt)*G)},{name:"Recyclage",eventName:"onDraw",description:"Recycle @cumul carte@s aléatoire@s",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,t,n)=>{await e.recycleCard(t.cumul,{reason:n})},max:3,cost:String(Math.max(0,20-gt)*G)},{name:"I.A",eventName:"onDraw",description:"Gagne @cumulM$ fois le nombre de carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,t,n)=>{await e.addMoney(t.cumul*e.discard.length,{skipGameOverPause:!0,reason:n})},cost:String(Math.max(0,80-gt)*G)},{name:"Sport",eventName:"daily",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<wr,onTrigger:async(e,t,n)=>{await e.addReputation(t.cumul,{skipGameOverPause:!0,reason:n})},max:5,cost:Math.max(0,20-gt)},{name:"PC Puissant",eventName:"onDraw",description:"Gagne @cumulM$ fois le nombre d'@energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,t,n)=>{await e.addMoney(t.cumul*e.energy,{skipGameOverPause:!0,reason:n})},max:2,cost:String(Math.max(0,40-gt)*G)},{name:"Stagiaire",eventName:"onDraw",description:"Gagne @cumulM$ fois le nombre de cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,t,n)=>{await e.addMoney(t.cumul*e.hand.length,{skipGameOverPause:!0,reason:n})},max:5,cost:String(Math.max(0,20-gt)*G)}];var $t={},Kt={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=x;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Te=Object.prototype.hasOwnProperty,fd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ka={},Ea={};function as(e){return Te.call(Ea,e)?!0:Te.call(ka,e)?!1:fd.test(e)?Ea[e]=!0:(ka[e]=!0,!1)}function Pe(e,t,n,r,o,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var jo=/[\-:]([a-z])/g;function No(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jo,No);be[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jo,No);be[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jo,No);be[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pd=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(e){pd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});var hd=/["'&<>]/;function Ee(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=hd.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var md=/([A-Z])/g,gd=/^ms-/,io=Array.isArray;function st(e,t){return{insertionMode:e,selectedValue:t}}function vd(e,t,n){switch(t){case"select":return st(1,n.value!=null?n.value:n.defaultValue);case"svg":return st(2,null);case"math":return st(3,null);case"foreignObject":return st(1,null);case"table":return st(4,null);case"thead":case"tbody":case"tfoot":return st(5,null);case"colgroup":return st(7,null);case"tr":return st(6,null)}return 4<=e.insertionMode||e.insertionMode===0?st(1,null):e}var Pa=new Map;function is(e,t,n){if(typeof n!="object")throw Error(F(62));t=!0;for(var r in n)if(Te.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var a=Ee(r);o=Ee((""+o).trim())}else{a=r;var s=Pa.get(a);s!==void 0||(s=Ee(a.replace(md,"-$1").toLowerCase().replace(gd,"-ms-")),Pa.set(a,s)),a=s,o=typeof o=="number"?o===0||Te.call(Bn,r)?""+o:o+"px":Ee((""+o).trim())}t?(t=!1,e.push(' style="',a,":",o)):e.push(";",a,":",o)}}t||e.push('"')}function Ie(e,t,n,r){switch(n){case"style":is(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=be.hasOwnProperty(n)?be[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Ee(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Ee(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Ee(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Ee(r),'"')}}else if(as(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Ee(r),'"')}}}function Hn(e,t,n){if(t!=null){if(n!=null)throw Error(F(60));if(typeof t!="object"||!("__html"in t))throw Error(F(61));t=t.__html,t!=null&&e.push(""+t)}}function yd(e){var t="";return os.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Ir(e,t,n,r){e.push(Je(n));var o=n=null,a;for(a in t)if(Te.call(t,a)){var s=t[a];if(s!=null)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ie(e,r,a,s)}}return e.push(">"),Hn(e,o,n),typeof n=="string"?(e.push(Ee(n)),null):n}var xd=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Aa=new Map;function Je(e){var t=Aa.get(e);if(t===void 0){if(!xd.test(e))throw Error(F(65,e));t="<"+e,Aa.set(e,t)}return t}function wd(e,t,n,r,o){switch(t){case"select":e.push(Je("select"));var a=null,s=null;for(g in n)if(Te.call(n,g)){var u=n[g];if(u!=null)switch(g){case"children":a=u;break;case"dangerouslySetInnerHTML":s=u;break;case"defaultValue":case"value":break;default:Ie(e,r,g,u)}}return e.push(">"),Hn(e,s,a),a;case"option":s=o.selectedValue,e.push(Je("option"));var f=u=null,p=null,g=null;for(a in n)if(Te.call(n,a)){var i=n[a];if(i!=null)switch(a){case"children":u=i;break;case"selected":p=i;break;case"dangerouslySetInnerHTML":g=i;break;case"value":f=i;default:Ie(e,r,a,i)}}if(s!=null)if(n=f!==null?""+f:yd(u),io(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),Hn(e,g,u),u;case"textarea":e.push(Je("textarea")),g=s=a=null;for(u in n)if(Te.call(n,u)&&(f=n[u],f!=null))switch(u){case"children":g=f;break;case"value":a=f;break;case"defaultValue":s=f;break;case"dangerouslySetInnerHTML":throw Error(F(91));default:Ie(e,r,u,f)}if(a===null&&s!==null&&(a=s),e.push(">"),g!=null){if(a!=null)throw Error(F(92));if(io(g)&&1<g.length)throw Error(F(93));a=""+g}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a!==null&&e.push(Ee(""+a)),null;case"input":e.push(Je("input")),f=g=u=a=null;for(s in n)if(Te.call(n,s)&&(p=n[s],p!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(F(399,"input"));case"defaultChecked":f=p;break;case"defaultValue":u=p;break;case"checked":g=p;break;case"value":a=p;break;default:Ie(e,r,s,p)}return g!==null?Ie(e,r,"checked",g):f!==null&&Ie(e,r,"checked",f),a!==null?Ie(e,r,"value",a):u!==null&&Ie(e,r,"value",u),e.push("/>"),null;case"menuitem":e.push(Je("menuitem"));for(var c in n)if(Te.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(F(400));default:Ie(e,r,c,a)}return e.push(">"),null;case"title":e.push(Je("title")),a=null;for(i in n)if(Te.call(n,i)&&(s=n[i],s!=null))switch(i){case"children":a=s;break;case"dangerouslySetInnerHTML":throw Error(F(434));default:Ie(e,r,i,s)}return e.push(">"),a;case"listing":case"pre":e.push(Je(t)),s=a=null;for(f in n)if(Te.call(n,f)&&(u=n[f],u!=null))switch(f){case"children":a=u;break;case"dangerouslySetInnerHTML":s=u;break;default:Ie(e,r,f,u)}if(e.push(">"),s!=null){if(a!=null)throw Error(F(60));if(typeof s!="object"||!("__html"in s))throw Error(F(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Je(t));for(var d in n)if(Te.call(n,d)&&(a=n[d],a!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(F(399,t));default:Ie(e,r,d,a)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Ir(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),Ir(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Ir(e,n,t,r);e.push(Je(t)),s=a=null;for(p in n)if(Te.call(n,p)&&(u=n[p],u!=null))switch(p){case"children":a=u;break;case"dangerouslySetInnerHTML":s=u;break;case"style":is(e,r,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:as(p)&&typeof u!="function"&&typeof u!="symbol"&&e.push(" ",p,'="',Ee(u),'"')}return e.push(">"),Hn(e,s,a),a}}function Ta(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(F(395));return e.push(n),e.push('"></template>')}function _d(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(F(397))}}function bd(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(F(397))}}var Sd=/[<\u2028\u2029]/g;function $r(e){return JSON.stringify(e).replace(Sd,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Cd(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function ja(e,t,n,r){return n.generateStaticMarkup?(e.push(Ee(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Ee(t)),e=!0),e)}var dn=Object.assign,kd=Symbol.for("react.element"),ss=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),cs=Symbol.for("react.strict_mode"),us=Symbol.for("react.profiler"),ds=Symbol.for("react.provider"),fs=Symbol.for("react.context"),ps=Symbol.for("react.forward_ref"),hs=Symbol.for("react.suspense"),ms=Symbol.for("react.suspense_list"),gs=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),Ed=Symbol.for("react.scope"),Pd=Symbol.for("react.debug_trace_mode"),Ad=Symbol.for("react.legacy_hidden"),Td=Symbol.for("react.default_value"),Na=Symbol.iterator;function so(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ls:return"Fragment";case ss:return"Portal";case us:return"Profiler";case cs:return"StrictMode";case hs:return"Suspense";case ms:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fs:return(e.displayName||"Context")+".Consumer";case ds:return(e._context.displayName||"Context")+".Provider";case ps:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gs:return t=e.displayName||null,t!==null?t:so(e.type)||"Memo";case Mo:t=e._payload,e=e._init;try{return so(e(t))}catch{}}return null}var vs={};function Ma(e,t){if(e=e.contextTypes,!e)return vs;var n={},r;for(r in e)n[r]=t[r];return n}var jt=null;function br(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(F(401))}else{if(n===null)throw Error(F(401));br(e,n)}t.context._currentValue2=t.value}}function ys(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&ys(e)}function xs(e){var t=e.parent;t!==null&&xs(t),e.context._currentValue2=e.value}function ws(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(F(402));e.depth===t.depth?br(e,t):ws(e,t)}function _s(e,t){var n=t.parent;if(n===null)throw Error(F(402));e.depth===n.depth?br(e,n):_s(e,n),t.context._currentValue2=t.value}function tr(e){var t=jt;t!==e&&(t===null?xs(e):e===null?ys(t):t.depth===e.depth?br(t,e):t.depth>e.depth?ws(t,e):_s(t,e),jt=e)}var Ra={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Oa(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Ra,e.props=n,e.state=o;var a={queue:[],replace:!1};e._reactInternals=a;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:dn({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Ra.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,s=a.replace,a.queue=null,a.replace=!1,s&&t.length===1)e.state=t[0];else{for(a=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var u=t[s];u=typeof u=="function"?u.call(e,a,n,r):u,u!=null&&(o?(o=!1,a=dn({},a,u)):dn(a,u))}e.state=a}else a.queue=null}var jd={id:1,overflow:""};function lo(e,t,n){var r=e.id;e=e.overflow;var o=32-Gn(r)-1;r&=~(1<<o),n+=1;var a=32-Gn(t)+o;if(30<a){var s=o-o%5;return a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-Gn(t)+o|n<<o|r,overflow:a+e}}return{id:1<<a|n<<o|r,overflow:e}}var Gn=Math.clz32?Math.clz32:Rd,Nd=Math.log,Md=Math.LN2;function Rd(e){return e>>>=0,e===0?32:31-(Nd(e)/Md|0)|0}function Od(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Id=typeof Object.is=="function"?Object.is:Od,ct=null,Ro=null,zn=null,re=null,on=!1,nr=!1,yn=0,bt=null,Sr=0;function Pt(){if(ct===null)throw Error(F(321));return ct}function Ia(){if(0<Sr)throw Error(F(312));return{memoizedState:null,queue:null,next:null}}function Oo(){return re===null?zn===null?(on=!1,zn=re=Ia()):(on=!0,re=zn):re.next===null?(on=!1,re=re.next=Ia()):(on=!0,re=re.next),re}function Io(){Ro=ct=null,nr=!1,zn=null,Sr=0,re=bt=null}function bs(e,t){return typeof t=="function"?t(e):t}function $a(e,t,n){if(ct=Pt(),re=Oo(),on){var r=re.queue;if(t=r.dispatch,bt!==null&&(n=bt.get(r),n!==void 0)){bt.delete(r),r=re.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return re.memoizedState=r,[r,t]}return[re.memoizedState,t]}return e=e===bs?typeof t=="function"?t():t:n!==void 0?n(t):t,re.memoizedState=e,e=re.queue={last:null,dispatch:null},e=e.dispatch=$d.bind(null,ct,e),[re.memoizedState,e]}function Da(e,t){if(ct=Pt(),re=Oo(),t=t===void 0?null:t,re!==null){var n=re.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!Id(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),re.memoizedState=[e,t],e}function $d(e,t,n){if(25<=Sr)throw Error(F(301));if(e===ct)if(nr=!0,e={action:n,next:null},bt===null&&(bt=new Map),n=bt.get(t),n===void 0)bt.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Dd(){throw Error(F(394))}function An(){}var Fa={readContext:function(e){return e._currentValue2},useContext:function(e){return Pt(),e._currentValue2},useMemo:Da,useReducer:$a,useRef:function(e){ct=Pt(),re=Oo();var t=re.memoizedState;return t===null?(e={current:e},re.memoizedState=e):t},useState:function(e){return $a(bs,e)},useInsertionEffect:An,useLayoutEffect:function(){},useCallback:function(e,t){return Da(function(){return e},t)},useImperativeHandle:An,useEffect:An,useDebugValue:An,useDeferredValue:function(e){return Pt(),e},useTransition:function(){return Pt(),[!1,Dd]},useId:function(){var e=Ro.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Gn(e)-1)).toString(32)+t;var n=Wn;if(n===null)throw Error(F(404));return t=yn++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Pt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(F(407));return n()}},Wn=null,Dr=os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Fd(e){return console.error(e),null}function an(){}function Ld(e,t,n,r,o,a,s,u,f){var p=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:p,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?Fd:o,onAllReady:an,onShellReady:s===void 0?an:s,onShellError:an,onFatalError:an},n=rr(t,0,null,n,!1,!1),n.parentFlushed=!0,e=$o(t,e,null,n,g,vs,null,jd),p.push(e),t}function $o(e,t,n,r,o,a,s,u){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var f={node:t,ping:function(){var p=e.pingedTasks;p.push(f),p.length===1&&ks(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:a,context:s,treeContext:u};return o.add(f),f}function rr(e,t,n,r,o,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:a}}function xn(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function or(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function La(e,t,n,r,o){for(ct={},Ro=t,yn=0,e=n(r,o);nr;)nr=!1,yn=0,Sr+=1,re=null,e=n(r,o);return Io(),e}function Ba(e,t,n,r){var o=n.render(),a=r.childContextTypes;if(a!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var u in n)if(!(u in a))throw Error(F(108,so(r)||"Unknown",u));r=dn({},s,n)}t.legacyContext=r,De(e,t,o),t.legacyContext=s}else De(e,t,o)}function Ha(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function co(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=Ma(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue2:o),Oa(a,n,r,o),Ba(e,t,a,n)}else{a=Ma(n,t.legacyContext),o=La(e,t,n,r,a);var s=yn!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Oa(o,n,r,a),Ba(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=lo(r,1,0);try{De(e,t,o)}finally{t.treeContext=r}}else De(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,a=wd(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=vd(s,n,r),uo(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case Ad:case Pd:case cs:case us:case ls:De(e,t,r.children);return;case ms:De(e,t,r.children);return;case Ed:throw Error(F(343));case hs:e:{n=t.blockedBoundary,o=t.blockedSegment,a=r.fallback,r=r.children,s=new Set;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},f=rr(e,o.chunks.length,u,o.formatContext,!1,!1);o.children.push(f),o.lastPushedText=!1;var p=rr(e,0,null,o.formatContext,!1,!1);p.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=p;try{if(uo(e,t,r),e.responseState.generateStaticMarkup||p.lastPushedText&&p.textEmbedded&&p.chunks.push("<!-- -->"),p.status=1,ar(u,p),u.pendingTasks===0)break e}catch(g){p.status=4,u.forceClientRender=!0,u.errorDigest=xn(e,g)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=$o(e,a,n,f,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ps:if(r=La(e,t,n.render,r,o),yn!==0){n=t.treeContext,t.treeContext=lo(n,1,0);try{De(e,t,r)}finally{t.treeContext=n}}else De(e,t,r);return;case gs:n=n.type,r=Ha(n,r),co(e,t,n,r,o);return;case ds:if(o=r.children,n=n._context,r=r.value,a=n._currentValue2,n._currentValue2=r,s=jt,jt=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,De(e,t,o),e=jt,e===null)throw Error(F(403));r=e.parentValue,e.context._currentValue2=r===Td?e.context._defaultValue:r,e=jt=e.parent,t.context=e;return;case fs:r=r.children,r=r(n._currentValue2),De(e,t,r);return;case Mo:o=n._init,n=o(n._payload),r=Ha(n,r),co(e,t,n,r,void 0);return}throw Error(F(130,n==null?n:typeof n,""))}}function De(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case kd:co(e,t,n.type,n.props,n.ref);return;case ss:throw Error(F(257));case Mo:var r=n._init;n=r(n._payload),De(e,t,n);return}if(io(n)){Ga(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Na&&n[Na]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);Ga(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=ja(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=ja(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Ga(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=t.treeContext;t.treeContext=lo(a,r,o);try{uo(e,t,n[o])}finally{t.treeContext=a}}}function uo(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,a=t.context;try{return De(e,t,n)}catch(f){if(Io(),typeof f=="object"&&f!==null&&typeof f.then=="function"){n=f;var s=t.blockedSegment,u=rr(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(u),s.lastPushedText=!1,e=$o(e,t.node,t.blockedBoundary,u,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,tr(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,tr(a),f}}function Bd(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Cs(this,t,e)}function Ss(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(F(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Ss(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function ar(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&ar(e,n)}else e.completedSegments.push(t)}function Cs(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(F(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=an,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&ar(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Bd,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ar(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function ks(e){if(e.status!==2){var t=jt,n=Dr.current;Dr.current=Fa;var r=Wn;Wn=e.responseState;try{var o=e.pingedTasks,a;for(a=0;a<o.length;a++){var s=o[a],u=e,f=s.blockedSegment;if(f.status===0){tr(s.context);try{De(u,s,s.node),u.responseState.generateStaticMarkup||f.lastPushedText&&f.textEmbedded&&f.chunks.push("<!-- -->"),s.abortSet.delete(s),f.status=1,Cs(u,s.blockedBoundary,f)}catch(h){if(Io(),typeof h=="object"&&h!==null&&typeof h.then=="function"){var p=s.ping;h.then(p,p)}else{s.abortSet.delete(s),f.status=4;var g=s.blockedBoundary,i=h,c=xn(u,i);if(g===null?or(u,i):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=c,g.parentFlushed&&u.clientRenderedBoundaries.push(g))),u.allPendingTasks--,u.allPendingTasks===0){var d=u.onAllReady;d()}}}finally{}}}o.splice(0,a),e.destination!==null&&Do(e,e.destination)}catch(h){xn(e,h),or(e,h)}finally{Wn=r,Dr.current=n,n===Fa&&tr(t)}}}function Tn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];a<o.index;a++)t.push(r[a]);o=Cr(e,t,o)}for(;a<r.length-1;a++)t.push(r[a]);return a<r.length&&(o=t.push(r[a])),o;default:throw Error(F(390))}}function Cr(e,t,n){var r=n.boundary;if(r===null)return Tn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Ee(r),t.push(r),t.push('"')),t.push("></template>")),Tn(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,a=o.nextSuspenseID++;return o=o.boundaryPrefix+a.toString(16),r=r.id=o,Ta(t,e.responseState,r),Tn(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Ta(t,e.responseState,r.id),Tn(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(F(391));return Cr(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function za(e,t,n){return _d(t,e.responseState,n.formatContext,n.id),Cr(e,t,n),bd(t,n.formatContext)}function Wa(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Es(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(F(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function Es(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(F(392));return za(e,t,r)}return za(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function Do(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){Cr(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,a;for(a=0;a<o.length;a++){var s=o[a];r=t;var u=e.responseState,f=s.id,p=s.errorDigest,g=s.errorMessage,i=s.errorComponentStack;if(r.push(u.startInlineScript),u.sentClientRenderFunction?r.push('$RX("'):(u.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),f===null)throw Error(F(395));if(r.push(f),r.push('"'),p||g||i){r.push(",");var c=$r(p||"");r.push(c)}if(g||i){r.push(",");var d=$r(g||"");r.push(d)}if(i){r.push(",");var h=$r(i);r.push(h)}if(!r.push(")<\/script>")){e.destination=null,a++,o.splice(0,a);return}}o.splice(0,a);var m=e.completedBoundaries;for(a=0;a<m.length;a++)if(!Wa(e,t,m[a])){e.destination=null,a++,m.splice(0,a);return}m.splice(0,a);var y=e.partialBoundaries;for(a=0;a<y.length;a++){var v=y[a];e:{o=e,s=t;var _=v.completedSegments;for(u=0;u<_.length;u++)if(!Es(o,s,v,_[u])){u++,_.splice(0,u);var S=!1;break e}_.splice(0,u),S=!0}if(!S){e.destination=null,a++,y.splice(0,a);return}}y.splice(0,a);var E=e.completedBoundaries;for(a=0;a<E.length;a++)if(!Wa(e,t,E[a])){e.destination=null,a++,E.splice(0,a);return}E.splice(0,a)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function Hd(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Ss(r,e,t)}),n.clear(),e.destination!==null&&Do(e,e.destination)}catch(r){xn(e,r),or(e,r)}}function Gd(){}function Ps(e,t,n,r){var o=!1,a=null,s="",u={push:function(p){return p!==null&&(s+=p),!0},destroy:function(p){o=!0,a=p}},f=!1;if(e=Ld(e,Cd(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Gd,void 0,function(){f=!0}),ks(e),Hd(e,r),e.status===1)e.status=2,u.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=u;try{Do(e,u)}catch(p){xn(e,p),or(e,p)}}if(o)throw a;if(!f)throw Error(F(426));return s}Kt.renderToNodeStream=function(){throw Error(F(207))};Kt.renderToStaticMarkup=function(e,t){return Ps(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Kt.renderToStaticNodeStream=function(){throw Error(F(208))};Kt.renderToString=function(e,t){return Ps(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Kt.version="18.3.1";var Fo={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=x;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fe=null,Le=0;function O(e,t){if(t.length!==0)if(512<t.length)0<Le&&(e.enqueue(new Uint8Array(Fe.buffer,0,Le)),Fe=new Uint8Array(512),Le=0),e.enqueue(t);else{var n=Fe.length-Le;n<t.length&&(n===0?e.enqueue(Fe):(Fe.set(t.subarray(0,n),Le),e.enqueue(Fe),t=t.subarray(n)),Fe=new Uint8Array(512),Le=0),Fe.set(t,Le),Le+=t.length}}function se(e,t){return O(e,t),!0}function Va(e){Fe&&0<Le&&(e.enqueue(new Uint8Array(Fe.buffer,0,Le)),Fe=null,Le=0)}var Ts=new TextEncoder;function V(e){return Ts.encode(e)}function T(e){return Ts.encode(e)}function js(e,t){typeof e.error=="function"?e.error(t):e.close()}var je=Object.prototype.hasOwnProperty,zd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ua={},qa={};function Ns(e){return je.call(qa,e)?!0:je.call(Ua,e)?!1:zd.test(e)?qa[e]=!0:(Ua[e]=!0,!1)}function Ae(e,t,n,r,o,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lo=/[\-:]([a-z])/g;function Bo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lo,Bo);Se[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lo,Bo);Se[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lo,Bo);Se[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wd=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){Wd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});var Vd=/["'&<>]/;function _e(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Vd.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var Ud=/([A-Z])/g,qd=/^ms-/,fo=Array.isArray,Xd=T("<script>"),Yd=T("<\/script>"),Zd=T('<script src="'),Kd=T('<script type="module" src="'),Xa=T('" async=""><\/script>'),Jd=/(<\/|<)(s)(cript)/gi;function Qd(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function ef(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?Xd:T('<script nonce="'+_e(t)+'">');var a=[];if(n!==void 0&&a.push(t,V((""+n).replace(Jd,Qd)),Yd),r!==void 0)for(n=0;n<r.length;n++)a.push(Zd,V(_e(r[n])),Xa);if(o!==void 0)for(r=0;r<o.length;r++)a.push(Kd,V(_e(o[r])),Xa);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:T(e+"P:"),segmentPrefix:T(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Qe(e,t){return{insertionMode:e,selectedValue:t}}function tf(e){return Qe(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function nf(e,t,n){switch(t){case"select":return Qe(1,n.value!=null?n.value:n.defaultValue);case"svg":return Qe(2,null);case"math":return Qe(3,null);case"foreignObject":return Qe(1,null);case"table":return Qe(4,null);case"thead":case"tbody":case"tfoot":return Qe(5,null);case"colgroup":return Qe(7,null);case"tr":return Qe(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Qe(1,null):e}var Ho=T("<!-- -->");function Ya(e,t,n,r){return t===""?r:(r&&e.push(Ho),e.push(V(_e(t))),!0)}var Za=new Map,rf=T(' style="'),Ka=T(":"),of=T(";");function Ms(e,t,n){if(typeof n!="object")throw Error(z(62));t=!0;for(var r in n)if(je.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var a=V(_e(r));o=V(_e((""+o).trim()))}else{a=r;var s=Za.get(a);s!==void 0||(s=T(_e(a.replace(Ud,"-$1").toLowerCase().replace(qd,"-ms-"))),Za.set(a,s)),a=s,o=typeof o=="number"?o===0||je.call(Vn,r)?V(""+o):V(o+"px"):V(_e((""+o).trim()))}t?(t=!1,e.push(rf,a,Ka,o)):e.push(of,a,Ka,o)}}t||e.push(At)}var yt=T(" "),zt=T('="'),At=T('"'),Ja=T('=""');function $e(e,t,n,r){switch(n){case"style":Ms(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Se.hasOwnProperty(n)?Se[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=V(t.attributeName),t.type){case 3:r&&e.push(yt,n,Ja);break;case 4:r===!0?e.push(yt,n,Ja):r!==!1&&e.push(yt,n,zt,V(_e(r)),At);break;case 5:isNaN(r)||e.push(yt,n,zt,V(_e(r)),At);break;case 6:!isNaN(r)&&1<=r&&e.push(yt,n,zt,V(_e(r)),At);break;default:t.sanitizeURL&&(r=""+r),e.push(yt,n,zt,V(_e(r)),At)}}else if(Ns(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(yt,V(n),zt,V(_e(r)),At)}}}var xt=T(">"),Qa=T("/>");function Un(e,t,n){if(t!=null){if(n!=null)throw Error(z(60));if(typeof t!="object"||!("__html"in t))throw Error(z(61));t=t.__html,t!=null&&e.push(V(""+t))}}function af(e){var t="";return As.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var Fr=T(' selected=""');function Lr(e,t,n,r){e.push(et(n));var o=n=null,a;for(a in t)if(je.call(t,a)){var s=t[a];if(s!=null)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:$e(e,r,a,s)}}return e.push(xt),Un(e,o,n),typeof n=="string"?(e.push(V(_e(n))),null):n}var Br=T(`
`),sf=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ei=new Map;function et(e){var t=ei.get(e);if(t===void 0){if(!sf.test(e))throw Error(z(65,e));t=T("<"+e),ei.set(e,t)}return t}var lf=T("<!DOCTYPE html>");function cf(e,t,n,r,o){switch(t){case"select":e.push(et("select"));var a=null,s=null;for(g in n)if(je.call(n,g)){var u=n[g];if(u!=null)switch(g){case"children":a=u;break;case"dangerouslySetInnerHTML":s=u;break;case"defaultValue":case"value":break;default:$e(e,r,g,u)}}return e.push(xt),Un(e,s,a),a;case"option":s=o.selectedValue,e.push(et("option"));var f=u=null,p=null,g=null;for(a in n)if(je.call(n,a)){var i=n[a];if(i!=null)switch(a){case"children":u=i;break;case"selected":p=i;break;case"dangerouslySetInnerHTML":g=i;break;case"value":f=i;default:$e(e,r,a,i)}}if(s!=null)if(n=f!==null?""+f:af(u),fo(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(Fr);break}}else""+s===n&&e.push(Fr);else p&&e.push(Fr);return e.push(xt),Un(e,g,u),u;case"textarea":e.push(et("textarea")),g=s=a=null;for(u in n)if(je.call(n,u)&&(f=n[u],f!=null))switch(u){case"children":g=f;break;case"value":a=f;break;case"defaultValue":s=f;break;case"dangerouslySetInnerHTML":throw Error(z(91));default:$e(e,r,u,f)}if(a===null&&s!==null&&(a=s),e.push(xt),g!=null){if(a!=null)throw Error(z(92));if(fo(g)&&1<g.length)throw Error(z(93));a=""+g}return typeof a=="string"&&a[0]===`
`&&e.push(Br),a!==null&&e.push(V(_e(""+a))),null;case"input":e.push(et("input")),f=g=u=a=null;for(s in n)if(je.call(n,s)&&(p=n[s],p!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(z(399,"input"));case"defaultChecked":f=p;break;case"defaultValue":u=p;break;case"checked":g=p;break;case"value":a=p;break;default:$e(e,r,s,p)}return g!==null?$e(e,r,"checked",g):f!==null&&$e(e,r,"checked",f),a!==null?$e(e,r,"value",a):u!==null&&$e(e,r,"value",u),e.push(Qa),null;case"menuitem":e.push(et("menuitem"));for(var c in n)if(je.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(400));default:$e(e,r,c,a)}return e.push(xt),null;case"title":e.push(et("title")),a=null;for(i in n)if(je.call(n,i)&&(s=n[i],s!=null))switch(i){case"children":a=s;break;case"dangerouslySetInnerHTML":throw Error(z(434));default:$e(e,r,i,s)}return e.push(xt),a;case"listing":case"pre":e.push(et(t)),s=a=null;for(f in n)if(je.call(n,f)&&(u=n[f],u!=null))switch(f){case"children":a=u;break;case"dangerouslySetInnerHTML":s=u;break;default:$e(e,r,f,u)}if(e.push(xt),s!=null){if(a!=null)throw Error(z(60));if(typeof s!="object"||!("__html"in s))throw Error(z(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(Br,V(n)):e.push(V(""+n)))}return typeof a=="string"&&a[0]===`
`&&e.push(Br),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(et(t));for(var d in n)if(je.call(n,d)&&(a=n[d],a!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(z(399,t));default:$e(e,r,d,a)}return e.push(Qa),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Lr(e,n,t,r);case"html":return o.insertionMode===0&&e.push(lf),Lr(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Lr(e,n,t,r);e.push(et(t)),s=a=null;for(p in n)if(je.call(n,p)&&(u=n[p],u!=null))switch(p){case"children":a=u;break;case"dangerouslySetInnerHTML":s=u;break;case"style":Ms(e,r,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Ns(p)&&typeof u!="function"&&typeof u!="symbol"&&e.push(yt,V(p),zt,V(_e(u)),At)}return e.push(xt),Un(e,s,a),a}}var uf=T("</"),df=T(">"),ff=T('<template id="'),pf=T('"></template>'),hf=T("<!--$-->"),mf=T('<!--$?--><template id="'),gf=T('"></template>'),vf=T("<!--$!-->"),yf=T("<!--/$-->"),xf=T("<template"),wf=T('"'),_f=T(' data-dgst="');T(' data-msg="');T(' data-stck="');var bf=T("></template>");function ti(e,t,n){if(O(e,mf),n===null)throw Error(z(395));return O(e,n),se(e,gf)}var Sf=T('<div hidden id="'),Cf=T('">'),kf=T("</div>"),Ef=T('<svg aria-hidden="true" style="display:none" id="'),Pf=T('">'),Af=T("</svg>"),Tf=T('<math aria-hidden="true" style="display:none" id="'),jf=T('">'),Nf=T("</math>"),Mf=T('<table hidden id="'),Rf=T('">'),Of=T("</table>"),If=T('<table hidden><tbody id="'),$f=T('">'),Df=T("</tbody></table>"),Ff=T('<table hidden><tr id="'),Lf=T('">'),Bf=T("</tr></table>"),Hf=T('<table hidden><colgroup id="'),Gf=T('">'),zf=T("</colgroup></table>");function Wf(e,t,n,r){switch(n.insertionMode){case 0:case 1:return O(e,Sf),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,Cf);case 2:return O(e,Ef),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,Pf);case 3:return O(e,Tf),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,jf);case 4:return O(e,Mf),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,Rf);case 5:return O(e,If),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,$f);case 6:return O(e,Ff),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,Lf);case 7:return O(e,Hf),O(e,t.segmentPrefix),O(e,V(r.toString(16))),se(e,Gf);default:throw Error(z(397))}}function Vf(e,t){switch(t.insertionMode){case 0:case 1:return se(e,kf);case 2:return se(e,Af);case 3:return se(e,Nf);case 4:return se(e,Of);case 5:return se(e,Df);case 6:return se(e,Bf);case 7:return se(e,zf);default:throw Error(z(397))}}var Uf=T('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),qf=T('$RS("'),Xf=T('","'),Yf=T('")<\/script>'),Zf=T('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Kf=T('$RC("'),Jf=T('","'),Qf=T('")<\/script>'),ep=T('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),tp=T('$RX("'),np=T('"'),rp=T(")<\/script>"),Hr=T(","),op=/[<\u2028\u2029]/g;function Gr(e){return JSON.stringify(e).replace(op,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var fn=Object.assign,ap=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Is=Symbol.for("react.strict_mode"),$s=Symbol.for("react.profiler"),Ds=Symbol.for("react.provider"),Fs=Symbol.for("react.context"),Ls=Symbol.for("react.forward_ref"),Bs=Symbol.for("react.suspense"),Hs=Symbol.for("react.suspense_list"),Gs=Symbol.for("react.memo"),Go=Symbol.for("react.lazy"),ip=Symbol.for("react.scope"),sp=Symbol.for("react.debug_trace_mode"),lp=Symbol.for("react.legacy_hidden"),cp=Symbol.for("react.default_value"),ni=Symbol.iterator;function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Rs:return"Portal";case $s:return"Profiler";case Is:return"StrictMode";case Bs:return"Suspense";case Hs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fs:return(e.displayName||"Context")+".Consumer";case Ds:return(e._context.displayName||"Context")+".Provider";case Ls:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gs:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case Go:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}var zs={};function ri(e,t){if(e=e.contextTypes,!e)return zs;var n={},r;for(r in e)n[r]=t[r];return n}var Nt=null;function kr(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(z(401))}else{if(n===null)throw Error(z(401));kr(e,n)}t.context._currentValue=t.value}}function Ws(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&Ws(e)}function Vs(e){var t=e.parent;t!==null&&Vs(t),e.context._currentValue=e.value}function Us(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(z(402));e.depth===t.depth?kr(e,t):Us(e,t)}function qs(e,t){var n=t.parent;if(n===null)throw Error(z(402));e.depth===n.depth?kr(e,n):qs(e,n),t.context._currentValue=t.value}function ir(e){var t=Nt;t!==e&&(t===null?Vs(e):e===null?Ws(t):t.depth===e.depth?kr(t,e):t.depth>e.depth?Us(t,e):qs(t,e),Nt=e)}var oi={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ai(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=oi,e.props=n,e.state=o;var a={queue:[],replace:!1};e._reactInternals=a;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:fn({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&oi.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,s=a.replace,a.queue=null,a.replace=!1,s&&t.length===1)e.state=t[0];else{for(a=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var u=t[s];u=typeof u=="function"?u.call(e,a,n,r):u,u!=null&&(o?(o=!1,a=fn({},a,u)):fn(a,u))}e.state=a}else a.queue=null}var up={id:1,overflow:""};function ho(e,t,n){var r=e.id;e=e.overflow;var o=32-qn(r)-1;r&=~(1<<o),n+=1;var a=32-qn(t)+o;if(30<a){var s=o-o%5;return a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-qn(t)+o|n<<o|r,overflow:a+e}}return{id:1<<a|n<<o|r,overflow:e}}var qn=Math.clz32?Math.clz32:pp,dp=Math.log,fp=Math.LN2;function pp(e){return e>>>=0,e===0?32:31-(dp(e)/fp|0)|0}function hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mp=typeof Object.is=="function"?Object.is:hp,ut=null,zo=null,Xn=null,oe=null,sn=!1,sr=!1,wn=0,St=null,Er=0;function Tt(){if(ut===null)throw Error(z(321));return ut}function ii(){if(0<Er)throw Error(z(312));return{memoizedState:null,queue:null,next:null}}function Wo(){return oe===null?Xn===null?(sn=!1,Xn=oe=ii()):(sn=!0,oe=Xn):oe.next===null?(sn=!1,oe=oe.next=ii()):(sn=!0,oe=oe.next),oe}function Vo(){zo=ut=null,sr=!1,Xn=null,Er=0,oe=St=null}function Xs(e,t){return typeof t=="function"?t(e):t}function si(e,t,n){if(ut=Tt(),oe=Wo(),sn){var r=oe.queue;if(t=r.dispatch,St!==null&&(n=St.get(r),n!==void 0)){St.delete(r),r=oe.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return oe.memoizedState=r,[r,t]}return[oe.memoizedState,t]}return e=e===Xs?typeof t=="function"?t():t:n!==void 0?n(t):t,oe.memoizedState=e,e=oe.queue={last:null,dispatch:null},e=e.dispatch=gp.bind(null,ut,e),[oe.memoizedState,e]}function li(e,t){if(ut=Tt(),oe=Wo(),t=t===void 0?null:t,oe!==null){var n=oe.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!mp(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),oe.memoizedState=[e,t],e}function gp(e,t,n){if(25<=Er)throw Error(z(301));if(e===ut)if(sr=!0,e={action:n,next:null},St===null&&(St=new Map),n=St.get(t),n===void 0)St.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function vp(){throw Error(z(394))}function jn(){}var ci={readContext:function(e){return e._currentValue},useContext:function(e){return Tt(),e._currentValue},useMemo:li,useReducer:si,useRef:function(e){ut=Tt(),oe=Wo();var t=oe.memoizedState;return t===null?(e={current:e},oe.memoizedState=e):t},useState:function(e){return si(Xs,e)},useInsertionEffect:jn,useLayoutEffect:function(){},useCallback:function(e,t){return li(function(){return e},t)},useImperativeHandle:jn,useEffect:jn,useDebugValue:jn,useDeferredValue:function(e){return Tt(),e},useTransition:function(){return Tt(),[!1,vp]},useId:function(){var e=zo.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-qn(e)-1)).toString(32)+t;var n=Yn;if(n===null)throw Error(z(404));return t=wn++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Tt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(z(407));return n()}},Yn=null,zr=As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function yp(e){return console.error(e),null}function ln(){}function xp(e,t,n,r,o,a,s,u,f){var p=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:p,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?yp:o,onAllReady:a===void 0?ln:a,onShellReady:s===void 0?ln:s,onShellError:u===void 0?ln:u,onFatalError:f===void 0?ln:f},n=lr(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Uo(t,e,null,n,g,zs,null,up),p.push(e),t}function Uo(e,t,n,r,o,a,s,u){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var f={node:t,ping:function(){var p=e.pingedTasks;p.push(f),p.length===1&&Ks(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:a,context:s,treeContext:u};return o.add(f),f}function lr(e,t,n,r,o,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:a}}function _n(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function cr(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,js(e.destination,t)):(e.status=1,e.fatalError=t)}function ui(e,t,n,r,o){for(ut={},zo=t,wn=0,e=n(r,o);sr;)sr=!1,wn=0,Er+=1,oe=null,e=n(r,o);return Vo(),e}function di(e,t,n,r){var o=n.render(),a=r.childContextTypes;if(a!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var u in n)if(!(u in a))throw Error(z(108,po(r)||"Unknown",u));r=fn({},s,n)}t.legacyContext=r,Be(e,t,o),t.legacyContext=s}else Be(e,t,o)}function fi(e,t){if(e&&e.defaultProps){t=fn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mo(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=ri(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue:o),ai(a,n,r,o),di(e,t,a,n)}else{a=ri(n,t.legacyContext),o=ui(e,t,n,r,a);var s=wn!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)ai(o,n,r,a),di(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=ho(r,1,0);try{Be(e,t,o)}finally{t.treeContext=r}}else Be(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,a=cf(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=nf(s,n,r),go(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(uf,V(n),df)}o.lastPushedText=!1}else{switch(n){case lp:case sp:case Is:case $s:case Os:Be(e,t,r.children);return;case Hs:Be(e,t,r.children);return;case ip:throw Error(z(343));case Bs:e:{n=t.blockedBoundary,o=t.blockedSegment,a=r.fallback,r=r.children,s=new Set;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},f=lr(e,o.chunks.length,u,o.formatContext,!1,!1);o.children.push(f),o.lastPushedText=!1;var p=lr(e,0,null,o.formatContext,!1,!1);p.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=p;try{if(go(e,t,r),p.lastPushedText&&p.textEmbedded&&p.chunks.push(Ho),p.status=1,ur(u,p),u.pendingTasks===0)break e}catch(g){p.status=4,u.forceClientRender=!0,u.errorDigest=_n(e,g)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Uo(e,a,n,f,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ls:if(r=ui(e,t,n.render,r,o),wn!==0){n=t.treeContext,t.treeContext=ho(n,1,0);try{Be(e,t,r)}finally{t.treeContext=n}}else Be(e,t,r);return;case Gs:n=n.type,r=fi(n,r),mo(e,t,n,r,o);return;case Ds:if(o=r.children,n=n._context,r=r.value,a=n._currentValue,n._currentValue=r,s=Nt,Nt=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,Be(e,t,o),e=Nt,e===null)throw Error(z(403));r=e.parentValue,e.context._currentValue=r===cp?e.context._defaultValue:r,e=Nt=e.parent,t.context=e;return;case Fs:r=r.children,r=r(n._currentValue),Be(e,t,r);return;case Go:o=n._init,n=o(n._payload),r=fi(n,r),mo(e,t,n,r,void 0);return}throw Error(z(130,n==null?n:typeof n,""))}}function Be(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case ap:mo(e,t,n.type,n.props,n.ref);return;case Rs:throw Error(z(257));case Go:var r=n._init;n=r(n._payload),Be(e,t,n);return}if(fo(n)){pi(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=ni&&n[ni]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);pi(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Ya(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Ya(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function pi(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=t.treeContext;t.treeContext=ho(a,r,o);try{go(e,t,n[o])}finally{t.treeContext=a}}}function go(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,a=t.context;try{return Be(e,t,n)}catch(f){if(Vo(),typeof f=="object"&&f!==null&&typeof f.then=="function"){n=f;var s=t.blockedSegment,u=lr(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(u),s.lastPushedText=!1,e=Uo(e,t.node,t.blockedBoundary,u,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,ir(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,ir(a),f}}function wp(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Zs(this,t,e)}function Ys(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(z(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Ys(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function ur(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&ur(e,n)}else e.completedSegments.push(t)}function Zs(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(z(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=ln,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&ur(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wp,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ur(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Ks(e){if(e.status!==2){var t=Nt,n=zr.current;zr.current=ci;var r=Yn;Yn=e.responseState;try{var o=e.pingedTasks,a;for(a=0;a<o.length;a++){var s=o[a],u=e,f=s.blockedSegment;if(f.status===0){ir(s.context);try{Be(u,s,s.node),f.lastPushedText&&f.textEmbedded&&f.chunks.push(Ho),s.abortSet.delete(s),f.status=1,Zs(u,s.blockedBoundary,f)}catch(h){if(Vo(),typeof h=="object"&&h!==null&&typeof h.then=="function"){var p=s.ping;h.then(p,p)}else{s.abortSet.delete(s),f.status=4;var g=s.blockedBoundary,i=h,c=_n(u,i);if(g===null?cr(u,i):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=c,g.parentFlushed&&u.clientRenderedBoundaries.push(g))),u.allPendingTasks--,u.allPendingTasks===0){var d=u.onAllReady;d()}}}finally{}}}o.splice(0,a),e.destination!==null&&qo(e,e.destination)}catch(h){_n(e,h),cr(e,h)}finally{Yn=r,zr.current=n,n===ci&&ir(t)}}}function Nn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,O(t,ff),O(t,e.placeholderPrefix),e=V(r.toString(16)),O(t,e),se(t,pf);case 1:n.status=2;var o=!0;r=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];a<o.index;a++)O(t,r[a]);o=Pr(e,t,o)}for(;a<r.length-1;a++)O(t,r[a]);return a<r.length&&(o=se(t,r[a])),o;default:throw Error(z(390))}}function Pr(e,t,n){var r=n.boundary;if(r===null)return Nn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,se(t,vf),O(t,xf),r&&(O(t,_f),O(t,V(_e(r))),O(t,wf)),se(t,bf),Nn(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,a=o.nextSuspenseID++;o=T(o.boundaryPrefix+a.toString(16)),r=r.id=o,ti(t,e.responseState,r),Nn(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),ti(t,e.responseState,r.id),Nn(e,t,n);else{if(se(t,hf),n=r.completedSegments,n.length!==1)throw Error(z(391));Pr(e,t,n[0])}return se(t,yf)}function hi(e,t,n){return Wf(t,e.responseState,n.formatContext,n.id),Pr(e,t,n),Vf(t,n.formatContext)}function mi(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Js(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,O(t,e.startInlineScript),e.sentCompleteBoundaryFunction?O(t,Kf):(e.sentCompleteBoundaryFunction=!0,O(t,Zf)),r===null)throw Error(z(395));return n=V(n.toString(16)),O(t,r),O(t,Jf),O(t,e.segmentPrefix),O(t,n),se(t,Qf)}function Js(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(z(392));return hi(e,t,r)}return hi(e,t,r),e=e.responseState,O(t,e.startInlineScript),e.sentCompleteSegmentFunction?O(t,qf):(e.sentCompleteSegmentFunction=!0,O(t,Uf)),O(t,e.segmentPrefix),o=V(o.toString(16)),O(t,o),O(t,Xf),O(t,e.placeholderPrefix),O(t,o),se(t,Yf)}function qo(e,t){Fe=new Uint8Array(512),Le=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){Pr(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)O(t,r[n]);n<r.length&&se(t,r[n])}var o=e.clientRenderedBoundaries,a;for(a=0;a<o.length;a++){var s=o[a];r=t;var u=e.responseState,f=s.id,p=s.errorDigest,g=s.errorMessage,i=s.errorComponentStack;if(O(r,u.startInlineScript),u.sentClientRenderFunction?O(r,tp):(u.sentClientRenderFunction=!0,O(r,ep)),f===null)throw Error(z(395));O(r,f),O(r,np),(p||g||i)&&(O(r,Hr),O(r,V(Gr(p||"")))),(g||i)&&(O(r,Hr),O(r,V(Gr(g||"")))),i&&(O(r,Hr),O(r,V(Gr(i)))),se(r,rp)}o.splice(0,a);var c=e.completedBoundaries;for(a=0;a<c.length;a++)mi(e,t,c[a]);c.splice(0,a),Va(t),Fe=new Uint8Array(512),Le=0;var d=e.partialBoundaries;for(a=0;a<d.length;a++){var h=d[a];e:{o=e,s=t;var m=h.completedSegments;for(u=0;u<m.length;u++)if(!Js(o,s,h,m[u])){u++,m.splice(0,u);var y=!1;break e}m.splice(0,u),y=!0}if(!y){e.destination=null,a++,d.splice(0,a);return}}d.splice(0,a);var v=e.completedBoundaries;for(a=0;a<v.length;a++)mi(e,t,v[a]);v.splice(0,a)}finally{Va(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function gi(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Ys(r,e,t)}),n.clear(),e.destination!==null&&qo(e,e.destination)}catch(r){_n(e,r),cr(e,r)}}Fo.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,a,s=new Promise(function(g,i){a=g,o=i}),u=xp(e,ef(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),tf(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var g=new ReadableStream({type:"bytes",pull:function(i){if(u.status===1)u.status=2,js(i,u.fatalError);else if(u.status!==2&&u.destination===null){u.destination=i;try{qo(u,i)}catch(c){_n(u,c),cr(u,c)}}},cancel:function(){gi(u)}},{highWaterMark:0});g.allReady=s,n(g)},function(g){s.catch(function(){}),r(g)},o);if(t&&t.signal){var f=t.signal,p=function(){gi(u,f.reason),f.removeEventListener("abort",p)};f.addEventListener("abort",p)}Ks(u)})};Fo.version="18.3.1";var Jt,Qs;Jt=Kt,Qs=Fo;$t.version=Jt.version;$t.renderToString=Jt.renderToString;$t.renderToStaticMarkup=Jt.renderToStaticMarkup;$t.renderToNodeStream=Jt.renderToNodeStream;$t.renderToStaticNodeStream=Jt.renderToStaticNodeStream;$t.renderToReadableStream=Qs.renderToReadableStream;const vi=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Vous pouvez utiliser cette lib pour construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"}],yi=[{name:"TypeScript",image:"ts.png"},{name:"React",image:"react.webp"},{name:"Tailwind CSS",image:"tailwind.png"},{name:"NodeJS",image:"node.png"},{name:"Vercel",image:"vercel.png"},{name:"Next.js",image:"nextjs.webp"},{name:"PostgreSQL",image:"pgsql.png"},{name:"Docker",image:"docker.webp"},{name:"PixiJS",image:"pixi.png"},{name:"Three.js",image:"three.png"},{name:"Gulp",image:"gulp.webp"},{name:"Knex",image:"knex.png"},{name:"Git",image:"git.png"},{name:"Processing",image:"processing.webp"},{name:"p5.js",image:"p5.png"},{name:"Strapi",image:"strapi.png"},{name:"Windows",image:"windows.png"},{name:"MacOS",image:"macos.png"},{name:"Linux",image:"linux.png"},{name:"Jetbrains",image:"jetbrains.webp"},{name:"Ruby",image:"ruby.png"}];function pn(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),C.createElement("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),C.createElement("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),C.createElement("line",{x1:"3",x2:"21",y1:"10",y2:"10"}),C.createElement("path",{d:"M8 14h.01"}),C.createElement("path",{d:"M12 14h.01"}),C.createElement("path",{d:"M16 14h.01"}),C.createElement("path",{d:"M8 18h.01"}),C.createElement("path",{d:"M12 18h.01"}),C.createElement("path",{d:"M16 18h.01"})))}function Mn(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm74.77 217.3-114.45 69.14a10.78 10.78 0 0 1-16.32-9.31V186.87a10.78 10.78 0 0 1 16.32-9.31l114.45 69.14a10.89 10.89 0 0 1 0 18.6z"})))}const el={daily:{name:"Tous les @days",icon:pn,colors:"bg-day"},weekly:{name:"Toutes les fins de @sprint",icon:pn,colors:"bg-upgrade"},onPlay:{name:"À chaque carte jouée",icon:Mn},onDraw:{name:"À chaque pioche",icon:Mn},onEmptyHand:{name:"Quand ta main est vide",icon:Mn},onReputationDeclines:{name:"Quand la @reputation diminue",icon:Mn,colors:"bg-reputation"}},tl=e=>{const t=el[e.eventName];return l.jsxs("div",{className:P("flex items-center gap-1",e.className),children:[l.jsx(t.icon,{className:"w-6 h-6"}),l.jsx("span",{className:"font-zain",dangerouslySetInnerHTML:{__html:we(t.name)}})]})},xi=un.filter(e=>e.type==="support"),wi=un.filter(e=>e.type==="action"),_p=yi.map((e,t)=>{const n=ol(t,0,yi.length,0,xi.length,!0),r=xi[Math.floor(n)];return{...e,type:"support",image:`images/techno/${e.image}`,state:"idle",effect:{...r,description:we(r.description)}}}),bp=vi.map((e,t)=>{const n=ol(t,0,vi.length,0,wi.length,!0),r=wi[Math.floor(n)];return{...e,type:"action",image:`images/projects/${e.image}`,state:"idle",effect:{...r,description:we(r.description)}}}),Sp=vn.map(e=>({type:"action",name:e.name,image:`images/upgrades/${e.image}`,state:"idle",effect:{index:-1,upgrade:!0,ephemeral:e.max===1,description:`${we(`@upgrade <br/> ${rl(e.description,1)}`)} <br/> ${$t.renderToString(C.createElement(tl,{eventName:e.eventName,className:"mx-auto w-fit mt-2"})).replace(/"/g,"'")}`,onPlayed:async t=>await t.upgrade(e.name),type:"action",cost:e.cost,waitBeforePlay:!1}})),Wt=[..._p,...bp,...Sp];function Wr(e,t){const n=Wt.filter(r=>{var o,a;return(e.draw.length===0||e.draw.every(s=>s.name!==r.name))&&(e.discard.length===0||e.discard.every(s=>s.name!==r.name))&&(e.hand.length===0||e.hand.every(s=>s.name!==r.name))&&(!(t!=null&&t.exclude)||((o=t==null?void 0:t.exclude)==null?void 0:o.every(s=>s.name!==r.name)))&&(!(t!=null&&t.filter)||((a=t==null?void 0:t.filter)==null?void 0:a.call(t,r,e)))});return n.length===0?[]:_t(n,3).slice(0,e.choiceOptionCount).map(r=>({...r,state:"drawing"}))}function nl(e,t){return e.energy>=t?"bg-energy":e.energy>0?["bg-energy","bg-reputation"]:"bg-reputation"}function hn(e){return e.reputation===0?"reputation":e.draw.length===0&&e.hand.length===0?"mill":e.hand.every(t=>t.effect.condition&&!t.effect.condition(e,t)?!0:!bn(e,t,[]).canBeBuy)&&(e.reputation+e.energy<Gt||e.hand.length>=ot||e.draw.length===0)?"soft-lock":!1}function vo(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function Cp(e,t){const n=e.upgrades.length,r=Hu[typeof t.effect.cost][n]??1/0;return(typeof t.effect.cost=="string"?String:Number)(Math.min(Number(r),Number(t.effect.cost)))}function kp(e){return JSON.parse(JSON.stringify(e,(t,n)=>typeof n=="function"?void 0:n))}function Ep(e,t,n){const r=kp(t);return e.cardModifiers.slice().reduce((a,s)=>{const u=JSON.stringify(s);if(n.includes(u))return a;n.push(u);const f=al(s);return!f.condition||f.condition(a.card,e)?{card:f.use(a.card,e),appliedModifiers:[...a.appliedModifiers,s]}:a},{card:r,appliedModifiers:[]})}function bn(e,t,n){const{card:r,appliedModifiers:o}=Ep(e,t,n),a=typeof r.effect.cost=="number"?"energy":"money",s=Number(r.effect.cost),u=a==="money"?e[a]>=s:e[a]+e.reputation>=s;return{needs:a,cost:s,canBeBuy:u,appliedModifiers:o}}function Pp(e,t){if(t.effect.ephemeral)return!0;if(t.effect.upgrade){const n=vn.find(r=>r.name===t.name);if(n.max){if(n.max===1)return!0;const r=e.upgrades.find(o=>o.name===t.name);return r&&r.cumul>=r.max-1}}return!1}function we(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(Xt)).replace(/MAX_HAND_SIZE/g,String(ot)).replace(/@action([^\s.:,)]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,)]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,)]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@sprint([^\s.:,)]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Sprint$1</span>').replace(/@support([^\s.:,)]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,)]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/@day([^\s.:,)]*)/g,'<span style="color: hsl(var(--day)); transform: translateZ(5px); font-weight: bold;">Jour$1</span>').replace(/((?:[\de+.]+|<span[^>]*>[\de+.]+<\/span>)M\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function rl(e,t){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${t}</span>`).replace(/@s/g,t>1?"s":"")}async function he(e=500){return new Promise(t=>setTimeout(t,e))}function _t(e,t=1){for(let n=0;n<t;n++)e.sort(()=>Math.random()-.5);return e}function ol(e,t,n,r,o,a=!1){const s=(e-t)/(n-t)*(o-r)+r;return a?r<o?Math.max(Math.min(s,o),r):Math.max(Math.min(s,r),o):s}function Vr(e){return e.type==="action"}function al(e){return dd[e[0]](...e[1])}function Ap(e){return JSON.parse(e,(t,n)=>{if(typeof n=="object")switch(t){case"discard":case"draw":case"hand":return n.map(r=>{var o,a,s;return{...r,state:"idle",effect:{...r.effect,template:(o=un[r.effect.index])==null?void 0:o.template,onPlayed:r.effect.upgrade?async u=>await u.upgrade(r.name):(a=un[r.effect.index])==null?void 0:a.onPlayed,condition:(s=un[r.effect.index])==null?void 0:s.condition}}});case"upgrades":return n.map(r=>{var o,a;return{...r,state:"idle",onTrigger:(o=vn.find(s=>s.name===r.name))==null?void 0:o.onTrigger,condition:(a=vn.find(s=>s.name===r.name))==null?void 0:a.condition}});case"operationInProgress":return[]}return t==="isOperationInProgress"?!1:n})}const qe={backgroundColor:"hsl(var(--card))",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 4rem 0 rgba(255,255,255, 0.3)"},Tp=[{id:"_welcome",render:({next:e,finish:t})=>l.jsxs(Ue,{style:qe,location:"center",children:[l.jsx("h2",{children:"Bienvenue sur mon jeu de cartes !"}),l.jsxs("p",{children:["Je vais te guider rapidement à travers les bases du jeu. ",l.jsx("br",{}),"J'espère qu'il te plaira !"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Quitter le tutoriel"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"C'est parti !"})]}),l.jsx("img",{src:"images/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})},{id:"#energy",render:({next:e,back:t})=>l.jsx(l.Fragment,{children:l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"L'énergie"}),l.jsxs("p",{children:["L'énergie est la ressource principale du jeu. ",l.jsx("br",{}),"Elle te permet de jouer des cartes."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#reputation",render:({next:e,back:t})=>l.jsx(l.Fragment,{children:l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"La réputation"}),l.jsx("p",{children:"Cette jauge est importante !"}),l.jsxs("p",{children:["Elle te permet d'utiliser des cartes lorsque tu n'as plus assez d'énergie. ",l.jsx("br",{}),"Cependant, si cette gauge est vide, tu perds la partie."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#day",render:({next:e,back:t})=>l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"La journée"}),l.jsxs("p",{children:["La journée avance à chaque carte jouée. ",l.jsx("br",{}),"Certains évènement se déclencheront à la fin de la journée."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#sprint",render:({next:e,back:t})=>l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"Le sprint"}),l.jsx("p",{children:"Le sprint est un cycle de 7 jours."}),l.jsxs("p",{children:["À la fin de chaque sprint, tu pourras choisir ",l.jsx("br",{})," une amélioration à ajouter à ton deck."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#deck",render:({next:e,back:t})=>l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"Le deck, la pioche et la défausse"}),l.jsxs("p",{children:["Comme dans la plupart des jeux de carte, ton deck représente ",l.jsx("br",{}),"toutes les cartes que tu possèdes."]}),l.jsxs("p",{children:["Ta pioche est la pile de cartes que tu vas piocher, et la défausse"," ",l.jsx("br",{}),"est la pile de cartes que tu as déjà jouées."]}),l.jsx("p",{children:"Ici, tu peux voir la composition de chaque pile de façon triée."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#money",render:({next:e,back:t})=>l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"L'argent"}),l.jsxs("p",{children:["L'argent est une ressource secondaire. ",l.jsx("br",{}),"Il te permet d'acheter des cartes au marché ou ",l.jsx("br",{}),"de jouer des cartes."]}),l.jsxs("p",{children:["Si tu atteins les"," ",l.jsx("span",{dangerouslySetInnerHTML:{__html:we(`${Xt}M$`)}}),", tu gagnes la partie."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#corner-icons",render:({next:e,back:t})=>l.jsxs(Ue,{location:"left",style:qe,highlight:!0,children:[l.jsx("h2",{children:"Les paramètres"}),l.jsxs("p",{children:["En haut à droite, tu peux accéder aux paramètres du jeu. ",l.jsx("br",{}),"Tu pourras y arrêter la musique, y régler la qualité graphique, ",l.jsx("br",{}),"y consulter les taux de conversion et les règles du jeu ",l.jsx("br",{}),"ou encore y ajuster le niveau de difficulté."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#hand",render:({next:e,back:t})=>l.jsxs(Ue,{location:"top",style:qe,highlight:!0,children:[l.jsx("h2",{children:"La main"}),l.jsxs("p",{children:["Ta main est l'ensemble des cartes que tu peux jouer. ",l.jsx("br",{}),"Tu peux en jouer tant que tu as les ressources nécessaires."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#upgrades",render:({next:e,back:t})=>l.jsxs(Ue,{location:"bottom",style:qe,highlight:!0,children:[l.jsx("h2",{children:"Les améliorations"}),l.jsxs("p",{children:["Sur le haut de l'écran, tu verras apparaitre des améliorations ",l.jsx("br",{}),"lorsque tu les débloqueras. Elles s'activeront automatiquement ",l.jsx("br",{}),"en fonction de certaines conditions."]}),l.jsx("img",{src:"images/upgrades.png",alt:"upgrades"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#logs",render:({next:e,back:t})=>l.jsxs(Ue,{location:"right",style:qe,highlight:!0,children:[l.jsx("h2",{children:"Les logs"}),l.jsxs("p",{children:["Ici, tu pourras voir les effets des cartes que tu as jouées. ",l.jsx("br",{}),"Les logs sont triés par ordre chronologique."]}),l.jsx("img",{src:"images/logs.png",alt:"logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:t,children:"Retour"}),l.jsx(X,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})}];function jp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),C.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),C.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function Np(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),C.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),C.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function Mp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"})))}function il(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function sl(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const Rp=e=>{const t=Ge(f=>()=>f.setTutorial(!0)),[n,r]=ye(f=>[f.animations,f.transparency]),{toggleRules:o,toggleSettings:a,toggleMuted:s,muted:u}=Ge(f=>({toggleSettings:f.toggleSettings,toggleMuted:f.toggleMusicMuted,toggleRules:f.toggleRules,muted:f.musicMuted}));return l.jsxs("div",{id:"corner-icons",className:P("absolute flex top-4 right-4 z-50 gap-2","translate-x-full pointer-events-none",{hidden:!r,"opacity-0":r,"transition-all duration-500 ease-in-out":n,"translate-x-0 opacity-100":e.show}),children:[l.jsx(X,{onClick:o,variant:"icon",size:"icon",className:"pointer-events-auto",children:l.jsx(Mp,{})}),l.jsx(X,{onClick:t,variant:"icon",size:"icon",className:"pointer-events-auto",children:l.jsx(sl,{})}),l.jsx(X,{onClick:a,variant:"icon",size:"icon",className:"pointer-events-auto",children:l.jsx(il,{})}),l.jsx(X,{onClick:s,variant:"icon",size:"icon",className:"pointer-events-auto",children:u?l.jsx(Np,{}):l.jsx(jp,{})}),l.jsx("div",{className:"w-10 h-10 "})]})},Op={"bg-energy":"text-energy-foreground","bg-reputation":"text-reputation-foreground","bg-day":"text-day-foreground","bg-upgrade":"text-upgrade-foreground","bg-action":"text-action-foreground","bg-support":"text-support-foreground","bg-background":"text-foreground"},Yt=({isCost:e,miniature:t,colors:n,value:r,symbol:o,...a})=>{const s=ye(({perspective:u,shadows:f})=>({perspective:u,shadows:f}));return e&&r===0?null:l.jsxs("div",{...a,className:P("relative aspect-square rounded-full text-changa",typeof n=="string"?n:n[0],{"w-8 h-8 text-sm":t,"w-10 h-10":!t,"shadow shadow-black":s.shadows},a.className),style:{transformStyle:s.perspective?"preserve-3d":"flat",transform:s.perspective?"translateZ(5px)":"",...a.style},children:[Array.isArray(n)&&l.jsx("div",{className:P("absolute w-1/2 h-full origin-right rotate-[-22.5deg] rounded-l-full",n[1])}),l.jsxs("div",{className:P("absolute top-1/2 left-1/2 font-changa",Op[typeof n=="string"?n:n[0]]),style:{transform:`translate(-50%, -50%) ${s.perspective?"translateZ(5px)":""}`},children:[t&&o&&typeof r=="number"&&r>0?"+":"",r]})]})};var ke={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var i=this||n;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var c=this||n;if(i=parseFloat(i),c.ctx||g(),typeof i<"u"&&i>=0&&i<=1){if(c._volume=i,c._muted)return c;c.usingWebAudio&&c.masterGain.gain.setValueAtTime(i,n.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var h=c._howls[d]._getSoundIds(),m=0;m<h.length;m++){var y=c._howls[d]._soundById(h[m]);y&&y._node&&(y._node.volume=y._volume*i)}return c}return c._volume},mute:function(i){var c=this||n;c.ctx||g(),c._muted=i,c.usingWebAudio&&c.masterGain.gain.setValueAtTime(i?0:c._volume,n.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var h=c._howls[d]._getSoundIds(),m=0;m<h.length;m++){var y=c._howls[d]._soundById(h[m]);y&&y._node&&(y._node.muted=i?!0:y._muted)}return c},stop:function(){for(var i=this||n,c=0;c<i._howls.length;c++)i._howls[c].stop();return i},unload:function(){for(var i=this||n,c=i._howls.length-1;c>=0;c--)i._howls[c].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,g()),i},codecs:function(i){return(this||n)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||n;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var c=new Audio;typeof c.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var c=new Audio;c.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||n,c=null;try{c=typeof Audio<"u"?new Audio:null}catch{return i}if(!c||typeof c.canPlayType!="function")return i;var d=c.canPlayType("audio/mpeg;").replace(/^no$/,""),h=i._navigator?i._navigator.userAgent:"",m=h.match(/OPR\/(\d+)/g),y=m&&parseInt(m[0].split("/")[1],10)<33,v=h.indexOf("Safari")!==-1&&h.indexOf("Chrome")===-1,_=h.match(/Version\/(.*?) /),S=v&&_&&parseInt(_[1],10)<15;return i._codecs={mp3:!!(!y&&(d||c.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(c.canPlayType('audio/wav; codecs="1"')||c.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(c.canPlayType("audio/x-m4b;")||c.canPlayType("audio/m4b;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||n;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var c=function(d){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var h=new Audio;h._unlocked=!0,i._releaseHtml5Audio(h)}catch{i.noAudio=!0;break}for(var m=0;m<i._howls.length;m++)if(!i._howls[m]._webAudio)for(var y=i._howls[m]._getSoundIds(),v=0;v<y.length;v++){var _=i._howls[m]._soundById(y[v]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}i._autoResume();var S=i.ctx.createBufferSource();S.buffer=i._scratchBuffer,S.connect(i.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),S.onended=function(){S.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",c,!0),document.removeEventListener("click",c,!0),document.removeEventListener("keydown",c,!0);for(var E=0;E<i._howls.length;E++)i._howls[E]._emit("unlock")}};return document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("click",c,!0),document.addEventListener("keydown",c,!0),i}},_obtainHtml5Audio:function(){var i=this||n;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var c=new Audio().play();return c&&typeof Promise<"u"&&(c instanceof Promise||typeof c.then=="function")&&c.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var c=this||n;return i._unlocked&&c._html5AudioPool.push(i),c},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!n.usingWebAudio)){for(var c=0;c<i._howls.length;c++)if(i._howls[c]._webAudio){for(var d=0;d<i._howls[c]._sounds.length;d++)if(!i._howls[c]._sounds[d]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var h=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(h,h)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!n.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var c=0;c<i._howls.length;c++)i._howls[c]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var n=new t,r=function(i){var c=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}c.init(i)};r.prototype={init:function(i){var c=this;return n.ctx||g(),c._autoplay=i.autoplay||!1,c._format=typeof i.format!="string"?i.format:[i.format],c._html5=i.html5||!1,c._muted=i.mute||!1,c._loop=i.loop||!1,c._pool=i.pool||5,c._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,c._rate=i.rate||1,c._sprite=i.sprite||{},c._src=typeof i.src!="string"?i.src:[i.src],c._volume=i.volume!==void 0?i.volume:1,c._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._playLock=!1,c._onend=i.onend?[{fn:i.onend}]:[],c._onfade=i.onfade?[{fn:i.onfade}]:[],c._onload=i.onload?[{fn:i.onload}]:[],c._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],c._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],c._onpause=i.onpause?[{fn:i.onpause}]:[],c._onplay=i.onplay?[{fn:i.onplay}]:[],c._onstop=i.onstop?[{fn:i.onstop}]:[],c._onmute=i.onmute?[{fn:i.onmute}]:[],c._onvolume=i.onvolume?[{fn:i.onvolume}]:[],c._onrate=i.onrate?[{fn:i.onrate}]:[],c._onseek=i.onseek?[{fn:i.onseek}]:[],c._onunlock=i.onunlock?[{fn:i.onunlock}]:[],c._onresume=[],c._webAudio=n.usingWebAudio&&!c._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(c),c._autoplay&&c._queue.push({event:"play",action:function(){c.play()}}),c._preload&&c._preload!=="none"&&c.load(),c},load:function(){var i=this,c=null;if(n.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var d=0;d<i._src.length;d++){var h,m;if(i._format&&i._format[d])h=i._format[d];else{if(m=i._src[d],typeof m!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}h=/^data:audio\/([^;,]+);/i.exec(m),h||(h=/\.([^.]+)$/.exec(m.split("?",1)[0])),h&&(h=h[1].toLowerCase())}if(h||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),h&&n.codecs(h)){c=i._src[d];break}}if(!c){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=c,i._state="loading",window.location.protocol==="https:"&&c.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new o(i),i._webAudio&&s(i),i},play:function(i,c){var d=this,h=null;if(typeof i=="number")h=i,i=null;else{if(typeof i=="string"&&d._state==="loaded"&&!d._sprite[i])return null;if(typeof i>"u"&&(i="__default",!d._playLock)){for(var m=0,y=0;y<d._sounds.length;y++)d._sounds[y]._paused&&!d._sounds[y]._ended&&(m++,h=d._sounds[y]._id);m===1?i=null:h=null}}var v=h?d._soundById(h):d._inactiveSound();if(!v)return null;if(h&&!i&&(i=v._sprite||"__default"),d._state!=="loaded"){v._sprite=i,v._ended=!1;var _=v._id;return d._queue.push({event:"play",action:function(){d.play(_)}}),_}if(h&&!v._paused)return c||d._loadQueue("play"),v._id;d._webAudio&&n._autoResume();var S=Math.max(0,v._seek>0?v._seek:d._sprite[i][0]/1e3),E=Math.max(0,(d._sprite[i][0]+d._sprite[i][1])/1e3-S),A=E*1e3/Math.abs(v._rate),M=d._sprite[i][0]/1e3,R=(d._sprite[i][0]+d._sprite[i][1])/1e3;v._sprite=i,v._ended=!1;var N=function(){v._paused=!1,v._seek=S,v._start=M,v._stop=R,v._loop=!!(v._loop||d._sprite[i][2])};if(S>=R){d._ended(v);return}var j=v._node;if(d._webAudio){var U=function(){d._playLock=!1,N(),d._refreshBuffer(v);var Z=v._muted||d._muted?0:v._volume;j.gain.setValueAtTime(Z,n.ctx.currentTime),v._playStart=n.ctx.currentTime,typeof j.bufferSource.start>"u"?v._loop?j.bufferSource.noteGrainOn(0,S,86400):j.bufferSource.noteGrainOn(0,S,E):v._loop?j.bufferSource.start(0,S,86400):j.bufferSource.start(0,S,E),A!==1/0&&(d._endTimers[v._id]=setTimeout(d._ended.bind(d,v),A)),c||setTimeout(function(){d._emit("play",v._id),d._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?U():(d._playLock=!0,d.once("resume",U),d._clearTimer(v._id))}else{var J=function(){j.currentTime=S,j.muted=v._muted||d._muted||n._muted||j.muted,j.volume=v._volume*n.volume(),j.playbackRate=v._rate;try{var Z=j.play();if(Z&&typeof Promise<"u"&&(Z instanceof Promise||typeof Z.then=="function")?(d._playLock=!0,N(),Z.then(function(){d._playLock=!1,j._unlocked=!0,c?d._loadQueue():d._emit("play",v._id)}).catch(function(){d._playLock=!1,d._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):c||(d._playLock=!1,N(),d._emit("play",v._id)),j.playbackRate=v._rate,j.paused){d._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||v._loop?d._endTimers[v._id]=setTimeout(d._ended.bind(d,v),A):(d._endTimers[v._id]=function(){d._ended(v),j.removeEventListener("ended",d._endTimers[v._id],!1)},j.addEventListener("ended",d._endTimers[v._id],!1))}catch(Y){d._emit("playerror",v._id,Y)}};j.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(j.src=d._src,j.load());var fe=window&&window.ejecta||!j.readyState&&n._navigator.isCocoonJS;if(j.readyState>=3||fe)J();else{d._playLock=!0,d._state="loading";var le=function(){d._state="loaded",J(),j.removeEventListener(n._canPlayEvent,le,!1)};j.addEventListener(n._canPlayEvent,le,!1),d._clearTimer(v._id)}}return v._id},pause:function(i){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"pause",action:function(){c.pause(i)}}),c;for(var d=c._getSoundIds(i),h=0;h<d.length;h++){c._clearTimer(d[h]);var m=c._soundById(d[h]);if(m&&!m._paused&&(m._seek=c.seek(d[h]),m._rateSeek=0,m._paused=!0,c._stopFade(d[h]),m._node))if(c._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),c._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||c._emit("pause",m?m._id:null)}return c},stop:function(i,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(i)}}),d;for(var h=d._getSoundIds(i),m=0;m<h.length;m++){d._clearTimer(h[m]);var y=d._soundById(h[m]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,d._stopFade(h[m]),y._node&&(d._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),d._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&d._clearSound(y._node))),c||d._emit("stop",y._id))}return d},mute:function(i,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(i,c)}}),d;if(typeof c>"u")if(typeof i=="boolean")d._muted=i;else return d._muted;for(var h=d._getSoundIds(c),m=0;m<h.length;m++){var y=d._soundById(h[m]);y&&(y._muted=i,y._interval&&d._stopFade(y._id),d._webAudio&&y._node?y._node.gain.setValueAtTime(i?0:y._volume,n.ctx.currentTime):y._node&&(y._node.muted=n._muted?!0:i),d._emit("mute",y._id))}return d},volume:function(){var i=this,c=arguments,d,h;if(c.length===0)return i._volume;if(c.length===1||c.length===2&&typeof c[1]>"u"){var m=i._getSoundIds(),y=m.indexOf(c[0]);y>=0?h=parseInt(c[0],10):d=parseFloat(c[0])}else c.length>=2&&(d=parseFloat(c[0]),h=parseInt(c[1],10));var v;if(typeof d<"u"&&d>=0&&d<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,c)}}),i;typeof h>"u"&&(i._volume=d),h=i._getSoundIds(h);for(var _=0;_<h.length;_++)v=i._soundById(h[_]),v&&(v._volume=d,c[2]||i._stopFade(h[_]),i._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(d,n.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=d*n.volume()),i._emit("volume",v._id))}else return v=h?i._soundById(h):i._sounds[0],v?v._volume:0;return i},fade:function(i,c,d,h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(i,c,d,h)}}),m;i=Math.min(Math.max(0,parseFloat(i)),1),c=Math.min(Math.max(0,parseFloat(c)),1),d=parseFloat(d),m.volume(i,h);for(var y=m._getSoundIds(h),v=0;v<y.length;v++){var _=m._soundById(y[v]);if(_){if(h||m._stopFade(y[v]),m._webAudio&&!_._muted){var S=n.ctx.currentTime,E=S+d/1e3;_._volume=i,_._node.gain.setValueAtTime(i,S),_._node.gain.linearRampToValueAtTime(c,E)}m._startFadeInterval(_,i,c,d,y[v],typeof h>"u")}}return m},_startFadeInterval:function(i,c,d,h,m,y){var v=this,_=c,S=d-c,E=Math.abs(S/.01),A=Math.max(4,E>0?h/E:h),M=Date.now();i._fadeTo=d,i._interval=setInterval(function(){var R=(Date.now()-M)/h;M=Date.now(),_+=S*R,_=Math.round(_*100)/100,S<0?_=Math.max(d,_):_=Math.min(d,_),v._webAudio?i._volume=_:v.volume(_,i._id,!0),y&&(v._volume=_),(d<c&&_<=d||d>c&&_>=d)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,v.volume(d,i._id),v._emit("fade",i._id))},A)},_stopFade:function(i){var c=this,d=c._soundById(i);return d&&d._interval&&(c._webAudio&&d._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(d._interval),d._interval=null,c.volume(d._fadeTo,i),d._fadeTo=null,c._emit("fade",i)),c},loop:function(){var i=this,c=arguments,d,h,m;if(c.length===0)return i._loop;if(c.length===1)if(typeof c[0]=="boolean")d=c[0],i._loop=d;else return m=i._soundById(parseInt(c[0],10)),m?m._loop:!1;else c.length===2&&(d=c[0],h=parseInt(c[1],10));for(var y=i._getSoundIds(h),v=0;v<y.length;v++)m=i._soundById(y[v]),m&&(m._loop=d,i._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=d,d&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,i.playing(y[v])&&(i.pause(y[v],!0),i.play(y[v],!0)))));return i},rate:function(){var i=this,c=arguments,d,h;if(c.length===0)h=i._sounds[0]._id;else if(c.length===1){var m=i._getSoundIds(),y=m.indexOf(c[0]);y>=0?h=parseInt(c[0],10):d=parseFloat(c[0])}else c.length===2&&(d=parseFloat(c[0]),h=parseInt(c[1],10));var v;if(typeof d=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,c)}}),i;typeof h>"u"&&(i._rate=d),h=i._getSoundIds(h);for(var _=0;_<h.length;_++)if(v=i._soundById(h[_]),v){i.playing(h[_])&&(v._rateSeek=i.seek(h[_]),v._playStart=i._webAudio?n.ctx.currentTime:v._playStart),v._rate=d,i._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(d,n.ctx.currentTime):v._node&&(v._node.playbackRate=d);var S=i.seek(h[_]),E=(i._sprite[v._sprite][0]+i._sprite[v._sprite][1])/1e3-S,A=E*1e3/Math.abs(v._rate);(i._endTimers[h[_]]||!v._paused)&&(i._clearTimer(h[_]),i._endTimers[h[_]]=setTimeout(i._ended.bind(i,v),A)),i._emit("rate",v._id)}}else return v=i._soundById(h),v?v._rate:i._rate;return i},seek:function(){var i=this,c=arguments,d,h;if(c.length===0)i._sounds.length&&(h=i._sounds[0]._id);else if(c.length===1){var m=i._getSoundIds(),y=m.indexOf(c[0]);y>=0?h=parseInt(c[0],10):i._sounds.length&&(h=i._sounds[0]._id,d=parseFloat(c[0]))}else c.length===2&&(d=parseFloat(c[0]),h=parseInt(c[1],10));if(typeof h>"u")return 0;if(typeof d=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,c)}}),i;var v=i._soundById(h);if(v)if(typeof d=="number"&&d>=0){var _=i.playing(h);_&&i.pause(h,!0),v._seek=d,v._ended=!1,i._clearTimer(h),!i._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=d);var S=function(){_&&i.play(h,!0),i._emit("seek",h)};if(_&&!i._webAudio){var E=function(){i._playLock?setTimeout(E,0):S()};setTimeout(E,0)}else S()}else if(i._webAudio){var A=i.playing(h)?n.ctx.currentTime-v._playStart:0,M=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(M+A*Math.abs(v._rate))}else return v._node.currentTime;return i},playing:function(i){var c=this;if(typeof i=="number"){var d=c._soundById(i);return d?!d._paused:!1}for(var h=0;h<c._sounds.length;h++)if(!c._sounds[h]._paused)return!0;return!1},duration:function(i){var c=this,d=c._duration,h=c._soundById(i);return h&&(d=c._sprite[h._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var i=this,c=i._sounds,d=0;d<c.length;d++)c[d]._paused||i.stop(c[d]._id),i._webAudio||(i._clearSound(c[d]._node),c[d]._node.removeEventListener("error",c[d]._errorFn,!1),c[d]._node.removeEventListener(n._canPlayEvent,c[d]._loadFn,!1),c[d]._node.removeEventListener("ended",c[d]._endFn,!1),n._releaseHtml5Audio(c[d]._node)),delete c[d]._node,i._clearTimer(c[d]._id);var h=n._howls.indexOf(i);h>=0&&n._howls.splice(h,1);var m=!0;for(d=0;d<n._howls.length;d++)if(n._howls[d]._src===i._src||i._src.indexOf(n._howls[d]._src)>=0){m=!1;break}return a&&m&&delete a[i._src],n.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,c,d,h){var m=this,y=m["_on"+i];return typeof c=="function"&&y.push(h?{id:d,fn:c,once:h}:{id:d,fn:c}),m},off:function(i,c,d){var h=this,m=h["_on"+i],y=0;if(typeof c=="number"&&(d=c,c=null),c||d)for(y=0;y<m.length;y++){var v=d===m[y].id;if(c===m[y].fn&&v||!c&&v){m.splice(y,1);break}}else if(i)h["_on"+i]=[];else{var _=Object.keys(h);for(y=0;y<_.length;y++)_[y].indexOf("_on")===0&&Array.isArray(h[_[y]])&&(h[_[y]]=[])}return h},once:function(i,c,d){var h=this;return h.on(i,c,d,1),h},_emit:function(i,c,d){for(var h=this,m=h["_on"+i],y=m.length-1;y>=0;y--)(!m[y].id||m[y].id===c||i==="load")&&(setTimeout((function(v){v.call(this,c,d)}).bind(h,m[y].fn),0),m[y].once&&h.off(i,m[y].fn,m[y].id));return h._loadQueue(i),h},_loadQueue:function(i){var c=this;if(c._queue.length>0){var d=c._queue[0];d.event===i&&(c._queue.shift(),c._loadQueue()),i||d.action()}return c},_ended:function(i){var c=this,d=i._sprite;if(!c._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(c._ended.bind(c,i),100),c;var h=!!(i._loop||c._sprite[d][2]);if(c._emit("end",i._id),!c._webAudio&&h&&c.stop(i._id,!0).play(i._id),c._webAudio&&h){c._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=n.ctx.currentTime;var m=(i._stop-i._start)*1e3/Math.abs(i._rate);c._endTimers[i._id]=setTimeout(c._ended.bind(c,i),m)}return c._webAudio&&!h&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,c._clearTimer(i._id),c._cleanBuffer(i._node),n._autoSuspend()),!c._webAudio&&!h&&c.stop(i._id,!0),c},_clearTimer:function(i){var c=this;if(c._endTimers[i]){if(typeof c._endTimers[i]!="function")clearTimeout(c._endTimers[i]);else{var d=c._soundById(i);d&&d._node&&d._node.removeEventListener("ended",c._endTimers[i],!1)}delete c._endTimers[i]}return c},_soundById:function(i){for(var c=this,d=0;d<c._sounds.length;d++)if(i===c._sounds[d]._id)return c._sounds[d];return null},_inactiveSound:function(){var i=this;i._drain();for(var c=0;c<i._sounds.length;c++)if(i._sounds[c]._ended)return i._sounds[c].reset();return new o(i)},_drain:function(){var i=this,c=i._pool,d=0,h=0;if(!(i._sounds.length<c)){for(h=0;h<i._sounds.length;h++)i._sounds[h]._ended&&d++;for(h=i._sounds.length-1;h>=0;h--){if(d<=c)return;i._sounds[h]._ended&&(i._webAudio&&i._sounds[h]._node&&i._sounds[h]._node.disconnect(0),i._sounds.splice(h,1),d--)}}},_getSoundIds:function(i){var c=this;if(typeof i>"u"){for(var d=[],h=0;h<c._sounds.length;h++)d.push(c._sounds[h]._id);return d}else return[i]},_refreshBuffer:function(i){var c=this;return i._node.bufferSource=n.ctx.createBufferSource(),i._node.bufferSource.buffer=a[c._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,n.ctx.currentTime),c},_cleanBuffer:function(i){var c=this,d=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!i.bufferSource)return c;if(n._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),d))try{i.bufferSource.buffer=n._scratchBuffer}catch{}return i.bufferSource=null,c},_clearSound:function(i){var c=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);c||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(i){this._parent=i,this.init()};o.prototype={init:function(){var i=this,c=i._parent;return i._muted=c._muted,i._loop=c._loop,i._volume=c._volume,i._rate=c._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,c._sounds.push(i),i.create(),i},create:function(){var i=this,c=i._parent,d=n._muted||i._muted||i._parent._muted?0:i._volume;return c._webAudio?(i._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),i._node.gain.setValueAtTime(d,n.ctx.currentTime),i._node.paused=!0,i._node.connect(n.masterGain)):n.noAudio||(i._node=n._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(n._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=c._src,i._node.preload=c._preload===!0?"auto":c._preload,i._node.volume=d*n.volume(),i._node.load()),i},reset:function(){var i=this,c=i._parent;return i._muted=c._muted,i._loop=c._loop,i._volume=c._volume,i._rate=c._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,c=i._parent;c._duration=Math.ceil(i._node.duration*10)/10,Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue()),i._node.removeEventListener(n._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,c=i._parent;c._duration===1/0&&(c._duration=Math.ceil(i._node.duration*10)/10,c._sprite.__default[1]===1/0&&(c._sprite.__default[1]=c._duration*1e3),c._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var a={},s=function(i){var c=i._src;if(a[c]){i._duration=a[c].duration,p(i);return}if(/^data:[^;]+;base64,/.test(c)){for(var d=atob(c.split(",")[1]),h=new Uint8Array(d.length),m=0;m<d.length;++m)h[m]=d.charCodeAt(m);f(h.buffer,i)}else{var y=new XMLHttpRequest;y.open(i._xhr.method,c,!0),y.withCredentials=i._xhr.withCredentials,y.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(v){y.setRequestHeader(v,i._xhr.headers[v])}),y.onload=function(){var v=(y.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}f(y.response,i)},y.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete a[c],i.load())},u(y)}},u=function(i){try{i.send()}catch{i.onerror()}},f=function(i,c){var d=function(){c._emit("loaderror",null,"Decoding audio data failed.")},h=function(m){m&&c._sounds.length>0?(a[c._src]=m,p(c,m)):d()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(i).then(h).catch(d):n.ctx.decodeAudioData(i,h,d)},p=function(i,c){c&&!i._duration&&(i._duration=c.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),c=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=c?parseInt(c[1],10):null;if(i&&d&&d<9){var h=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!h&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof tn<"u"?(tn.HowlerGlobal=t,tn.Howler=n,tn.Howl=r,tn.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,o=typeof o!="number"?a._pos[2]:o,typeof n=="number")a._pos=[n,r,o],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,r,o,a,s,u){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,a=typeof a!="number"?p[3]:a,s=typeof s!="number"?p[4]:s,u=typeof u!="number"?p[5]:u,typeof n=="number")f._orientation=[n,r,o,a,s,u],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,a,s,u);else return p;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var s=o._getSoundIds(r),u=0;u<s.length;u++){var f=o._soundById(s[u]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,a),a==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,o,a)}}),s;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof a>"u")if(typeof n=="number")s._pos=[n,r,o];else return s._pos;for(var u=s._getSoundIds(a),f=0;f<u.length;f++){var p=s._soundById(u[f]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),s._emit("pos",p._id);else return p._pos}return s},Howl.prototype.orientation=function(n,r,o,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,o,a)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,o=typeof o!="number"?s._orientation[2]:o,typeof a>"u")if(typeof n=="number")s._orientation=[n,r,o];else return s._orientation;for(var u=s._getSoundIds(a),f=0;f<u.length;f++){var p=s._soundById(u[f]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=s._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),s._emit("orientation",p._id);else return p._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,a,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof a>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],a=parseInt(r[1],10));for(var u=n._getSoundIds(a),f=0;f<u.length;f++)if(s=n._soundById(u[f]),s){var p=s._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=s._panner;g||(s._pos||(s._pos=n._pos||[0,0,-.5]),t(s,"spatial"),g=s._panner),g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(ke);const me={unauthorized:new ke.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),play:new ke.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new ke.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new ke.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new ke.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),remove:new ke.Howl({src:["sounds/remove.mp3"],volume:.7,preload:!0}),recycle:new ke.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new ke.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new ke.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new ke.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new ke.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new ke.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new ke.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0}),bell:new ke.Howl({src:["sounds/bell.mp3"],volume:.5,preload:!0})},_i={version:"1.0.15"};function Ip(){const e=localStorage.getItem("card-game-stats");return e?JSON.parse(e):{scoreAverage:0,totalMoney:0,wonGames:0,playedGames:0,discoveries:[],achievements:[]}}function $p(e,t){const n=()=>{const r=t();localStorage.setItem("card-game-stats",JSON.stringify({wonGames:r.wonGames,achievements:r.achievements,playedGames:r.playedGames,discoveries:r.discoveries,scoreAverage:r.scoreAverage,totalMoney:r.totalMoney}))};return{addDiscovery:r=>{e(o=>({discoveries:[...o.discoveries,r]})),n()},addAchievement:r=>{e(o=>({achievements:[...o.achievements,r]})),n()},addWonGame:()=>{const r=t();e({wonGames:r.wonGames+1,scoreAverage:r.scoreAverage+(r.score-r.scoreAverage)/(r.wonGames+1),totalMoney:r.totalMoney+r.money,playedGames:r.playedGames+1}),n()},addPlayedGame:()=>{e(r=>({playedGames:r.playedGames+1})),n()}}}function ll(){const e=localStorage.getItem("card-game-metadata"),t=localStorage.getItem("card-game-difficulty")??"normal",n=localStorage.getItem("card-game");if(n&&JSON.stringify(_i)===e&&Ne.difficulty===t)return Ap(n);localStorage.setItem("card-game-metadata",JSON.stringify(_i)),localStorage.setItem("card-game-difficulty",Ne.difficulty);const r=_t([Wt.find(a=>a.effect.description.startsWith("Renvoie tout")),...Wt.filter(a=>a.effect.description.startsWith("Pioche")).slice(0,4),...Wt.filter(a=>a.effect.description.startsWith("Recycle")),...Wt.filter(a=>!a.effect.upgrade&&a.effect.description.toLowerCase().includes("gagne")&&a.effect.description.toLowerCase().includes("énergie"))],3).map(a=>({...a,state:"drawing"})),o=[];for(let a=0;a<zu;a++)o.push(_t(Wt.filter(s=>o.every(u=>u.every(f=>f.name!==s.name))&&r.every(u=>u.name!==s.name)&&!s.effect.upgrade),5).slice(0,_a).map(s=>({...s,state:"drawing"})));return{choiceOptions:o,choiceOptionCount:_a,logs:[],notification:null,operationInProgress:[],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,draw:r.slice(ot-2),hand:r.slice(0,ot-2),discard:[],upgrades:[],cardModifiers:[["upgrade cost threshold",[]]],day:1,dayFull:!1,sprintFull:!1,energy:gn,reputation:wr,money:0}}function Dp(e,t){return{coinFlip:async n=>{const r=t();r.setOperationInProgress("coinFlip",!0);const o=Math.random()>.5;await Promise.all([await r.addNotification(o?"Face":"Pile","via-background text-foreground"),await n[o?"onHead":"onTail"](r)]),r.setOperationInProgress("coinFlip",!1)},advanceTime:async n=>{const r=f=>parseFloat(f.toFixed(1));if(n<0)return;const o=t();o.setOperationInProgress("advanceTime",!0);const a=r(Math.max(tt,n*tt));if(a<tt)throw new Error("Not enough energy to advance time");let s=Math.floor(o.day);const u=r(o.day+a);for(let f=o.day;r(f)<=r(u);f+=tt)if(s!==Math.floor(f)){s=Math.floor(f);const p=Math.floor(f)%7===0;e({day:r(f),dayFull:!0,sprintFull:p}),p?me.upgrade.play():me.bell.play(),await o.addNotification(p?`Sprint ${Math.floor(f/7)}`:`Jour ${Math.floor(f)}`,p?"via-upgrade text-upgrade-foreground":"via-day text-day-foreground"),await o.triggerEvent("daily"),e(g=>({dayFull:!1,choiceOptions:p?g.choiceOptions:[...g.choiceOptions,Wr(g,{filter:i=>!i.effect.upgrade})]})),p&&(await o.triggerEvent("weekly"),e(g=>({sprintFull:!1,choiceOptions:[...g.choiceOptions,Wr(g,{filter:i=>!i.effect.upgrade&&i.type==="action"}),Wr(g,{filter:i=>!!i.effect.upgrade})]}))),await he(1e3)}e({day:u,dayFull:null,sprintFull:null}),o.setOperationInProgress("advanceTime",!1)},addLog:n=>{e(r=>({logs:[...r.logs,n]}))},addNotification:async(n,r)=>{e({notification:[n,r]}),await he(2e3),e({notification:null})},dangerouslyUpdate:n=>e(n),setOperationInProgress:(n,r)=>{e(o=>({operationInProgress:r?[...o.operationInProgress,n]:o.operationInProgress.filter(a=>a!==n)}))},updateScore:()=>{const n=t(),r=1,o=Po,a=1/G,s=n.energy*r,u=n.reputation*o,f=n.money*a;let p=0;n.upgrades.forEach(m=>{p+=(typeof m.cost=="string"?Number(m.cost)/G:m.cost)*m.cumul});let g=1;n.day<=28?g=2:n.day<=56&&(g=1.5);const i=1+(Wu[Ne.difficulty]-3)*.2,d=(s+u+f+p)*g*i,h=n.money/Xt;e({score:Math.round(d*h*10)})},addEnergy:async(n,r)=>{const o=t();if(o.setOperationInProgress("energy",!0),n>0){const a=Math.min(n,gn-o.energy);a>0&&(me.gain.play(),o.addLog({value:a,type:"energy",reason:r.reason}),await he()),e(s=>({energy:Math.max(0,Math.min(gn,s.energy+n))}))}else if(n<0){const a=t(),s=Math.abs(n)-a.energy,u=Math.min(Math.abs(n),a.energy);u>0&&a.addLog({value:-u,type:"energy",reason:r.reason}),s>0?(e({energy:0}),await a.addReputation(-s,r)):e(f=>({energy:f.energy+n}))}o.setOperationInProgress("energy",!1)},addReputation:async(n,r)=>{const o=t();o.setOperationInProgress("reputation",!0),n===10?me.powerUp.play():n>0?me.gain.play():me.loss.play(),n!==0&&o.addLog({value:n,type:"reputation",reason:r.reason}),e(a=>({reputation:Math.max(0,Math.min(wr,a.reputation+n))})),await he(),n<0&&await o.triggerEvent("onReputationDeclines"),!(r!=null&&r.skipGameOverPause)&&hn(o)&&await he(2e3),o.setOperationInProgress("reputation",!1)},addMoney:async(n,r)=>{let o=t();o.setOperationInProgress("money",!0),n!==0&&o.addLog({value:n,type:"money",reason:r==null?void 0:r.reason}),n>0&&(me.cashing.play(),await he()),e(a=>({money:a.money+n})),o=t(),!(r!=null&&r.skipGameOverPause)&&o.money>=Xt&&await he(2e3),o.setOperationInProgress("money",!1)},upgrade:async n=>{const r=t();r.setOperationInProgress(`upgrade ${n}`,!0);const o=vn.find(a=>a.name===n);me.upgrade.play(),r.upgrades.find(a=>a.name===n)?e(a=>({upgrades:a.upgrades.map(s=>s.name===n?{...s,cumul:s.cumul+1}:s)})):e(a=>({upgrades:[...a.upgrades,{...o,type:"upgrade",state:"appear",cumul:1,max:o.max??1/0}]})),await he(),e(a=>({upgrades:a.upgrades.map(s=>s.name===n?{...s,state:"idle"}:s)})),r.setOperationInProgress(`upgrade ${n}`,!1)},triggerUpgrade:async(n,r)=>{const o=t(),a=o.upgrades.find(s=>s.name===n);(!a.condition||a.condition(t(),a))&&(o.setOperationInProgress(`triggerUpgrade ${n}`,!0),e({upgrades:o.upgrades.map(s=>s.name===a.name?{...s,state:"triggered"}:s)}),await he(),await a.onTrigger(t(),a,(r==null?void 0:r.reason)??a),e(s=>({upgrades:s.upgrades.map(u=>u.name===a.name?{...u,state:"idle"}:u)})),o.setOperationInProgress(`triggerUpgrade ${n}`,!1))},triggerEvent:async n=>{const r=t();r.setOperationInProgress(`triggerUpgradeEvent ${n}`,!0);const o=r.upgrades.filter(a=>a.eventName===n);for(const a of o)await r.triggerUpgrade(a.name,{reason:a});r.setOperationInProgress(`triggerUpgradeEvent ${n}`,!1)},addCardModifier:async(n,r,o)=>{me.powerUp.play();const a=[n,r];e(s=>({cardModifiers:o!=null&&o.before?[a,...s.cardModifiers]:[...s.cardModifiers,a]}))},drawCard:async(n=1,r)=>{let o=t();o.setOperationInProgress("draw",!0);const a=r!=null&&r.fromDiscardPile?"discard":"draw",s=o.hand.slice(),u=o.discard.slice(),f=o[a].slice().filter(c=>r!=null&&r.filter?r.filter(c):!0),p=[];let g=!1,i=!1;for(let c=0;c<n&&f.length!==0;c++){const d=f.pop();d.state="drawing",p.push(d.name),s.length>=ot?(u.push(d),i=!0):(s.push(d),g=!0)}g?me.draw.play():i&&me.drop.play(),e({hand:s,discard:u,[a]:_t(o[a].filter(c=>!p.includes(c.name)),2)}),await he(),e(c=>({hand:c.hand.map(d=>({...d,state:"idle"}))})),await o.triggerEvent("onDraw"),o=t(),!(r!=null&&r.skipGameOverPause)&&hn(o)&&await he(2e3),o.setOperationInProgress("draw",!1)},discardCard:async n=>{const r=n!=null&&n.toDraw?"draw":"discard";me.drop.play();const o=t();o.setOperationInProgress("discard",!0);const a=o.hand.slice().filter(u=>u.state!=="playing"&&(!(n!=null&&n.filter)||n.filter(u))),s=n!=null&&n.random?[a[Math.floor(Math.random()*o.hand.length)]]:a;e({hand:o.hand.map(u=>s.some(f=>f.name===u.name)?{...u,state:"discarding"}:u)}),await he(),e(u=>({[r]:_t([...u.hand.filter(f=>s.some(p=>p.name===f.name)).map(f=>({...f,state:null})),...u[r]],2),hand:u.hand.filter(f=>!s.some(p=>p.name===f.name))})),o.setOperationInProgress("discard",!1)},removeCard:async n=>{const r=t();r.setOperationInProgress(`removeCard ${n}`,!0),r.hand.some(a=>a.name===n)&&(e({hand:r.hand.map(a=>a.name===n?{...a,state:"removing"}:a)}),me.remove.play(),await he(1e3));const o=["discard","draw","hand"];e(a=>({...o.reduce((s,u)=>({...s,[u]:a[u].filter(f=>f.name!==n)}),{})})),r.setOperationInProgress(`removeCard ${n}`,!1)},recycleCard:async(n=1)=>{if(n<=0)return;const r=t();if(r.discard.length===0)return;r.setOperationInProgress("recycle",!0),me.recycle.play();const o=r.discard.slice(),a=r.draw.slice(),s=[];for(let u=0;u<n&&o.length!==0;u++){const f=o.pop();s.push(f.name),a.push(f)}await he(),e({draw:_t(a),discard:r.discard.filter(u=>!s.includes(u.name))}),r.setOperationInProgress("recycle",!1)},playCard:async(n,r)=>{const o=!!(r!=null&&r.free);let a=t();const s=(r==null?void 0:r.reason)??n,u=async()=>{me.unauthorized.play(),e({hand:a.hand.map(h=>h.name===n.name?{...h,state:"unauthorized"}:h)}),await he(),e({hand:a.hand.map(h=>h.name===n.name?{...h,state:"idle"}:h)})};if(n.effect.condition&&!n.effect.condition(a,n)){await u();return}const{needs:f,cost:p,appliedModifiers:g}=bn(a,n,[]);if(o||Number(n.effect.cost)===0||(f==="money"?a.money>=p:a.reputation+a.energy>=p))a.setOperationInProgress(`play ${n.name}`,!0),e(h=>({hand:h.hand.map(m=>m.name===n.name?{...m,state:"selected"}:m)})),o||await Promise.all([a.advanceTime(f==="money"?p/G:p),f==="money"?a.addMoney(-p,{skipGameOverPause:!0,reason:s}):a.addEnergy(-p,{skipGameOverPause:!0,reason:s})]);else{await u();return}me.play.play();const i=Pp(a,n);i&&he(200).then(()=>me.remove.play());const c=async()=>{e(h=>({hand:h.hand.map(m=>m.name===n.name?{...m,state:i?"removing":"playing"}:m)})),await he(i?1e3:void 0),e(h=>({discard:i?h.discard:_t([{...n,state:null},...h.discard],3),hand:h.hand.filter(m=>m.name!==n.name),cardModifiers:h.cardModifiers.filter(m=>!al(m).once||!g.some(v=>v.toString()===m.toString()))}))},d=async()=>{n.effect.waitBeforePlay&&await he(),await n.effect.onPlayed(a,n,s)};await Promise.all([c(),d()]),await a.triggerEvent("onPlay"),a=t(),a.hand.length===0&&(await a.triggerEvent("onEmptyHand"),await a.drawCard(1,{reason:s})),!(r!=null&&r.skipGameOverPause)&&hn(t())&&await he(2e3),a.setOperationInProgress(`play ${n.name}`,!1)},pickCard:async n=>{const r=t();r.setOperationInProgress(`pick ${n.name}`,!0),me.gain.play(),me.remove.play(),e({choiceOptions:r.choiceOptions.map(o=>o.map(a=>a.name===n.name?{...a,state:"playing"}:{...a,state:"removing"}))}),await Promise.all([(async()=>{await he(),e(o=>({choiceOptions:o.choiceOptions.map(a=>a.map(s=>s.name===n.name?{...s,state:"removed"}:s))}))})(),(async()=>{await he(1e3),e(o=>({choiceOptions:o.choiceOptions.map(a=>a.map(s=>({...s,state:null})))}))})()]),e(o=>({choiceOptions:o.choiceOptions.slice(1),draw:_t([...o.draw,{...n,state:null}],3)})),r.setOperationInProgress(`pick ${n.name}`,!1)},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:n=>{me.defeat.play(),e({isGameOver:!0,isWon:!1,reason:n})},reset:()=>{localStorage.removeItem("card-game-metadata"),localStorage.removeItem("card-game-difficulty"),localStorage.removeItem("card-game"),e(ll())},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const Me=Gu((e,t)=>({...Ip(),...ll(),...Dp(e,t),...$p(e,t)}));Me.subscribe((e,t)=>{if((e.reputation!==t.reputation||e.money!==t.money||e.upgrades!==t.upgrades||e.energy!==t.energy||e.day!==t.day)&&e.updateScore(),localStorage.setItem("card-game",JSON.stringify({choiceOptions:e.choiceOptions,choiceOptionCount:e.choiceOptionCount,draw:e.draw,hand:e.hand,discard:e.discard,upgrades:e.upgrades,cardModifiers:e.cardModifiers,day:e.day,energy:e.energy,reputation:e.reputation,notification:e.notification,dayFull:e.dayFull,sprintFull:e.sprintFull,money:e.money,reason:e.reason,isWon:e.isWon,operationInProgress:e.operationInProgress,isGameOver:e.isGameOver,infinityMode:e.infinityMode,logs:e.logs,score:e.score},(n,r)=>{if(!(typeof r=="function"&&!(n in e)))return r})),e.operationInProgress.join(",")!==t.operationInProgress.join("")&&e.operationInProgress.length===0){if(!e.infinityMode&&!e.isWon&&e.money>=Xt)e.win(),e.addWonGame();else if(!e.isGameOver){const n=hn(e);n&&(e.defeat(n),e.addPlayedGame())}}});function bi(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},C.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},C.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"0"})),C.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},C.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"0"})),C.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},C.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"0"}))))}function Fp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Lp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const cl=e=>e.value==="0"?l.jsx(l.Fragment,{}):l.jsx("div",{className:P("text-2xl font-bold border border-white px-1 bg-money text-money-foreground w-fit",{"text-md":e.miniature},e.className),style:e.style,children:l.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.miniature?`${Number(e.value)>0?"+":""}${e.value}`:e.value,"M$"]})}),ul=C.createContext({degX:0,degY:0,isHovered:!1}),Si={transformStyle:"preserve-3d"},dl=({max:e=20,reverse:t=!1,scale:n=1,perspective:r=1e3,className:o="",children:a,style:s})=>{const u=ye(_=>_.tilt&&_.animations),f=C.useRef(null),p=Xi(f),[g,i]=C.useState({}),[c,d]=C.useState(0),[h,m]=C.useState(0),y=C.useCallback(_=>{if(f.current){const S=f.current.getBoundingClientRect(),E=_.clientX-S.left,A=_.clientY-S.top,M=S.width/2,R=S.height/2,N=(A-R)/R*e,j=(E-M)/M*e;d(t?N:-N),m(t?-j:j),i({...Si,transform:`
            perspective(${r}px)
            rotateX(${t?N:-N}deg)
            rotateY(${t?-j:j}deg)
            scale(${n})
          `})}},[e,r,t,n]),v=C.useCallback(()=>{d(0),m(0),i({...Si,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return C.useEffect(()=>{const _=f.current;return p?_&&(_.addEventListener("mousemove",y),_.addEventListener("mouseleave",v)):v(),()=>{_&&(_.removeEventListener("mousemove",y),_.removeEventListener("mouseleave",v)),v()}},[e,t,n,r,p]),u?l.jsx("div",{ref:f,className:P("will-change-transform",o),style:{...g,...s},children:l.jsx(ul.Provider,{value:{degX:c,degY:h,isHovered:p},children:a})}):l.jsx("div",{className:o,style:s,children:a})},Bp=()=>{const e=C.useContext(ul);return ye(n=>n.foil)?l.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[l.jsx("div",{className:P("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),l.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):l.jsx(l.Fragment,{})},fl=e=>{const t=ye(o=>({blur:o.blur,shadows:o.shadows,perspective:o.perspective,animation:o.animations,transparency:o.transparency,tilt:o.tilt})),n=Me(o=>{const a=bn(o,e.card,[]),s=nl(o,a.cost);return{handSize:o.hand.length,operationInProgress:o.operationInProgress,play:o.playCard,pick:o.pickCard,isGameOver:o.isGameOver,parsedCost:a,energyColor:s,choiceOptions:o.choiceOptions,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(o,e.card)}}),r=typeof e.position=="number"?e.position-(n.handSize-1)/2:0;return l.jsx("div",{className:P("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{"cursor-not-allowed":n.operationInProgress.length>0||!e.isChoice&&n.choiceOptions.length>0,[P("transition-transform",e.card.state)]:t.animation,[P({"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removing",grayscale:n.isGameOver||!n.parsedCost.canBeBuy||!n.canTriggerEffect})]:!e.isChoice}),onClick:async()=>{e.isChoice?n.choiceOptions.length>0&&n.operationInProgress.length===0&&await n.pick(e.card):n.choiceOptions.length===0&&n.operationInProgress.length===0&&!n.isGameOver&&await n.play(e.card,{reason:e.card})},onContextMenu:o=>{o.preventDefault(),Vr(e.card)&&e.card.url&&window.open(e.card.url,"_blank")},style:{marginBottom:`${20-Math.abs(r)*5}px`,rotate:`${r*2}deg`,transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear"},children:e.card.state==="removing"&&t.animation?l.jsx("div",{className:"relative",children:Math.random()<.5?l.jsx(bi,{className:P("absolute scale-x-[-1]",{"text-card/60":t.transparency,"text-card":!t.transparency}),style:{maskClip:"fill-box"}}):l.jsx(bi,{className:P("absolute",{"text-card/60":t.transparency,"text-card":!t.transparency}),style:{maskClip:"fill-box"}})}):e.card.state==="removed"?l.jsx(l.Fragment,{}):l.jsxs(dl,{scale:1.1,className:P("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[P({"bg-card/60":t.transparency,"bg-card":!t.transparency})]:e.card.effect.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,"shadow-glow-20 shadow-primary":e.card.state==="selected"}),children:[Vr(e.card)&&e.card.detail&&l.jsxs("div",{className:P("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":t.shadows,"transition-opacity duration-200 ease-in-out delay-1000":t.animation,"opacity-0 group-hover/game-card:opacity-100 flex":t.transparency,"hidden group-hover/game-card:flex":!t.transparency}),children:[l.jsx(Fp,{className:"w-10"}),l.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),l.jsx(Lp,{className:"w-10 self-end"})]}),t.perspective&&t.tilt&&l.jsx("div",{className:P("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),l.jsxs("div",{className:P("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[P({"bg-support/50":t.transparency,"bg-support":!t.transparency})]:e.card.effect.type==="support"}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[l.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t.perspective?"translateZ(5px)":""} translateX(${n.parsedCost.needs==="money"?"-15px":"-8px"})`,transformStyle:t.perspective?"preserve-3d":"flat"},children:n.parsedCost.needs==="energy"?l.jsx(Yt,{isCost:!0,value:n.parsedCost.cost,colors:n.energyColor,style:{transform:t.perspective?"translateZ(5px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"}}):l.jsx(cl,{value:String(n.parsedCost.cost),style:{transform:`${t.perspective?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:t.perspective?"preserve-3d":"flat"}})}),l.jsx("h2",{className:P("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[P({"left-3 text-lg":n.parsedCost.needs==="money"&&e.card.name.length>7,"left-7":n.parsedCost.needs==="money"&&n.parsedCost.cost>99,"text-md":e.card.name.length>11})]:n.parsedCost.cost>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:t.perspective?"translateZ(5px)":"none"},children:e.card.name})]}),Vr(e.card)?l.jsx(Hp,{card:e.card}):l.jsx(zp,{card:e.card}),l.jsxs("div",{className:P("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[l.jsx("div",{className:"py-[10px] px-[15px] text-center",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&l.jsx("div",{className:P("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":t.transparency,"text-muted-foreground":!t.transparency}),children:"Éphémère"})]}),l.jsx(ba,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),l.jsx(ba,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),l.jsx(Bp,{})]})},e.card.name)},Hp=e=>{const{shadows:t,perspective:n,transparency:r,animation:o}=ye(a=>({shadows:a.shadows,perspective:a.perspective,transparency:a.transparency,animation:a.animations}));return l.jsxs("div",{className:"group/image relative pointer-events-auto",style:{transformStyle:n?"preserve-3d":"flat"},children:[l.jsx("div",{className:P({"inset-shadow":t},"relative flex justify-center items-center"),style:{transformStyle:n?"preserve-3d":"flat"},children:l.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:n?"translateZ(-15px)":"none"}})}),e.card.description&&l.jsx("div",{className:P("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":r}),style:{transform:n?"translateZ(-5px)":"none"},children:l.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},Gp=["React","Knex"],zp=e=>{const{perspective:t,animation:n}=ye(r=>({perspective:r.perspective,animation:r.animations}));return l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:t?"translateZ(15px)":"none"},children:l.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:P("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":n&&Gp.includes(e.card.name)})})})})},Wp=e=>{const t=Me(),n=ye(s=>s.animations),r=t.operationInProgress.length>0,o=Math.floor(t.day)%7===0,a=t.energy+t.reputation<Gt||t.hand.length>=ot||t.draw.length===0||r;return l.jsx("div",{className:P("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0",{"transition-opacity duration-500 ease-in-out":n,"opacity-100":e.show,"pointer-events-none":!e.show}),children:l.jsxs(kn,{className:"space-y-4 group/actions",children:[l.jsx("h2",{className:"text-3xl text-center",children:t.choiceOptions.length>0?l.jsxs(l.Fragment,{children:["Choisi une carte"," ",o&&t.choiceOptions.length<=2&&l.jsx("span",{dangerouslySetInnerHTML:{__html:we(t.choiceOptions.length===1?"@upgrade":"@action")}})," ",t.choiceOptions.length>1&&!o&&`(${t.choiceOptions.length} restantes)`]}):"Actions"}),t.choiceOptions.length===0?l.jsxs(X,{className:P("flex justify-start gap-2",{grayscale:a}),onClick:async()=>{t.setOperationInProgress("infinity-draw",!0),me.play.play(),await t.addEnergy(-Gt,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.advanceTime(Gt),hn(t)&&await he(2e3),t.setOperationInProgress("infinity-draw",!1)},disabled:a,size:"cta",children:[l.jsx(Yt,{value:Gt,isCost:!0,className:"w-8 h-8",colors:nl(t,Gt)})," ","Piocher une carte"]}):l.jsx("div",{className:"flex",children:t.choiceOptions[0].map((s,u)=>l.jsx(fl,{card:s,isChoice:!0},u))})]})})};function cn(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const Vp=e=>{const t=ye(r=>({animations:r.animations,transparency:r.transparency})),n=Me(r=>({handOverflow:r.hand.length>=ot,almostEmptyDraw:r.draw.length<=5&&r.draw.length>0,emptyDraw:r.draw.length===0,almostEmptyReputation:r.reputation<=5}));return e.show?l.jsx("div",{className:P("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none",{"animate-pulse duration-700":t.animations&&t.transparency}),children:l.jsxs("div",{className:P("text-3xl flex flex-col gap-2","*:flex *:items-center *:gap-2",{"transition-[right] ease-in-out duration-1000":t.animations,[P("opacity-0",{"opacity-100":e.show})]:t.transparency,[P("hidden",{flex:e.show})]:!t.transparency}),children:[n.handOverflow&&l.jsxs("div",{children:[l.jsx(cn,{className:"w-10"})," Ta main est pleine !"]}),n.almostEmptyDraw&&l.jsxs("div",{children:[l.jsx(cn,{className:"w-10"})," Ta pioche est presque vide !"]}),n.emptyDraw&&l.jsxs("div",{children:[l.jsx(cn,{className:"w-10"})," Ta pioche est vide !"]}),n.almostEmptyReputation&&l.jsxs("div",{children:[l.jsx(cn,{className:"w-10"})," ",l.jsx("span",{dangerouslySetInnerHTML:{__html:we("Ta @reputation est basse !")}})]})]})}):null},Up=e=>{const t=ye(({animations:r})=>({animations:r})),n=Me(({hand:r})=>({hand:r}));return l.jsx("div",{id:"hand",className:P("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{" transition-[bottom] ease-in-out duration-1000":t.animations},e.show?"bottom-[-50px]":"-bottom-full"),children:n.hand.sort((r,o)=>{const a=r.effect.type==="action"?1:0,s=o.effect.type==="action"?1:0,u=typeof r.effect.cost=="string"?1:0,f=typeof o.effect.cost=="string"?1:0,p=Number(r.effect.cost),g=Number(o.effect.cost),i=r.effect.description.localeCompare(o.effect.description);return a-s||u-f||p-g||i}).map((r,o)=>l.jsx(fl,{card:r,position:o},o))})},pl=[{name:"Placeholder 1",score:3e3,mode:"hard"},{name:"Placeholder 2",score:2500,mode:"hard"},{name:"Placeholder 3",score:2e3,mode:"hard"},{name:"Placeholder 4",score:1500,mode:"hard"},{name:"Placeholder 5",score:1e3,mode:"normal"}],mn=["Si vous n'avez plus de @reputation, vous perdez la partie.","Quand une carte est jouée, elle va dans la défausse.","Si vous ne pouvez plus jouer de carte, vous perdez la partie.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Les cartes @action ont une bannière bleue.","Lorsque vous n'avez plus d'@energy, vous consommez la @reputation.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Vous ne pouvez pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop sont défaussées à la place.","Le prix des cartes d'@upgrade augmente progressivement.","Si vous obtenez MONEY_TO_REACHM$, vous gagnez la partie.","Chaque @sprint contient une semaine (7 @days).","A la fin d'un @sprint, tu ajoutes une carte @upgrade et une carte @action à ton deck.","Chaque carte jouée fait avancer le temps.","Le clic droit sur une carte @action ouvre un onglet vers le projet.","Recycler une carte, c'est la sortir de la défausse pour la remettre dans la pioche.","Chaque @day, tu ajoutes une nouvelle carte à ton deck."];function Ci(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"}),C.createElement("path",{d:"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"})))}function qp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),C.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),C.createElement("path",{d:"m64 160 29.74 282.51A24 24 0 0 0 117.61 464h276.78a24 24 0 0 0 23.87-21.49L448 160zm248 217.46-56-56-56 56L174.54 352l56-56-56-56L200 214.54l56 56 56-56L337.46 240l-56 56 56 56z"}),C.createElement("rect",{width:"448",height:"80",x:"32",y:"48",rx:"12",ry:"12"})))}function Xp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function Yp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function Zp(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),C.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}const Rn=({iconClassName:e,barClassName:t,value:n,display:r,max:o,color:a,title:s,increaseOnly:u,...f})=>l.jsxs("div",{...f,className:P("flex items-center h-7 w-full",f.className),children:[l.jsx(Yt,{title:s,value:r?r(n/o):n,miniature:!0,colors:a??"bg-primary",className:P("absolute z-50",e)}),l.jsx(_r,{barColor:a,className:t,value:n/o*100,increaseOnly:u})]}),Kp=e=>{var t;return l.jsxs("span",{className:P("inline-flex items-center h-7 w-full rounded-full",typeof e.item=="string"?"":{"bg-action text-action-foreground":e.item.type==="action","bg-support text-support-foreground":e.item.type==="support","bg-upgrade text-upgrade-foreground":e.item.type==="upgrade"}),children:[typeof e.item=="object"&&l.jsx(hl,{item:e.item}),l.jsx("div",{className:"px-2",children:typeof e.item=="object"?(t=e.item)==null?void 0:t.name:e.item})]})},hl=({item:e,...t})=>l.jsx("img",{...t,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:P("aspect-square rounded-full h-full",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},t.className)});function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function dt(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function En({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Jp({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,u=dt(n),f=x.useCallback(p=>{if(a){const i=typeof p=="function"?p(e):p;i!==e&&u(i)}else o(p)},[a,e,o,u]);return[s,f]}function Jp({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,o=x.useRef(r),a=dt(t);return x.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}const Qp=["top","right","bottom","left"],rt=Math.min,He=Math.max,dr=Math.round,On=Math.floor,Ct=e=>({x:e,y:e}),eh={left:"right",right:"left",bottom:"top",top:"bottom"},th={start:"end",end:"start"};function yo(e,t,n){return He(e,rt(t,n))}function ft(e,t){return typeof e=="function"?e(t):e}function pt(e){return e.split("-")[0]}function Qt(e){return e.split("-")[1]}function Xo(e){return e==="x"?"y":"x"}function Yo(e){return e==="y"?"height":"width"}function kt(e){return["top","bottom"].includes(pt(e))?"y":"x"}function Zo(e){return Xo(kt(e))}function nh(e,t,n){n===void 0&&(n=!1);const r=Qt(e),o=Zo(e),a=Yo(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=fr(s)),[s,fr(s)]}function rh(e){const t=fr(e);return[xo(e),t,xo(t)]}function xo(e){return e.replace(/start|end/g,t=>th[t])}function oh(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:s;default:return[]}}function ah(e,t,n,r){const o=Qt(e);let a=oh(pt(e),n==="start",r);return o&&(a=a.map(s=>s+"-"+o),t&&(a=a.concat(a.map(xo)))),a}function fr(e){return e.replace(/left|right|bottom|top/g,t=>eh[t])}function ih(e){return{top:0,right:0,bottom:0,left:0,...e}}function ml(e){return typeof e!="number"?ih(e):{top:e,right:e,bottom:e,left:e}}function pr(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function ki(e,t,n){let{reference:r,floating:o}=e;const a=kt(t),s=Zo(t),u=Yo(s),f=pt(t),p=a==="y",g=r.x+r.width/2-o.width/2,i=r.y+r.height/2-o.height/2,c=r[u]/2-o[u]/2;let d;switch(f){case"top":d={x:g,y:r.y-o.height};break;case"bottom":d={x:g,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:i};break;case"left":d={x:r.x-o.width,y:i};break;default:d={x:r.x,y:r.y}}switch(Qt(t)){case"start":d[s]-=c*(n&&p?-1:1);break;case"end":d[s]+=c*(n&&p?-1:1);break}return d}const sh=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,u=a.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(t));let p=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:i}=ki(p,r,f),c=r,d={},h=0;for(let m=0;m<u.length;m++){const{name:y,fn:v}=u[m],{x:_,y:S,data:E,reset:A}=await v({x:g,y:i,initialPlacement:r,placement:c,strategy:o,middlewareData:d,rects:p,platform:s,elements:{reference:e,floating:t}});g=_??g,i=S??i,d={...d,[y]:{...d[y],...E}},A&&h<=50&&(h++,typeof A=="object"&&(A.placement&&(c=A.placement),A.rects&&(p=A.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:g,y:i}=ki(p,c,f)),m=-1)}return{x:g,y:i,placement:c,strategy:o,middlewareData:d}};async function Sn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:u,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:i="floating",altBoundary:c=!1,padding:d=0}=ft(t,e),h=ml(d),y=u[c?i==="floating"?"reference":"floating":i],v=pr(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:f})),_=i==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),E=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},A=pr(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:_,offsetParent:S,strategy:f}):_);return{top:(v.top-A.top+h.top)/E.y,bottom:(A.bottom-v.bottom+h.bottom)/E.y,left:(v.left-A.left+h.left)/E.x,right:(A.right-v.right+h.right)/E.x}}const lh=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:s,elements:u,middlewareData:f}=t,{element:p,padding:g=0}=ft(e,t)||{};if(p==null)return{};const i=ml(g),c={x:n,y:r},d=Zo(o),h=Yo(d),m=await s.getDimensions(p),y=d==="y",v=y?"top":"left",_=y?"bottom":"right",S=y?"clientHeight":"clientWidth",E=a.reference[h]+a.reference[d]-c[d]-a.floating[h],A=c[d]-a.reference[d],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(p));let R=M?M[S]:0;(!R||!await(s.isElement==null?void 0:s.isElement(M)))&&(R=u.floating[S]||a.floating[h]);const N=E/2-A/2,j=R/2-m[h]/2-1,U=rt(i[v],j),J=rt(i[_],j),fe=U,le=R-m[h]-J,Z=R/2-m[h]/2+N,Y=yo(fe,Z,le),te=!f.arrow&&Qt(o)!=null&&Z!==Y&&a.reference[h]/2-(Z<fe?U:J)-m[h]/2<0,K=te?Z<fe?Z-fe:Z-le:0;return{[d]:c[d]+K,data:{[d]:Y,centerOffset:Z-Y-K,...te&&{alignmentOffset:K}},reset:te}}}),ch=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:s,initialPlacement:u,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:i=!0,fallbackPlacements:c,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...y}=ft(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=pt(o),_=kt(u),S=pt(u)===u,E=await(f.isRTL==null?void 0:f.isRTL(p.floating)),A=c||(S||!m?[fr(u)]:rh(u)),M=h!=="none";!c&&M&&A.push(...ah(u,m,h,E));const R=[u,...A],N=await Sn(t,y),j=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&j.push(N[v]),i){const Z=nh(o,s,E);j.push(N[Z[0]],N[Z[1]])}if(U=[...U,{placement:o,overflows:j}],!j.every(Z=>Z<=0)){var J,fe;const Z=(((J=a.flip)==null?void 0:J.index)||0)+1,Y=R[Z];if(Y)return{data:{index:Z,overflows:U},reset:{placement:Y}};let te=(fe=U.filter(K=>K.overflows[0]<=0).sort((K,pe)=>K.overflows[1]-pe.overflows[1])[0])==null?void 0:fe.placement;if(!te)switch(d){case"bestFit":{var le;const K=(le=U.filter(pe=>{if(M){const ve=kt(pe.placement);return ve===_||ve==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(ve=>ve>0).reduce((ve,b)=>ve+b,0)]).sort((pe,ve)=>pe[1]-ve[1])[0])==null?void 0:le[0];K&&(te=K);break}case"initialPlacement":te=u;break}if(o!==te)return{reset:{placement:te}}}return{}}}};function Ei(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pi(e){return Qp.some(t=>e[t]>=0)}const uh=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ft(e,t);switch(r){case"referenceHidden":{const a=await Sn(t,{...o,elementContext:"reference"}),s=Ei(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Pi(s)}}}case"escaped":{const a=await Sn(t,{...o,altBoundary:!0}),s=Ei(a,n.floating);return{data:{escapedOffsets:s,escaped:Pi(s)}}}default:return{}}}}};async function dh(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=pt(n),u=Qt(n),f=kt(n)==="y",p=["left","top"].includes(s)?-1:1,g=a&&f?-1:1,i=ft(t,e);let{mainAxis:c,crossAxis:d,alignmentAxis:h}=typeof i=="number"?{mainAxis:i,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...i};return u&&typeof h=="number"&&(d=u==="end"?h*-1:h),f?{x:d*g,y:c*p}:{x:c*p,y:d*g}}const fh=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:s,middlewareData:u}=t,f=await dh(t,e);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:s}}}}},ph=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:y=>{let{x:v,y:_}=y;return{x:v,y:_}}},...f}=ft(e,t),p={x:n,y:r},g=await Sn(t,f),i=kt(pt(o)),c=Xo(i);let d=p[c],h=p[i];if(a){const y=c==="y"?"top":"left",v=c==="y"?"bottom":"right",_=d+g[y],S=d-g[v];d=yo(_,d,S)}if(s){const y=i==="y"?"top":"left",v=i==="y"?"bottom":"right",_=h+g[y],S=h-g[v];h=yo(_,h,S)}const m=u.fn({...t,[c]:d,[i]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}},hh=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:u=0,mainAxis:f=!0,crossAxis:p=!0}=ft(e,t),g={x:n,y:r},i=kt(o),c=Xo(i);let d=g[c],h=g[i];const m=ft(u,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(f){const S=c==="y"?"height":"width",E=a.reference[c]-a.floating[S]+y.mainAxis,A=a.reference[c]+a.reference[S]-y.mainAxis;d<E?d=E:d>A&&(d=A)}if(p){var v,_;const S=c==="y"?"width":"height",E=["top","left"].includes(pt(o)),A=a.reference[i]-a.floating[S]+(E&&((v=s.offset)==null?void 0:v[i])||0)+(E?0:y.crossAxis),M=a.reference[i]+a.reference[S]+(E?0:((_=s.offset)==null?void 0:_[i])||0)-(E?y.crossAxis:0);h<A?h=A:h>M&&(h=M)}return{[c]:d,[i]:h}}}},mh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:s=()=>{},...u}=ft(e,t),f=await Sn(t,u),p=pt(n),g=Qt(n),i=kt(n)==="y",{width:c,height:d}=r.floating;let h,m;p==="top"||p==="bottom"?(h=p,m=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=p,h=g==="end"?"top":"bottom");const y=d-f.top-f.bottom,v=c-f.left-f.right,_=rt(d-f[h],y),S=rt(c-f[m],v),E=!t.middlewareData.shift;let A=_,M=S;if(i?M=g||E?rt(S,v):v:A=g||E?rt(_,y):y,E&&!g){const N=He(f.left,0),j=He(f.right,0),U=He(f.top,0),J=He(f.bottom,0);i?M=c-2*(N!==0||j!==0?N+j:He(f.left,f.right)):A=d-2*(U!==0||J!==0?U+J:He(f.top,f.bottom))}await s({...t,availableWidth:M,availableHeight:A});const R=await o.getDimensions(a.floating);return c!==R.width||d!==R.height?{reset:{rects:!0}}:{}}}};function en(e){return gl(e)?(e.nodeName||"").toLowerCase():"#document"}function ze(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ht(e){var t;return(t=(gl(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gl(e){return e instanceof Node||e instanceof ze(e).Node}function Xe(e){return e instanceof Element||e instanceof ze(e).Element}function at(e){return e instanceof HTMLElement||e instanceof ze(e).HTMLElement}function Ai(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ze(e).ShadowRoot}function Pn(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ye(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function gh(e){return["table","td","th"].includes(en(e))}function Ar(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ko(e){const t=Jo(),n=Xe(e)?Ye(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function vh(e){let t=Et(e);for(;at(t)&&!Zt(t);){if(Ko(t))return t;if(Ar(t))return null;t=Et(t)}return null}function Jo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zt(e){return["html","body","#document"].includes(en(e))}function Ye(e){return ze(e).getComputedStyle(e)}function Tr(e){return Xe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Et(e){if(en(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ai(e)&&e.host||ht(e);return Ai(t)?t.host:t}function vl(e){const t=Et(e);return Zt(t)?e.ownerDocument?e.ownerDocument.body:e.body:at(t)&&Pn(t)?t:vl(t)}function Cn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=vl(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),s=ze(o);if(a){const u=wo(s);return t.concat(s,s.visualViewport||[],Pn(o)?o:[],u&&n?Cn(u):[])}return t.concat(o,Cn(o,[],n))}function wo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yl(e){const t=Ye(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=at(e),a=o?e.offsetWidth:n,s=o?e.offsetHeight:r,u=dr(n)!==a||dr(r)!==s;return u&&(n=a,r=s),{width:n,height:r,$:u}}function Qo(e){return Xe(e)?e:e.contextElement}function Vt(e){const t=Qo(e);if(!at(t))return Ct(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=yl(t);let s=(a?dr(n.width):n.width)/r,u=(a?dr(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const yh=Ct(0);function xl(e){const t=ze(e);return!Jo()||!t.visualViewport?yh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xh(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ze(e)?!1:t}function Rt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Qo(e);let s=Ct(1);t&&(r?Xe(r)&&(s=Vt(r)):s=Vt(e));const u=xh(a,n,r)?xl(a):Ct(0);let f=(o.left+u.x)/s.x,p=(o.top+u.y)/s.y,g=o.width/s.x,i=o.height/s.y;if(a){const c=ze(a),d=r&&Xe(r)?ze(r):r;let h=c,m=wo(h);for(;m&&r&&d!==h;){const y=Vt(m),v=m.getBoundingClientRect(),_=Ye(m),S=v.left+(m.clientLeft+parseFloat(_.paddingLeft))*y.x,E=v.top+(m.clientTop+parseFloat(_.paddingTop))*y.y;f*=y.x,p*=y.y,g*=y.x,i*=y.y,f+=S,p+=E,h=ze(m),m=wo(h)}}return pr({width:g,height:i,x:f,y:p})}function wh(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",s=ht(r),u=t?Ar(t.floating):!1;if(r===s||u&&a)return n;let f={scrollLeft:0,scrollTop:0},p=Ct(1);const g=Ct(0),i=at(r);if((i||!i&&!a)&&((en(r)!=="body"||Pn(s))&&(f=Tr(r)),at(r))){const c=Rt(r);p=Vt(r),g.x=c.x+r.clientLeft,g.y=c.y+r.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x,y:n.y*p.y-f.scrollTop*p.y+g.y}}function _h(e){return Array.from(e.getClientRects())}function wl(e){return Rt(ht(e)).left+Tr(e).scrollLeft}function bh(e){const t=ht(e),n=Tr(e),r=e.ownerDocument.body,o=He(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=He(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+wl(e);const u=-n.scrollTop;return Ye(r).direction==="rtl"&&(s+=He(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:s,y:u}}function Sh(e,t){const n=ze(e),r=ht(e),o=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,f=0;if(o){a=o.width,s=o.height;const p=Jo();(!p||p&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:a,height:s,x:u,y:f}}function Ch(e,t){const n=Rt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=at(e)?Vt(e):Ct(1),s=e.clientWidth*a.x,u=e.clientHeight*a.y,f=o*a.x,p=r*a.y;return{width:s,height:u,x:f,y:p}}function Ti(e,t,n){let r;if(t==="viewport")r=Sh(e,n);else if(t==="document")r=bh(ht(e));else if(Xe(t))r=Ch(t,n);else{const o=xl(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return pr(r)}function _l(e,t){const n=Et(e);return n===t||!Xe(n)||Zt(n)?!1:Ye(n).position==="fixed"||_l(n,t)}function kh(e,t){const n=t.get(e);if(n)return n;let r=Cn(e,[],!1).filter(u=>Xe(u)&&en(u)!=="body"),o=null;const a=Ye(e).position==="fixed";let s=a?Et(e):e;for(;Xe(s)&&!Zt(s);){const u=Ye(s),f=Ko(s);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Pn(s)&&!f&&_l(e,s))?r=r.filter(g=>g!==s):o=u,s=Et(s)}return t.set(e,r),r}function Eh(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Ar(t)?[]:kh(t,this._c):[].concat(n),r],u=s[0],f=s.reduce((p,g)=>{const i=Ti(t,g,o);return p.top=He(i.top,p.top),p.right=rt(i.right,p.right),p.bottom=rt(i.bottom,p.bottom),p.left=He(i.left,p.left),p},Ti(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Ph(e){const{width:t,height:n}=yl(e);return{width:t,height:n}}function Ah(e,t,n){const r=at(t),o=ht(t),a=n==="fixed",s=Rt(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const f=Ct(0);if(r||!r&&!a)if((en(t)!=="body"||Pn(o))&&(u=Tr(t)),r){const i=Rt(t,!0,a,t);f.x=i.x+t.clientLeft,f.y=i.y+t.clientTop}else o&&(f.x=wl(o));const p=s.left+u.scrollLeft-f.x,g=s.top+u.scrollTop-f.y;return{x:p,y:g,width:s.width,height:s.height}}function Ur(e){return Ye(e).position==="static"}function ji(e,t){return!at(e)||Ye(e).position==="fixed"?null:t?t(e):e.offsetParent}function bl(e,t){const n=ze(e);if(Ar(e))return n;if(!at(e)){let o=Et(e);for(;o&&!Zt(o);){if(Xe(o)&&!Ur(o))return o;o=Et(o)}return n}let r=ji(e,t);for(;r&&gh(r)&&Ur(r);)r=ji(r,t);return r&&Zt(r)&&Ur(r)&&!Ko(r)?n:r||vh(e)||n}const Th=async function(e){const t=this.getOffsetParent||bl,n=this.getDimensions,r=await n(e.floating);return{reference:Ah(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jh(e){return Ye(e).direction==="rtl"}const Nh={convertOffsetParentRelativeRectToViewportRelativeRect:wh,getDocumentElement:ht,getClippingRect:Eh,getOffsetParent:bl,getElementRects:Th,getClientRects:_h,getDimensions:Ph,getScale:Vt,isElement:Xe,isRTL:jh};function Mh(e,t){let n=null,r;const o=ht(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const{left:p,top:g,width:i,height:c}=e.getBoundingClientRect();if(u||t(),!i||!c)return;const d=On(g),h=On(o.clientWidth-(p+i)),m=On(o.clientHeight-(g+c)),y=On(p),_={rootMargin:-d+"px "+-h+"px "+-m+"px "+-y+"px",threshold:He(0,rt(1,f))||1};let S=!0;function E(A){const M=A[0].intersectionRatio;if(M!==f){if(!S)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(E,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(e)}return s(!0),a}function Rh(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Qo(e),g=o||a?[...p?Cn(p):[],...Cn(t)]:[];g.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const i=p&&u?Mh(p,n):null;let c=-1,d=null;s&&(d=new ResizeObserver(v=>{let[_]=v;_&&_.target===p&&d&&(d.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var S;(S=d)==null||S.observe(t)})),n()}),p&&!f&&d.observe(p),d.observe(t));let h,m=f?Rt(e):null;f&&y();function y(){const v=Rt(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,h=requestAnimationFrame(y)}return n(),()=>{var v;g.forEach(_=>{o&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),i==null||i(),(v=d)==null||v.disconnect(),d=null,f&&cancelAnimationFrame(h)}}const Oh=fh,Ih=ph,$h=ch,Dh=mh,Fh=uh,Ni=lh,Lh=hh,Bh=(e,t,n)=>{const r=new Map,o={platform:Nh,...n},a={...o.platform,_c:r};return sh(e,t,{...o,platform:a})};var Zn=typeof document<"u"?x.useLayoutEffect:x.useEffect;function hr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hr(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!hr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Sl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mi(e,t){const n=Sl(e);return Math.round(t*n)/n}function Ri(e){const t=x.useRef(e);return Zn(()=>{t.current=e}),t}function Hh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:u=!0,whileElementsMounted:f,open:p}=e,[g,i]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,d]=x.useState(r);hr(c,r)||d(r);const[h,m]=x.useState(null),[y,v]=x.useState(null),_=x.useCallback(K=>{K!==M.current&&(M.current=K,m(K))},[]),S=x.useCallback(K=>{K!==R.current&&(R.current=K,v(K))},[]),E=a||h,A=s||y,M=x.useRef(null),R=x.useRef(null),N=x.useRef(g),j=f!=null,U=Ri(f),J=Ri(o),fe=x.useCallback(()=>{if(!M.current||!R.current)return;const K={placement:t,strategy:n,middleware:c};J.current&&(K.platform=J.current),Bh(M.current,R.current,K).then(pe=>{const ve={...pe,isPositioned:!0};le.current&&!hr(N.current,ve)&&(N.current=ve,ko.flushSync(()=>{i(ve)}))})},[c,t,n,J]);Zn(()=>{p===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,i(K=>({...K,isPositioned:!1})))},[p]);const le=x.useRef(!1);Zn(()=>(le.current=!0,()=>{le.current=!1}),[]),Zn(()=>{if(E&&(M.current=E),A&&(R.current=A),E&&A){if(U.current)return U.current(E,A,fe);fe()}},[E,A,fe,U,j]);const Z=x.useMemo(()=>({reference:M,floating:R,setReference:_,setFloating:S}),[_,S]),Y=x.useMemo(()=>({reference:E,floating:A}),[E,A]),te=x.useMemo(()=>{const K={position:n,left:0,top:0};if(!Y.floating)return K;const pe=Mi(Y.floating,g.x),ve=Mi(Y.floating,g.y);return u?{...K,transform:"translate("+pe+"px, "+ve+"px)",...Sl(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:ve}},[n,u,Y.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:fe,refs:Z,elements:Y,floatingStyles:te}),[g,fe,Z,Y,te])}const Gh=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ni({element:r.current,padding:o}).fn(n):{}:r?Ni({element:r,padding:o}).fn(n):{}}}},zh=(e,t)=>({...Oh(e),options:[e,t]}),Wh=(e,t)=>({...Ih(e),options:[e,t]}),Vh=(e,t)=>({...Lh(e),options:[e,t]}),Uh=(e,t)=>({...$h(e),options:[e,t]}),qh=(e,t)=>({...Dh(e),options:[e,t]}),Xh=(e,t)=>({...Fh(e),options:[e,t]}),Yh=(e,t)=>({...Gh(e),options:[e,t]});var Zh="Arrow",Cl=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return l.jsx(de.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Cl.displayName=Zh;var Kh=Cl,Ot=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function ea(e){const[t,n]=x.useState(void 0);return Ot(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,u;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;s=p.inlineSize,u=p.blockSize}else s=e.offsetWidth,u=e.offsetHeight;n({width:s,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ta="Popper",[kl,El]=it(ta),[Jh,Pl]=kl(ta),Al=e=>{const{__scopePopper:t,children:n}=e,[r,o]=x.useState(null);return l.jsx(Jh,{scope:t,anchor:r,onAnchorChange:o,children:n})};Al.displayName=ta;var Tl="PopperAnchor",jl=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=Pl(Tl,n),s=x.useRef(null),u=xe(t,s);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:l.jsx(de.div,{...o,ref:u})});jl.displayName=Tl;var na="PopperContent",[Qh,em]=kl(na),Nl=x.forwardRef((e,t)=>{var $,H,Q,ae,ne,ie;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:i="partial",hideWhenDetached:c=!1,updatePositionStrategy:d="optimized",onPlaced:h,...m}=e,y=Pl(na,n),[v,_]=x.useState(null),S=xe(t,ce=>_(ce)),[E,A]=x.useState(null),M=ea(E),R=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,j=r+(a!=="center"?"-"+a:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},J=Array.isArray(p)?p:[p],fe=J.length>0,le={padding:U,boundary:J.filter(nm),altBoundary:fe},{refs:Z,floatingStyles:Y,placement:te,isPositioned:K,middlewareData:pe}=Hh({strategy:"fixed",placement:j,whileElementsMounted:(...ce)=>Rh(...ce,{animationFrame:d==="always"}),elements:{reference:y.anchor},middleware:[zh({mainAxis:o+N,alignmentAxis:s}),f&&Wh({mainAxis:!0,crossAxis:!1,limiter:i==="partial"?Vh():void 0,...le}),f&&Uh({...le}),qh({...le,apply:({elements:ce,rects:q,availableWidth:Ce,availableHeight:Re})=>{const{width:Oe,height:Ve}=q.reference,We=ce.floating.style;We.setProperty("--radix-popper-available-width",`${Ce}px`),We.setProperty("--radix-popper-available-height",`${Re}px`),We.setProperty("--radix-popper-anchor-width",`${Oe}px`),We.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),E&&Yh({element:E,padding:u}),rm({arrowWidth:R,arrowHeight:N}),c&&Xh({strategy:"referenceHidden",...le})]}),[ve,b]=Ol(te),w=dt(h);Ot(()=>{K&&(w==null||w())},[K,w]);const I=($=pe.arrow)==null?void 0:$.x,D=(H=pe.arrow)==null?void 0:H.y,L=((Q=pe.arrow)==null?void 0:Q.centerOffset)!==0,[B,W]=x.useState();return Ot(()=>{v&&W(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:K?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(ae=pe.transformOrigin)==null?void 0:ae.x,(ne=pe.transformOrigin)==null?void 0:ne.y].join(" "),...((ie=pe.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Qh,{scope:n,placedSide:ve,onArrowChange:A,arrowX:I,arrowY:D,shouldHideArrow:L,children:l.jsx(de.div,{"data-side":ve,"data-align":b,...m,ref:S,style:{...m.style,animation:K?void 0:"none"}})})})});Nl.displayName=na;var Ml="PopperArrow",tm={top:"bottom",right:"left",bottom:"top",left:"right"},Rl=x.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=em(Ml,r),s=tm[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(Kh,{...o,ref:n,style:{...o.style,display:"block"}})})});Rl.displayName=Ml;function nm(e){return e!==null}var rm=e=>({name:"transformOrigin",options:e,fn(t){var y,v,_;const{placement:n,rects:r,middlewareData:o}=t,s=((y=o.arrow)==null?void 0:y.centerOffset)!==0,u=s?0:e.arrowWidth,f=s?0:e.arrowHeight,[p,g]=Ol(n),i={start:"0%",center:"50%",end:"100%"}[g],c=(((v=o.arrow)==null?void 0:v.x)??0)+u/2,d=(((_=o.arrow)==null?void 0:_.y)??0)+f/2;let h="",m="";return p==="bottom"?(h=s?i:`${c}px`,m=`${-f}px`):p==="top"?(h=s?i:`${c}px`,m=`${r.floating.height+f}px`):p==="right"?(h=`${-f}px`,m=s?i:`${d}px`):p==="left"&&(h=`${r.floating.width+f}px`,m=s?i:`${d}px`),{data:{x:h,y:m}}}});function Ol(e){const[t,n="center"]=e.split("-");return[t,n]}var om=Al,am=jl,im=Nl,sm=Rl,lm="Portal",Il=x.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[o,a]=x.useState(!1);Ot(()=>a(!0),[]);const s=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return s?Vu.createPortal(l.jsx(de.div,{...r,ref:t}),s):null});Il.displayName=lm;function cm(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Dt=e=>{const{present:t,children:n}=e,r=um(t),o=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=xe(r.ref,dm(o));return typeof n=="function"||r.isPresent?x.cloneElement(o,{ref:a}):null};Dt.displayName="Presence";function um(e){const[t,n]=x.useState(),r=x.useRef({}),o=x.useRef(e),a=x.useRef("none"),s=e?"mounted":"unmounted",[u,f]=cm(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=In(r.current);a.current=u==="mounted"?p:"none"},[u]),Ot(()=>{const p=r.current,g=o.current;if(g!==e){const c=a.current,d=In(p);e?f("MOUNT"):d==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&c!==d?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Ot(()=>{if(t){const p=i=>{const d=In(r.current).includes(i.animationName);i.target===t&&d&&ko.flushSync(()=>f("ANIMATION_END"))},g=i=>{i.target===t&&(a.current=In(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function In(e){return(e==null?void 0:e.animationName)||"none"}function dm(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fm(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e);x.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var pm="DismissableLayer",_o="dismissableLayer.update",hm="dismissableLayer.pointerDownOutside",mm="dismissableLayer.focusOutside",Oi,$l=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ra=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:u,...f}=e,p=x.useContext($l),[g,i]=x.useState(null),c=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=x.useState({}),h=xe(t,R=>i(R)),m=Array.from(p.layers),[y]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),_=g?m.indexOf(g):-1,S=p.layersWithOutsidePointerEventsDisabled.size>0,E=_>=v,A=ym(R=>{const N=R.target,j=[...p.branches].some(U=>U.contains(N));!E||j||(o==null||o(R),s==null||s(R),R.defaultPrevented||u==null||u())},c),M=xm(R=>{const N=R.target;[...p.branches].some(U=>U.contains(N))||(a==null||a(R),s==null||s(R),R.defaultPrevented||u==null||u())},c);return fm(R=>{_===p.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},c),x.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Oi=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Ii(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=Oi)}},[g,c,n,p]),x.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Ii())},[g,p]),x.useEffect(()=>{const R=()=>d({});return document.addEventListener(_o,R),()=>document.removeEventListener(_o,R)},[]),l.jsx(de.div,{...f,ref:h,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,M.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,A.onPointerDownCapture)})});ra.displayName=pm;var gm="DismissableLayerBranch",vm=x.forwardRef((e,t)=>{const n=x.useContext($l),r=x.useRef(null),o=xe(t,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(de.div,{...e,ref:o})});vm.displayName=gm;function ym(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e),r=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){Dl(hm,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function xm(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e),r=x.useRef(!1);return x.useEffect(()=>{const o=a=>{a.target&&!r.current&&Dl(mm,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ii(){const e=new CustomEvent(_o);document.dispatchEvent(e)}function Dl(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Uu(o,a):o.dispatchEvent(a)}var qr,oa="HoverCard",[Fl,vv]=it(oa,[El]),jr=El(),[wm,aa]=Fl(oa),Ll=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:o,onOpenChange:a,openDelay:s=700,closeDelay:u=300}=e,f=jr(t),p=x.useRef(0),g=x.useRef(0),i=x.useRef(!1),c=x.useRef(!1),[d=!1,h]=En({prop:r,defaultProp:o,onChange:a}),m=x.useCallback(()=>{clearTimeout(g.current),p.current=window.setTimeout(()=>h(!0),s)},[s,h]),y=x.useCallback(()=>{clearTimeout(p.current),!i.current&&!c.current&&(g.current=window.setTimeout(()=>h(!1),u))},[u,h]),v=x.useCallback(()=>h(!1),[h]);return x.useEffect(()=>()=>{clearTimeout(p.current),clearTimeout(g.current)},[]),l.jsx(wm,{scope:t,open:d,onOpenChange:h,onOpen:m,onClose:y,onDismiss:v,hasSelectionRef:i,isPointerDownOnContentRef:c,children:l.jsx(om,{...f,children:n})})};Ll.displayName=oa;var Bl="HoverCardTrigger",Hl=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,o=aa(Bl,n),a=jr(n);return l.jsx(am,{asChild:!0,...a,children:l.jsx(de.a,{"data-state":o.open?"open":"closed",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,gr(o.onOpen)),onPointerLeave:ee(e.onPointerLeave,gr(o.onClose)),onFocus:ee(e.onFocus,o.onOpen),onBlur:ee(e.onBlur,o.onClose),onTouchStart:ee(e.onTouchStart,s=>s.preventDefault())})})});Hl.displayName=Bl;var _m="HoverCardPortal",[yv,bm]=Fl(_m,{forceMount:void 0}),mr="HoverCardContent",Gl=x.forwardRef((e,t)=>{const n=bm(mr,e.__scopeHoverCard),{forceMount:r=n.forceMount,...o}=e,a=aa(mr,e.__scopeHoverCard);return l.jsx(Dt,{present:r||a.open,children:l.jsx(Sm,{"data-state":a.open?"open":"closed",...o,onPointerEnter:ee(e.onPointerEnter,gr(a.onOpen)),onPointerLeave:ee(e.onPointerLeave,gr(a.onClose)),ref:t})})});Gl.displayName=mr;var Sm=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,...u}=e,f=aa(mr,n),p=jr(n),g=x.useRef(null),i=xe(t,g),[c,d]=x.useState(!1);return x.useEffect(()=>{if(c){const h=document.body;return qr=h.style.userSelect||h.style.webkitUserSelect,h.style.userSelect="none",h.style.webkitUserSelect="none",()=>{h.style.userSelect=qr,h.style.webkitUserSelect=qr}}},[c]),x.useEffect(()=>{if(g.current){const h=()=>{d(!1),f.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var y;((y=document.getSelection())==null?void 0:y.toString())!==""&&(f.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",h),()=>{document.removeEventListener("pointerup",h),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!1}}},[f.isPointerDownOnContentRef,f.hasSelectionRef]),x.useEffect(()=>{g.current&&Em(g.current).forEach(m=>m.setAttribute("tabindex","-1"))}),l.jsx(ra,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:ee(a,h=>{h.preventDefault()}),onDismiss:f.onDismiss,children:l.jsx(im,{...p,...u,onPointerDown:ee(u.onPointerDown,h=>{h.currentTarget.contains(h.target)&&d(!0),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!0}),ref:i,style:{...u.style,userSelect:c?"text":void 0,WebkitUserSelect:c?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Cm="HoverCardArrow",km=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,o=jr(n);return l.jsx(sm,{...o,...r,ref:t})});km.displayName=Cm;function gr(e){return t=>t.pointerType==="touch"?void 0:e()}function Em(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Pm=Ll,Am=Hl,zl=Gl;const Tm=Pm,jm=Am,Wl=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>l.jsx(zl,{ref:o,align:t,sideOffset:n,className:P("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Wl.displayName=zl.displayName;var Nm="Separator",$i="horizontal",Mm=["horizontal","vertical"],Vl=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=$i,...o}=e,a=Rm(r)?r:$i,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(de.div,{"data-orientation":a,...u,...o,ref:t})});Vl.displayName=Nm;function Rm(e){return Mm.includes(e)}var Ul=Vl;const bo=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>l.jsx(Ul,{ref:o,decorative:n,orientation:t,className:P("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));bo.displayName=Ul.displayName;const vt=({name:e,Icon:t,value:n,...r})=>l.jsxs("div",{...r,className:P("flex items-center gap-1",r.className),children:[l.jsx(t,{className:"h-full aspect-square w-fit self-center justify-self-start"}),l.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[l.jsxs("span",{children:[e," :"]})," ",n]})]}),ql=e=>{const t=Me(r=>({money:r.money,score:r.score,energy:r.energy,reputation:r.reputation,draw:r.draw,hand:r.hand,discard:r.discard,infinity:r.infinityMode,day:r.day,dayFull:r.dayFull})),n=ye(r=>({shadows:r.shadows,animation:r.animations,transparency:r.transparency}));return l.jsxs(l.Fragment,{children:[e.forHUD&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[l.jsxs("div",{id:"energy",children:[l.jsx(Rn,{title:"Energie",value:t.energy,max:gn,color:"bg-energy"}),l.jsx("div",{className:"capitalize last:col-span-1 flex items-center",children:"énergie"})]}),l.jsxs("div",{id:"reputation",children:[l.jsx(Rn,{title:"Réputation",value:t.reputation,max:wr,color:"bg-reputation"}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:"Réputation"})]}),l.jsxs("div",{id:"day",children:[l.jsx(Rn,{title:"Journée",display:r=>Math.floor(r*24)%24+"h",value:t.dayFull===null?t.day%1:t.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:l.jsx(vt,{Icon:pn,name:"Jour",value:Math.floor(t.day),className:"h-5"})})]}),l.jsxs("div",{id:"sprint",children:[l.jsx(Rn,{title:"Sprint",display:r=>Math.floor(r*7)+"j",value:Math.floor(t.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:l.jsx(vt,{Icon:pn,name:"Sprint",value:Math.floor(t.day/7),className:"h-5"})})]})]}),l.jsx(bo,{}),l.jsx("div",{className:"grid grid-cols-3 w-full gap-x-2",id:"deck",children:["deck","draw","discard"].map(r=>l.jsxs("div",{className:"grid grid-cols-subgrid col-span-3 space-y-1",children:[l.jsx("div",{className:"flex justify-end col-span-2",children:(r==="deck"?[...t.draw,...t.discard,...t.hand]:t[r]).toSorted((o,a)=>o.type===a.type?o.effect.upgrade?1:-1:a.type>o.type?1:-1).map((o,a)=>l.jsxs(Tm,{openDelay:0,closeDelay:0,children:[l.jsx(jm,{asChild:!0,children:l.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto",children:l.jsx(hl,{item:o,className:P("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.upgrade})})})}),l.jsx(Wl,{className:"pointer-events-none",dangerouslySetInnerHTML:{__html:`<h2>${o.name}</h2><br />${o.effect.description}`}})]},a))}),l.jsx(vt,{Icon:r==="deck"||r==="draw"?Ci:qp,name:r==="deck"?"Deck":r==="draw"?"Pioche":"Défausse",value:r==="deck"?t.draw.length+t.discard.length+t.hand.length:t[r].length,className:"h-5"})]},r))}),l.jsx(bo,{})]}),l.jsxs("div",{className:P("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",n.transparency?"bg-card/60":"bg-card",e.className),children:[l.jsx(vt,{id:"money",Icon:Yp,name:"Dollars",value:l.jsx("span",{dangerouslySetInnerHTML:{__html:we(`${t.money}M$ ${e.forHUD?`sur ${Xt}M$`:""}`)}})}),l.jsx(vt,{Icon:Zp,name:"Score",value:l.jsxs("span",{className:"text-upgrade font-changa",children:[t.score.toLocaleString("fr")," pts"]})}),!e.forHUD&&l.jsx(vt,{Icon:pn,name:"Jour",value:Math.floor(t.day)}),l.jsx(vt,{Icon:il,name:"Mode",value:l.jsx("span",{className:"capitalize",children:ro[Ne.difficulty]})}),t.infinity&&l.jsx(vt,{Icon:Xp,name:"Mode infini",value:"Activé"})]})]})};var ia={};(function e(t,n,r,o){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=function(){if(!t.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),w=b.getContext("2d");w.fillRect(0,0,1,1);var I=b.transferToImageBitmap();try{w.createPattern(I,"no-repeat")}catch{return!1}return!0}();function f(){}function p(b){var w=n.exports.Promise,I=w!==void 0?w:t.Promise;return typeof I=="function"?new I(b):(b(f,f),null)}var g=function(b,w){return{transform:function(I){if(b)return I;if(w.has(I))return w.get(I);var D=new OffscreenCanvas(I.width,I.height),L=D.getContext("2d");return L.drawImage(I,0,0),w.set(I,D),D},clear:function(){w.clear()}}}(u,new Map),i=function(){var b=Math.floor(16.666666666666668),w,I,D={},L=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(B){var W=Math.random();return D[W]=requestAnimationFrame(function $(H){L===H||L+b-1<H?(L=H,delete D[W],B()):D[W]=requestAnimationFrame($)}),W},I=function(B){D[B]&&cancelAnimationFrame(D[B])}):(w=function(B){return setTimeout(B,b)},I=function(B){return clearTimeout(B)}),{frame:w,cancel:I}}(),c=function(){var b,w,I={};function D(L){function B(W,$){L.postMessage({options:W||{},callback:$})}L.init=function($){var H=$.transferControlToOffscreen();L.postMessage({canvas:H},[H])},L.fire=function($,H,Q){if(w)return B($,null),w;var ae=Math.random().toString(36).slice(2);return w=p(function(ne){function ie(ce){ce.data.callback===ae&&(delete I[ae],L.removeEventListener("message",ie),w=null,g.clear(),Q(),ne())}L.addEventListener("message",ie),B($,ae),I[ae]=ie.bind(null,{data:{callback:ae}})}),w},L.reset=function(){L.postMessage({reset:!0});for(var $ in I)I[$](),delete I[$]}}return function(){if(b)return b;if(!r&&a){var L=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([L])))}catch(B){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",B),null}D(b)}return b}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(b,w){return w?w(b):b}function m(b){return b!=null}function y(b,w,I){return h(b&&m(b[w])?b[w]:d[w],I)}function v(b){return b<0?0:Math.floor(b)}function _(b,w){return Math.floor(Math.random()*(w-b))+b}function S(b){return parseInt(b,16)}function E(b){return b.map(A)}function A(b){var w=String(b).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:S(w.substring(0,2)),g:S(w.substring(2,4)),b:S(w.substring(4,6))}}function M(b){var w=y(b,"origin",Object);return w.x=y(w,"x",Number),w.y=y(w,"y",Number),w}function R(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function N(b){var w=b.getBoundingClientRect();b.width=w.width,b.height=w.height}function j(b){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=b,w}function U(b,w,I,D,L,B,W,$,H){b.save(),b.translate(w,I),b.rotate(B),b.scale(D,L),b.arc(0,0,1,W,$,H),b.restore()}function J(b){var w=b.angle*(Math.PI/180),I=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-w+(.5*I-Math.random()*I),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function fe(b,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var I=w.tick++/w.totalTicks,D=w.x+w.random*w.tiltCos,L=w.y+w.random*w.tiltSin,B=w.wobbleX+w.random*w.tiltCos,W=w.wobbleY+w.random*w.tiltSin;if(b.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-I)+")",b.beginPath(),s&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))b.fill(K(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(B-D)*.1,Math.abs(W-L)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var $=Math.PI/10*w.wobble,H=Math.abs(B-D)*.1,Q=Math.abs(W-L)*.1,ae=w.shape.bitmap.width*w.scalar,ne=w.shape.bitmap.height*w.scalar,ie=new DOMMatrix([Math.cos($)*H,Math.sin($)*H,-Math.sin($)*Q,Math.cos($)*Q,w.x,w.y]);ie.multiplySelf(new DOMMatrix(w.shape.matrix));var ce=b.createPattern(g.transform(w.shape.bitmap),"no-repeat");ce.setTransform(ie),b.globalAlpha=1-I,b.fillStyle=ce,b.fillRect(w.x-ae/2,w.y-ne/2,ae,ne),b.globalAlpha=1}else if(w.shape==="circle")b.ellipse?b.ellipse(w.x,w.y,Math.abs(B-D)*w.ovalScalar,Math.abs(W-L)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):U(b,w.x,w.y,Math.abs(B-D)*w.ovalScalar,Math.abs(W-L)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var q=Math.PI/2*3,Ce=4*w.scalar,Re=8*w.scalar,Oe=w.x,Ve=w.y,We=5,Ke=Math.PI/We;We--;)Oe=w.x+Math.cos(q)*Re,Ve=w.y+Math.sin(q)*Re,b.lineTo(Oe,Ve),q+=Ke,Oe=w.x+Math.cos(q)*Ce,Ve=w.y+Math.sin(q)*Ce,b.lineTo(Oe,Ve),q+=Ke;else b.moveTo(Math.floor(w.x),Math.floor(w.y)),b.lineTo(Math.floor(w.wobbleX),Math.floor(L)),b.lineTo(Math.floor(B),Math.floor(W)),b.lineTo(Math.floor(D),Math.floor(w.wobbleY));return b.closePath(),b.fill(),w.tick<w.totalTicks}function le(b,w,I,D,L){var B=w.slice(),W=b.getContext("2d"),$,H,Q=p(function(ae){function ne(){$=H=null,W.clearRect(0,0,D.width,D.height),g.clear(),L(),ae()}function ie(){r&&!(D.width===o.width&&D.height===o.height)&&(D.width=b.width=o.width,D.height=b.height=o.height),!D.width&&!D.height&&(I(b),D.width=b.width,D.height=b.height),W.clearRect(0,0,D.width,D.height),B=B.filter(function(ce){return fe(W,ce)}),B.length?$=i.frame(ie):ne()}$=i.frame(ie),H=ne});return{addFettis:function(ae){return B=B.concat(ae),Q},canvas:b,promise:Q,reset:function(){$&&i.cancel($),H&&H()}}}function Z(b,w){var I=!b,D=!!y(w||{},"resize"),L=!1,B=y(w,"disableForReducedMotion",Boolean),W=a&&!!y(w||{},"useWorker"),$=W?c():null,H=I?R:N,Q=b&&$?!!b.__confetti_initialized:!1,ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ne;function ie(q,Ce,Re){for(var Oe=y(q,"particleCount",v),Ve=y(q,"angle",Number),We=y(q,"spread",Number),Ke=y(q,"startVelocity",Number),Ru=y(q,"decay",Number),Ou=y(q,"gravity",Number),Iu=y(q,"drift",Number),va=y(q,"colors",E),$u=y(q,"ticks",Number),ya=y(q,"shapes"),Du=y(q,"scalar"),Fu=!!y(q,"flat"),xa=M(q),wa=Oe,Rr=[],Lu=b.width*xa.x,Bu=b.height*xa.y;wa--;)Rr.push(J({x:Lu,y:Bu,angle:Ve,spread:We,startVelocity:Ke,color:va[wa%va.length],shape:ya[_(0,ya.length)],ticks:$u,decay:Ru,gravity:Ou,drift:Iu,scalar:Du,flat:Fu}));return ne?ne.addFettis(Rr):(ne=le(b,Rr,H,Ce,Re),ne.promise)}function ce(q){var Ce=B||y(q,"disableForReducedMotion",Boolean),Re=y(q,"zIndex",Number);if(Ce&&ae)return p(function(Ke){Ke()});I&&ne?b=ne.canvas:I&&!b&&(b=j(Re),document.body.appendChild(b)),D&&!Q&&H(b);var Oe={width:b.width,height:b.height};$&&!Q&&$.init(b),Q=!0,$&&(b.__confetti_initialized=!0);function Ve(){if($){var Ke={getBoundingClientRect:function(){if(!I)return b.getBoundingClientRect()}};H(Ke),$.postMessage({resize:{width:Ke.width,height:Ke.height}});return}Oe.width=Oe.height=null}function We(){ne=null,D&&(L=!1,t.removeEventListener("resize",Ve)),I&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,Q=!1)}return D&&!L&&(L=!0,t.addEventListener("resize",Ve,!1)),$?$.fire(q,Oe,We):ie(q,Oe,We)}return ce.reset=function(){$&&$.reset(),ne&&ne.reset()},ce}var Y;function te(){return Y||(Y=Z(null,{useWorker:!0,resize:!0})),Y}function K(b,w,I,D,L,B,W){var $=new Path2D(b),H=new Path2D;H.addPath($,new DOMMatrix(w));var Q=new Path2D;return Q.addPath(H,new DOMMatrix([Math.cos(W)*L,Math.sin(W)*L,-Math.sin(W)*B,Math.cos(W)*B,I,D])),Q}function pe(b){if(!s)throw new Error("path confetti are not supported in this browser");var w,I;typeof b=="string"?w=b:(w=b.path,I=b.matrix);var D=new Path2D(w),L=document.createElement("canvas"),B=L.getContext("2d");if(!I){for(var W=1e3,$=W,H=W,Q=0,ae=0,ne,ie,ce=0;ce<W;ce+=2)for(var q=0;q<W;q+=2)B.isPointInPath(D,ce,q,"nonzero")&&($=Math.min($,ce),H=Math.min(H,q),Q=Math.max(Q,ce),ae=Math.max(ae,q));ne=Q-$,ie=ae-H;var Ce=10,Re=Math.min(Ce/ne,Ce/ie);I=[Re,0,0,Re,-Math.round(ne/2+$)*Re,-Math.round(ie/2+H)*Re]}return{type:"path",path:w,matrix:I}}function ve(b){var w,I=1,D="#000000",L='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?w=b:(w=b.text,I="scalar"in b?b.scalar:I,L="fontFamily"in b?b.fontFamily:L,D="color"in b?b.color:D);var B=10*I,W=""+B+"px "+L,$=new OffscreenCanvas(B,B),H=$.getContext("2d");H.font=W;var Q=H.measureText(w),ae=Math.ceil(Q.actualBoundingBoxRight+Q.actualBoundingBoxLeft),ne=Math.ceil(Q.actualBoundingBoxAscent+Q.actualBoundingBoxDescent),ie=2,ce=Q.actualBoundingBoxLeft+ie,q=Q.actualBoundingBoxAscent+ie;ae+=ie+ie,ne+=ie+ie,$=new OffscreenCanvas(ae,ne),H=$.getContext("2d"),H.font=W,H.fillStyle=D,H.fillText(w,ce,q);var Ce=1/I;return{type:"bitmap",bitmap:$.transferToImageBitmap(),matrix:[Ce,0,0,Ce,-ae*Ce/2,-ne*Ce/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=Z,n.exports.shapeFromPath=pe,n.exports.shapeFromText=ve})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ia,!1);const vr=ia.exports;ia.exports.create;const yr=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?vr.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):vr)({...e})};yr.shapeFromPath=e=>vr.shapeFromPath({...e});yr.shapeFromText=e=>vr.shapeFromText({...e});const Om=()=>{const t=Date.now()+5e3,n={startVelocity:30,spread:360,ticks:60,zIndex:0},r=(a,s)=>Math.random()*(s-a)+a,o=window.setInterval(()=>{const a=t-Date.now();if(a<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((u,f)=>{f>0&&u.remove()}),clearInterval(o);const s=50*(a/5e3);yr({...n,particleCount:s,zIndex:50,origin:{x:r(.1,.3),y:Math.random()-.2}}),yr({...n,particleCount:s,zIndex:50,origin:{x:r(.7,.9),y:Math.random()-.2}})},250)},Im=e=>{const t=ye(s=>({shadows:s.shadows,animation:s.animations,transparency:s.transparency})),[n,r]=Ge(s=>[s.setCardGameVisibility,s.toggleSettings]),o=Me(s=>({isGameOver:s.isGameOver,isWon:s.isWon,reason:s.reason,score:s.score,reset:s.reset,continue:s.enableInfinityMode})),a=pl.sort((s,u)=>u.score-s.score).findIndex(({score:s})=>o.score>=s);return C.useEffect(()=>{o.isGameOver&&o.isWon&&t.animation&&e.show&&(me.victory.play(),Om())},[o.isGameOver,o.isWon,t.animation,e.show]),l.jsx("div",{className:e.show?"block":"hidden",children:o.isGameOver&&l.jsx("div",{className:P("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":t.transparency,"bg-background":!t.transparency}),children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[l.jsxs(dl,{className:"flex flex-col select-none",max:10,reverse:!0,children:[l.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),l.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[o.isWon&&l.jsx("div",{className:"text-green-500",children:"Tu as gagné !"}),!o.isWon&&l.jsx("div",{className:"text-red-500",children:"Tu as perdu !"})]})]}),o.reason&&l.jsx("p",{className:"text-4xl",children:{reputation:"Tu as utilisé toute ta jauge de réputation...",mill:"Tu n'as plus de carte...","soft-lock":"Ta main est injouable..."}[o.reason]}),o.isWon?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ql,{className:"*:h-10 text-3xl"}),l.jsx("div",{className:P("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:a>=0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-3xl",children:["Rank:"," ",l.jsxs("span",{className:P("font-changa text-4xl",vo(a)),children:["# ",a+1]})]}),l.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[l.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contacte-moi"})," ","pour ",l.jsx("br",{})," soumettre ton score !"]})]}):l.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Tu n'es pas classé, ",l.jsx("br",{})," ton score est trop faible."," ",l.jsx("br",{})," Essaye"," ",Ne.difficulty==="noob"||Ne.difficulty==="easy"?l.jsxs(l.Fragment,{children:["une difficulté plus élevée ! ",l.jsx("br",{}),l.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:r,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):l.jsx("div",{className:"text-2xl group/helpers",children:mn.filter(s=>{switch(o.reason){case"reputation":return s.includes("@reputation")||s.includes("gagnez la partie");case"mill":return s.includes("plus jouer")||s.includes("défausse")||s.includes("limitée")||s.includes("gagnez la partie");case"soft-lock":return s.includes("plus jouer")||s.includes("progressivement")||s.includes("cartes à jouer")||s.includes("gagnez la partie");default:return!1}}).map((s,u)=>l.jsx("div",{className:P("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":t.animation}),children:l.jsx("p",{className:P("hover:text-foreground",{[P("animate-trigger",{"delay-0":u===0,"delay-100":u===1,"delay-200":u===2,"delay-300":u===3,"delay-500":u===4,"delay-700":u===5})]:t.animation}),dangerouslySetInnerHTML:{__html:we(s)}})},u))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(X,{onClick:()=>n(!1),variant:"default",children:"Quitter"}),l.jsx(X,{onClick:()=>o.reset(),variant:o.isWon?"default":"cta",size:o.isWon?"default":"cta",children:o.isWon?"Nouvelle partie":"Recommencer"}),o.isWon&&l.jsx(X,{onClick:()=>o.continue(),variant:"cta",size:"cta",children:"Mode infini"})]}),o.isWon&&l.jsx("div",{className:P({"animate-bounce w-full hover:duration-500":t.animation}),children:l.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:P("text-xl block mx-auto w-[300px] text-center border-2 border-upgrade rounded-xl py-3",{"transition-colors duration-500 ease-in-out":t.animation,"bg-card/50 hover:bg-card":t.transparency,"bg-card":!t.transparency}),children:"Buy me a coffee ☕️"})})]})})})},$m=e=>{const t=ye(o=>o.animations),n=Me(o=>o.reset),r=Ge(o=>()=>o.setCardGameVisibility(!1));return l.jsx("div",{className:P("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":t,"-bottom-12":e.show,"delay-500":e.delay&&t}),children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{onClick:()=>r(),variant:"default",children:"Revenir à l'accueil"}),l.jsx(X,{onClick:()=>n(),variant:"default",children:"Recommencer"})]})})},Xr=10,Dm=e=>{const t=Me(n=>n.logs.toReversed());return l.jsx("div",{id:"logs",className:P("absolute right-0 bottom-0 translate-x-full pointer-events-none min-w-52",{hidden:!e.show}),children:l.jsx("table",{children:l.jsx("tbody",{children:new Array(Xr).fill(0).map((n,r)=>{const o=t.slice()[Xr-1-r];return o?l.jsxs("tr",{style:{opacity:r/Xr},children:[l.jsx("td",{children:l.jsx(Kp,{item:o.reason})}),l.jsx("td",{className:"pb-1.5",children:l.jsx("span",{className:P("inline-block ring-2",o.value>0?"ring-green-500":"ring-red-500",o.type==="money"?"":"rounded-full"),children:o.type==="money"?l.jsx(cl,{miniature:!0,value:String(o.value)}):l.jsx(Yt,{miniature:!0,symbol:!0,value:o.value,colors:P({"bg-reputation":o.type==="reputation","bg-energy":o.type==="energy"})})})})]},r):l.jsxs("tr",{children:[l.jsx("td",{className:"pb-1.5",children:l.jsx("span",{className:"inline-block h-7"})}),l.jsx("td",{})]},r)})})})})},Fm=e=>{const{shadows:t,animation:n}=ye(u=>({shadows:u.shadows,animation:u.animations})),[r,o]=C.useState(!0),[a,s]=C.useState(!1);return C.useEffect(()=>{e.show?(s(!0),o(!1)):(o(!0),s(!1))},[e.show]),l.jsxs("div",{className:P("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"delay-500":a&&n,"translate-x-0":e.show}),children:[l.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":t})}),l.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":t})}),l.jsx($m,{show:e.show,delay:r}),l.jsx(Dm,{show:e.show}),l.jsx(kn,{className:"space-y-2 w-[400px]",children:l.jsx(ql,{className:"*:h-6 text-lg",forHUD:!0})})]})},Lm=e=>{const t=C.useRef(null),n=Xi(t),{animation:r,shadow:o,transparency:a}=ye(f=>({animation:f.animations,transparency:f.transparency,shadow:f.shadows})),[s,u]=C.useState(0);return C.useEffect(()=>{const f=setInterval(()=>{n||u((s+1)%mn.length)},5e3);return()=>clearInterval(f)},[s,n]),l.jsx("div",{ref:t,className:P("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":a,"bg-card":!a,"shadow shadow-black/50":o&&a,"transition-transform duration-500 ease-in-out":r,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>u((s+1)%mn.length),children:l.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:l.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[l.jsx(sl,{className:"h-6 cursor-pointer"}),l.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:we(mn[s])}})]})})})},Bm=e=>{const{start:t}=Ju(),n=Ge(({tutorial:r})=>r);return C.useEffect(()=>{e.show&&n&&t()},[e.show,n]),null};function Hm(e){return C.createElement("div",{...e,className:P("w-full h-full aspect-square",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const Gm=e=>{const{shadows:t,animation:n,transparency:r}=ye(o=>({shadows:o.shadows,animation:o.animations,transparency:o.transparency}));return l.jsxs("div",{className:P("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"translate-x-0":e.show}),children:[l.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":t})}),l.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":t})}),l.jsx(kn,{children:l.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[l.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),l.jsx("div",{className:P("rounded-xl p-5",{"bg-card/40":r,"bg-card":!r}),children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{}),l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Mode"})]})}),l.jsx("tbody",{children:pl.sort((o,a)=>a.score-o.score).map((o,a)=>l.jsxs("tr",{className:P("*:whitespace-nowrap",vo(a)),children:[l.jsx("td",{children:a<3?l.jsx(Hm,{className:P("w-4",vo(a))}):""}),l.jsxs("th",{children:["# ",a+1]}),l.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:o.name}),l.jsxs("td",{children:[o.score.toLocaleString()," pts"]}),l.jsx("td",{children:o.mode})]},a))})]})}),l.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si tu as un meilleur score, tu peux me le ",l.jsx("br",{}),"soumettre en me contactant sur Discord ou LinkedIn !"]})]})})]})};function Xl(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sa="Checkbox",[zm,xv]=it(sa),[Wm,Vm]=zm(sa),Yl=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:s,disabled:u,value:f="on",onCheckedChange:p,...g}=e,[i,c]=x.useState(null),d=xe(t,S=>c(S)),h=x.useRef(!1),m=i?!!i.closest("form"):!0,[y=!1,v]=En({prop:o,defaultProp:a,onChange:p}),_=x.useRef(y);return x.useEffect(()=>{const S=i==null?void 0:i.form;if(S){const E=()=>v(_.current);return S.addEventListener("reset",E),()=>S.removeEventListener("reset",E)}},[i,v]),l.jsxs(Wm,{scope:n,state:y,disabled:u,children:[l.jsx(de.button,{type:"button",role:"checkbox","aria-checked":Mt(y)?"mixed":y,"aria-required":s,"data-state":Jl(y),"data-disabled":u?"":void 0,disabled:u,value:f,...g,ref:d,onKeyDown:ee(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ee(e.onClick,S=>{v(E=>Mt(E)?!0:!E),m&&(h.current=S.isPropagationStopped(),h.current||S.stopPropagation())})}),m&&l.jsx(Um,{control:i,bubbles:!h.current,name:r,value:f,checked:y,required:s,disabled:u,style:{transform:"translateX(-100%)"}})]})});Yl.displayName=sa;var Zl="CheckboxIndicator",Kl=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=Vm(Zl,n);return l.jsx(Dt,{present:r||Mt(a.state)||a.state===!0,children:l.jsx(de.span,{"data-state":Jl(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Kl.displayName=Zl;var Um=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=x.useRef(null),s=Xl(n),u=ea(t);return x.useEffect(()=>{const f=a.current,p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"checked").set;if(s!==n&&i){const c=new Event("click",{bubbles:r});f.indeterminate=Mt(n),i.call(f,Mt(n)?!1:n),f.dispatchEvent(c)}},[s,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:Mt(n)?!1:n,...o,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Mt(e){return e==="indeterminate"}function Jl(e){return Mt(e)?"indeterminate":e?"checked":"unchecked"}var Ql=Yl,qm=Kl;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ec=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ym={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:s,...u},f)=>x.createElement("svg",{ref:f,...Ym,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ec("lucide",o),...u},[...s.map(([p,g])=>x.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=(e,t)=>{const n=x.forwardRef(({className:r,...o},a)=>x.createElement(Zm,{ref:a,iconNode:t,className:ec(`lucide-${Xm(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=tc("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=tc("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),nc=x.forwardRef(({className:e,...t},n)=>l.jsx(Ql,{ref:n,className:P("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(qm,{className:P("flex items-center justify-center text-current"),children:l.jsx(Km,{className:"h-4 w-4"})})}));nc.displayName=Ql.displayName;function Qm(e){const t=e+"CollectionProvider",[n,r]=it(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=d=>{const{scope:h,children:m}=d,y=C.useRef(null),v=C.useRef(new Map).current;return l.jsx(o,{scope:h,itemMap:v,collectionRef:y,children:m})};s.displayName=t;const u=e+"CollectionSlot",f=C.forwardRef((d,h)=>{const{scope:m,children:y}=d,v=a(u,m),_=xe(h,v.collectionRef);return l.jsx(oo,{ref:_,children:y})});f.displayName=u;const p=e+"CollectionItemSlot",g="data-radix-collection-item",i=C.forwardRef((d,h)=>{const{scope:m,children:y,...v}=d,_=C.useRef(null),S=xe(h,_),E=a(p,m);return C.useEffect(()=>(E.itemMap.set(_,{ref:_,...v}),()=>void E.itemMap.delete(_))),l.jsx(oo,{[g]:"",ref:S,children:y})});i.displayName=p;function c(d){const h=a(e+"CollectionConsumer",d);return C.useCallback(()=>{const y=h.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${g}]`));return Array.from(h.itemMap.values()).sort((E,A)=>v.indexOf(E.ref.current)-v.indexOf(A.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:s,Slot:f,ItemSlot:i},c,r]}var eg=qu.useId||(()=>{}),tg=0;function Kn(e){const[t,n]=x.useState(eg());return Ot(()=>{n(r=>r??String(tg++))},[e]),t?`radix-${t}`:""}var ng=x.createContext(void 0);function rc(e){const t=x.useContext(ng);return e||t||"ltr"}var Yr="rovingFocusGroup.onEntryFocus",rg={bubbles:!1,cancelable:!0},Nr="RovingFocusGroup",[So,oc,og]=Qm(Nr),[ag,ac]=it(Nr,[og]),[ig,sg]=ag(Nr),ic=x.forwardRef((e,t)=>l.jsx(So.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(So.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(lg,{...e,ref:t})})}));ic.displayName=Nr;var lg=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...i}=e,c=x.useRef(null),d=xe(t,c),h=rc(a),[m=null,y]=En({prop:s,defaultProp:u,onChange:f}),[v,_]=x.useState(!1),S=dt(p),E=oc(n),A=x.useRef(!1),[M,R]=x.useState(0);return x.useEffect(()=>{const N=c.current;if(N)return N.addEventListener(Yr,S),()=>N.removeEventListener(Yr,S)},[S]),l.jsx(ig,{scope:n,orientation:r,dir:h,loop:o,currentTabStopId:m,onItemFocus:x.useCallback(N=>y(N),[y]),onItemShiftTab:x.useCallback(()=>_(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(N=>N+1),[]),onFocusableItemRemove:x.useCallback(()=>R(N=>N-1),[]),children:l.jsx(de.div,{tabIndex:v||M===0?-1:0,"data-orientation":r,...i,ref:d,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{A.current=!0}),onFocus:ee(e.onFocus,N=>{const j=!A.current;if(N.target===N.currentTarget&&j&&!v){const U=new CustomEvent(Yr,rg);if(N.currentTarget.dispatchEvent(U),!U.defaultPrevented){const J=E().filter(te=>te.focusable),fe=J.find(te=>te.active),le=J.find(te=>te.id===m),Y=[fe,le,...J].filter(Boolean).map(te=>te.ref.current);cc(Y,g)}}A.current=!1}),onBlur:ee(e.onBlur,()=>_(!1))})})}),sc="RovingFocusGroupItem",lc=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...s}=e,u=Kn(),f=a||u,p=sg(sc,n),g=p.currentTabStopId===f,i=oc(n),{onFocusableItemAdd:c,onFocusableItemRemove:d}=p;return x.useEffect(()=>{if(r)return c(),()=>d()},[r,c,d]),l.jsx(So.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:l.jsx(de.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...s,ref:t,onMouseDown:ee(e.onMouseDown,h=>{r?p.onItemFocus(f):h.preventDefault()}),onFocus:ee(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:ee(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){p.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const m=dg(h,p.orientation,p.dir);if(m!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let v=i().filter(_=>_.focusable).map(_=>_.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const _=v.indexOf(h.currentTarget);v=p.loop?fg(v,_+1):v.slice(_+1)}setTimeout(()=>cc(v))}})})})});lc.displayName=sc;var cg={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ug(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dg(e,t,n){const r=ug(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cg[r]}function cc(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function fg(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var pg=ic,hg=lc,la="Radio",[mg,uc]=it(la),[gg,vg]=mg(la),dc=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:a,disabled:s,value:u="on",onCheck:f,...p}=e,[g,i]=x.useState(null),c=xe(t,m=>i(m)),d=x.useRef(!1),h=g?!!g.closest("form"):!0;return l.jsxs(gg,{scope:n,checked:o,disabled:s,children:[l.jsx(de.button,{type:"button",role:"radio","aria-checked":o,"data-state":hc(o),"data-disabled":s?"":void 0,disabled:s,value:u,...p,ref:c,onClick:ee(e.onClick,m=>{o||f==null||f(),h&&(d.current=m.isPropagationStopped(),d.current||m.stopPropagation())})}),h&&l.jsx(yg,{control:g,bubbles:!d.current,name:r,value:u,checked:o,required:a,disabled:s,style:{transform:"translateX(-100%)"}})]})});dc.displayName=la;var fc="RadioIndicator",pc=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,a=vg(fc,n);return l.jsx(Dt,{present:r||a.checked,children:l.jsx(de.span,{"data-state":hc(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});pc.displayName=fc;var yg=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=x.useRef(null),s=Xl(n),u=ea(t);return x.useEffect(()=>{const f=a.current,p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"checked").set;if(s!==n&&i){const c=new Event("click",{bubbles:r});i.call(f,n),f.dispatchEvent(c)}},[s,n,r]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hc(e){return e?"checked":"unchecked"}var xg=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ca="RadioGroup",[wg,wv]=it(ca,[ac,uc]),mc=ac(),gc=uc(),[_g,bg]=wg(ca),vc=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:a,required:s=!1,disabled:u=!1,orientation:f,dir:p,loop:g=!0,onValueChange:i,...c}=e,d=mc(n),h=rc(p),[m,y]=En({prop:a,defaultProp:o,onChange:i});return l.jsx(_g,{scope:n,name:r,required:s,disabled:u,value:m,onValueChange:y,children:l.jsx(pg,{asChild:!0,...d,orientation:f,dir:h,loop:g,children:l.jsx(de.div,{role:"radiogroup","aria-required":s,"aria-orientation":f,"data-disabled":u?"":void 0,dir:h,...c,ref:t})})})});vc.displayName=ca;var yc="RadioGroupItem",xc=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,a=bg(yc,n),s=a.disabled||r,u=mc(n),f=gc(n),p=x.useRef(null),g=xe(t,p),i=a.value===o.value,c=x.useRef(!1);return x.useEffect(()=>{const d=m=>{xg.includes(m.key)&&(c.current=!0)},h=()=>c.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",h)}},[]),l.jsx(hg,{asChild:!0,...u,focusable:!s,active:i,children:l.jsx(dc,{disabled:s,required:a.required,checked:i,...f,...o,name:a.name,ref:g,onCheck:()=>a.onValueChange(o.value),onKeyDown:ee(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:ee(o.onFocus,()=>{var d;c.current&&((d=p.current)==null||d.click())})})})});xc.displayName=yc;var Sg="RadioGroupIndicator",wc=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=gc(n);return l.jsx(pc,{...o,...r,ref:t})});wc.displayName=Sg;var _c=vc,bc=xc,Cg=wc;const Sc=x.forwardRef(({className:e,...t},n)=>l.jsx(_c,{className:P("grid gap-2",e),...t,ref:n}));Sc.displayName=_c.displayName;const Cc=x.forwardRef(({className:e,...t},n)=>l.jsx(bc,{ref:n,className:P("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Cg,{className:"flex items-center justify-center",children:l.jsx(Jm,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Cc.displayName=bc.displayName;var Zr="focusScope.autoFocusOnMount",Kr="focusScope.autoFocusOnUnmount",Di={bubbles:!1,cancelable:!0},kg="FocusScope",kc=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[u,f]=x.useState(null),p=dt(o),g=dt(a),i=x.useRef(null),c=xe(t,m=>f(m)),d=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(S){if(d.paused||!u)return;const E=S.target;u.contains(E)?i.current=E:wt(i.current,{select:!0})},y=function(S){if(d.paused||!u)return;const E=S.relatedTarget;E!==null&&(u.contains(E)||wt(i.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&wt(u)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const _=new MutationObserver(v);return u&&_.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),_.disconnect()}}},[r,u,d.paused]),x.useEffect(()=>{if(u){Li.add(d);const m=document.activeElement;if(!u.contains(m)){const v=new CustomEvent(Zr,Di);u.addEventListener(Zr,p),u.dispatchEvent(v),v.defaultPrevented||(Eg(Ng(Ec(u)),{select:!0}),document.activeElement===m&&wt(u))}return()=>{u.removeEventListener(Zr,p),setTimeout(()=>{const v=new CustomEvent(Kr,Di);u.addEventListener(Kr,g),u.dispatchEvent(v),v.defaultPrevented||wt(m??document.body,{select:!0}),u.removeEventListener(Kr,g),Li.remove(d)},0)}}},[u,p,g,d]);const h=x.useCallback(m=>{if(!n&&!r||d.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const _=m.currentTarget,[S,E]=Pg(_);S&&E?!m.shiftKey&&v===E?(m.preventDefault(),n&&wt(S,{select:!0})):m.shiftKey&&v===S&&(m.preventDefault(),n&&wt(E,{select:!0})):v===_&&m.preventDefault()}},[n,r,d.paused]);return l.jsx(de.div,{tabIndex:-1,...s,ref:c,onKeyDown:h})});kc.displayName=kg;function Eg(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wt(r,{select:t}),document.activeElement!==n)return}function Pg(e){const t=Ec(e),n=Fi(t,e),r=Fi(t.reverse(),e);return[n,r]}function Ec(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fi(e,t){for(const n of e)if(!Ag(n,{upTo:t}))return n}function Ag(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Tg(e){return e instanceof HTMLInputElement&&"select"in e}function wt(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Tg(e)&&t&&e.select()}}var Li=jg();function jg(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Bi(e,t),e.unshift(t)},remove(t){var n;e=Bi(e,t),(n=e[0])==null||n.resume()}}}function Bi(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ng(e){return e.filter(t=>t.tagName!=="A")}var Jr=0;function Mg(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hi()),document.body.insertAdjacentElement("beforeend",e[1]??Hi()),Jr++,()=>{Jr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jr--}},[])}function Hi(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var nt=function(){return nt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},nt.apply(this,arguments)};function Pc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Rg(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Jn="right-scroll-bar-position",Qn="width-before-scroll-bar",Og="with-scroll-bars-hidden",Ig="--removed-body-scroll-bar-size";function Qr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $g(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Dg=typeof window<"u"?x.useLayoutEffect:x.useEffect,Gi=new WeakMap;function Fg(e,t){var n=$g(null,function(r){return e.forEach(function(o){return Qr(o,r)})});return Dg(function(){var r=Gi.get(n);if(r){var o=new Set(r),a=new Set(e),s=n.current;o.forEach(function(u){a.has(u)||Qr(u,null)}),a.forEach(function(u){o.has(u)||Qr(u,s)})}Gi.set(n,e)},[e]),n}function Lg(e){return e}function Bg(e,t){t===void 0&&(t=Lg);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(u){return u!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var u=n;n=[],u.forEach(a),s=n}var f=function(){var g=s;s=[],g.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){s.push(g),p()},filter:function(g){return s=s.filter(g),n}}}};return o}function Hg(e){e===void 0&&(e={});var t=Bg(null);return t.options=nt({async:!0,ssr:!1},e),t}var Ac=function(e){var t=e.sideCar,n=Pc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,nt({},n))};Ac.isSideCarExport=!0;function Gg(e,t){return e.useMedium(t),Ac}var Tc=Hg(),eo=function(){},Mr=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:eo,onWheelCapture:eo,onTouchMoveCapture:eo}),o=r[0],a=r[1],s=e.forwardProps,u=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,i=e.shards,c=e.sideCar,d=e.noIsolation,h=e.inert,m=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,_=e.gapMode,S=Pc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=c,A=Fg([n,t]),M=nt(nt({},S),o);return x.createElement(x.Fragment,null,g&&x.createElement(E,{sideCar:Tc,removeScrollBar:p,shards:i,noIsolation:d,inert:h,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:_}),s?x.cloneElement(x.Children.only(u),nt(nt({},M),{ref:A})):x.createElement(v,nt({},M,{className:f,ref:A}),u))});Mr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mr.classNames={fullWidth:Qn,zeroRight:Jn};var zg=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wg(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zg();return t&&e.setAttribute("nonce",t),e}function Vg(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ug(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qg=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Wg())&&(Vg(t,n),Ug(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xg=function(){var e=qg();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},jc=function(){var e=Xg(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Yg={left:0,top:0,right:0,gap:0},to=function(e){return parseInt(e||"",10)||0},Zg=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[to(n),to(r),to(o)]},Kg=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yg;var t=Zg(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Jg=jc(),Ut="data-scroll-locked",Qg=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Og,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ut,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jn,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Qn,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Jn," .").concat(Jn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qn," .").concat(Qn,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ut,`] {
    `).concat(Ig,": ").concat(u,`px;
  }
`)},zi=function(){var e=parseInt(document.body.getAttribute(Ut)||"0",10);return isFinite(e)?e:0},e0=function(){x.useEffect(function(){return document.body.setAttribute(Ut,(zi()+1).toString()),function(){var e=zi()-1;e<=0?document.body.removeAttribute(Ut):document.body.setAttribute(Ut,e.toString())}},[])},t0=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;e0();var a=x.useMemo(function(){return Kg(o)},[o]);return x.createElement(Jg,{styles:Qg(a,!t,o,n?"":"!important")})},Co=!1;if(typeof window<"u")try{var $n=Object.defineProperty({},"passive",{get:function(){return Co=!0,!0}});window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Co=!1}var Ft=Co?{passive:!1}:!1,n0=function(e){return e.tagName==="TEXTAREA"},Nc=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n0(e)&&n[t]==="visible")},r0=function(e){return Nc(e,"overflowY")},o0=function(e){return Nc(e,"overflowX")},Wi=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Mc(e,r);if(o){var a=Rc(e,r),s=a[1],u=a[2];if(s>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},a0=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},i0=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Mc=function(e,t){return e==="v"?r0(t):o0(t)},Rc=function(e,t){return e==="v"?a0(t):i0(t)},s0=function(e,t){return e==="h"&&t==="rtl"?-1:1},l0=function(e,t,n,r,o){var a=s0(e,window.getComputedStyle(t).direction),s=a*r,u=n.target,f=t.contains(u),p=!1,g=s>0,i=0,c=0;do{var d=Rc(e,u),h=d[0],m=d[1],y=d[2],v=m-y-a*h;(h||v)&&Mc(e,u)&&(i+=v,c+=h),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(g&&(Math.abs(i)<1||!o)||!g&&(Math.abs(c)<1||!o))&&(p=!0),p},Dn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vi=function(e){return[e.deltaX,e.deltaY]},Ui=function(e){return e&&"current"in e?e.current:e},c0=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u0=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d0=0,Lt=[];function f0(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),o=x.useState(d0++)[0],a=x.useState(jc)[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=Rg([e.lockRef.current],(e.shards||[]).map(Ui),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(m,y){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var v=Dn(m),_=n.current,S="deltaX"in m?m.deltaX:_[0]-v[0],E="deltaY"in m?m.deltaY:_[1]-v[1],A,M=m.target,R=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in m&&R==="h"&&M.type==="range")return!1;var N=Wi(R,M);if(!N)return!0;if(N?A=R:(A=R==="v"?"h":"v",N=Wi(R,M)),!N)return!1;if(!r.current&&"changedTouches"in m&&(S||E)&&(r.current=A),!A)return!0;var j=r.current||A;return l0(j,y,m,j==="h"?S:E,!0)},[]),f=x.useCallback(function(m){var y=m;if(!(!Lt.length||Lt[Lt.length-1]!==a)){var v="deltaY"in y?Vi(y):Dn(y),_=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&c0(A.delta,v)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var S=(s.current.shards||[]).map(Ui).filter(Boolean).filter(function(A){return A.contains(y.target)}),E=S.length>0?u(y,S[0]):!s.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),p=x.useCallback(function(m,y,v,_){var S={name:m,delta:y,target:v,should:_,shadowParent:p0(v)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),g=x.useCallback(function(m){n.current=Dn(m),r.current=void 0},[]),i=x.useCallback(function(m){p(m.type,Vi(m),m.target,u(m,e.lockRef.current))},[]),c=x.useCallback(function(m){p(m.type,Dn(m),m.target,u(m,e.lockRef.current))},[]);x.useEffect(function(){return Lt.push(a),e.setCallbacks({onScrollCapture:i,onWheelCapture:i,onTouchMoveCapture:c}),document.addEventListener("wheel",f,Ft),document.addEventListener("touchmove",f,Ft),document.addEventListener("touchstart",g,Ft),function(){Lt=Lt.filter(function(m){return m!==a}),document.removeEventListener("wheel",f,Ft),document.removeEventListener("touchmove",f,Ft),document.removeEventListener("touchstart",g,Ft)}},[]);var d=e.removeScrollBar,h=e.inert;return x.createElement(x.Fragment,null,h?x.createElement(a,{styles:u0(o)}):null,d?x.createElement(t0,{gapMode:e.gapMode}):null)}function p0(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const h0=Gg(Tc,f0);var Oc=x.forwardRef(function(e,t){return x.createElement(Mr,nt({},e,{ref:t,sideCar:h0}))});Oc.classNames=Mr.classNames;var m0=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bt=new WeakMap,Fn=new WeakMap,Ln={},no=0,Ic=function(e){return e&&(e.host||Ic(e.parentNode))},g0=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ic(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},v0=function(e,t,n,r){var o=g0(t,Array.isArray(e)?e:[e]);Ln[n]||(Ln[n]=new WeakMap);var a=Ln[n],s=[],u=new Set,f=new Set(o),p=function(i){!i||u.has(i)||(u.add(i),p(i.parentNode))};o.forEach(p);var g=function(i){!i||f.has(i)||Array.prototype.forEach.call(i.children,function(c){if(u.has(c))g(c);else try{var d=c.getAttribute(r),h=d!==null&&d!=="false",m=(Bt.get(c)||0)+1,y=(a.get(c)||0)+1;Bt.set(c,m),a.set(c,y),s.push(c),m===1&&h&&Fn.set(c,!0),y===1&&c.setAttribute(n,"true"),h||c.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",c,v)}})};return g(t),u.clear(),no++,function(){s.forEach(function(i){var c=Bt.get(i)-1,d=a.get(i)-1;Bt.set(i,c),a.set(i,d),c||(Fn.has(i)||i.removeAttribute(r),Fn.delete(i)),d||i.removeAttribute(n)}),no--,no||(Bt=new WeakMap,Bt=new WeakMap,Fn=new WeakMap,Ln={})}},y0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=m0(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),v0(r,o,n,"aria-hidden")):function(){return null}},ua="Dialog",[$c,Dc]=it(ua),[x0,Ze]=$c(ua),Fc=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,u=x.useRef(null),f=x.useRef(null),[p=!1,g]=En({prop:r,defaultProp:o,onChange:a});return l.jsx(x0,{scope:t,triggerRef:u,contentRef:f,contentId:Kn(),titleId:Kn(),descriptionId:Kn(),open:p,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(i=>!i),[g]),modal:s,children:n})};Fc.displayName=ua;var Lc="DialogTrigger",Bc=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ze(Lc,n),a=xe(t,o.triggerRef);return l.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":pa(o.open),...r,ref:a,onClick:ee(e.onClick,o.onOpenToggle)})});Bc.displayName=Lc;var da="DialogPortal",[w0,Hc]=$c(da,{forceMount:void 0}),Gc=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Ze(da,t);return l.jsx(w0,{scope:t,forceMount:n,children:x.Children.map(r,s=>l.jsx(Dt,{present:n||a.open,children:l.jsx(Il,{asChild:!0,container:o,children:s})}))})};Gc.displayName=da;var xr="DialogOverlay",zc=x.forwardRef((e,t)=>{const n=Hc(xr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Ze(xr,e.__scopeDialog);return a.modal?l.jsx(Dt,{present:r||a.open,children:l.jsx(_0,{...o,ref:t})}):null});zc.displayName=xr;var _0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ze(xr,n);return l.jsx(Oc,{as:oo,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(de.div,{"data-state":pa(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),It="DialogContent",Wc=x.forwardRef((e,t)=>{const n=Hc(It,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Ze(It,e.__scopeDialog);return l.jsx(Dt,{present:r||a.open,children:a.modal?l.jsx(b0,{...o,ref:t}):l.jsx(S0,{...o,ref:t})})});Wc.displayName=It;var b0=x.forwardRef((e,t)=>{const n=Ze(It,e.__scopeDialog),r=x.useRef(null),o=xe(t,n.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return y0(a)},[]),l.jsx(Vc,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0;(s.button===2||u)&&a.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,a=>a.preventDefault())})}),S0=x.forwardRef((e,t)=>{const n=Ze(It,e.__scopeDialog),r=x.useRef(!1),o=x.useRef(!1);return l.jsx(Vc,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,u;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Vc=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,u=Ze(It,n),f=x.useRef(null),p=xe(t,f);return Mg(),l.jsxs(l.Fragment,{children:[l.jsx(kc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(ra,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":pa(u.open),...s,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(k0,{titleId:u.titleId}),l.jsx(P0,{contentRef:f,descriptionId:u.descriptionId})]})]})}),fa="DialogTitle",Uc=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ze(fa,n);return l.jsx(de.h2,{id:o.titleId,...r,ref:t})});Uc.displayName=fa;var qc="DialogDescription",Xc=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ze(qc,n);return l.jsx(de.p,{id:o.descriptionId,...r,ref:t})});Xc.displayName=qc;var Yc="DialogClose",Zc=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ze(Yc,n);return l.jsx(de.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>o.onOpenChange(!1))})});Zc.displayName=Yc;function pa(e){return e?"open":"closed"}var Kc="DialogTitleWarning",[C0,Jc]=Qu(Kc,{contentName:It,titleName:fa,docsSlug:"dialog"}),k0=({titleId:e})=>{const t=Jc(Kc),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},E0="DialogDescriptionWarning",P0=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jc(E0).contentName}}.`;return x.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},A0=Fc,T0=Bc,j0=Gc,N0=zc,M0=Wc,R0=Uc,O0=Xc,Qc=Zc,eu="AlertDialog",[I0,_v]=it(eu,[Dc]),mt=Dc(),tu=e=>{const{__scopeAlertDialog:t,...n}=e,r=mt(t);return l.jsx(A0,{...r,...n,modal:!0})};tu.displayName=eu;var $0="AlertDialogTrigger",nu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=mt(n);return l.jsx(T0,{...o,...r,ref:t})});nu.displayName=$0;var D0="AlertDialogPortal",ru=e=>{const{__scopeAlertDialog:t,...n}=e,r=mt(t);return l.jsx(j0,{...r,...n})};ru.displayName=D0;var F0="AlertDialogOverlay",ou=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=mt(n);return l.jsx(N0,{...o,...r,ref:t})});ou.displayName=F0;var qt="AlertDialogContent",[L0,B0]=I0(qt),au=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=mt(n),s=x.useRef(null),u=xe(t,s),f=x.useRef(null);return l.jsx(C0,{contentName:qt,titleName:iu,docsSlug:"alert-dialog",children:l.jsx(L0,{scope:n,cancelRef:f,children:l.jsxs(M0,{role:"alertdialog",...a,...o,ref:u,onOpenAutoFocus:ee(o.onOpenAutoFocus,p=>{var g;p.preventDefault(),(g=f.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(Xu,{children:r}),l.jsx(G0,{contentRef:s})]})})})});au.displayName=qt;var iu="AlertDialogTitle",su=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=mt(n);return l.jsx(R0,{...o,...r,ref:t})});su.displayName=iu;var lu="AlertDialogDescription",cu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=mt(n);return l.jsx(O0,{...o,...r,ref:t})});cu.displayName=lu;var H0="AlertDialogAction",uu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=mt(n);return l.jsx(Qc,{...o,...r,ref:t})});uu.displayName=H0;var du="AlertDialogCancel",fu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=B0(du,n),a=mt(n),s=xe(t,o);return l.jsx(Qc,{...a,...r,ref:s})});fu.displayName=du;var G0=({contentRef:e})=>{const t=`\`${qt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qt}\` by passing a \`${lu}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},z0=tu,W0=nu,V0=ru,pu=ou,hu=au,mu=uu,gu=fu,vu=su,yu=cu;const U0=z0,q0=W0,X0=V0,xu=x.forwardRef(({className:e,...t},n)=>{const r=ye(o=>({transparency:o.transparency,animation:o.animations}));return l.jsx(pu,{className:P("fixed inset-0 z-50",{"bg-black/80":r.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":r.animation},e),...t,ref:n})});xu.displayName=pu.displayName;const wu=x.forwardRef(({className:e,...t},n)=>l.jsxs(X0,{children:[l.jsx(xu,{}),l.jsx(hu,{ref:n,className:P("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wu.displayName=hu.displayName;const _u=({className:e,...t})=>l.jsx("div",{className:P("flex flex-col space-y-2 text-center sm:text-left",e),...t});_u.displayName="AlertDialogHeader";const bu=({className:e,...t})=>l.jsx("div",{className:P("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bu.displayName="AlertDialogFooter";const Su=x.forwardRef(({className:e,...t},n)=>l.jsx(vu,{ref:n,className:P("text-lg font-semibold",e),...t}));Su.displayName=vu.displayName;const Cu=x.forwardRef(({className:e,...t},n)=>l.jsx(yu,{ref:n,className:P("text-sm text-muted-foreground",e),...t}));Cu.displayName=yu.displayName;const ku=x.forwardRef(({className:e,...t},n)=>l.jsx(mu,{ref:n,className:P(Yi({variant:"cta"}),e),...t}));ku.displayName=mu.displayName;const Eu=x.forwardRef(({className:e,...t},n)=>l.jsx(gu,{ref:n,className:P(Yi({variant:"default"}),"mt-2 sm:mt-0",e),...t}));Eu.displayName=gu.displayName;const Y0=e=>{const[t,n]=C.useState(0);return C.useEffect(()=>{const r=[];let o=!0;function a(){window.requestAnimationFrame(()=>{const s=performance.now();for(;r.length>0&&r[0]<=s-1e3;)r.shift();r.push(s),n(r.length),o&&a()})}return a(),()=>{o=!1}},[]),l.jsxs("span",{...e,children:[t," FPS"]})},Z0=e=>{const t=Me(p=>p.score),n=Ge(p=>p.toggleSettings),r=ye(),[o,a]=C.useState(Ne.difficulty),s=x.useMemo(()=>o!==Ne.difficulty,[o]),u=x.useMemo(()=>r.animations!==Ne.quality.animations||o!==Ne.difficulty,[r,o]),f=C.useCallback(()=>{localStorage.setItem("settings",JSON.stringify({difficulty:o,quality:JSON.parse(localStorage.getItem("settings")??JSON.stringify(Ne)).quality})),u?window.location.reload():n()},[o,u,n]);return l.jsxs("div",{className:P("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":r.animations,"opacity-0 bg-background/80":r.transparency,hidden:!r.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[l.jsx("div",{onClick:n,className:P("absolute w-full h-full left-0 top-0",{"pointer-events-auto":e.show,"pointer-events-none":!e.show})}),l.jsxs(kn,{className:"space-y-4 z-40",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("h2",{className:"text-3xl",children:"Settings"}),e.show&&l.jsx(Y0,{className:"text-2xl font-mono"})]}),l.jsxs("div",{className:P("flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",{"*:bg-card/30":r.transparency,"*:bg-card":!r.transparency}),children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Difficulté"}),l.jsx(Sc,{className:"space-y-0 gap-0",defaultValue:o,onValueChange:p=>{a(p)},children:Object.keys(Eo).map(p=>l.jsxs(ao,{className:"flex items-center gap-2 py-2",children:[l.jsx(Cc,{value:p}),ro[p]]},p))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Qualité"}),l.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(Ne.quality).map(p=>l.jsxs(ao,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[l.jsx(nc,{defaultChecked:r[p],onCheckedChange:g=>r.update({[p]:g})}),ro[p]]},p))})]})]}),l.jsxs("div",{className:"flex gap-5",children:[t>0&&u?l.jsxs(U0,{children:[l.jsx(q0,{children:l.jsx(X,{variant:s?"cta":"default",disabled:!s,children:"Appliquer"})}),l.jsxs(wu,{className:"w-fit",children:[l.jsxs(_u,{children:[l.jsx(Su,{className:"text-2xl",children:"Une partie est en cours !"}),l.jsxs(Cu,{children:["Cette action va réinitialiser ta partie. ",l.jsx("br",{}),"Es-tu sûr de vouloir continuer ?"]})]}),l.jsxs(bu,{children:[l.jsx(Eu,{children:"Cancel"}),l.jsx(ku,{onClick:f,children:"Continue"})]})]})]}):l.jsx(X,{variant:s?"cta":"default",disabled:!s,onClick:f,children:"Appliquer"}),u&&l.jsxs("div",{className:"flex-grow border rounded-xl flex items-center gap-3 px-3",children:[l.jsx(cn,{className:"w-5"})," Un rechargement peut être nécessaire."]})]})]})]})},K0=e=>{const t=ye(r=>({shadows:r.shadows,animation:r.animations,transparency:r})),n=Me(r=>r.upgrades);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:"upgrades",className:"pointer-events-none fixed w-[300px] h-24 top-2 left-1/2 -translate-x-1/2"}),l.jsx("div",{className:P("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":t.animation,"top-0":e.show&&n.length>0}),children:l.jsx("div",{className:P("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":n.length>5,"-translate-y-[25%]":n.length>10,"shadow shadow-black/50":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:l.jsx("div",{className:P("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":n.length>5,"translate-y-[25%]":n.length>10}),children:n.map((r,o)=>{const a=el[r.eventName];return l.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[l.jsx("img",{src:`images/upgrades/${r.image}`,alt:r.name,className:P("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":r.state==="triggered"&&t.animation,"ring-foreground":r.state==="triggered"&&!t.animation})}),l.jsx("div",{className:"h-6 relative",children:l.jsxs("div",{className:"relative",children:[r.max!==1/0&&l.jsx(_r,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:r.cumul/r.max*100}),l.jsx(Yt,{value:l.jsx(a.icon,{}),colors:"colors"in a?a.colors:"bg-background",miniature:!0,className:"absolute h-6 w-6",style:{top:"-15px",left:"-15px",transform:"translate(0, -50%)"}}),l.jsx(Yt,{value:r.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),l.jsxs(kn,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[l.jsxs("h3",{className:"text-xl font-changa",children:[r.name," ",l.jsxs("span",{className:"text-upgrade font-bold",children:[r.cumul,r.max!==1/0&&r.max!==null?`/${r.max}`:""]})]}),l.jsx("p",{dangerouslySetInnerHTML:{__html:we(rl(r.description,r.cumul))}}),l.jsx(tl,{eventName:r.eventName})]})]},o)})})})})]})};var ha={},Pu={exports:{}},J0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q0=J0,ev=Q0;function Au(){}function Tu(){}Tu.resetWarningCache=Au;var tv=function(){function e(r,o,a,s,u,f){if(f!==ev){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Tu,resetWarningCache:Au};return n.PropTypes=n,n};Pu.exports=tv();var nv=Pu.exports,ju=void 0;typeof window<"u"&&(ju=ke);var rv=ju,ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.noop=function(){};Object.defineProperty(ha,"__esModule",{value:!0});var ov=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nu=x,av=Mu(Nu),iv=nv,ue=Mu(iv),qi=rv,lt=ma;function Mu(e){return e&&e.__esModule?e:{default:e}}function sv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ga=function(e){cv(t,e);function t(n){sv(this,t);var r=lv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.initHowler=r.initHowler.bind(r),r}return ov(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(r){JSON.stringify(r.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(r)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof qi.Howl<"u"&&(this.howler=new qi.Howl({src:r.src,xhr:r.xhr,format:r.format,mute:r.mute,loop:r.loop,preload:r.preload,volume:r.volume,rate:r.rate,onend:r.onEnd,onplay:r.onPlay,onplayerror:r.onPlayError,onpause:r.onPause,onvolume:r.onVolume,onstop:r.onStop,onload:r.onLoad,onseek:r.onSeek,onloaderror:r.onLoadError,html5:r.html5}),r.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(r){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),r.mute!==this.props.mute&&this.mute(this.props.mute),r.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var r=this.howler.playing();r||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.pause(r):this.howler.pause()}},{key:"rate",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof r=="number"&&(o?this.howler.rate(r,o):this.howler.rate(r))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.stop(r):this.howler.stop()}},{key:"mute",value:function(){var r;(r=this.howler).mute.apply(r,arguments)}},{key:"volume",value:function(){var r;return(r=this.howler).volume.apply(r,arguments)}},{key:"loop",value:function(){var r;return(r=this.howler).loop.apply(r,arguments)}},{key:"seek",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!r&&r!==0)return this.howler.seek();if(r||r===0)return this.howler.seek(r),r}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return av.default.createElement("div",null)}},{key:"howler",set:function(r){r&&(this._howler=r)},get:function(){return this._howler}}]),t}(Nu.Component);ga.propTypes={src:ue.default.oneOfType([ue.default.string,ue.default.arrayOf(ue.default.string)]).isRequired,format:ue.default.arrayOf(ue.default.string),xhr:ue.default.object,playing:ue.default.bool,mute:ue.default.bool,loop:ue.default.bool,preload:ue.default.bool,volume:ue.default.number,rate:ue.default.number,onEnd:ue.default.func,onPause:ue.default.func,onPlay:ue.default.func,onPlayError:ue.default.func,onVolume:ue.default.func,onStop:ue.default.func,onLoad:ue.default.func,onSeek:ue.default.func,onLoadError:ue.default.func,html5:ue.default.bool};ga.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:lt.noop,onPause:lt.noop,onPlay:lt.noop,onPlayError:lt.noop,onVolume:lt.noop,onStop:lt.noop,onLoad:lt.noop,onSeek:lt.noop,onLoadError:lt.noop,html5:!1};ha.default=ga;var uv=ha.default;const dv=Yu(uv),Ht=.4,fv=()=>{const e=Me(a=>a.isGameOver),t=Ge(a=>a.musicVolume),n=Ge(a=>a.musicMuted),r=Ge(a=>a.setMusicVolume),o=Ge(a=>a.isCardGameVisible);return C.useEffect(()=>{let a;return o&&!e&&t<Ht?a=setInterval(()=>{r(s=>s<Ht?Math.min(Ht,s+Ht/10):(clearInterval(a),s))},100):(!o||e)&&t>0&&(a=setInterval(()=>{r(s=>s>0?Math.max(0,s-Ht/10):(clearInterval(a),s))},100)),()=>clearInterval(a)},[o,e]),l.jsx(dv,{src:"sounds/music.mp3",volume:Math.min(Ht,t),mute:n,loop:!0,playing:!0})},pv=e=>{var r;const t=Me(o=>({notification:o.notification})),n=ye(o=>({animations:o.animations,transparency:o.transparency}));return l.jsx("div",{className:P("absolute w-full h-full z-50 flex justify-center items-center pointer-events-none",{"bg-gradient-to-b from-transparent to-transparent animate-notification-bg":!!t.notification,hidden:!e.show||!n.transparency||!n.animations},(r=t.notification)==null?void 0:r[1]),children:t.notification&&l.jsx("div",{className:"animate-notification font-changa text-8xl",children:t.notification[0]})})},hv=e=>{const t=Ge(a=>a.toggleRules),n=Me(a=>({scoreAverage:a.scoreAverage,totalMoney:a.totalMoney,wonGames:a.wonGames,playedGames:a.playedGames,discoveries:a.discoveries,achievements:a.achievements,addDiscovery:a.addDiscovery,addAchievement:a.addAchievement,addWonGame:a.addWonGame,addPlayedGame:a.addPlayedGame})),[r,o]=C.useState(0);return l.jsx("div",{onClick:a=>{a.target===a.currentTarget&&t()},className:P("absolute z-50 w-screen h-svh flex justify-center items-center",{"bg-background/80":!0,hidden:!e.show}),children:l.jsxs("div",{className:"relative bg-background/80 space-y-4 p-10 rounded-xl pointer-events-auto",children:[l.jsx(X,{onClick:t,variant:"icon",size:"sm",className:"absolute top-5 right-5",children:l.jsx(Zu,{})}),l.jsx("h1",{className:"text-5xl",children:"Informations"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-card p-5 rounded-xl space-y-2",children:[l.jsx("h2",{className:"text-3xl",children:"Règles du jeu"}),mn.map((a,s)=>l.jsx("div",{dangerouslySetInnerHTML:{__html:we(a)}},s))]}),l.jsxs("div",{className:"grid grid-rows-3 gap-4 *:bg-card *:p-5 *:rounded-xl *:space-y-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl",children:"Taux de conversion"}),l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-right",children:l.jsx(ao,{htmlFor:"energy-input",dangerouslySetInnerHTML:{__html:we("En @energy :")}})}),l.jsx("th",{children:l.jsx(Ku,{id:"energy-input",min:0,type:"number",value:r,onChange:a=>o(+a.target.value),placeholder:"Entre une valeur en énergie",className:"w-fit h-6 pb-0 pt-1 px-1"})})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"text-right",children:"En Dollars :"}),l.jsx("td",{dangerouslySetInnerHTML:{__html:we(`${r*G}M$`)}})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-right",dangerouslySetInnerHTML:{__html:we("En @reputation :")}}),l.jsx("td",{children:(r/Po).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-right",dangerouslySetInnerHTML:{__html:we("En @day :")}}),l.jsxs("td",{children:[r*tt>1?`${Math.floor(r*tt)} jours`:" ",r*tt%1>0&&r*tt>1?" et ":" ",Math.floor(r*tt%1*24)," heures et"," ",Math.floor(r*tt%1*24%1*60)," ","minutes"]})]})]})]})]}),l.jsxs("div",{className:"row-span-2 flex flex-col gap-5",children:[l.jsx("h2",{className:"text-3xl",children:"Statistiques"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-changa",children:"Général"}),l.jsx("table",{children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"Score moyen"}),l.jsxs("td",{className:"font-changa text-upgrade",children:[n.scoreAverage," pts"]})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Argent total"}),l.jsx("td",{dangerouslySetInnerHTML:{__html:we(`${n.totalMoney}M$`)}})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Parties gagnées"}),l.jsx("td",{children:n.wonGames})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Parties jouées"}),l.jsx("td",{children:n.playedGames})]})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-changa",children:"Cartes découvertes"}),l.jsx("ul",{children:n.discoveries.length>0?n.discoveries.map((a,s)=>l.jsx("li",{children:a},s)):"Aucune découverte"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-changa",children:"Succès"}),l.jsx("ul",{children:n.achievements.length>0?n.achievements.map((a,s)=>l.jsx("li",{children:a},s)):"Aucun succès"})]})]})]})]})]})})},bv=()=>{const[e,t,n]=Ge(r=>[r.isCardGameVisible,r.settingsVisible,r.rulesVisible]);return l.jsxs(ud,{steps:Tp,opaqueStyle:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:[l.jsx(fv,{}),l.jsx(Lm,{show:e}),l.jsx(Vp,{show:e}),l.jsx(Gm,{show:e}),l.jsx(Fm,{show:e}),l.jsx(Im,{show:e}),l.jsx(Wp,{show:e}),l.jsx(K0,{show:e}),l.jsx(Rp,{show:e}),l.jsx(Z0,{show:e&&t}),l.jsx(hv,{show:e&&n}),l.jsx(Up,{show:e}),l.jsx(Bm,{show:e}),l.jsx(pv,{show:e}),!1]})};export{bv as Game};
