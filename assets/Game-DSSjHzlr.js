import{a as commonjsGlobal,s as settings,d as create,e as useQualitySettings,u as useGlobalState,j as jsxRuntimeExports,c as cn,B as Button,r as reactExports,S as Slot,f as reactDomExports,R as React,C as Card,g as useHover,h as buttonVariants,i as BorderLight,k as cva,l as useComposedRefs,m as React$1,n as ReactDOM,o as Slottable}from"./index-DqzqYUwm.js";var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var a=function(){this.init()};a.prototype={init:function(){var r=this||t;return r._counter=1e3,r._html5AudioPool=[],r.html5PoolSize=10,r._codecs={},r._howls=[],r._muted=!1,r._volume=1,r._canPlayEvent="canplaythrough",r._navigator=typeof window<"u"&&window.navigator?window.navigator:null,r.masterGain=null,r.noAudio=!1,r.usingWebAudio=!0,r.autoSuspend=!0,r.ctx=null,r.autoUnlock=!0,r._setup(),r},volume:function(r){var s=this||t;if(r=parseFloat(r),s.ctx||h(),typeof r<"u"&&r>=0&&r<=1){if(s._volume=r,s._muted)return s;s.usingWebAudio&&s.masterGain.gain.setValueAtTime(r,t.ctx.currentTime);for(var i=0;i<s._howls.length;i++)if(!s._howls[i]._webAudio)for(var u=s._howls[i]._getSoundIds(),f=0;f<u.length;f++){var v=s._howls[i]._soundById(u[f]);v&&v._node&&(v._node.volume=v._volume*r)}return s}return s._volume},mute:function(r){var s=this||t;s.ctx||h(),s._muted=r,s.usingWebAudio&&s.masterGain.gain.setValueAtTime(r?0:s._volume,t.ctx.currentTime);for(var i=0;i<s._howls.length;i++)if(!s._howls[i]._webAudio)for(var u=s._howls[i]._getSoundIds(),f=0;f<u.length;f++){var v=s._howls[i]._soundById(u[f]);v&&v._node&&(v._node.muted=r?!0:v._muted)}return s},stop:function(){for(var r=this||t,s=0;s<r._howls.length;s++)r._howls[s].stop();return r},unload:function(){for(var r=this||t,s=r._howls.length-1;s>=0;s--)r._howls[s].unload();return r.usingWebAudio&&r.ctx&&typeof r.ctx.close<"u"&&(r.ctx.close(),r.ctx=null,h()),r},codecs:function(r){return(this||t)._codecs[r.replace(/^x-/,"")]},_setup:function(){var r=this||t;if(r.state=r.ctx&&r.ctx.state||"suspended",r._autoSuspend(),!r.usingWebAudio)if(typeof Audio<"u")try{var s=new Audio;typeof s.oncanplaythrough>"u"&&(r._canPlayEvent="canplay")}catch{r.noAudio=!0}else r.noAudio=!0;try{var s=new Audio;s.muted&&(r.noAudio=!0)}catch{}return r.noAudio||r._setupCodecs(),r},_setupCodecs:function(){var r=this||t,s=null;try{s=typeof Audio<"u"?new Audio:null}catch{return r}if(!s||typeof s.canPlayType!="function")return r;var i=s.canPlayType("audio/mpeg;").replace(/^no$/,""),u=r._navigator?r._navigator.userAgent:"",f=u.match(/OPR\/(\d+)/g),v=f&&parseInt(f[0].split("/")[1],10)<33,g=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,x=u.match(/Version\/(.*?) /),_=g&&x&&parseInt(x[1],10)<15;return r._codecs={mp3:!!(!v&&(i||s.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!i,opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(s.canPlayType('audio/wav; codecs="1"')||s.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!s.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(s.canPlayType("audio/x-m4b;")||s.canPlayType("audio/m4b;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!_&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!_&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!s.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(s.canPlayType("audio/x-flac;")||s.canPlayType("audio/flac;")).replace(/^no$/,"")},r},_unlockAudio:function(){var r=this||t;if(!(r._audioUnlocked||!r.ctx)){r._audioUnlocked=!1,r.autoUnlock=!1,!r._mobileUnloaded&&r.ctx.sampleRate!==44100&&(r._mobileUnloaded=!0,r.unload()),r._scratchBuffer=r.ctx.createBuffer(1,1,22050);var s=function(i){for(;r._html5AudioPool.length<r.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,r._releaseHtml5Audio(u)}catch{r.noAudio=!0;break}for(var f=0;f<r._howls.length;f++)if(!r._howls[f]._webAudio)for(var v=r._howls[f]._getSoundIds(),g=0;g<v.length;g++){var x=r._howls[f]._soundById(v[g]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}r._autoResume();var _=r.ctx.createBufferSource();_.buffer=r._scratchBuffer,_.connect(r.ctx.destination),typeof _.start>"u"?_.noteOn(0):_.start(0),typeof r.ctx.resume=="function"&&r.ctx.resume(),_.onended=function(){_.disconnect(0),r._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0),document.removeEventListener("keydown",s,!0);for(var y=0;y<r._howls.length;y++)r._howls[y]._emit("unlock")}};return document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),document.addEventListener("keydown",s,!0),r}},_obtainHtml5Audio:function(){var r=this||t;if(r._html5AudioPool.length)return r._html5AudioPool.pop();var s=new Audio().play();return s&&typeof Promise<"u"&&(s instanceof Promise||typeof s.then=="function")&&s.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(r){var s=this||t;return r._unlocked&&s._html5AudioPool.push(r),s},_autoSuspend:function(){var r=this;if(!(!r.autoSuspend||!r.ctx||typeof r.ctx.suspend>"u"||!t.usingWebAudio)){for(var s=0;s<r._howls.length;s++)if(r._howls[s]._webAudio){for(var i=0;i<r._howls[s]._sounds.length;i++)if(!r._howls[s]._sounds[i]._paused)return r}return r._suspendTimer&&clearTimeout(r._suspendTimer),r._suspendTimer=setTimeout(function(){if(r.autoSuspend){r._suspendTimer=null,r.state="suspending";var u=function(){r.state="suspended",r._resumeAfterSuspend&&(delete r._resumeAfterSuspend,r._autoResume())};r.ctx.suspend().then(u,u)}},3e4),r}},_autoResume:function(){var r=this;if(!(!r.ctx||typeof r.ctx.resume>"u"||!t.usingWebAudio))return r.state==="running"&&r.ctx.state!=="interrupted"&&r._suspendTimer?(clearTimeout(r._suspendTimer),r._suspendTimer=null):r.state==="suspended"||r.state==="running"&&r.ctx.state==="interrupted"?(r.ctx.resume().then(function(){r.state="running";for(var s=0;s<r._howls.length;s++)r._howls[s]._emit("resume")}),r._suspendTimer&&(clearTimeout(r._suspendTimer),r._suspendTimer=null)):r.state==="suspending"&&(r._resumeAfterSuspend=!0),r}};var t=new a,n=function(r){var s=this;if(!r.src||r.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}s.init(r)};n.prototype={init:function(r){var s=this;return t.ctx||h(),s._autoplay=r.autoplay||!1,s._format=typeof r.format!="string"?r.format:[r.format],s._html5=r.html5||!1,s._muted=r.mute||!1,s._loop=r.loop||!1,s._pool=r.pool||5,s._preload=typeof r.preload=="boolean"||r.preload==="metadata"?r.preload:!0,s._rate=r.rate||1,s._sprite=r.sprite||{},s._src=typeof r.src!="string"?r.src:[r.src],s._volume=r.volume!==void 0?r.volume:1,s._xhr={method:r.xhr&&r.xhr.method?r.xhr.method:"GET",headers:r.xhr&&r.xhr.headers?r.xhr.headers:null,withCredentials:r.xhr&&r.xhr.withCredentials?r.xhr.withCredentials:!1},s._duration=0,s._state="unloaded",s._sounds=[],s._endTimers={},s._queue=[],s._playLock=!1,s._onend=r.onend?[{fn:r.onend}]:[],s._onfade=r.onfade?[{fn:r.onfade}]:[],s._onload=r.onload?[{fn:r.onload}]:[],s._onloaderror=r.onloaderror?[{fn:r.onloaderror}]:[],s._onplayerror=r.onplayerror?[{fn:r.onplayerror}]:[],s._onpause=r.onpause?[{fn:r.onpause}]:[],s._onplay=r.onplay?[{fn:r.onplay}]:[],s._onstop=r.onstop?[{fn:r.onstop}]:[],s._onmute=r.onmute?[{fn:r.onmute}]:[],s._onvolume=r.onvolume?[{fn:r.onvolume}]:[],s._onrate=r.onrate?[{fn:r.onrate}]:[],s._onseek=r.onseek?[{fn:r.onseek}]:[],s._onunlock=r.onunlock?[{fn:r.onunlock}]:[],s._onresume=[],s._webAudio=t.usingWebAudio&&!s._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(s),s._autoplay&&s._queue.push({event:"play",action:function(){s.play()}}),s._preload&&s._preload!=="none"&&s.load(),s},load:function(){var r=this,s=null;if(t.noAudio){r._emit("loaderror",null,"No audio support.");return}typeof r._src=="string"&&(r._src=[r._src]);for(var i=0;i<r._src.length;i++){var u,f;if(r._format&&r._format[i])u=r._format[i];else{if(f=r._src[i],typeof f!="string"){r._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(f),u||(u=/\.([^.]+)$/.exec(f.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){s=r._src[i];break}}if(!s){r._emit("loaderror",null,"No codec support for selected audio sources.");return}return r._src=s,r._state="loading",window.location.protocol==="https:"&&s.slice(0,5)==="http:"&&(r._html5=!0,r._webAudio=!1),new o(r),r._webAudio&&l(r),r},play:function(r,s){var i=this,u=null;if(typeof r=="number")u=r,r=null;else{if(typeof r=="string"&&i._state==="loaded"&&!i._sprite[r])return null;if(typeof r>"u"&&(r="__default",!i._playLock)){for(var f=0,v=0;v<i._sounds.length;v++)i._sounds[v]._paused&&!i._sounds[v]._ended&&(f++,u=i._sounds[v]._id);f===1?r=null:u=null}}var g=u?i._soundById(u):i._inactiveSound();if(!g)return null;if(u&&!r&&(r=g._sprite||"__default"),i._state!=="loaded"){g._sprite=r,g._ended=!1;var x=g._id;return i._queue.push({event:"play",action:function(){i.play(x)}}),x}if(u&&!g._paused)return s||i._loadQueue("play"),g._id;i._webAudio&&t._autoResume();var _=Math.max(0,g._seek>0?g._seek:i._sprite[r][0]/1e3),y=Math.max(0,(i._sprite[r][0]+i._sprite[r][1])/1e3-_),E=y*1e3/Math.abs(g._rate),A=i._sprite[r][0]/1e3,R=(i._sprite[r][0]+i._sprite[r][1])/1e3;g._sprite=r,g._ended=!1;var b=function(){g._paused=!1,g._seek=_,g._start=A,g._stop=R,g._loop=!!(g._loop||i._sprite[r][2])};if(_>=R){i._ended(g);return}var w=g._node;if(i._webAudio){var N=function(){i._playLock=!1,b(),i._refreshBuffer(g);var S=g._muted||i._muted?0:g._volume;w.gain.setValueAtTime(S,t.ctx.currentTime),g._playStart=t.ctx.currentTime,typeof w.bufferSource.start>"u"?g._loop?w.bufferSource.noteGrainOn(0,_,86400):w.bufferSource.noteGrainOn(0,_,y):g._loop?w.bufferSource.start(0,_,86400):w.bufferSource.start(0,_,y),E!==1/0&&(i._endTimers[g._id]=setTimeout(i._ended.bind(i,g),E)),s||setTimeout(function(){i._emit("play",g._id),i._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?N():(i._playLock=!0,i.once("resume",N),i._clearTimer(g._id))}else{var j=function(){w.currentTime=_,w.muted=g._muted||i._muted||t._muted||w.muted,w.volume=g._volume*t.volume(),w.playbackRate=g._rate;try{var S=w.play();if(S&&typeof Promise<"u"&&(S instanceof Promise||typeof S.then=="function")?(i._playLock=!0,b(),S.then(function(){i._playLock=!1,w._unlocked=!0,s?i._loadQueue():i._emit("play",g._id)}).catch(function(){i._playLock=!1,i._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):s||(i._playLock=!1,b(),i._emit("play",g._id)),w.playbackRate=g._rate,w.paused){i._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}r!=="__default"||g._loop?i._endTimers[g._id]=setTimeout(i._ended.bind(i,g),E):(i._endTimers[g._id]=function(){i._ended(g),w.removeEventListener("ended",i._endTimers[g._id],!1)},w.addEventListener("ended",i._endTimers[g._id],!1))}catch(O){i._emit("playerror",g._id,O)}};w.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(w.src=i._src,w.load());var P=window&&window.ejecta||!w.readyState&&t._navigator.isCocoonJS;if(w.readyState>=3||P)j();else{i._playLock=!0,i._state="loading";var T=function(){i._state="loaded",j(),w.removeEventListener(t._canPlayEvent,T,!1)};w.addEventListener(t._canPlayEvent,T,!1),i._clearTimer(g._id)}}return g._id},pause:function(r){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"pause",action:function(){s.pause(r)}}),s;for(var i=s._getSoundIds(r),u=0;u<i.length;u++){s._clearTimer(i[u]);var f=s._soundById(i[u]);if(f&&!f._paused&&(f._seek=s.seek(i[u]),f._rateSeek=0,f._paused=!0,s._stopFade(i[u]),f._node))if(s._webAudio){if(!f._node.bufferSource)continue;typeof f._node.bufferSource.stop>"u"?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),s._cleanBuffer(f._node)}else(!isNaN(f._node.duration)||f._node.duration===1/0)&&f._node.pause();arguments[1]||s._emit("pause",f?f._id:null)}return s},stop:function(r,s){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(r)}}),i;for(var u=i._getSoundIds(r),f=0;f<u.length;f++){i._clearTimer(u[f]);var v=i._soundById(u[f]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,i._stopFade(u[f]),v._node&&(i._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),i._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&i._clearSound(v._node))),s||i._emit("stop",v._id))}return i},mute:function(r,s){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(r,s)}}),i;if(typeof s>"u")if(typeof r=="boolean")i._muted=r;else return i._muted;for(var u=i._getSoundIds(s),f=0;f<u.length;f++){var v=i._soundById(u[f]);v&&(v._muted=r,v._interval&&i._stopFade(v._id),i._webAudio&&v._node?v._node.gain.setValueAtTime(r?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:r),i._emit("mute",v._id))}return i},volume:function(){var r=this,s=arguments,i,u;if(s.length===0)return r._volume;if(s.length===1||s.length===2&&typeof s[1]>"u"){var f=r._getSoundIds(),v=f.indexOf(s[0]);v>=0?u=parseInt(s[0],10):i=parseFloat(s[0])}else s.length>=2&&(i=parseFloat(s[0]),u=parseInt(s[1],10));var g;if(typeof i<"u"&&i>=0&&i<=1){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,s)}}),r;typeof u>"u"&&(r._volume=i),u=r._getSoundIds(u);for(var x=0;x<u.length;x++)g=r._soundById(u[x]),g&&(g._volume=i,s[2]||r._stopFade(u[x]),r._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(i,t.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=i*t.volume()),r._emit("volume",g._id))}else return g=u?r._soundById(u):r._sounds[0],g?g._volume:0;return r},fade:function(r,s,i,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"fade",action:function(){f.fade(r,s,i,u)}}),f;r=Math.min(Math.max(0,parseFloat(r)),1),s=Math.min(Math.max(0,parseFloat(s)),1),i=parseFloat(i),f.volume(r,u);for(var v=f._getSoundIds(u),g=0;g<v.length;g++){var x=f._soundById(v[g]);if(x){if(u||f._stopFade(v[g]),f._webAudio&&!x._muted){var _=t.ctx.currentTime,y=_+i/1e3;x._volume=r,x._node.gain.setValueAtTime(r,_),x._node.gain.linearRampToValueAtTime(s,y)}f._startFadeInterval(x,r,s,i,v[g],typeof u>"u")}}return f},_startFadeInterval:function(r,s,i,u,f,v){var g=this,x=s,_=i-s,y=Math.abs(_/.01),E=Math.max(4,y>0?u/y:u),A=Date.now();r._fadeTo=i,r._interval=setInterval(function(){var R=(Date.now()-A)/u;A=Date.now(),x+=_*R,x=Math.round(x*100)/100,_<0?x=Math.max(i,x):x=Math.min(i,x),g._webAudio?r._volume=x:g.volume(x,r._id,!0),v&&(g._volume=x),(i<s&&x<=i||i>s&&x>=i)&&(clearInterval(r._interval),r._interval=null,r._fadeTo=null,g.volume(i,r._id),g._emit("fade",r._id))},E)},_stopFade:function(r){var s=this,i=s._soundById(r);return i&&i._interval&&(s._webAudio&&i._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(i._interval),i._interval=null,s.volume(i._fadeTo,r),i._fadeTo=null,s._emit("fade",r)),s},loop:function(){var r=this,s=arguments,i,u,f;if(s.length===0)return r._loop;if(s.length===1)if(typeof s[0]=="boolean")i=s[0],r._loop=i;else return f=r._soundById(parseInt(s[0],10)),f?f._loop:!1;else s.length===2&&(i=s[0],u=parseInt(s[1],10));for(var v=r._getSoundIds(u),g=0;g<v.length;g++)f=r._soundById(v[g]),f&&(f._loop=i,r._webAudio&&f._node&&f._node.bufferSource&&(f._node.bufferSource.loop=i,i&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop,r.playing(v[g])&&(r.pause(v[g],!0),r.play(v[g],!0)))));return r},rate:function(){var r=this,s=arguments,i,u;if(s.length===0)u=r._sounds[0]._id;else if(s.length===1){var f=r._getSoundIds(),v=f.indexOf(s[0]);v>=0?u=parseInt(s[0],10):i=parseFloat(s[0])}else s.length===2&&(i=parseFloat(s[0]),u=parseInt(s[1],10));var g;if(typeof i=="number"){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,s)}}),r;typeof u>"u"&&(r._rate=i),u=r._getSoundIds(u);for(var x=0;x<u.length;x++)if(g=r._soundById(u[x]),g){r.playing(u[x])&&(g._rateSeek=r.seek(u[x]),g._playStart=r._webAudio?t.ctx.currentTime:g._playStart),g._rate=i,r._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(i,t.ctx.currentTime):g._node&&(g._node.playbackRate=i);var _=r.seek(u[x]),y=(r._sprite[g._sprite][0]+r._sprite[g._sprite][1])/1e3-_,E=y*1e3/Math.abs(g._rate);(r._endTimers[u[x]]||!g._paused)&&(r._clearTimer(u[x]),r._endTimers[u[x]]=setTimeout(r._ended.bind(r,g),E)),r._emit("rate",g._id)}}else return g=r._soundById(u),g?g._rate:r._rate;return r},seek:function(){var r=this,s=arguments,i,u;if(s.length===0)r._sounds.length&&(u=r._sounds[0]._id);else if(s.length===1){var f=r._getSoundIds(),v=f.indexOf(s[0]);v>=0?u=parseInt(s[0],10):r._sounds.length&&(u=r._sounds[0]._id,i=parseFloat(s[0]))}else s.length===2&&(i=parseFloat(s[0]),u=parseInt(s[1],10));if(typeof u>"u")return 0;if(typeof i=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,s)}}),r;var g=r._soundById(u);if(g)if(typeof i=="number"&&i>=0){var x=r.playing(u);x&&r.pause(u,!0),g._seek=i,g._ended=!1,r._clearTimer(u),!r._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=i);var _=function(){x&&r.play(u,!0),r._emit("seek",u)};if(x&&!r._webAudio){var y=function(){r._playLock?setTimeout(y,0):_()};setTimeout(y,0)}else _()}else if(r._webAudio){var E=r.playing(u)?t.ctx.currentTime-g._playStart:0,A=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(A+E*Math.abs(g._rate))}else return g._node.currentTime;return r},playing:function(r){var s=this;if(typeof r=="number"){var i=s._soundById(r);return i?!i._paused:!1}for(var u=0;u<s._sounds.length;u++)if(!s._sounds[u]._paused)return!0;return!1},duration:function(r){var s=this,i=s._duration,u=s._soundById(r);return u&&(i=s._sprite[u._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var r=this,s=r._sounds,i=0;i<s.length;i++)s[i]._paused||r.stop(s[i]._id),r._webAudio||(r._clearSound(s[i]._node),s[i]._node.removeEventListener("error",s[i]._errorFn,!1),s[i]._node.removeEventListener(t._canPlayEvent,s[i]._loadFn,!1),s[i]._node.removeEventListener("ended",s[i]._endFn,!1),t._releaseHtml5Audio(s[i]._node)),delete s[i]._node,r._clearTimer(s[i]._id);var u=t._howls.indexOf(r);u>=0&&t._howls.splice(u,1);var f=!0;for(i=0;i<t._howls.length;i++)if(t._howls[i]._src===r._src||r._src.indexOf(t._howls[i]._src)>=0){f=!1;break}return c&&f&&delete c[r._src],t.noAudio=!1,r._state="unloaded",r._sounds=[],r=null,null},on:function(r,s,i,u){var f=this,v=f["_on"+r];return typeof s=="function"&&v.push(u?{id:i,fn:s,once:u}:{id:i,fn:s}),f},off:function(r,s,i){var u=this,f=u["_on"+r],v=0;if(typeof s=="number"&&(i=s,s=null),s||i)for(v=0;v<f.length;v++){var g=i===f[v].id;if(s===f[v].fn&&g||!s&&g){f.splice(v,1);break}}else if(r)u["_on"+r]=[];else{var x=Object.keys(u);for(v=0;v<x.length;v++)x[v].indexOf("_on")===0&&Array.isArray(u[x[v]])&&(u[x[v]]=[])}return u},once:function(r,s,i){var u=this;return u.on(r,s,i,1),u},_emit:function(r,s,i){for(var u=this,f=u["_on"+r],v=f.length-1;v>=0;v--)(!f[v].id||f[v].id===s||r==="load")&&(setTimeout((function(g){g.call(this,s,i)}).bind(u,f[v].fn),0),f[v].once&&u.off(r,f[v].fn,f[v].id));return u._loadQueue(r),u},_loadQueue:function(r){var s=this;if(s._queue.length>0){var i=s._queue[0];i.event===r&&(s._queue.shift(),s._loadQueue()),r||i.action()}return s},_ended:function(r){var s=this,i=r._sprite;if(!s._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(s._ended.bind(s,r),100),s;var u=!!(r._loop||s._sprite[i][2]);if(s._emit("end",r._id),!s._webAudio&&u&&s.stop(r._id,!0).play(r._id),s._webAudio&&u){s._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=t.ctx.currentTime;var f=(r._stop-r._start)*1e3/Math.abs(r._rate);s._endTimers[r._id]=setTimeout(s._ended.bind(s,r),f)}return s._webAudio&&!u&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,s._clearTimer(r._id),s._cleanBuffer(r._node),t._autoSuspend()),!s._webAudio&&!u&&s.stop(r._id,!0),s},_clearTimer:function(r){var s=this;if(s._endTimers[r]){if(typeof s._endTimers[r]!="function")clearTimeout(s._endTimers[r]);else{var i=s._soundById(r);i&&i._node&&i._node.removeEventListener("ended",s._endTimers[r],!1)}delete s._endTimers[r]}return s},_soundById:function(r){for(var s=this,i=0;i<s._sounds.length;i++)if(r===s._sounds[i]._id)return s._sounds[i];return null},_inactiveSound:function(){var r=this;r._drain();for(var s=0;s<r._sounds.length;s++)if(r._sounds[s]._ended)return r._sounds[s].reset();return new o(r)},_drain:function(){var r=this,s=r._pool,i=0,u=0;if(!(r._sounds.length<s)){for(u=0;u<r._sounds.length;u++)r._sounds[u]._ended&&i++;for(u=r._sounds.length-1;u>=0;u--){if(i<=s)return;r._sounds[u]._ended&&(r._webAudio&&r._sounds[u]._node&&r._sounds[u]._node.disconnect(0),r._sounds.splice(u,1),i--)}}},_getSoundIds:function(r){var s=this;if(typeof r>"u"){for(var i=[],u=0;u<s._sounds.length;u++)i.push(s._sounds[u]._id);return i}else return[r]},_refreshBuffer:function(r){var s=this;return r._node.bufferSource=t.ctx.createBufferSource(),r._node.bufferSource.buffer=c[s._src],r._panner?r._node.bufferSource.connect(r._panner):r._node.bufferSource.connect(r._node),r._node.bufferSource.loop=r._loop,r._loop&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop||0),r._node.bufferSource.playbackRate.setValueAtTime(r._rate,t.ctx.currentTime),s},_cleanBuffer:function(r){var s=this,i=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!r.bufferSource)return s;if(t._scratchBuffer&&r.bufferSource&&(r.bufferSource.onended=null,r.bufferSource.disconnect(0),i))try{r.bufferSource.buffer=t._scratchBuffer}catch{}return r.bufferSource=null,s},_clearSound:function(r){var s=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);s||(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(r){this._parent=r,this.init()};o.prototype={init:function(){var r=this,s=r._parent;return r._muted=s._muted,r._loop=s._loop,r._volume=s._volume,r._rate=s._rate,r._seek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,s._sounds.push(r),r.create(),r},create:function(){var r=this,s=r._parent,i=t._muted||r._muted||r._parent._muted?0:r._volume;return s._webAudio?(r._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),r._node.gain.setValueAtTime(i,t.ctx.currentTime),r._node.paused=!0,r._node.connect(t.masterGain)):t.noAudio||(r._node=t._obtainHtml5Audio(),r._errorFn=r._errorListener.bind(r),r._node.addEventListener("error",r._errorFn,!1),r._loadFn=r._loadListener.bind(r),r._node.addEventListener(t._canPlayEvent,r._loadFn,!1),r._endFn=r._endListener.bind(r),r._node.addEventListener("ended",r._endFn,!1),r._node.src=s._src,r._node.preload=s._preload===!0?"auto":s._preload,r._node.volume=i*t.volume(),r._node.load()),r},reset:function(){var r=this,s=r._parent;return r._muted=s._muted,r._loop=s._loop,r._volume=s._volume,r._rate=s._rate,r._seek=0,r._rateSeek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,r},_errorListener:function(){var r=this;r._parent._emit("loaderror",r._id,r._node.error?r._node.error.code:0),r._node.removeEventListener("error",r._errorFn,!1)},_loadListener:function(){var r=this,s=r._parent;s._duration=Math.ceil(r._node.duration*10)/10,Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue()),r._node.removeEventListener(t._canPlayEvent,r._loadFn,!1)},_endListener:function(){var r=this,s=r._parent;s._duration===1/0&&(s._duration=Math.ceil(r._node.duration*10)/10,s._sprite.__default[1]===1/0&&(s._sprite.__default[1]=s._duration*1e3),s._ended(r)),r._node.removeEventListener("ended",r._endFn,!1)}};var c={},l=function(r){var s=r._src;if(c[s]){r._duration=c[s].duration,m(r);return}if(/^data:[^;]+;base64,/.test(s)){for(var i=atob(s.split(",")[1]),u=new Uint8Array(i.length),f=0;f<i.length;++f)u[f]=i.charCodeAt(f);p(u.buffer,r)}else{var v=new XMLHttpRequest;v.open(r._xhr.method,s,!0),v.withCredentials=r._xhr.withCredentials,v.responseType="arraybuffer",r._xhr.headers&&Object.keys(r._xhr.headers).forEach(function(g){v.setRequestHeader(g,r._xhr.headers[g])}),v.onload=function(){var g=(v.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){r._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}p(v.response,r)},v.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete c[s],r.load())},d(v)}},d=function(r){try{r.send()}catch{r.onerror()}},p=function(r,s){var i=function(){s._emit("loaderror",null,"Decoding audio data failed.")},u=function(f){f&&s._sounds.length>0?(c[s._src]=f,m(s,f)):i()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(r).then(u).catch(i):t.ctx.decodeAudioData(r,u,i)},m=function(r,s){s&&!r._duration&&(r._duration=s.duration),Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue())},h=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),s=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=s?parseInt(s[1],10):null;if(r&&i&&i<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=n,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=a,commonjsGlobal.Howler=t,commonjsGlobal.Howl=n,commonjsGlobal.Sound=o):typeof window<"u"&&(window.HowlerGlobal=a,window.Howler=t,window.Howl=n,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var o=n._howls.length-1;o>=0;o--)n._howls[o].stereo(t);return n},HowlerGlobal.prototype.pos=function(t,n,o){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(n=typeof n!="number"?c._pos[1]:n,o=typeof o!="number"?c._pos[2]:o,typeof t=="number")c._pos=[t,n,o],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(t,n,o,c,l,d){var p=this;if(!p.ctx||!p.ctx.listener)return p;var m=p._orientation;if(n=typeof n!="number"?m[1]:n,o=typeof o!="number"?m[2]:o,c=typeof c!="number"?m[3]:c,l=typeof l!="number"?m[4]:l,d=typeof d!="number"?m[5]:d,typeof t=="number")p._orientation=[t,n,o,c,l,d],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(t,n,o,c,l,d);else return m;return p},Howl.prototype.init=function(t){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._stereo=n.stereo||null,o._pos=n.pos||null,o._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},o._onstereo=n.onstereo?[{fn:n.onstereo}]:[],o._onpos=n.onpos?[{fn:n.onpos}]:[],o._onorientation=n.onorientation?[{fn:n.onorientation}]:[],t.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,n)}}),o;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var l=o._getSoundIds(n),d=0;d<l.length;d++){var p=o._soundById(l[d]);if(p)if(typeof t=="number")p._stereo=t,p._pos=[t,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&a(p,c),c==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(t,0,0):p._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",p._id);else return p._stereo}return o},Howl.prototype.pos=function(t,n,o,c){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(t,n,o,c)}}),l;if(n=typeof n!="number"?0:n,o=typeof o!="number"?-.5:o,typeof c>"u")if(typeof t=="number")l._pos=[t,n,o];else return l._pos;for(var d=l._getSoundIds(c),p=0;p<d.length;p++){var m=l._soundById(d[p]);if(m)if(typeof t=="number")m._pos=[t,n,o],m._node&&((!m._panner||m._panner.pan)&&a(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setPosition(t,n,o)),l._emit("pos",m._id);else return m._pos}return l},Howl.prototype.orientation=function(t,n,o,c){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(t,n,o,c)}}),l;if(n=typeof n!="number"?l._orientation[1]:n,o=typeof o!="number"?l._orientation[2]:o,typeof c>"u")if(typeof t=="number")l._orientation=[t,n,o];else return l._orientation;for(var d=l._getSoundIds(c),p=0;p<d.length;p++){var m=l._soundById(d[p]);if(m)if(typeof t=="number")m._orientation=[t,n,o],m._node&&(m._panner||(m._pos||(m._pos=l._pos||[0,0,-.5]),a(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setOrientation(t,n,o)),l._emit("orientation",m._id);else return m._orientation}return l},Howl.prototype.pannerAttr=function(){var t=this,n=arguments,o,c,l;if(!t._webAudio)return t;if(n.length===0)return t._pannerAttr;if(n.length===1)if(typeof n[0]=="object")o=n[0],typeof c>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return l=t._soundById(parseInt(n[0],10)),l?l._pannerAttr:t._pannerAttr;else n.length===2&&(o=n[0],c=parseInt(n[1],10));for(var d=t._getSoundIds(c),p=0;p<d.length;p++)if(l=t._soundById(d[p]),l){var m=l._pannerAttr;m={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:m.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:m.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:m.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:m.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:m.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:m.panningModel};var h=l._panner;h||(l._pos||(l._pos=t._pos||[0,0,-.5]),a(l,"spatial"),h=l._panner),h.coneInnerAngle=m.coneInnerAngle,h.coneOuterAngle=m.coneOuterAngle,h.coneOuterGain=m.coneOuterGain,h.distanceModel=m.distanceModel,h.maxDistance=m.maxDistance,h.refDistance=m.refDistance,h.rolloffFactor=m.rolloffFactor,h.panningModel=m.panningModel}return t},Sound.prototype.init=function(t){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,t.call(this),n._stereo?o.stereo(n._stereo):n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,n._stereo?o.stereo(n._stereo):n._pos?o.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,o._refreshBuffer(n)),t.call(this)}}(Sound.prototype.reset);var a=function(t,n){n=n||"spatial",n==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(howler);const music=new howler.Howl({src:["sounds/music.mp3"],volume:.5,loop:!0,preload:!0}),musicId=music.play();music.stop(musicId);const bank={unauthorized:new howler.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),play:new howler.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new howler.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new howler.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new howler.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),recycle:new howler.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new howler.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new howler.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new howler.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new howler.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new howler.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new howler.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0})},GAME_ADVANTAGE={noob:4,easy:3,normal:2,hard:1,veteran:0},MAX_ENERGY=20,MAX_HAND_SIZE=8,MAX_REPUTATION=10,MONEY_TO_REACH=500,INFINITE_DRAW_COST=5,UPGRADE_COST_THRESHOLDS={string:["20","50","75","100","150"],number:[5,7,10,15]},ENERGY_TO_MONEY=5,REPUTATION_TO_ENERGY=10,TRIGGER_EVENTS={eachDay:["Chaque jour","par jour"],eachTurn:["A chaque carte jouée","par carte"],emptyHand:["Quand votre main est vide","chaque fois que la main est vide"],reputationDeclines:["Quand votre réputation baisse","à chaque baisse de réputation"]},metadata={version:"1.0.1"},technos=[{name:"TypeScript",logo:"ts.png"},{name:"React",logo:"react.webp"},{name:"Tailwind CSS",logo:"tailwind.png"},{name:"NodeJS",logo:"node.png"},{name:"Vercel",logo:"vercel.png"},{name:"Next.js",logo:"nextjs.webp"},{name:"PostgreSQL",logo:"pgsql.png"},{name:"Docker",logo:"docker.webp"},{name:"PixiJS",logo:"pixi.png"},{name:"Three.js",logo:"three.png"},{name:"Gulp",logo:"gulp.webp"},{name:"Knex",logo:"knex.png"},{name:"Git",logo:"git.png"},{name:"Processing",logo:"processing.webp"},{name:"p5.js",logo:"p5.png"},{name:"Strapi",logo:"strapi.png"},{name:"Windows",logo:"windows.png"},{name:"MacOS",logo:"macos.png"},{name:"Linux",logo:"linux.png"},{name:"Jetbrains",logo:"jetbrains.webp"},{name:"Ruby",logo:"ruby.png"}],projects=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Vous pouvez utiliser cette lib pour construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"}],advantage$1=GAME_ADVANTAGE[settings.difficulty],effects=[{description:`Gagne ${(2+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((2+advantage$1)*ENERGY_TO_MONEY,{skipGameOverPause:!0}),type:"action",cost:2},{description:`Gagne ${(4+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((4+advantage$1)*ENERGY_TO_MONEY,{skipGameOverPause:!0}),type:"action",cost:4},{description:`Le matin, gagne ${advantage$1*ENERGY_TO_MONEY}M$. L'après-midi, gagne ${advantage$1} @energy${advantage$1>1?"s":""}`,onPlayed:async e=>{new Date().getHours()<12?await e.addMoney(advantage$1*ENERGY_TO_MONEY,{skipGameOverPause:!0}):await e.addEnergy(advantage$1,{skipGameOverPause:!0})},type:"action",cost:0},{description:`Gagne ${(2+advantage$1)*ENERGY_TO_MONEY}M$ fois le nombre de cartes @action en main en comptant celle-ci`,onPlayed:async e=>{await e.addMoney((2+advantage$1)*ENERGY_TO_MONEY*e.hand.filter(a=>a.effect.type==="action").length,{skipGameOverPause:!0})},type:"action",cost:4},{description:`Si le dark mode est activé, gagne ${(4+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((4+advantage$1)*ENERGY_TO_MONEY,{skipGameOverPause:!0}),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Si la @reputation est inférieur à 5, gagne ${(4+advantage$1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>await e.addMoney((4+advantage$1)*ENERGY_TO_MONEY,{skipGameOverPause:!0}),condition:e=>e.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${advantage$1>4?` et gagne ${advantage$1-4} @energy${advantage$1-4>1?"s":""}`:""}`,onPlayed:async e=>{await e.play(e.hand[e.hand.length-1],{free:!0,skipGameOverPause:!0}),advantage$1>4&&await e.addEnergy(advantage$1-4,{skipGameOverPause:!0})},condition:(e,a)=>{const t=e.hand[e.hand.length-1];return t&&t.name!==a.name&&(!t.effect.condition||t.effect.condition(e,e.hand[e.hand.length-1]))},type:"action",cost:Math.max(0,4-advantage$1),waitBeforePlay:!0},{description:`Pioche ${1+advantage$1} carte${advantage$1>0?"s":""}`,onPlayed:async e=>await e.draw(1+advantage$1,{skipGameOverPause:!0}),condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${advantage$1>2?2+(advantage$1-2):2} cartes`,onPlayed:async e=>await e.draw(advantage$1>2?2+(advantage$1-2):2,{skipGameOverPause:!0}),condition:e=>e.deck.length>=1,type:"support",cost:Math.max(0,2-advantage$1),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+advantage$1} cartes`,onPlayed:async e=>await e.draw(2+advantage$1,{skipGameOverPause:!0}),condition:e=>e.hand.length<5&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${advantage$1>=4?1+Math.floor((advantage$1-2)/2):1} carte${advantage$1>=4?"s":""} @action${advantage$1>=2&&advantage$1%2!==0?` et gagne ${advantage$1%2} @energy${advantage$1%2>0?"s":""}`:""}`,onPlayed:async e=>{await e.draw(advantage$1>=2?1+Math.floor((advantage$1-2)/2):1,{filter:a=>a.effect.type==="action",skipGameOverPause:!0}),advantage$1>=2&&advantage$1%2!==0&&await e.addEnergy(advantage$1%2,{skipGameOverPause:!0})},condition:e=>e.deck.some(a=>a.effect.type==="action"),type:"support",cost:Math.max(0,2-advantage$1),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(advantage$1/2)} carte${advantage$1>=2?"s":""} @action${advantage$1%2!==0?` et gagne ${advantage$1%2*ENERGY_TO_MONEY}M$`:""}`,onPlayed:async e=>{await e.draw(1,{filter:a=>a.effect.type==="action",skipGameOverPause:!0}),advantage$1%2!==0&&await e.addMoney(advantage$1%2*ENERGY_TO_MONEY,{skipGameOverPause:!0})},condition:e=>e.hand.every(a=>a.effect.type!=="action")&&e.deck.some(a=>a.effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${advantage$1>=1?2:"une"} carte${advantage$1>1?"s":""} et gagne ${(2+advantage$1-1)*ENERGY_TO_MONEY}M$`,onPlayed:async e=>{await e.drop(),await e.draw(advantage$1>=1?2:1,{skipGameOverPause:!0}),await e.addMoney((2+advantage$1-1)*ENERGY_TO_MONEY,{skipGameOverPause:!0})},condition:e=>e.hand.length>=2&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${advantage$1>=1?1+advantage$1:"une"} carte${advantage$1>=1?"s":""}`,onPlayed:async e=>{await e.drop({toDeck:!0}),await e.draw(advantage$1>=1?1+advantage$1:1,{skipGameOverPause:!0})},condition:e=>e.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+advantage$1} cartes`,onPlayed:async e=>{await e.dropAll(),await e.draw(5+advantage$1,{skipGameOverPause:!0})},condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${advantage$1>5?5+(advantage$1-5):5} cartes`,onPlayed:async e=>{await e.dropAll({toDeck:!0}),await e.draw(advantage$1>5?5+(advantage$1-5):5,{skipGameOverPause:!0})},type:"support",cost:Math.max(0,5-advantage$1),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${advantage$1>3?` et gagne ${(advantage$1-3)*ENERGY_TO_MONEY}M$`:""}`,onPlayed:async e=>{await e.draw(e.upgrades.length,{skipGameOverPause:!0}),advantage$1>3&&await e.addMoney((advantage$1-3)*ENERGY_TO_MONEY,{skipGameOverPause:!0})},condition:e=>e.upgrades.length>0&&e.deck.length>=1,type:"support",cost:Math.max(0,3-advantage$1),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${advantage$1>0?` et gagne ${advantage$1*ENERGY_TO_MONEY}M$`:""}`,onPlayed:async e=>{await e.dropAll({filter:a=>a.effect.type==="support"}),await e.draw(2,{filter:a=>a.effect.type==="action",skipGameOverPause:!0}),advantage$1>0&&await e.addMoney(advantage$1*ENERGY_TO_MONEY,{skipGameOverPause:!0})},condition:e=>e.hand.filter(a=>a.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+advantage$1} cartes`,onPlayed:async e=>{await e.dropAll({filter:a=>a.effect.type==="action"}),await e.draw(3+advantage$1,{skipGameOverPause:!0})},condition:e=>e.hand.some(a=>a.effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${advantage$1>4?` et gagne ${advantage$1-4} @energy${advantage$1-4>1?"s":""}`:""}`,onPlayed:async e=>{await e.draw(2,{filter:a=>typeof a.effect.cost=="number",skipGameOverPause:!0}),advantage$1>4&&await e.addEnergy(advantage$1-4,{skipGameOverPause:!0})},condition:e=>e.deck.some(a=>typeof a.effect.cost=="number"),type:"support",cost:Math.max(0,4-advantage$1),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${advantage$1>3?`, gagne ${advantage$1-3} @energy${advantage$1-3>1?"s":""}`:""}`,onPlayed:async e=>{await e.addCardModifier({once:!0,condition:a=>Number(a.effect.cost)>1,use:a=>({...a,effect:{...a.effect,cost:typeof a.effect.cost=="number"?Math.ceil(a.effect.cost/2):String(Math.ceil(Number(a.effect.cost)/2))}})}),advantage$1>3&&await e.addEnergy(advantage$1-3,{skipGameOverPause:!0})},type:"support",cost:Math.max(0,3-advantage$1)},{description:`${advantage$1>4?`Ajoute ${advantage$1-4} @energy${advantage$1>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async e=>{advantage$1>4&&await e.addEnergy(advantage$1-4,{skipGameOverPause:!0}),await e.addEnergy(e.energy,{skipGameOverPause:!0})},type:"action",cost:String(Math.max(0,4-advantage$1)*ENERGY_TO_MONEY)},{description:`Ajoute ${4+advantage$1} @energys`,onPlayed:async e=>await e.addEnergy(4+advantage$1,{skipGameOverPause:!0}),type:"action",cost:String(4*ENERGY_TO_MONEY)},{description:`Si la @reputation est inférieur à 5, ajoute ${advantage$1>3?5+advantage$1-3:5} @energys`,onPlayed:async e=>await e.addEnergy(advantage$1>3?5+advantage$1-3:5,{skipGameOverPause:!0}),condition:e=>e.reputation<5,type:"action",cost:String(Math.max(0,3-advantage$1)*ENERGY_TO_MONEY)},{description:"Remplis la jauge de @reputation",onPlayed:async e=>await e.addReputation(10,{skipGameOverPause:!0}),type:"action",cost:String(Math.max(0,5*REPUTATION_TO_ENERGY-advantage$1)*ENERGY_TO_MONEY),ephemeral:!0}],advantage=GAME_ADVANTAGE[settings.difficulty],upgrades=[{name:"Starbucks",triggerEvent:"eachDay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<MAX_ENERGY,onTrigger:async(e,a)=>{await e.addEnergy(a.cumul,{skipGameOverPause:!0})},cumulable:!0,max:3,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)},{name:"Méditation",triggerEvent:"eachDay",description:"Pioche @cumul carte@s",image:"meditation.png",condition:e=>e.deck.length>0,onTrigger:async(e,a)=>{await e.draw(a.cumul,{skipGameOverPause:!0})},cumulable:!0,max:3,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)},{name:"Bourse",triggerEvent:"eachDay",description:"Gagne @cumul fois 10% de votre capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,a)=>{await e.addMoney(Math.ceil(a.cumul/100*e.money),{skipGameOverPause:!0})},cumulable:!0,cost:String(Math.max(0,8-advantage)*ENERGY_TO_MONEY)},{name:"Recyclage",triggerEvent:"eachDay",description:"Place @cumul carte@s aléatoire@s de la défausse dans le deck",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,a)=>{await e.recycle(a.cumul)},cumulable:!0,max:3,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)},{name:"I.A",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,a)=>{await e.addMoney(a.cumul*e.discard.length,{skipGameOverPause:!0})},cumulable:!0,cost:String(Math.max(0,80-advantage)*ENERGY_TO_MONEY)},{name:"Sport",triggerEvent:"eachDay",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<MAX_REPUTATION,onTrigger:async(e,a)=>{await e.addReputation(a.cumul,{skipGameOverPause:!0})},cumulable:!0,max:2,cost:Math.max(0,20-advantage)},{name:"PC Puissant",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre d'@energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,a)=>{await e.addMoney(a.cumul*e.energy,{skipGameOverPause:!0})},cumulable:!0,max:2,cost:String(Math.max(0,40-advantage)*ENERGY_TO_MONEY)},{name:"Stagiaire",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,a)=>{await e.addMoney(a.cumul*e.hand.length,{skipGameOverPause:!0})},cumulable:!0,max:5,cost:String(Math.max(0,20-advantage)*ENERGY_TO_MONEY)}],upgrades$1=upgrades.map(e=>(e.description=`${e.description} ${TRIGGER_EVENTS[e.triggerEvent][1]}`,e));function isGameOver(e){return e.reputation===0?"reputation":e.deck.length===0&&e.hand.length===0?"mill":e.hand.every(a=>a.effect.condition&&!a.effect.condition(e,a)?!0:!parseCost(e,a).canBeBuy)&&(e.reputation+e.energy<INFINITE_DRAW_COST||e.hand.length>=MAX_HAND_SIZE||e.deck.length===0)?"soft-lock":!1}function rankColor(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function getUpgradeCost(e,a){const t=e.upgrades.length,n=UPGRADE_COST_THRESHOLDS[typeof a.effect.cost][t]??1/0;return Math.min(Number(n),Number(a.effect.cost))}function cloneSomething(e){return JSON.parse(JSON.stringify(e,(a,t)=>typeof t=="function"?void 0:t))}function applyNextCardModifiers(e,a){const t=cloneSomething(a);return e.cardModifiers.slice().reduce((o,c)=>!c.condition||c.condition(a,e)?{card:c.use(a,e),appliedModifiers:[...o.appliedModifiers,c]}:o,{card:t,appliedModifiers:[]})}function parseCost(e,a){const t=typeof a.effect.cost=="number"?"energy":"money",{card:n,appliedModifiers:o}=applyNextCardModifiers(e,a),c=Number(n.effect.cost),l=t==="money"?e[t]>=c:e[t]+e.reputation>=c;return{needs:t,cost:c,canBeBuy:l,appliedModifiers:o}}function formatText(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(MONEY_TO_REACH)).replace(/MAX_HAND_SIZE/g,String(MAX_HAND_SIZE)).replace(/@action([^\s.:,]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@support([^\s.:,]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/((?:\d+|<span[^>]*>\d+<\/span>)M\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function formatUpgradeText(e,a){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${a}</span>`).replace(/@s/g,a>1?"s":"")}async function wait(e=500){return new Promise(a=>setTimeout(a,e))}function shuffle(e,a=1){for(let t=0;t<a;t++)e.sort(()=>Math.random()-.5);return e}function map(e,a,t,n,o,c=!1){const l=(e-a)/(t-a)*(o-n)+n;return c?n<o?Math.max(Math.min(l,o),n):Math.max(Math.min(l,n),o):l}function isActionCardInfo(e){return e.image!==void 0}const supportEffects=effects.filter(e=>e.type==="support"),actionEffects=effects.filter(e=>e.type==="action");function generateInitialState(){music.stop(musicId),music.play(musicId),music.fade(0,.5,500,musicId);const saveMetadata=localStorage.getItem("card-game-metadata"),saveDifficulty=localStorage.getItem("card-game-difficulty")??"normal",save=localStorage.getItem("card-game");if(save&&JSON.stringify(metadata)===saveMetadata&&settings.difficulty===saveDifficulty)return JSON.parse(save,(key,value)=>{switch(key){case"discard":case"deck":case"hand":return value.map(e=>{var a,t;return{...e,state:"idle",effect:{...e.effect,onPlayed:e.effect.upgrade?async n=>await n.upgrade(e.name):(a=effects.find(n=>formatText(n.description)===e.effect.description))==null?void 0:a.onPlayed,condition:(t=effects.find(n=>formatText(n.description)===e.effect.description))==null?void 0:t.condition}}});case"upgrades":return value.map(e=>{var a,t;return{...e,state:"idle",onTrigger:(a=upgrades$1.find(n=>n.name===e.name))==null?void 0:a.onTrigger,condition:(t=upgrades$1.find(n=>n.name===e.name))==null?void 0:t.condition}});case"nextCardModifiers":return value.map(modifier=>eval(modifier));case"operationInProgress":return{}}return value});localStorage.setItem("card-game-metadata",JSON.stringify(metadata)),localStorage.setItem("card-game-difficulty",settings.difficulty);const supports=technos.map((e,a)=>{const t=map(a,0,technos.length,0,supportEffects.length,!0),n=supportEffects[Math.floor(t)];return{...e,logo:`images/techno/${e.logo}`,state:"idle",effect:{...n,description:formatText(n.description)}}}),actions=projects.map((e,a)=>{const t=map(a,0,projects.length,0,actionEffects.length,!0),n=actionEffects[Math.floor(t)];return{...e,image:`images/projects/${e.image}`,state:"idle",effect:{...n,description:formatText(n.description)}}}),upgradeActions=upgrades$1.map(e=>({name:e.name,image:`images/upgrades/${e.image}`,state:"idle",effect:{upgrade:!0,ephemeral:!e.cumulable,description:formatText(`@upgrade <br/> ${formatUpgradeText(e.description,1)}`),onPlayed:async a=>await a.upgrade(e.name),type:"action",cost:e.cost}})),deck=shuffle([...supports,...actions,...upgradeActions],3);return{operationInProgress:{},score:0,reason:null,isWon:!1,isGameOver:!1,deck:deck.slice(7),hand:deck.slice(0,7),discard:[],upgrades:[],cardModifiers:[{condition:e=>!!e.effect.upgrade,use:(e,a)=>e.effect.upgrade?{...e,effect:{...e.effect,cost:getUpgradeCost(a,e)}}:e}],day:1,energy:MAX_ENERGY,reputation:MAX_REPUTATION,money:0}}function cardGameMethods(e,a){return{setOperationInProgress:(t,n)=>{e(o=>({operationInProgress:{...o.operationInProgress,[t]:n}}))},updateScore:()=>{e(t=>({score:Math.floor(t.energy+t.reputation*REPUTATION_TO_ENERGY+t.money/ENERGY_TO_MONEY+t.upgrades.reduce((n,o)=>n+o.cumul,0)*10*(50/t.day)*100*(1+Object.keys(GAME_ADVANTAGE).indexOf(settings.difficulty)))}))},addEnergy:async(t,n)=>{const o=a();if(o.setOperationInProgress("energy",!0),t>0)bank.gain.play(),e(c=>({energy:Math.max(0,Math.min(MAX_ENERGY,c.energy+t))}));else if(t<0){const c=a(),l=Math.abs(t)-c.energy;l>0?(e({energy:0}),await c.addReputation(-l,{skipGameOverPause:n==null?void 0:n.skipGameOverPause})):e(d=>({energy:d.energy+t}))}await wait(),o.setOperationInProgress("energy",!1)},addReputation:async(t,n)=>{const o=a();o.setOperationInProgress("reputation",!0),t===10?bank.powerUp.play():t>0?bank.gain.play():bank.loss.play(),e(c=>({reputation:Math.max(0,Math.min(MAX_REPUTATION,c.reputation+t))})),await wait(),!(n!=null&&n.skipGameOverPause)&&isGameOver(o)&&await wait(2e3),o.setOperationInProgress("reputation",!1)},addMoney:async(t,n)=>{let o=a();o.setOperationInProgress("money",!0),t>0&&bank.cashing.play(),e(c=>({money:c.money+t})),await wait(),o=a(),!(n!=null&&n.skipGameOverPause)&&o.money>=MONEY_TO_REACH&&await wait(2e3),o.setOperationInProgress("money",!1)},addDay:async(t=1)=>{if(e(n=>({day:n.day+t,operationInProgress:{...n.operationInProgress,day:!0}})),t>0){const n=a();for(let o=0;o<t;o++)await n.triggerUpgradeEvent("eachDay")}e(n=>({operationInProgress:{...n.operationInProgress,day:!1}}))},upgrade:async t=>{e(c=>({operationInProgress:{...c.operationInProgress,[`upgrade ${t}`]:!0}}));const n=upgrades$1.find(c=>c.name===t);bank.upgrade.play();let o=a();if(o.upgrades.find(c=>c.name===t)?e(c=>({upgrades:c.upgrades.map(l=>l.name===t?{...l,cumul:l.cumul+1}:l)})):e(c=>({upgrades:[...c.upgrades,{...n,state:"appear",cumul:1,max:n.cumulable?n.max??1/0:1}]})),n.cumulable&&n.max){o=a();const c=o.upgrades.find(l=>l.name===t);if(c.cumul===c.max){const l=o.hand.find(d=>d.effect.upgrade&&d.name===t);e({hand:o.hand.map(d=>d.name===l.name?{...d,state:"played"}:d)}),await wait(),e({hand:o.hand.filter(d=>d.name!==l.name)})}}await wait(),e(c=>({upgrades:c.upgrades.map(l=>l.name===t?{...l,state:"idle"}:l),operationInProgress:{...c.operationInProgress,[`upgrade ${t}`]:!1}}))},triggerUpgrade:async t=>{const n=a(),o=n.upgrades.find(c=>c.name===t);e(c=>({upgrades:c.upgrades.map(l=>l.name===o.name?{...l,state:"triggered"}:l),operationInProgress:{...c.operationInProgress,[`trigger ${t}`]:!0}})),await wait(),await o.onTrigger(n,o),await wait(),e(c=>({upgrades:c.upgrades.map(l=>l.name===o.name?{...l,state:"idle"}:l),operationInProgress:{...c.operationInProgress,[`trigger ${t}`]:!1}}))},triggerUpgradeEvent:async(t,n)=>{let o=a();e(c=>({operationInProgress:{...c.operationInProgress,[`trigger ${t}`]:!0}})),await Promise.all(o.upgrades.slice().filter(c=>c.triggerEvent===t&&(!c.condition||c.condition(o,c))).map(async(c,l)=>{await wait(250*l),await o.triggerUpgrade(c.name)})),o=a(),!(n!=null&&n.skipGameOverPause)&&isGameOver(o)&&await wait(2e3),o.setOperationInProgress(`trigger ${t}`,!1)},addCardModifier:async(t,n)=>{bank.powerUp.play(),e(o=>({cardModifiers:n!=null&&n.before?[t,...o.cardModifiers]:[...o.cardModifiers,t]}))},draw:async(t=1,n)=>{e(c=>{const l=n!=null&&n.fromDiscardPile?"discard":"deck",d=c.hand.slice(),p=c.discard.slice(),m=c[l].slice().filter(i=>n!=null&&n.filter?n.filter(i):!0),h=[];let r=!1,s=!1;for(let i=0;i<t&&m.length!==0;i++){const u=m.pop();u.state="drawn",h.push(u.name),d.length>=MAX_HAND_SIZE?(p.push(u),s=!0):(d.push(u),r=!0)}return(r||s)&&bank.draw.play(),{hand:d,discard:p,[l]:shuffle(c[l].filter(i=>!h.includes(i.name)),2),operationInProgress:{...c.operationInProgress,draw:!0}}}),await wait(),e(c=>({hand:c.hand.map(l=>({...l,state:"idle"}))}));const o=a();!(n!=null&&n.skipGameOverPause)&&isGameOver(o)&&await wait(2e3),o.setOperationInProgress("draw",!1)},drop:async t=>{const n=t!=null&&t.toDeck?"deck":"discard";bank.drop.play();const o=a(),c=o.hand.slice().filter(p=>p.state==="idle"),l=Math.floor(Math.random()*c.length),d=c[l];e({hand:o.hand.map(p=>p.name===d.name?{...p,state:"dropped"}:p),operationInProgress:{...o.operationInProgress,drop:!0}}),await wait(),e(p=>({hand:p.hand.filter(m=>m.name!==d.name),[n]:shuffle([{...d,state:null},...p[n]],2),operationInProgress:{...p.operationInProgress,drop:!1}}))},dropAll:async t=>{const n=t!=null&&t.toDeck?"deck":"discard";bank.drop.play();const o=a();e({hand:o.hand.map(c=>c.state==="idle"&&(!(t!=null&&t.filter)||t.filter(c))?{...c,state:"dropped"}:c),operationInProgress:{...o.operationInProgress,dropAll:!0}}),await wait(),e(c=>({[n]:shuffle([...c.hand.filter(l=>!(t!=null&&t.filter)||t.filter(l)).map(l=>({...l,state:null})),...c[n]],2),hand:c.hand.filter(l=>(t==null?void 0:t.filter)&&!t.filter(l)),operationInProgress:{...c.operationInProgress,dropAll:!1}}))},recycle:async(t=1)=>{bank.recycle.play();const n=a();n.setOperationInProgress("recycle",!0);const o=n.discard.slice(),c=n.deck.slice(),l=[];for(let d=0;d<t&&o.length!==0;d++){const p=o.pop();l.push(p.name),c.push(p)}e({deck:shuffle(c),discard:n.discard.filter(d=>!l.includes(d.name)),operationInProgress:{...n.operationInProgress,recycle:!1}})},play:async(t,n)=>{const o=!!(n!=null&&n.free);let c=a();const l=async()=>{bank.unauthorized.play(),e({hand:c.hand.map(s=>s.name===t.name?{...s,state:"unauthorized"}:s)}),await wait(),e({hand:c.hand.map(s=>s.name===t.name?{...s,state:"idle"}:s)})};if(t.effect.condition&&!t.effect.condition(c,t)){await l();return}const{needs:d,cost:p,appliedModifiers:m}=parseCost(c,t);if(o)c.setOperationInProgress("play",!0);else if(c[d]<p)if(d==="energy"){if(c.reputation+c.energy<p){await l();return}c.setOperationInProgress("play",!0),await c.addEnergy(-p,{skipGameOverPause:!0})}else{await l();return}else e({[d]:c[d]-p,operationInProgress:{...c.operationInProgress,play:!0}});bank.play.play();const h=async()=>{e(s=>({hand:s.hand.map(i=>i.name===t.name?{...i,state:"played"}:i)})),await wait(),e(s=>({discard:t.effect.ephemeral?s.discard:shuffle([{...t,state:null},...s.discard],3),hand:s.hand.filter(i=>i.name!==t.name),cardModifiers:s.cardModifiers.filter(i=>!m.includes(i)&&i.once)})),t.effect.type==="action"&&await c.addDay()},r=async()=>{t.effect.waitBeforePlay&&await wait(),await t.effect.onPlayed(c,t),c.updateScore()};await Promise.all([h(),r()]),c=a(),c.hand.length===0&&await c.draw(),!(n!=null&&n.skipGameOverPause)&&isGameOver(a())&&await wait(2e3),c.setOperationInProgress("play",!1)},win:()=>{bank.victory.play(),music.fade(.5,0,500,musicId),e({isGameOver:!0,isWon:!0})},gameOver:t=>{bank.defeat.play(),music.fade(.5,0,500,musicId),e({isGameOver:!0,isWon:!1,reason:t})},reset:()=>{localStorage.removeItem("card-game-metadata"),localStorage.removeItem("card-game-difficulty"),localStorage.removeItem("card-game"),e(generateInitialState())}}}const useCardGame=create((e,a)=>({...generateInitialState(),...cardGameMethods(e,a)}));useCardGame.subscribe((e,a)=>{if((e.reputation!==a.reputation||e.money!==a.money||e.upgrades!==a.upgrades||e.energy!==a.energy||e.day!==a.day)&&e.updateScore(),localStorage.setItem("card-game",JSON.stringify(e,(t,n)=>typeof n=="function"&&!(t in e)?n.toString():n)),Object.values(e.operationInProgress).every(t=>!t)){if(!e.isWon&&e.money>=MONEY_TO_REACH)e.win();else if(!e.isGameOver){const t=isGameOver(e);t&&e.gameOver(t)}}});const GameControl=e=>{const a=useQualitySettings(o=>o.animations),t=useCardGame(o=>o.reset),n=useGlobalState(o=>()=>o.setCardGameVisibility(!1));return jsxRuntimeExports.jsx("div",{className:cn("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":a,"-bottom-12":e.show,"delay-500":e.delay&&a}),children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>n(),variant:"default",children:"Revenir à l'accueil"}),jsxRuntimeExports.jsx(Button,{onClick:()=>t(),variant:"default",children:"Recommencer"})]})})};function createContext2(e,a){const t=reactExports.createContext(a);function n(c){const{children:l,...d}=c,p=reactExports.useMemo(()=>d,Object.values(d));return jsxRuntimeExports.jsx(t.Provider,{value:p,children:l})}function o(c){const l=reactExports.useContext(t);if(l)return l;if(a!==void 0)return a;throw new Error(`\`${c}\` must be used within \`${e}\``)}return n.displayName=e+"Provider",[n,o]}function createContextScope(e,a=[]){let t=[];function n(c,l){const d=reactExports.createContext(l),p=t.length;t=[...t,l];function m(r){const{scope:s,children:i,...u}=r,f=(s==null?void 0:s[e][p])||d,v=reactExports.useMemo(()=>u,Object.values(u));return jsxRuntimeExports.jsx(f.Provider,{value:v,children:i})}function h(r,s){const i=(s==null?void 0:s[e][p])||d,u=reactExports.useContext(i);if(u)return u;if(l!==void 0)return l;throw new Error(`\`${r}\` must be used within \`${c}\``)}return m.displayName=c+"Provider",[m,h]}const o=()=>{const c=t.map(l=>reactExports.createContext(l));return function(d){const p=(d==null?void 0:d[e])||c;return reactExports.useMemo(()=>({[`__scope${e}`]:{...d,[e]:p}}),[d,p])}};return o.scopeName=e,[n,composeContextScopes(o,...a)]}function composeContextScopes(...e){const a=e[0];if(e.length===1)return a;const t=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const l=n.reduce((d,{useScope:p,scopeName:m})=>{const r=p(c)[`__scope${m}`];return{...d,...r}},{});return reactExports.useMemo(()=>({[`__scope${a.scopeName}`]:l}),[l])}};return t.scopeName=a.scopeName,t}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((e,a)=>{const t=reactExports.forwardRef((n,o)=>{const{asChild:c,...l}=n,d=c?Slot:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(d,{...l,ref:o})});return t.displayName=`Primitive.${a}`,{...e,[a]:t}},{});function dispatchDiscreteCustomEvent(e,a){e&&reactDomExports.flushSync(()=>e.dispatchEvent(a))}var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((e,a)=>{const{__scopeProgress:t,value:n=null,max:o,getValueLabel:c=defaultGetValueLabel,...l}=e;(o||o===0)&&!isValidMaxNumber(o)&&console.error(getInvalidMaxError(`${o}`,"Progress"));const d=isValidMaxNumber(o)?o:DEFAULT_MAX;n!==null&&!isValidValueNumber(n,d)&&console.error(getInvalidValueError(`${n}`,"Progress"));const p=isValidValueNumber(n,d)?n:null,m=isNumber(p)?c(p,d):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:t,value:p,max:d,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":isNumber(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":getProgressState(p,d),"data-value":p??void 0,"data-max":d,...l,ref:a})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME$2="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((e,a)=>{const{__scopeProgress:t,...n}=e,o=useProgressContext(INDICATOR_NAME$2,t);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:a})});ProgressIndicator.displayName=INDICATOR_NAME$2;function defaultGetValueLabel(e,a){return`${Math.round(e/a*100)}%`}function getProgressState(e,a){return e==null?"indeterminate":e===a?"complete":"loading"}function isNumber(e){return typeof e=="number"}function isValidMaxNumber(e){return isNumber(e)&&!isNaN(e)&&e>0}function isValidValueNumber(e,a){return isNumber(e)&&!isNaN(e)&&e<=a&&e>=0}function getInvalidMaxError(e,a){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(e,a){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$4=Progress$1,Indicator$2=ProgressIndicator;const Progress=reactExports.forwardRef(({barColor:e,className:a,value:t,...n},o)=>jsxRuntimeExports.jsx(Root$4,{ref:o,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...n,children:jsxRuntimeExports.jsx(Indicator$2,{className:cn("h-full w-full flex-1 transition-all",e,{"bg-primary":!e}),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Progress.displayName=Root$4.displayName;const ValueIcon=e=>{const a=useCardGame(t=>t.energy);return e.isCost&&e.value===0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs("div",{className:cn("relative",e.className),style:e.style,children:[e.type==="energy"?!e.isCost||a>=e.value?jsxRuntimeExports.jsx("img",{src:"images/energy-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):a>0?jsxRuntimeExports.jsx("img",{src:"images/enerputation-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):jsxRuntimeExports.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Coût en réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}):jsxRuntimeExports.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}),jsxRuntimeExports.jsx("div",{className:cn("absolute top-1/2 left-1/2 font-bold text-[1.8em] text-white pointer-events-none box-content",e.textColor),style:{transform:"translateX(-50%) translateY(-50%) translateZ(5px)"},children:e.value})]})},Gauge=e=>jsxRuntimeExports.jsxs("div",{className:"flex items-center h-7 w-[250px]",children:[jsxRuntimeExports.jsx(ValueIcon,{type:e.type,value:e.value,iconScale:e.iconScale,textColor:e.textColor,className:"absolute -translate-x-1/2 z-50 scale-50"}),jsxRuntimeExports.jsx(Progress,{barColor:e.barColor,className:e.className,value:e.value/e.max*100})]});function Svg$c(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M225.814 32.316c-3.955-.014-7.922-.01-11.9.007-19.147.089-38.6.592-58.219 1.32l5.676 24.893c20.431-2.31 42.83-4.03 65.227-4.89 12.134-.466 24.194-.712 35.892-.65 35.095.183 66.937 3.13 87.77 11.202l8.908 3.454-3.977 8.685c-29.061 63.485-35.782 124.732-31.228 184.826 2.248-71.318 31.893-134.75 70.81-216.068-52.956-8.8-109.634-12.582-168.959-12.78zm28.034 38.79c-8.74.007-17.65.184-26.559.526-41.672 1.6-83.199 6.49-110.264 12.096 30.233 56.079 54.69 112.287 70.483 167.082a71.934 71.934 0 0 1 5.894.045c4.018.197 7.992.742 11.875 1.59-16.075-51.397-34.385-98.8-57.146-146.131l-5.143-10.694 11.686-2.068c29.356-5.198 59.656-7.21 88.494-7.219 1.922 0 3.84.007 5.748.024 18.324.16 35.984 1.108 52.346 2.535l11.054.965-3.224 10.617c-18.7 61.563-22.363 127.678-11.79 190.582.176.163.354.325.526.49 3.813-1.336 7.38-2.698 10.705-4.154-8.254-67.394-4.597-136.923 26.229-209.201-17.202-4.383-43.425-6.674-72.239-7.034a656.656 656.656 0 0 0-8.675-.05zm144.945 7.385c-30.956 65.556-52.943 118.09-56.547 174.803 20.038-66.802 58.769-126.685 102.904-165.158a602.328 602.328 0 0 0-46.357-9.645zM103.832 97.02c-18.76 3.868-37.086 8.778-54.812 15.562 8.626 7.48 24.22 21.395 43.14 39.889 8.708-8.963 17.589-17.818 26.852-25.87a1067.587 1067.587 0 0 0-15.18-29.581zm142.023 7.482c-13.62-.066-27.562.324-41.554 1.293-1.468 13.682-9.56 26.482-19.225 39.07 15.431 36.469 28.758 73.683 40.756 113.194 18.375 5.42 36.554 11.827 51.28 19.504-5.47-42.458-4.722-85.963 2.38-128.508-12.885-13.31-19.597-28.09-20.135-44.34a621.48 621.48 0 0 0-13.502-.213zm182.018 26.985c-24.73 29.3-46.521 65.997-61.37 105.912 27.264-38.782 60.79-69.032 96.477-90.4a1318.664 1318.664 0 0 0-35.107-15.512zm-300.74 11.959c-14.594 13.188-29.014 29.017-44.031 44.097 32.289 19.191 59.791 41.918 82.226 67.66 1.393-.526 2.8-.999 4.215-1.43-10.498-36.096-24.885-73.033-42.41-110.327zM360.52 268.198c-16.397 19.788-31.834 30.235-53.09 38.57 2.391 9.22-1.16 19.805-9.334 27.901-4.808 4.761-10.85 10.188-19.684 13.715a62.896 62.896 0 0 0 3.9 2.127c12.364 6.17 34.207 4.18 54.5-5.049 20.23-9.2 38.302-25.092 45-41.191 3.357-9.05.96-13.77-4.917-20.692-4.184-4.925-10.295-9.89-16.375-15.38zm-170.079.586c-10.715-.098-21.597 2.994-30.59 9.76-12.79 9.623-22.65 26.784-22.738 55.934v.2l-.01.2c-2.92 61.381 1.6 89.7 10.555 105.065 7.904 13.562 21.05 20.054 40.28 31.994.916-2.406 1.87-5.365 2.765-9.098 2.277-9.499 4.161-22.545 5.355-36.975 2.389-28.858 2.04-63.51-1.955-88.445l-2.111-13.19 13.016 2.995c31.615 7.273 49.7 8.132 60.2 6.28 10.502-1.854 14.061-5.523 20.221-11.624 5.79-5.732 5.682-7.795 4.456-11.021-1.227-3.227-6.149-8.545-14.5-13.633-16.703-10.176-45.085-19.611-71.614-26.647a53.988 53.988 0 0 0-13.33-1.795zm189.1 69.416c-10.013 9.754-22.335 17.761-35.277 23.647-20.983 9.542-44.063 13.907-63.211 7.553-6.76 2.516-10.687 5.407-12.668 7.8-2.718 3.284-2.888 5.7-1.967 9.16.92 3.46 3.665 7.568 7.059 10.524 3.393 2.956 7.426 4.492 8.959 4.564 46.794 2.222 67.046-11.207 92.277-26.783 7.358-4.542 10.174-13.743 9.469-22.931-.353-4.594-1.69-8.911-3.233-11.63a9.009 9.009 0 0 0-1.408-1.904zm-166.187 9.096c2.727 25.068 2.772 54.314.642 80.053-1.247 15.072-3.175 28.779-5.789 39.685-1.137 4.746-2.388 8.954-3.9 12.659l146.697-6.465c-1.656-6.149-3.344-12.324-5.031-18.502a127.004 127.004 0 0 1-17.24 4.424l.044.73-8.316.518c-5.121.614-10.452.953-15.983.992l-83.86 5.21 2.493-11.607c7.947-37.006 8.68-69.589 3.778-105.234a353.433 353.433 0 0 1-13.536-2.463zm31.972 4.684c3.948 31.933 3.473 62.41-2.406 95.2l19.264-1.196a39.44 39.44 0 0 1-6.1-14.778c-1.296-6.88-.575-14.538 3.926-20.87.199-.281.414-.55.627-.821-5.246-4.845-9.628-11.062-11.614-18.524-2.114-7.944-.794-17.67 5.497-25.27 2.079-2.51 4.592-4.776 7.543-6.816-2.61-2.08-4.898-4.285-6.874-6.582-3.064.021-6.345-.093-9.863-.343zm132.666 41.785c-23.456 14.253-49.81 27.876-96.41 25.664a26.402 26.402 0 0 1-4.518-.615c-1.233.553-1.891 1.256-2.382 1.947-.963 1.355-1.532 3.8-.909 7.113 1.248 6.627 7.525 13.889 13.37 14.569 41.385 4.813 69.979-8.726 87.341-24.477 8-7.258 8.068-11.9 6.89-16.951-.59-2.523-1.89-4.969-3.382-7.25zm-6.683 49.062a114.657 114.657 0 0 1-8.547 4.86c1.65 6.051 3.304 12.102 4.937 18.154l19.92-3.572c-5.14-4.387-9.162-8.954-12.39-13.496-1.442-2.029-2.713-4.001-3.92-5.946z"})))}function Svg$b(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function Svg$a(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M32 456a24 24 0 0 0 24 24h400a24 24 0 0 0 24-24V176H32zm80-238.86a9.14 9.14 0 0 1 9.14-9.14h109.72a9.14 9.14 0 0 1 9.14 9.14v109.72a9.14 9.14 0 0 1-9.14 9.14H121.14a9.14 9.14 0 0 1-9.14-9.14zM456 64h-55.92V32h-48v32H159.92V32h-48v32H56a23.8 23.8 0 0 0-24 23.77V144h448V87.77A23.8 23.8 0 0 0 456 64z"})))}function Svg$9(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"}),React.createElement("path",{d:"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"})))}function Svg$8(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),React.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),React.createElement("path",{d:"m64 160 29.74 282.51A24 24 0 0 0 117.61 464h276.78a24 24 0 0 0 23.87-21.49L448 160zm248 217.46-56-56-56 56L174.54 352l56-56-56-56L200 214.54l56 56 56-56L337.46 240l-56 56 56 56z"}),React.createElement("rect",{width:"448",height:"80",x:"32",y:"48",rx:"12",ry:"12"})))}const Stat=e=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(e.icon,{className:"h-full self-center"}),jsxRuntimeExports.jsxs("span",{className:"inline-block whitespace-nowrap",children:[jsxRuntimeExports.jsx("span",{children:e.name}),": ",e.value]})]}),Stats=e=>{const a=useCardGame(t=>({money:t.money,score:t.score,day:t.day,deck:t.deck,discard:t.discard}));return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col gap-2 items-start *:flex *:items-baseline *:gap-2 *:h-20 text-6xl text-left",e.className),children:[jsxRuntimeExports.jsx(Stat,{icon:Svg$c,name:"Dollars",value:jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:formatText(`${a.money}M$ ${e.verbose?`sur ${MONEY_TO_REACH}M$`:""}`)}})}),jsxRuntimeExports.jsx(Stat,{icon:Svg$b,name:"Score",value:jsxRuntimeExports.jsxs("span",{className:"text-upgrade font-changa",children:[a.score.toLocaleString("fr")," pts"]})}),jsxRuntimeExports.jsx(Stat,{icon:Svg$a,name:"Jour",value:a.day}),e.verbose&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Stat,{icon:Svg$9,name:"Deck",value:a.deck.length}),jsxRuntimeExports.jsx(Stat,{icon:Svg$8,name:"Défausse",value:a.discard.length})]})]})},GameValues=e=>{const{shadows:a,animation:t}=useQualitySettings(p=>({shadows:p.shadows,animation:p.animations})),[n,o]=React.useState(!0),[c,l]=React.useState(!1),d=useCardGame(p=>({energy:p.energy,reputation:p.reputation,reset:p.reset}));return React.useEffect(()=>{e.show?(l(!0),o(!1)):(o(!0),l(!1))},[e.show]),jsxRuntimeExports.jsxs("div",{className:cn("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"delay-500":c&&t,"translate-x-0":e.show}),children:[jsxRuntimeExports.jsx("div",{className:cn("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":a})}),jsxRuntimeExports.jsx("div",{className:cn("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":a})}),jsxRuntimeExports.jsx(GameControl,{show:e.show,delay:n}),jsxRuntimeExports.jsxs(Card,{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl text-center",children:"Game values"}),jsxRuntimeExports.jsx(Gauge,{type:"energy",value:d.energy,max:MAX_ENERGY}),jsxRuntimeExports.jsx(Gauge,{type:"reputation",value:d.reputation,max:MAX_REPUTATION,barColor:"bg-pink-500"}),jsxRuntimeExports.jsx(Stats,{className:"*:h-6 text-lg",verbose:!0})]})]})},helpers=["Si vous n'avez plus de @reputation, vous perdez la partie.","Quand une carte est jouée, elle va dans la défausse.","Si vous ne pouvez plus jouer de carte, vous perdez la partie.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Chaque carte @action jouée ajoute un jour à la partie.","Les cartes @action ont une bannière bleue.","Lorsque vous n'avez plus d'@energy, vous consommez la @reputation.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Vous ne pouvez pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop sont défaussées à la place.","Le prix des cartes d'@upgrade augmente progressivement.","Si vous obtenez MONEY_TO_REACHM$, vous gagnez la partie."];function Svg$7(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const Helpers=e=>{const{animation:a,shadow:t,transparency:n}=useQualitySettings(l=>({animation:l.animations,transparency:l.transparency,shadow:l.shadows})),[o,c]=React.useState(0);return jsxRuntimeExports.jsx("div",{className:cn("absolute top-0 left-0 -translate-y-full -translate-x-full w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":n,"bg-card":!n,"shadow shadow-black/50":t&&n,"transition-transform duration-500 ease-in-out":a,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>c((o+1)%helpers.length),children:jsxRuntimeExports.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[jsxRuntimeExports.jsx(Svg$7,{className:"h-6 cursor-pointer"}),jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:formatText(helpers[o])}})]})})})},Upgrades=e=>{const a=useQualitySettings(n=>({shadows:n.shadows,animation:n.animations,transparency:n})),t=useCardGame(n=>n.upgrades);return jsxRuntimeExports.jsx("div",{className:cn("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":a.animation,"top-0":e.show&&t.length>0}),children:jsxRuntimeExports.jsx("div",{className:cn("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"shadow shadow-black/50":a.shadows&&a.transparency,"bg-card/50":a.transparency,"bg-card":!a.transparency}),children:jsxRuntimeExports.jsx("div",{className:"flex p-5 gap-10 relative shrink-0 w-max  translate-y-1/2",children:t.map((n,o)=>jsxRuntimeExports.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[jsxRuntimeExports.jsx("img",{src:`images/upgrades/${n.image}`,alt:n.name,className:cn("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":n.state==="triggered"&&a.animation,"ring-foreground":n.state==="triggered"&&!a.animation})}),jsxRuntimeExports.jsx("div",{className:"h-6 relative",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[n.max!==1/0&&jsxRuntimeExports.jsx(Progress,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:n.cumul/n.max*100}),jsxRuntimeExports.jsx("div",{className:cn("absolute text-center font-changa left-0 -translate-y-3 aspect-square h-6 rounded-full bg-upgrade",{"shadow shadow-black":a.shadows}),children:n.cumul})]})}),jsxRuntimeExports.jsxs(Card,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px]",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl",children:[n.name," ",jsxRuntimeExports.jsxs("span",{className:"text-upgrade font-bold",children:[n.cumul,n.max!==1/0?`/${n.max}`:""]})]}),jsxRuntimeExports.jsx("p",{dangerouslySetInnerHTML:{__html:formatText(formatUpgradeText(n.description,n.cumul))}})]})]},o))})})})},scores=[{name:"ฟ- ק𝖆†/⑳ -ж",score:38120},{name:"Ghom",score:37980},{name:"Makushi",score:44e3},{name:"Xibalba",score:24050}],TiltContext=React.createContext({degX:0,degY:0,isHovered:!1}),constantStyle={transformStyle:"preserve-3d"},Tilt=({max:e=20,reverse:a=!1,scale:t=1,perspective:n=1e3,className:o="",children:c,style:l})=>{const d=useQualitySettings(x=>x.tilt&&x.animations),p=React.useRef(null),m=useHover(p),[h,r]=React.useState({}),[s,i]=React.useState(0),[u,f]=React.useState(0),v=React.useCallback(x=>{if(p.current){const _=p.current.getBoundingClientRect(),y=x.clientX-_.left,E=x.clientY-_.top,A=_.width/2,R=_.height/2,b=(E-R)/R*e,w=(y-A)/A*e;i(a?b:-b),f(a?-w:w),r({...constantStyle,transform:`
            perspective(${n}px)
            rotateX(${a?b:-b}deg)
            rotateY(${a?-w:w}deg)
            scale(${t})
          `})}},[e,n,a,t]),g=React.useCallback(()=>{i(0),f(0),r({...constantStyle,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return React.useEffect(()=>{const x=p.current;return m?x&&(x.addEventListener("mousemove",v),x.addEventListener("mouseleave",g)):g(),()=>{x&&(x.removeEventListener("mousemove",v),x.removeEventListener("mouseleave",g)),g()}},[e,a,t,n,m]),d?jsxRuntimeExports.jsx("div",{ref:p,className:cn("will-change-transform",o),style:{...h,...l},children:jsxRuntimeExports.jsx(TiltContext.Provider,{value:{degX:s,degY:u,isHovered:m},children:c})}):jsxRuntimeExports.jsx("div",{className:o,style:l,children:c})},TiltFoil=()=>{const e=React.useContext(TiltContext);return useQualitySettings(t=>t.foil)?jsxRuntimeExports.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[jsxRuntimeExports.jsx("div",{className:cn("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),jsxRuntimeExports.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},GameOver=e=>{const{shadows:a,transparency:t,animation:n}=useQualitySettings(p=>({shadows:p.shadows,animation:p.animations,transparency:p.transparency})),[o,c]=useGlobalState(p=>[p.setCardGameVisibility,p.toggleSettings]),l=useCardGame(p=>({isGameOver:p.isGameOver,isWon:p.isWon,reason:p.reason,score:p.score,reset:p.reset})),d=scores.sort((p,m)=>m.score-p.score).findIndex(({score:p})=>l.score>=p);return jsxRuntimeExports.jsx("div",{className:cn("absolute w-full",e.show?"block":"hidden"),children:l.isGameOver&&jsxRuntimeExports.jsx("div",{className:cn("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":t,"bg-background":!t}),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-7",children:[jsxRuntimeExports.jsxs(Tilt,{className:"flex flex-col select-none",max:10,reverse:!0,children:[jsxRuntimeExports.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),jsxRuntimeExports.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[l.isWon&&jsxRuntimeExports.jsx("div",{className:"text-green-500",children:"Vous avez gagné !"}),!l.isWon&&jsxRuntimeExports.jsx("div",{className:"text-red-500",children:"Vous avez perdu !"})]})]}),l.reason&&jsxRuntimeExports.jsx("p",{className:"text-4xl",children:{reputation:"Vous avez utilisé toute votre jauge de réputation...",mill:"Vous n'avez plus de carte...","soft-lock":"Votre main est injouable..."}[l.reason]}),l.isWon?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Stats,{className:"*:h-10 text-3xl"}),jsxRuntimeExports.jsx("div",{className:cn("p-5 space-y-2 rounded-2xl bg-background shadow-md",{"shadow-foreground/20":a&&t}),children:d>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl",children:["Rank:"," ",jsxRuntimeExports.jsxs("span",{className:cn("font-changa text-4xl",rankColor(d)),children:["# ",d+1]})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg",children:[jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contactez-moi"})," ","pour ",jsxRuntimeExports.jsx("br",{})," soumettre votre score !"]})]}):jsxRuntimeExports.jsxs("div",{className:"text-lg",children:["Vous n'êtes pas classé, ",jsxRuntimeExports.jsx("br",{})," votre score est trop faible. ",jsxRuntimeExports.jsx("br",{})," Essayez"," ",settings.difficulty==="noob"||settings.difficulty==="easy"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["une difficulté plus élevée ! ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:c,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):jsxRuntimeExports.jsx("div",{className:"text-lg group/helpers",children:helpers.filter(p=>{switch(l.reason){case"reputation":return p.includes("@reputation")||p.includes("gagnez la partie");case"mill":return p.includes("plus jouer")||p.includes("défausse")||p.includes("limitée")||p.includes("gagnez la partie");case"soft-lock":return p.includes("plus jouer")||p.includes("progressivement")||p.includes("cartes à jouer")||p.includes("gagnez la partie");default:return!1}}).map((p,m)=>jsxRuntimeExports.jsx("div",{className:cn("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":n}),children:jsxRuntimeExports.jsx("p",{className:cn("hover:text-foreground",{[cn("animate-trigger",{"delay-0":m===0,"delay-100":m===1,"delay-200":m===2,"delay-300":m===3,"delay-500":m===4,"delay-700":m===5})]:n}),dangerouslySetInnerHTML:{__html:formatText(p)}},m)}))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>o(!1),variant:l.isWon&&d!==-1?"opaque":"default",children:"Quitter"}),jsxRuntimeExports.jsx(Button,{onClick:()=>l.reset(),variant:l.isWon?d===-1?"opaque":"default":"cta",size:l.isWon?"default":"cta",children:"Recommencer"}),l.isWon&&jsxRuntimeExports.jsx("div",{className:cn({"animate-bounce":n}),children:jsxRuntimeExports.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:buttonVariants({variant:"cta",size:"cta"}),children:"Buy me a coffee ☕️"})})]})]})})})};function Svg$6(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Svg$5(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const MoneyIcon=e=>e.value==="0"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx("div",{className:cn("text-2xl font-bold border border-white px-1 bg-money text-money-foreground",e.className),style:e.style,children:jsxRuntimeExports.jsxs("div",{style:{transform:"translateZ(5px)"},children:[e.value,"M$"]})}),GameCard=e=>{const{shadows:a,perspective:t,animation:n,transparency:o,tilt:c}=useQualitySettings(i=>({blur:i.blur,shadows:i.shadows,perspective:i.perspective,animation:i.animations,transparency:i.transparency,tilt:i.tilt})),{handSize:l,isAnyCardAnimated:d,isGameOver:p,play:m,canTriggerEffect:h,parsedCost:r}=useCardGame(i=>{const u=parseCost(i,e.card);return{handSize:i.hand.length,isAnyCardAnimated:i.hand.some(f=>f.state!=="idle")||i.upgrades.length>0&&i.upgrades.some(f=>f.state!=="idle")||Object.values(i.operationInProgress).some(f=>f),play:i.play,isGameOver:i.isGameOver,parsedCost:u,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(i,e.card)}}),s=e.position-(l-1)/2;return jsxRuntimeExports.jsx("div",{className:cn("game-card","relative w-[calc(630px/3)] h-[calc(880px/3)]","hover:-translate-y-14","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{[cn("transition-transform",e.card.state)]:n,grayscale:p||!r.canBeBuy||!h,"cursor-not-allowed":d}),onClick:async()=>{!d&&!p&&await m(e.card)},onContextMenu:i=>{i.preventDefault(),isActionCardInfo(e.card)&&e.card.url&&window.open(e.card.url,"_blank")},style:{marginBottom:`${20-Math.abs(s)*5}px`,rotate:`${s*2}deg`,transitionDuration:n?"0.3s":"0",transitionTimingFunction:n?"ease-in-out":"linear"},children:jsxRuntimeExports.jsxs(Tilt,{scale:1.1,className:cn("group/game-card",{"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":a},"flex flex-col w-full h-full rounded-xl","*:shrink-0",{[cn({"bg-card/80":o,"bg-card":!o})]:e.card.effect.type==="support"}),children:[isActionCardInfo(e.card)&&e.card.detail&&jsxRuntimeExports.jsxs("div",{className:cn("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":a,"transition-opacity duration-200 ease-in-out delay-1000":n,"opacity-0 group-hover/game-card:opacity-100 flex":o,"hidden group-hover/game-card:flex":!o}),children:[jsxRuntimeExports.jsx(Svg$6,{className:"w-10"}),jsxRuntimeExports.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),jsxRuntimeExports.jsx(Svg$5,{className:"w-10 self-end"})]}),t&&c&&jsxRuntimeExports.jsx("div",{className:cn("absolute w-full h-full rounded-xl",{"bg-card/80":o,"bg-card":!o}),style:{transform:"translateZ(-20px)"}}),jsxRuntimeExports.jsxs("div",{className:cn("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[cn({"bg-support/50":o,"bg-support":!o})]:e.card.effect.type==="support"}),style:{transformStyle:t?"preserve-3d":"flat"},children:[jsxRuntimeExports.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t?"translateZ(5px)":""} translateX(-15px)`,transformStyle:t?"preserve-3d":"flat"},children:r.needs==="energy"?jsxRuntimeExports.jsx(ValueIcon,{isCost:!0,type:"energy",value:r.cost,iconScale:"0.75",style:{transform:t?"translateZ(5px)":"none",transformStyle:t?"preserve-3d":"flat"}}):jsxRuntimeExports.jsx(MoneyIcon,{value:String(r.cost),style:{transform:`${t?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:t?"preserve-3d":"flat"}})}),jsxRuntimeExports.jsx("h2",{className:cn("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[cn({"left-3 text-lg":r.needs==="money"&&e.card.name.length>7,"left-7":r.needs==="money"&&r.cost>99,"text-md":e.card.name.length>11})]:r.cost>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:t?"translateZ(5px)":"none"},children:e.card.name})]}),isActionCardInfo(e.card)?jsxRuntimeExports.jsx(GameCardProject,{card:e.card}):jsxRuntimeExports.jsx(GameCardTechno,{card:e.card}),jsxRuntimeExports.jsxs("div",{className:cn("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/80":o,"bg-card":!o}),style:{transformStyle:t?"preserve-3d":"flat"},children:[jsxRuntimeExports.jsx("p",{className:"py-[10px] px-[15px] text-center",style:{transform:t?"translateZ(10px)":"none",transformStyle:t?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&jsxRuntimeExports.jsx("div",{className:cn("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":o,"text-muted-foreground":!o}),children:"Éphémère"})]}),jsxRuntimeExports.jsx(BorderLight,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),jsxRuntimeExports.jsx(BorderLight,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),jsxRuntimeExports.jsx(TiltFoil,{})]})})},GameCardProject=e=>{const{shadows:a,perspective:t,transparency:n,animation:o}=useQualitySettings(c=>({shadows:c.shadows,perspective:c.perspective,transparency:c.transparency,animation:c.animations}));return jsxRuntimeExports.jsxs("div",{className:"group/image relative pointer-events-auto",style:{transformStyle:t?"preserve-3d":"flat"},children:[jsxRuntimeExports.jsx("div",{className:cn({"inset-shadow":a},"relative flex justify-center items-center"),style:{transformStyle:t?"preserve-3d":"flat"},children:jsxRuntimeExports.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:t?"translateZ(-15px)":"none"}})}),e.card.description&&jsxRuntimeExports.jsx("div",{className:cn("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":n}),style:{transform:t?"translateZ(-5px)":"none"},children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},spinners=["React","Knex"],GameCardTechno=e=>{const{perspective:a,animation:t}=useQualitySettings(n=>({perspective:n.perspective,animation:n.animations}));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:a?"translateZ(20px)":"none"},children:jsxRuntimeExports.jsx("img",{src:e.card.logo,alt:`Logo de la techno "${e.card.name}"`,className:cn("w-2/3 object-contain aspect-square",{"group-hover/game-card:animate-spin-forward":t&&spinners.includes(e.card.name)})})})})};function Svg$4(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const Scoreboard=e=>{const{shadows:a,animation:t}=useQualitySettings(n=>({shadows:n.shadows,animation:n.animations}));return jsxRuntimeExports.jsxs("div",{className:cn("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"translate-x-0":e.show}),children:[jsxRuntimeExports.jsx("div",{className:cn("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":a})}),jsxRuntimeExports.jsx("div",{className:cn("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":a})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:"Scoreboard"}),jsxRuntimeExports.jsx("table",{children:jsxRuntimeExports.jsx("tbody",{children:scores.sort((n,o)=>o.score-n.score).map((n,o)=>jsxRuntimeExports.jsxs("tr",{className:cn("*:whitespace-nowrap",rankColor(o)),children:[jsxRuntimeExports.jsx("td",{children:o<3?jsxRuntimeExports.jsx(Svg$4,{className:cn("w-4",rankColor(o))}):""}),jsxRuntimeExports.jsxs("th",{children:["# ",o+1]}),jsxRuntimeExports.jsx("th",{className:"text-left",children:n.name}),jsxRuntimeExports.jsxs("td",{children:[n.score.toLocaleString()," pts"]})]},o))})}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground text-sm bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si vous avez un meilleur score, vous pouvez me le ",jsxRuntimeExports.jsx("br",{}),"soumettre en me contactant sur Discord ou LinkedIn !"]})]})})]})},GameActions=e=>{const a=useCardGame(),t=useQualitySettings(o=>o.animations),n=a.energy+a.reputation<INFINITE_DRAW_COST||a.hand.length>=MAX_HAND_SIZE||a.deck.length===0;return jsxRuntimeExports.jsx("div",{className:cn("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0",{"transition-opacity duration-500 ease-in-out":t,"opacity-100":e.show}),children:jsxRuntimeExports.jsxs(Card,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:"Game Actions"}),jsxRuntimeExports.jsxs(Button,{className:cn("flex justify-start gap-2",{grayscale:n}),onClick:async()=>{a.setOperationInProgress("infinity-draw",!0),bank.play.play(),await a.addEnergy(-INFINITE_DRAW_COST,{skipGameOverPause:!0}),await a.draw(1,{skipGameOverPause:!0}),await a.triggerUpgradeEvent("eachDay",{skipGameOverPause:!0}),isGameOver(a)&&await wait(2e3),a.setOperationInProgress("infinity-draw",!1)},disabled:n,size:"cta",children:[jsxRuntimeExports.jsx(ValueIcon,{value:INFINITE_DRAW_COST,type:"energy",isCost:!0,className:"w-8"})," ","Piocher une carte"]})]})})},useMusic=()=>{const e=useGlobalState(n=>n.isCardGameVisible),[a,t]=React.useState(localStorage.getItem("muted")==="true");return React.useEffect(()=>{music.mute(a,musicId),localStorage.setItem("muted",JSON.stringify(a))},[a]),React.useEffect(()=>{e?(music.play(musicId),music.fade(0,.5,1e3,musicId)):music.fade(.5,0,1e3,musicId)},[e]),[a,()=>t(!a)]};function Svg$3(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),React.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),React.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function Svg$2(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M416 432 64 80"}),React.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),React.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function Svg$1(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}const CornerIcons=e=>{const[a,t]=useMusic(),[n,o]=useQualitySettings(l=>[l.animations,l.transparency]),c=useGlobalState(l=>l.toggleSettings);return jsxRuntimeExports.jsxs("div",{className:cn("absolute top-4 right-16 z-50 gap-2","translate-x-full pointer-events-none",{hidden:o,"opacity-0":!o,"transition-all duration-500 ease-in-out":n,"translate-x-0 opacity-100 flex pointer-events-auto":e.show}),children:[jsxRuntimeExports.jsx(Button,{onClick:c,variant:"icon",size:"icon",children:jsxRuntimeExports.jsx(Svg$1,{})}),jsxRuntimeExports.jsx(Button,{onClick:t,variant:"icon",size:"icon",children:a?jsxRuntimeExports.jsx(Svg$2,{}):jsxRuntimeExports.jsx(Svg$3,{})})]})};var NAME="Label",Label$1=reactExports.forwardRef((e,a)=>jsxRuntimeExports.jsx(Primitive.label,{...e,ref:a,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Label$1.displayName=NAME;var Root$3=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Root$3,{ref:t,className:cn(labelVariants(),e),...a}));Label.displayName=Root$3.displayName;function composeEventHandlers(e,a,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return a==null?void 0:a(o)}}function useCallbackRef$1(e){const a=reactExports.useRef(e);return reactExports.useEffect(()=>{a.current=e}),reactExports.useMemo(()=>(...t)=>{var n;return(n=a.current)==null?void 0:n.call(a,...t)},[])}function useControllableState({prop:e,defaultProp:a,onChange:t=()=>{}}){const[n,o]=useUncontrolledState({defaultProp:a,onChange:t}),c=e!==void 0,l=c?e:n,d=useCallbackRef$1(t),p=reactExports.useCallback(m=>{if(c){const r=typeof m=="function"?m(e):m;r!==e&&d(r)}else o(m)},[c,e,o,d]);return[l,p]}function useUncontrolledState({defaultProp:e,onChange:a}){const t=reactExports.useState(e),[n]=t,o=reactExports.useRef(n),c=useCallbackRef$1(a);return reactExports.useEffect(()=>{o.current!==n&&(c(n),o.current=n)},[n,o,c]),t}function usePrevious(e){const a=reactExports.useRef({value:e,previous:e});return reactExports.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{};function useSize(e){const[a,t]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let l,d;if("borderBoxSize"in c){const p=c.borderBoxSize,m=Array.isArray(p)?p[0]:p;l=m.inlineSize,d=m.blockSize}else l=e.offsetWidth,d=e.offsetHeight;t({width:l,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else t(void 0)},[e]),a}function useStateMachine(e,a){return reactExports.useReducer((t,n)=>a[t][n]??t,e)}var Presence=e=>{const{present:a,children:t}=e,n=usePresence(a),o=typeof t=="function"?t({present:n.isPresent}):reactExports.Children.only(t),c=useComposedRefs(n.ref,getElementRef(o));return typeof t=="function"||n.isPresent?reactExports.cloneElement(o,{ref:c}):null};Presence.displayName="Presence";function usePresence(e){const[a,t]=reactExports.useState(),n=reactExports.useRef({}),o=reactExports.useRef(e),c=reactExports.useRef("none"),l=e?"mounted":"unmounted",[d,p]=useStateMachine(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const m=getAnimationName(n.current);c.current=d==="mounted"?m:"none"},[d]),useLayoutEffect2(()=>{const m=n.current,h=o.current;if(h!==e){const s=c.current,i=getAnimationName(m);e?p("MOUNT"):i==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(h&&s!==i?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),useLayoutEffect2(()=>{if(a){const m=r=>{const i=getAnimationName(n.current).includes(r.animationName);r.target===a&&i&&reactDomExports.flushSync(()=>p("ANIMATION_END"))},h=r=>{r.target===a&&(c.current=getAnimationName(n.current))};return a.addEventListener("animationstart",h),a.addEventListener("animationcancel",m),a.addEventListener("animationend",m),()=>{a.removeEventListener("animationstart",h),a.removeEventListener("animationcancel",m),a.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[a,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:reactExports.useCallback(m=>{m&&(n.current=getComputedStyle(m)),t(m)},[])}}function getAnimationName(e){return(e==null?void 0:e.animationName)||"none"}function getElementRef(e){var n,o;let a=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=a&&"isReactWarning"in a&&a.isReactWarning;return t?e.ref:(a=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=a&&"isReactWarning"in a&&a.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var CHECKBOX_NAME="Checkbox",[createCheckboxContext,createCheckboxScope]=createContextScope(CHECKBOX_NAME),[CheckboxProvider,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME),Checkbox$1=reactExports.forwardRef((e,a)=>{const{__scopeCheckbox:t,name:n,checked:o,defaultChecked:c,required:l,disabled:d,value:p="on",onCheckedChange:m,...h}=e,[r,s]=reactExports.useState(null),i=useComposedRefs(a,_=>s(_)),u=reactExports.useRef(!1),f=r?!!r.closest("form"):!0,[v=!1,g]=useControllableState({prop:o,defaultProp:c,onChange:m}),x=reactExports.useRef(v);return reactExports.useEffect(()=>{const _=r==null?void 0:r.form;if(_){const y=()=>g(x.current);return _.addEventListener("reset",y),()=>_.removeEventListener("reset",y)}},[r,g]),jsxRuntimeExports.jsxs(CheckboxProvider,{scope:t,state:v,disabled:d,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(v)?"mixed":v,"aria-required":l,"data-state":getState$2(v),"data-disabled":d?"":void 0,disabled:d,value:p,...h,ref:i,onKeyDown:composeEventHandlers(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:composeEventHandlers(e.onClick,_=>{g(y=>isIndeterminate(y)?!0:!y),f&&(u.current=_.isPropagationStopped(),u.current||_.stopPropagation())})}),f&&jsxRuntimeExports.jsx(BubbleInput$1,{control:r,bubbles:!u.current,name:n,value:p,checked:v,required:l,disabled:d,style:{transform:"translateX(-100%)"}})]})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((e,a)=>{const{__scopeCheckbox:t,forceMount:n,...o}=e,c=useCheckboxContext(INDICATOR_NAME$1,t);return jsxRuntimeExports.jsx(Presence,{present:n||isIndeterminate(c.state)||c.state===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$2(c.state),"data-disabled":c.disabled?"":void 0,...o,ref:a,style:{pointerEvents:"none",...e.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BubbleInput$1=e=>{const{control:a,checked:t,bubbles:n=!0,...o}=e,c=reactExports.useRef(null),l=usePrevious(t),d=useSize(a);return reactExports.useEffect(()=>{const p=c.current,m=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==t&&r){const s=new Event("click",{bubbles:n});p.indeterminate=isIndeterminate(t),r.call(p,isIndeterminate(t)?!1:t),p.dispatchEvent(s)}},[l,t,n]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:isIndeterminate(t)?!1:t,...o,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function isIndeterminate(e){return e==="indeterminate"}function getState$2(e){return isIndeterminate(e)?"indeterminate":e?"checked":"unchecked"}var Root$2=Checkbox$1,Indicator$1=CheckboxIndicator;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...e)=>e.filter((a,t,n)=>!!a&&n.indexOf(a)===t).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:c,iconNode:l,...d},p)=>reactExports.createElement("svg",{ref:p,...defaultAttributes,width:a,height:a,stroke:e,strokeWidth:n?Number(t)*24/Number(a):t,className:mergeClasses("lucide",o),...d},[...l.map(([m,h])=>reactExports.createElement(m,h)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,a)=>{const t=reactExports.forwardRef(({className:n,...o},c)=>reactExports.createElement(Icon,{ref:c,iconNode:a,className:mergeClasses(`lucide-${toKebabCase(e)}`,n),...o}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Checkbox=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Root$2,{ref:t,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:jsxRuntimeExports.jsx(Indicator$1,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Root$2.displayName;function createCollection(e){const a=e+"CollectionProvider",[t,n]=createContextScope(a),[o,c]=t(a,{collectionRef:{current:null},itemMap:new Map}),l=i=>{const{scope:u,children:f}=i,v=React.useRef(null),g=React.useRef(new Map).current;return jsxRuntimeExports.jsx(o,{scope:u,itemMap:g,collectionRef:v,children:f})};l.displayName=a;const d=e+"CollectionSlot",p=React.forwardRef((i,u)=>{const{scope:f,children:v}=i,g=c(d,f),x=useComposedRefs(u,g.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:x,children:v})});p.displayName=d;const m=e+"CollectionItemSlot",h="data-radix-collection-item",r=React.forwardRef((i,u)=>{const{scope:f,children:v,...g}=i,x=React.useRef(null),_=useComposedRefs(u,x),y=c(m,f);return React.useEffect(()=>(y.itemMap.set(x,{ref:x,...g}),()=>void y.itemMap.delete(x))),jsxRuntimeExports.jsx(Slot,{[h]:"",ref:_,children:v})});r.displayName=m;function s(i){const u=c(e+"CollectionConsumer",i);return React.useCallback(()=>{const v=u.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(u.itemMap.values()).sort((y,E)=>g.indexOf(y.ref.current)-g.indexOf(E.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:l,Slot:p,ItemSlot:r},s,n]}var useReactId=React$1.useId||(()=>{}),count$1=0;function useId(e){const[a,t]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{t(n=>n??String(count$1++))},[e]),a?`radix-${a}`:""}var DirectionContext=reactExports.createContext(void 0);function useDirection(e){const a=reactExports.useContext(DirectionContext);return e||a||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((e,a)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...e,ref:a})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:o=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...r}=e,s=reactExports.useRef(null),i=useComposedRefs(a,s),u=useDirection(c),[f=null,v]=useControllableState({prop:l,defaultProp:d,onChange:p}),[g,x]=reactExports.useState(!1),_=useCallbackRef$1(m),y=useCollection(t),E=reactExports.useRef(!1),[A,R]=reactExports.useState(0);return reactExports.useEffect(()=>{const b=s.current;if(b)return b.addEventListener(ENTRY_FOCUS,_),()=>b.removeEventListener(ENTRY_FOCUS,_)},[_]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:t,orientation:n,dir:u,loop:o,currentTabStopId:f,onItemFocus:reactExports.useCallback(b=>v(b),[v]),onItemShiftTab:reactExports.useCallback(()=>x(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>R(b=>b+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>R(b=>b-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:g||A===0?-1:0,"data-orientation":n,...r,ref:i,style:{outline:"none",...e.style},onMouseDown:composeEventHandlers(e.onMouseDown,()=>{E.current=!0}),onFocus:composeEventHandlers(e.onFocus,b=>{const w=!E.current;if(b.target===b.currentTarget&&w&&!g){const N=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(b.currentTarget.dispatchEvent(N),!N.defaultPrevented){const j=y().filter(C=>C.focusable),P=j.find(C=>C.active),T=j.find(C=>C.id===f),O=[P,T,...j].filter(Boolean).map(C=>C.ref.current);focusFirst$1(O,h)}}E.current=!1}),onBlur:composeEventHandlers(e.onBlur,()=>x(!1))})})}),ITEM_NAME$1="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:o=!1,tabStopId:c,...l}=e,d=useId(),p=c||d,m=useRovingFocusContext(ITEM_NAME$1,t),h=m.currentTabStopId===p,r=useCollection(t),{onFocusableItemAdd:s,onFocusableItemRemove:i}=m;return reactExports.useEffect(()=>{if(n)return s(),()=>i()},[n,s,i]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:t,id:p,focusable:n,active:o,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...l,ref:a,onMouseDown:composeEventHandlers(e.onMouseDown,u=>{n?m.onItemFocus(p):u.preventDefault()}),onFocus:composeEventHandlers(e.onFocus,()=>m.onItemFocus(p)),onKeyDown:composeEventHandlers(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){m.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const f=getFocusIntent(u,m.orientation,m.dir);if(f!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let g=r().filter(x=>x.focusable).map(x=>x.ref.current);if(f==="last")g.reverse();else if(f==="prev"||f==="next"){f==="prev"&&g.reverse();const x=g.indexOf(u.currentTarget);g=m.loop?wrapArray(g,x+1):g.slice(x+1)}setTimeout(()=>focusFirst$1(g))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$1;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(e,a){return a!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function getFocusIntent(e,a,t){const n=getDirectionAwareKey(e.key,t);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return MAP_KEY_TO_FOCUS_INTENT[n]}function focusFirst$1(e,a=!1){const t=document.activeElement;for(const n of e)if(n===t||(n.focus({preventScroll:a}),document.activeElement!==t))return}function wrapArray(e,a){return e.map((t,n)=>e[(a+n)%e.length])}var Root$1=RovingFocusGroup,Item=RovingFocusGroupItem,RADIO_NAME="Radio",[createRadioContext,createRadioScope]=createContextScope(RADIO_NAME),[RadioProvider,useRadioContext]=createRadioContext(RADIO_NAME),Radio=reactExports.forwardRef((e,a)=>{const{__scopeRadio:t,name:n,checked:o=!1,required:c,disabled:l,value:d="on",onCheck:p,...m}=e,[h,r]=reactExports.useState(null),s=useComposedRefs(a,f=>r(f)),i=reactExports.useRef(!1),u=h?!!h.closest("form"):!0;return jsxRuntimeExports.jsxs(RadioProvider,{scope:t,checked:o,disabled:l,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"radio","aria-checked":o,"data-state":getState$1(o),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:s,onClick:composeEventHandlers(e.onClick,f=>{o||p==null||p(),u&&(i.current=f.isPropagationStopped(),i.current||f.stopPropagation())})}),u&&jsxRuntimeExports.jsx(BubbleInput,{control:h,bubbles:!i.current,name:n,value:d,checked:o,required:c,disabled:l,style:{transform:"translateX(-100%)"}})]})});Radio.displayName=RADIO_NAME;var INDICATOR_NAME="RadioIndicator",RadioIndicator=reactExports.forwardRef((e,a)=>{const{__scopeRadio:t,forceMount:n,...o}=e,c=useRadioContext(INDICATOR_NAME,t);return jsxRuntimeExports.jsx(Presence,{present:n||c.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:a})})});RadioIndicator.displayName=INDICATOR_NAME;var BubbleInput=e=>{const{control:a,checked:t,bubbles:n=!0,...o}=e,c=reactExports.useRef(null),l=usePrevious(t),d=useSize(a);return reactExports.useEffect(()=>{const p=c.current,m=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==t&&r){const s=new Event("click",{bubbles:n});r.call(p,t),p.dispatchEvent(s)}},[l,t,n]),jsxRuntimeExports.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState$1(e){return e?"checked":"unchecked"}var ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RADIO_GROUP_NAME="RadioGroup",[createRadioGroupContext,createRadioGroupScope]=createContextScope(RADIO_GROUP_NAME,[createRovingFocusGroupScope,createRadioScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),useRadioScope=createRadioScope(),[RadioGroupProvider,useRadioGroupContext]=createRadioGroupContext(RADIO_GROUP_NAME),RadioGroup$1=reactExports.forwardRef((e,a)=>{const{__scopeRadioGroup:t,name:n,defaultValue:o,value:c,required:l=!1,disabled:d=!1,orientation:p,dir:m,loop:h=!0,onValueChange:r,...s}=e,i=useRovingFocusGroupScope(t),u=useDirection(m),[f,v]=useControllableState({prop:c,defaultProp:o,onChange:r});return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:t,name:n,required:l,disabled:d,value:f,onValueChange:v,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,...i,orientation:p,dir:u,loop:h,children:jsxRuntimeExports.jsx(Primitive.div,{role:"radiogroup","aria-required":l,"aria-orientation":p,"data-disabled":d?"":void 0,dir:u,...s,ref:a})})})});RadioGroup$1.displayName=RADIO_GROUP_NAME;var ITEM_NAME="RadioGroupItem",RadioGroupItem$1=reactExports.forwardRef((e,a)=>{const{__scopeRadioGroup:t,disabled:n,...o}=e,c=useRadioGroupContext(ITEM_NAME,t),l=c.disabled||n,d=useRovingFocusGroupScope(t),p=useRadioScope(t),m=reactExports.useRef(null),h=useComposedRefs(a,m),r=c.value===o.value,s=reactExports.useRef(!1);return reactExports.useEffect(()=>{const i=f=>{ARROW_KEYS.includes(f.key)&&(s.current=!0)},u=()=>s.current=!1;return document.addEventListener("keydown",i),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",u)}},[]),jsxRuntimeExports.jsx(Item,{asChild:!0,...d,focusable:!l,active:r,children:jsxRuntimeExports.jsx(Radio,{disabled:l,required:c.required,checked:r,...p,...o,name:c.name,ref:h,onCheck:()=>c.onValueChange(o.value),onKeyDown:composeEventHandlers(i=>{i.key==="Enter"&&i.preventDefault()}),onFocus:composeEventHandlers(o.onFocus,()=>{var i;s.current&&((i=m.current)==null||i.click())})})})});RadioGroupItem$1.displayName=ITEM_NAME;var INDICATOR_NAME2="RadioGroupIndicator",RadioGroupIndicator=reactExports.forwardRef((e,a)=>{const{__scopeRadioGroup:t,...n}=e,o=useRadioScope(t);return jsxRuntimeExports.jsx(RadioIndicator,{...o,...n,ref:a})});RadioGroupIndicator.displayName=INDICATOR_NAME2;var Root2$1=RadioGroup$1,Item2=RadioGroupItem$1,Indicator=RadioGroupIndicator;const RadioGroup=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Root2$1,{className:cn("grid gap-2",e),...a,ref:t}));RadioGroup.displayName=Root2$1.displayName;const RadioGroupItem=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Item2,{ref:t,className:cn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:jsxRuntimeExports.jsx(Indicator,{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RadioGroupItem.displayName=Item2.displayName;function useEscapeKeydown(e,a=globalThis==null?void 0:globalThis.document){const t=useCallbackRef$1(e);reactExports.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return a.addEventListener("keydown",n,{capture:!0}),()=>a.removeEventListener("keydown",n,{capture:!0})},[t,a])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,a)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:l,onDismiss:d,...p}=e,m=reactExports.useContext(DismissableLayerContext),[h,r]=reactExports.useState(null),s=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,i]=reactExports.useState({}),u=useComposedRefs(a,R=>r(R)),f=Array.from(m.layers),[v]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),g=f.indexOf(v),x=h?f.indexOf(h):-1,_=m.layersWithOutsidePointerEventsDisabled.size>0,y=x>=g,E=usePointerDownOutside(R=>{const b=R.target,w=[...m.branches].some(N=>N.contains(b));!y||w||(o==null||o(R),l==null||l(R),R.defaultPrevented||d==null||d())},s),A=useFocusOutside(R=>{const b=R.target;[...m.branches].some(N=>N.contains(b))||(c==null||c(R),l==null||l(R),R.defaultPrevented||d==null||d())},s);return useEscapeKeydown(R=>{x===m.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},s),reactExports.useEffect(()=>{if(h)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=s.body.style.pointerEvents,s.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),dispatchUpdate(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(s.body.style.pointerEvents=originalBodyPointerEvents)}},[h,s,t,m]),reactExports.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),dispatchUpdate())},[h,m]),reactExports.useEffect(()=>{const R=()=>i({});return document.addEventListener(CONTEXT_UPDATE,R),()=>document.removeEventListener(CONTEXT_UPDATE,R)},[]),jsxRuntimeExports.jsx(Primitive.div,{...p,ref:u,style:{pointerEvents:_?y?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,A.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,E.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,a)=>{const t=reactExports.useContext(DismissableLayerContext),n=reactExports.useRef(null),o=useComposedRefs(a,n);return reactExports.useEffect(()=>{const c=n.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),jsxRuntimeExports.jsx(Primitive.div,{...e,ref:o})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,a=globalThis==null?void 0:globalThis.document){const t=useCallbackRef$1(e),n=reactExports.useRef(!1),o=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=d=>{if(d.target&&!n.current){let p=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,t,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(a.removeEventListener("click",o.current),o.current=p,a.addEventListener("click",o.current,{once:!0})):p()}else a.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{a.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),a.removeEventListener("pointerdown",c),a.removeEventListener("click",o.current)}},[a,t]),{onPointerDownCapture:()=>n.current=!0}}function useFocusOutside(e,a=globalThis==null?void 0:globalThis.document){const t=useCallbackRef$1(e),n=reactExports.useRef(!1);return reactExports.useEffect(()=>{const o=c=>{c.target&&!n.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,t,{originalEvent:c},{discrete:!1})};return a.addEventListener("focusin",o),()=>a.removeEventListener("focusin",o)},[a,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent(e,a,t,{discrete:n}){const o=t.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});a&&o.addEventListener(e,a,{once:!0}),n?dispatchDiscreteCustomEvent(o,c):o.dispatchEvent(c)}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((e,a)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...l}=e,[d,p]=reactExports.useState(null),m=useCallbackRef$1(o),h=useCallbackRef$1(c),r=reactExports.useRef(null),s=useComposedRefs(a,f=>p(f)),i=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(n){let f=function(_){if(i.paused||!d)return;const y=_.target;d.contains(y)?r.current=y:focus(r.current,{select:!0})},v=function(_){if(i.paused||!d)return;const y=_.relatedTarget;y!==null&&(d.contains(y)||focus(r.current,{select:!0}))},g=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&focus(d)};document.addEventListener("focusin",f),document.addEventListener("focusout",v);const x=new MutationObserver(g);return d&&x.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",v),x.disconnect()}}},[n,d,i.paused]),reactExports.useEffect(()=>{if(d){focusScopesStack.add(i);const f=document.activeElement;if(!d.contains(f)){const g=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);d.addEventListener(AUTOFOCUS_ON_MOUNT,m),d.dispatchEvent(g),g.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(d)),{select:!0}),document.activeElement===f&&focus(d))}return()=>{d.removeEventListener(AUTOFOCUS_ON_MOUNT,m),setTimeout(()=>{const g=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);d.addEventListener(AUTOFOCUS_ON_UNMOUNT,h),d.dispatchEvent(g),g.defaultPrevented||focus(f??document.body,{select:!0}),d.removeEventListener(AUTOFOCUS_ON_UNMOUNT,h),focusScopesStack.remove(i)},0)}}},[d,m,h,i]);const u=reactExports.useCallback(f=>{if(!t&&!n||i.paused)return;const v=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,g=document.activeElement;if(v&&g){const x=f.currentTarget,[_,y]=getTabbableEdges(x);_&&y?!f.shiftKey&&g===y?(f.preventDefault(),t&&focus(_,{select:!0})):f.shiftKey&&g===_&&(f.preventDefault(),t&&focus(y,{select:!0})):g===x&&f.preventDefault()}},[t,n,i.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...l,ref:s,onKeyDown:u})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(e,{select:a=!1}={}){const t=document.activeElement;for(const n of e)if(focus(n,{select:a}),document.activeElement!==t)return}function getTabbableEdges(e){const a=getTabbableCandidates(e),t=findVisible(a,e),n=findVisible(a.reverse(),e);return[t,n]}function getTabbableCandidates(e){const a=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)a.push(t.currentNode);return a}function findVisible(e,a){for(const t of e)if(!isHidden(t,{upTo:a}))return t}function isHidden(e,{upTo:a}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(a!==void 0&&e===a)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function isSelectableInput(e){return e instanceof HTMLInputElement&&"select"in e}function focus(e,{select:a=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&isSelectableInput(e)&&a&&e.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let e=[];return{add(a){const t=e[0];a!==t&&(t==null||t.pause()),e=arrayRemove(e,a),e.unshift(a)},remove(a){var t;e=arrayRemove(e,a),(t=e[0])==null||t.resume()}}}function arrayRemove(e,a){const t=[...e],n=t.indexOf(a);return n!==-1&&t.splice(n,1),t}function removeLinks(e){return e.filter(a=>a.tagName!=="A")}var PORTAL_NAME$2="Portal",Portal$1=reactExports.forwardRef((e,a)=>{var d;const{container:t,...n}=e,[o,c]=reactExports.useState(!1);useLayoutEffect2(()=>c(!0),[]);const l=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...n,ref:a}),l):null});Portal$1.displayName=PORTAL_NAME$2;var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",e[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),count--}},[])}function createFocusGuard(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var __assign=function(){return __assign=Object.assign||function(a){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(a[c]=t[c])}return a},__assign.apply(this,arguments)};function __rest(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)a.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}function __spreadArray(e,a,t){if(t||arguments.length===2)for(var n=0,o=a.length,c;n<o;n++)(c||!(n in a))&&(c||(c=Array.prototype.slice.call(a,0,n)),c[n]=a[n]);return e.concat(c||Array.prototype.slice.call(a))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(e,a){return typeof e=="function"?e(a):e&&(e.current=a),e}function useCallbackRef(e,a){var t=reactExports.useState(function(){return{value:e,callback:a,facade:{get current(){return t.value},set current(n){var o=t.value;o!==n&&(t.value=n,t.callback(n,o))}}}})[0];return t.callback=a,t.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(e,a){var t=useCallbackRef(null,function(n){return e.forEach(function(o){return assignRef(o,n)})});return useIsomorphicLayoutEffect(function(){var n=currentValues.get(t);if(n){var o=new Set(n),c=new Set(e),l=t.current;o.forEach(function(d){c.has(d)||assignRef(d,null)}),c.forEach(function(d){o.has(d)||assignRef(d,l)})}currentValues.set(t,e)},[e]),t}function ItoI(e){return e}function innerCreateMedium(e,a){a===void 0&&(a=ItoI);var t=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(c){var l=a(c,n);return t.push(l),function(){t=t.filter(function(d){return d!==l})}},assignSyncMedium:function(c){for(n=!0;t.length;){var l=t;t=[],l.forEach(c)}t={push:function(d){return c(d)},filter:function(){return t}}},assignMedium:function(c){n=!0;var l=[];if(t.length){var d=t;t=[],d.forEach(c),l=t}var p=function(){var h=l;l=[],h.forEach(c)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(h){l.push(h),m()},filter:function(h){return l=l.filter(h),t}}}};return o}function createSidecarMedium(e){e===void 0&&(e={});var a=innerCreateMedium(null);return a.options=__assign({async:!0,ssr:!1},e),a}var SideCar$1=function(e){var a=e.sideCar,t=__rest(e,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=a.read();if(!n)throw new Error("Sidecar medium not found");return reactExports.createElement(n,__assign({},t))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,a){return e.useMedium(a),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,a){var t=reactExports.useRef(null),n=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),o=n[0],c=n[1],l=e.forwardProps,d=e.children,p=e.className,m=e.removeScrollBar,h=e.enabled,r=e.shards,s=e.sideCar,i=e.noIsolation,u=e.inert,f=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,x=e.gapMode,_=__rest(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=s,E=useMergeRefs([t,a]),A=__assign(__assign({},_),o);return reactExports.createElement(reactExports.Fragment,null,h&&reactExports.createElement(y,{sideCar:effectCar,removeScrollBar:m,shards:r,noIsolation:i,inert:u,setCallbacks:c,allowPinchZoom:!!f,lockRef:t,gapMode:x}),l?reactExports.cloneElement(reactExports.Children.only(d),__assign(__assign({},A),{ref:E})):reactExports.createElement(g,__assign({},A,{className:p,ref:E}),d))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var a=getNonce();return a&&e.setAttribute("nonce",a),e}function injectStyles(e,a){e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}function insertStyleTag(e){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(e)}var stylesheetSingleton=function(){var e=0,a=null;return{add:function(t){e==0&&(a=makeStyleTag())&&(injectStyles(a,t),insertStyleTag(a)),e++},remove:function(){e--,!e&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(a,t){reactExports.useEffect(function(){return e.add(a),function(){e.remove()}},[a&&t])}},styleSingleton=function(){var e=styleHookSingleton(),a=function(t){var n=t.styles,o=t.dynamic;return e(n,o),null};return a},zeroGap={left:0,top:0,right:0,gap:0},parse=function(e){return parseInt(e||"",10)||0},getOffset=function(e){var a=window.getComputedStyle(document.body),t=a[e==="padding"?"paddingLeft":"marginLeft"],n=a[e==="padding"?"paddingTop":"marginTop"],o=a[e==="padding"?"paddingRight":"marginRight"];return[parse(t),parse(n),parse(o)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var a=getOffset(e),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,n-t+a[2]-a[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,a,t,n){var o=e.left,c=e.top,l=e.right,d=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(d,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var a=e.noRelative,t=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;useLockAttribute();var c=reactExports.useMemo(function(){return getGapWidth(o)},[o]);return reactExports.createElement(Style,{styles:getStyles(c,!a,o,t?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,a){var t=window.getComputedStyle(e);return t[a]!=="hidden"&&!(t.overflowY===t.overflowX&&!alwaysContainsScroll(e)&&t[a]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,a){var t=a.ownerDocument,n=a;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=elementCouldBeScrolled(e,n);if(o){var c=getScrollVariables(e,n),l=c[1],d=c[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},getVScrollVariables=function(e){var a=e.scrollTop,t=e.scrollHeight,n=e.clientHeight;return[a,t,n]},getHScrollVariables=function(e){var a=e.scrollLeft,t=e.scrollWidth,n=e.clientWidth;return[a,t,n]},elementCouldBeScrolled=function(e,a){return e==="v"?elementCouldBeVScrolled(a):elementCouldBeHScrolled(a)},getScrollVariables=function(e,a){return e==="v"?getVScrollVariables(a):getHScrollVariables(a)},getDirectionFactor=function(e,a){return e==="h"&&a==="rtl"?-1:1},handleScroll=function(e,a,t,n,o){var c=getDirectionFactor(e,window.getComputedStyle(a).direction),l=c*n,d=t.target,p=a.contains(d),m=!1,h=l>0,r=0,s=0;do{var i=getScrollVariables(e,d),u=i[0],f=i[1],v=i[2],g=f-v-c*u;(u||g)&&elementCouldBeScrolled(e,d)&&(r+=g,s+=u),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!p&&d!==document.body||p&&(a.contains(d)||a===d));return(h&&(Math.abs(r)<1||!o)||!h&&(Math.abs(s)<1||!o))&&(m=!0),m},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,a){return e[0]===a[0]&&e[1]===a[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(e){var a=reactExports.useRef([]),t=reactExports.useRef([0,0]),n=reactExports.useRef(),o=reactExports.useState(idCounter++)[0],c=reactExports.useState(styleSingleton)[0],l=reactExports.useRef(e);reactExports.useEffect(function(){l.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return f.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=reactExports.useCallback(function(f,v){if("touches"in f&&f.touches.length===2)return!l.current.allowPinchZoom;var g=getTouchXY(f),x=t.current,_="deltaX"in f?f.deltaX:x[0]-g[0],y="deltaY"in f?f.deltaY:x[1]-g[1],E,A=f.target,R=Math.abs(_)>Math.abs(y)?"h":"v";if("touches"in f&&R==="h"&&A.type==="range")return!1;var b=locationCouldBeScrolled(R,A);if(!b)return!0;if(b?E=R:(E=R==="v"?"h":"v",b=locationCouldBeScrolled(R,A)),!b)return!1;if(!n.current&&"changedTouches"in f&&(_||y)&&(n.current=E),!E)return!0;var w=n.current||E;return handleScroll(w,v,f,w==="h"?_:y,!0)},[]),p=reactExports.useCallback(function(f){var v=f;if(!(!lockStack.length||lockStack[lockStack.length-1]!==c)){var g="deltaY"in v?getDeltaXY(v):getTouchXY(v),x=a.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&deltaCompare(E.delta,g)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var _=(l.current.shards||[]).map(extractRef).filter(Boolean).filter(function(E){return E.contains(v.target)}),y=_.length>0?d(v,_[0]):!l.current.noIsolation;y&&v.cancelable&&v.preventDefault()}}},[]),m=reactExports.useCallback(function(f,v,g,x){var _={name:f,delta:v,target:g,should:x,shadowParent:getOutermostShadowParent(g)};a.current.push(_),setTimeout(function(){a.current=a.current.filter(function(y){return y!==_})},1)},[]),h=reactExports.useCallback(function(f){t.current=getTouchXY(f),n.current=void 0},[]),r=reactExports.useCallback(function(f){m(f.type,getDeltaXY(f),f.target,d(f,e.lockRef.current))},[]),s=reactExports.useCallback(function(f){m(f.type,getTouchXY(f),f.target,d(f,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(c),e.setCallbacks({onScrollCapture:r,onWheelCapture:r,onTouchMoveCapture:s}),document.addEventListener("wheel",p,nonPassive),document.addEventListener("touchmove",p,nonPassive),document.addEventListener("touchstart",h,nonPassive),function(){lockStack=lockStack.filter(function(f){return f!==c}),document.removeEventListener("wheel",p,nonPassive),document.removeEventListener("touchmove",p,nonPassive),document.removeEventListener("touchstart",h,nonPassive)}},[]);var i=e.removeScrollBar,u=e.inert;return reactExports.createElement(reactExports.Fragment,null,u?reactExports.createElement(c,{styles:generateStyle(o)}):null,i?reactExports.createElement(RemoveScrollBar,{gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var a=null;e!==null;)e instanceof ShadowRoot&&(a=e.host,e=e.host),e=e.parentNode;return a}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,a){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:a,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(e){if(typeof document>"u")return null;var a=Array.isArray(e)?e[0]:e;return a.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},correctTargets=function(e,a){return a.map(function(t){if(e.contains(t))return t;var n=unwrapHost(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},applyAttributeToOthers=function(e,a,t,n){var o=correctTargets(a,Array.isArray(e)?e:[e]);markerMap[t]||(markerMap[t]=new WeakMap);var c=markerMap[t],l=[],d=new Set,p=new Set(o),m=function(r){!r||d.has(r)||(d.add(r),m(r.parentNode))};o.forEach(m);var h=function(r){!r||p.has(r)||Array.prototype.forEach.call(r.children,function(s){if(d.has(s))h(s);else try{var i=s.getAttribute(n),u=i!==null&&i!=="false",f=(counterMap.get(s)||0)+1,v=(c.get(s)||0)+1;counterMap.set(s,f),c.set(s,v),l.push(s),f===1&&u&&uncontrolledNodes.set(s,!0),v===1&&s.setAttribute(t,"true"),u||s.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",s,g)}})};return h(a),d.clear(),lockCount++,function(){l.forEach(function(r){var s=counterMap.get(r)-1,i=c.get(r)-1;counterMap.set(r,s),c.set(r,i),s||(uncontrolledNodes.has(r)||r.removeAttribute(n),uncontrolledNodes.delete(r)),i||r.removeAttribute(t)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(e,a,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=getDefaultParent(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),applyAttributeToOthers(n,o,t,"aria-hidden")):function(){return null}},DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog=e=>{const{__scopeDialog:a,children:t,open:n,defaultOpen:o,onOpenChange:c,modal:l=!0}=e,d=reactExports.useRef(null),p=reactExports.useRef(null),[m=!1,h]=useControllableState({prop:n,defaultProp:o,onChange:c});return jsxRuntimeExports.jsx(DialogProvider,{scope:a,triggerRef:d,contentRef:p,contentId:useId(),titleId:useId(),descriptionId:useId(),open:m,onOpenChange:h,onOpenToggle:reactExports.useCallback(()=>h(r=>!r),[h]),modal:l,children:t})};Dialog.displayName=DIALOG_NAME;var TRIGGER_NAME$1="DialogTrigger",DialogTrigger=reactExports.forwardRef((e,a)=>{const{__scopeDialog:t,...n}=e,o=useDialogContext(TRIGGER_NAME$1,t),c=useComposedRefs(a,o.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":getState(o.open),...n,ref:c,onClick:composeEventHandlers(e.onClick,o.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$1;var PORTAL_NAME$1="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME$1,{forceMount:void 0}),DialogPortal=e=>{const{__scopeDialog:a,forceMount:t,children:n,container:o}=e,c=useDialogContext(PORTAL_NAME$1,a);return jsxRuntimeExports.jsx(PortalProvider,{scope:a,forceMount:t,children:reactExports.Children.map(n,l=>jsxRuntimeExports.jsx(Presence,{present:t||c.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:o,children:l})}))})};DialogPortal.displayName=PORTAL_NAME$1;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay=reactExports.forwardRef((e,a)=>{const t=usePortalContext(OVERLAY_NAME$1,e.__scopeDialog),{forceMount:n=t.forceMount,...o}=e,c=useDialogContext(OVERLAY_NAME$1,e.__scopeDialog);return c.modal?jsxRuntimeExports.jsx(Presence,{present:n||c.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...o,ref:a})}):null});DialogOverlay.displayName=OVERLAY_NAME$1;var DialogOverlayImpl=reactExports.forwardRef((e,a)=>{const{__scopeDialog:t,...n}=e,o=useDialogContext(OVERLAY_NAME$1,t);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[o.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(o.open),...n,ref:a,style:{pointerEvents:"auto",...n.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent=reactExports.forwardRef((e,a)=>{const t=usePortalContext(CONTENT_NAME$1,e.__scopeDialog),{forceMount:n=t.forceMount,...o}=e,c=useDialogContext(CONTENT_NAME$1,e.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:n||c.open,children:c.modal?jsxRuntimeExports.jsx(DialogContentModal,{...o,ref:a}):jsxRuntimeExports.jsx(DialogContentNonModal,{...o,ref:a})})});DialogContent.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((e,a)=>{const t=useDialogContext(CONTENT_NAME$1,e.__scopeDialog),n=reactExports.useRef(null),o=useComposedRefs(a,t.contentRef,n);return reactExports.useEffect(()=>{const c=n.current;if(c)return hideOthers(c)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&c.preventDefault()}),onFocusOutside:composeEventHandlers(e.onFocusOutside,c=>c.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((e,a)=>{const t=useDialogContext(CONTENT_NAME$1,e.__scopeDialog),n=reactExports.useRef(!1),o=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,c),c.defaultPrevented||(n.current||(d=t.triggerRef.current)==null||d.focus(),c.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:c=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,c),c.defaultPrevented||(n.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=c.target;((m=t.triggerRef.current)==null?void 0:m.contains(l))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((e,a)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:c,...l}=e,d=useDialogContext(CONTENT_NAME$1,t),p=reactExports.useRef(null),m=useComposedRefs(a,p);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:c,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":getState(d.open),...l,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:d.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:p,descriptionId:d.descriptionId})]})]})}),TITLE_NAME$1="DialogTitle",DialogTitle=reactExports.forwardRef((e,a)=>{const{__scopeDialog:t,...n}=e,o=useDialogContext(TITLE_NAME$1,t);return jsxRuntimeExports.jsx(Primitive.h2,{id:o.titleId,...n,ref:a})});DialogTitle.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="DialogDescription",DialogDescription=reactExports.forwardRef((e,a)=>{const{__scopeDialog:t,...n}=e,o=useDialogContext(DESCRIPTION_NAME$1,t);return jsxRuntimeExports.jsx(Primitive.p,{id:o.descriptionId,...n,ref:a})});DialogDescription.displayName=DESCRIPTION_NAME$1;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((e,a)=>{const{__scopeDialog:t,...n}=e,o=useDialogContext(CLOSE_NAME,t);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...n,ref:a,onClick:composeEventHandlers(e.onClick,()=>o.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(e){return e?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME$1,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{const a=useWarningContext(TITLE_WARNING_NAME),t=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return reactExports.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:e,descriptionId:a})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var c;const o=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");a&&o&&(document.getElementById(a)||console.warn(n))},[n,e,a]),null},Root=Dialog,Trigger=DialogTrigger,Portal=DialogPortal,Overlay=DialogOverlay,Content=DialogContent,Title=DialogTitle,Description=DialogDescription,Close=DialogClose,ROOT_NAME="AlertDialog",[createAlertDialogContext,createAlertDialogScope]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=e=>{const{__scopeAlertDialog:a,...t}=e,n=useDialogScope(a);return jsxRuntimeExports.jsx(Root,{...n,...t,modal:!0})};AlertDialog$1.displayName=ROOT_NAME;var TRIGGER_NAME="AlertDialogTrigger",AlertDialogTrigger$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,...n}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Trigger,{...o,...n,ref:a})});AlertDialogTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="AlertDialogPortal",AlertDialogPortal$1=e=>{const{__scopeAlertDialog:a,...t}=e,n=useDialogScope(a);return jsxRuntimeExports.jsx(Portal,{...n,...t})};AlertDialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,...n}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Overlay,{...o,...n,ref:a})});AlertDialogOverlay$1.displayName=OVERLAY_NAME;var CONTENT_NAME="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME),AlertDialogContent$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,children:n,...o}=e,c=useDialogScope(t),l=reactExports.useRef(null),d=useComposedRefs(a,l),p=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:t,cancelRef:p,children:jsxRuntimeExports.jsxs(Content,{role:"alertdialog",...c,...o,ref:d,onOpenAutoFocus:composeEventHandlers(o.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=p.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:n}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:l})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,...n}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Title,{...o,...n,ref:a})});AlertDialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="AlertDialogDescription",AlertDialogDescription$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,...n}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Description,{...o,...n,ref:a})});AlertDialogDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="AlertDialogAction",AlertDialogAction$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,...n}=e,o=useDialogScope(t);return jsxRuntimeExports.jsx(Close,{...o,...n,ref:a})});AlertDialogAction$1.displayName=ACTION_NAME;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel$1=reactExports.forwardRef((e,a)=>{const{__scopeAlertDialog:t,...n}=e,{cancelRef:o}=useAlertDialogContentContext(CANCEL_NAME,t),c=useDialogScope(t),l=useComposedRefs(a,o);return jsxRuntimeExports.jsx(Close,{...c,...n,ref:l})});AlertDialogCancel$1.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:e})=>{const a=`\`${CONTENT_NAME}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME}\` by passing a \`${DESCRIPTION_NAME}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},Root2=AlertDialog$1,Trigger2=AlertDialogTrigger$1,Portal2=AlertDialogPortal$1,Overlay2=AlertDialogOverlay$1,Content2=AlertDialogContent$1,Action=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=Root2,AlertDialogTrigger=Trigger2,AlertDialogPortal=Portal2,AlertDialogOverlay=reactExports.forwardRef(({className:e,...a},t)=>{const n=useQualitySettings(o=>({transparency:o.transparency,animation:o.animations}));return jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-50",{"bg-black/80":n.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":n.animation},e),...a,ref:t})});AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2,{ref:t,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));AlertDialogContent.displayName=Content2.displayName;const AlertDialogHeader=({className:e,...a})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",e),...a});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className:e,...a})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Title2,{ref:t,className:cn("text-lg font-semibold",e),...a}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Description2,{ref:t,className:cn("text-sm text-muted-foreground",e),...a}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Action,{ref:t,className:cn(buttonVariants({variant:"cta"}),e),...a}));AlertDialogAction.displayName=Action.displayName;const AlertDialogCancel=reactExports.forwardRef(({className:e,...a},t)=>jsxRuntimeExports.jsx(Cancel,{ref:t,className:cn(buttonVariants({variant:"default"}),"mt-2 sm:mt-0",e),...a}));AlertDialogCancel.displayName=Cancel.displayName;function Svg(e){return React.createElement("div",{...e,className:cn("w-full h-full aspect-square text-foreground",e.className),style:e.style},React.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const translations={noob:"Débutant",easy:"Facile",normal:"Normal",hard:"Difficile",veteran:"Vétéran",shadows:"Ombres",transparency:"Transparence",borderLights:"Lumières de bordure",godRays:"Rayons lumineux",blur:"Flou de transparence",tilt:"Inclinaisons",foil:"Reflets et textures",animations:"Animations",perspective:"Profondeur"},Settings=e=>{const a=useCardGame(m=>m.score),t=useGlobalState(m=>m.toggleSettings),n=useQualitySettings(),[o,c]=React.useState(settings.difficulty),l=reactExports.useMemo(()=>o!==settings.difficulty,[o]),d=reactExports.useMemo(()=>n.animations!==settings.quality.animations||o!==settings.difficulty,[n,o]),p=React.useCallback(()=>{localStorage.setItem("settings",JSON.stringify({difficulty:o,quality:JSON.parse(localStorage.getItem("settings")??JSON.stringify(settings)).quality})),d?window.location.reload():t()},[o,d,t]);return jsxRuntimeExports.jsxs("div",{className:cn("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":n.animations,"opacity-0 bg-background/80":n.transparency,hidden:!n.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[jsxRuntimeExports.jsx("div",{onClick:t,className:cn("absolute w-full h-full left-0 top-0",{"pointer-events-auto":e.show,"pointer-events-none":!e.show})}),jsxRuntimeExports.jsxs(Card,{className:"space-y-4 z-40",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:"Settings"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:"Difficulté"}),jsxRuntimeExports.jsx(RadioGroup,{className:"space-y-0 gap-0",defaultValue:o,onValueChange:m=>{c(m)},children:Object.keys(GAME_ADVANTAGE).map(m=>jsxRuntimeExports.jsxs(Label,{className:"flex items-center gap-2 py-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:m}),translations[m]]},m))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:"Qualité"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(settings.quality).map(m=>jsxRuntimeExports.jsxs(Label,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[jsxRuntimeExports.jsx(Checkbox,{defaultChecked:n[m],onCheckedChange:h=>n.update({[m]:h})}),translations[m]]},m))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-5",children:[a>0&&d?jsxRuntimeExports.jsxs(AlertDialog,{children:[jsxRuntimeExports.jsx(AlertDialogTrigger,{children:jsxRuntimeExports.jsx(Button,{variant:l?"cta":"default",disabled:!l,size:"cta",children:"Appliquer"})}),jsxRuntimeExports.jsxs(AlertDialogContent,{className:"w-fit",children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{className:"text-2xl",children:"Une partie est en cours !"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:["Cette action va réinitialiser votre partie. ",jsxRuntimeExports.jsx("br",{}),"Êtes-vous sûr de vouloir continuer ?"]})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:p,children:"Continue"})]})]})]}):jsxRuntimeExports.jsx(Button,{variant:l?"cta":"default",disabled:!l,size:"cta",onClick:p,children:"Appliquer"}),d&&jsxRuntimeExports.jsxs("div",{className:"flex-grow border rounded-xl flex items-center gap-3 pl-3",children:[jsxRuntimeExports.jsx(Svg,{className:"w-5"})," Un rechargement peut être nécessaire."]})]})]})]})},Game=()=>{const e=useQualitySettings(o=>({animations:o.animations})),a=useCardGame(),[t,n]=useGlobalState(o=>[o.isCardGameVisible,o.settingsVisible]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helpers,{show:t}),jsxRuntimeExports.jsx(Upgrades,{show:t}),jsxRuntimeExports.jsx(Scoreboard,{show:t}),jsxRuntimeExports.jsx(GameValues,{show:t}),jsxRuntimeExports.jsx(GameOver,{show:t}),jsxRuntimeExports.jsx(GameActions,{show:t}),jsxRuntimeExports.jsx(CornerIcons,{show:t}),jsxRuntimeExports.jsx(Settings,{show:t&&n}),!1,jsxRuntimeExports.jsx("div",{className:cn("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{" transition-[bottom] ease-in-out duration-1000":e.animations},t?"bottom-[-50px]":"-bottom-full"),children:a.hand.sort((o,c)=>{const l=o.effect.type==="action"?1:0,d=c.effect.type==="action"?1:0,p=typeof o.effect.cost=="string"?1:0,m=typeof c.effect.cost=="string"?1:0,h=Number(o.effect.cost),r=Number(c.effect.cost),s=o.effect.description.localeCompare(c.effect.description);return l-d||p-m||h-r||s}).map((o,c)=>jsxRuntimeExports.jsx(GameCard,{card:o,position:c},c))})]})};export{Game};
