import{a as $e,s as te,d as Oa,e as K,u as Oe,j as l,c as C,B as me,r as y,S as tt,f as yn,R as S,t as St,C as Ve,g as _n,h as Ut,i as Ra,k as Q,l as Da,m as La,n as $a,o as xn}from"./index-CDpY0dLW.js";var J={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var r=function(){this.init()};r.prototype={init:function(){var n=this||t;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window<"u"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var i=this||t;if(n=parseFloat(n),i.ctx||w(),typeof n<"u"&&n>=0&&n<=1){if(i._volume=n,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(n,t.ctx.currentTime);for(var c=0;c<i._howls.length;c++)if(!i._howls[c]._webAudio)for(var f=i._howls[c]._getSoundIds(),m=0;m<f.length;m++){var v=i._howls[c]._soundById(f[m]);v&&v._node&&(v._node.volume=v._volume*n)}return i}return i._volume},mute:function(n){var i=this||t;i.ctx||w(),i._muted=n,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(n?0:i._volume,t.ctx.currentTime);for(var c=0;c<i._howls.length;c++)if(!i._howls[c]._webAudio)for(var f=i._howls[c]._getSoundIds(),m=0;m<f.length;m++){var v=i._howls[c]._soundById(f[m]);v&&v._node&&(v._node.muted=n?!0:v._muted)}return i},stop:function(){for(var n=this||t,i=0;i<n._howls.length;i++)n._howls[i].stop();return n},unload:function(){for(var n=this||t,i=n._howls.length-1;i>=0;i--)n._howls[i].unload();return n.usingWebAudio&&n.ctx&&typeof n.ctx.close<"u"&&(n.ctx.close(),n.ctx=null,w()),n},codecs:function(n){return(this||t)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||t;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{var i=new Audio;i.muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||t,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return n}if(!i||typeof i.canPlayType!="function")return n;var c=i.canPlayType("audio/mpeg;").replace(/^no$/,""),f=n._navigator?n._navigator.userAgent:"",m=f.match(/OPR\/(\d+)/g),v=m&&parseInt(m[0].split("/")[1],10)<33,h=f.indexOf("Safari")!==-1&&f.indexOf("Chrome")===-1,b=f.match(/Version\/(.*?) /),E=h&&b&&parseInt(b[1],10)<15;return n._codecs={mp3:!!(!v&&(c||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||t;if(!(n._audioUnlocked||!n.ctx)){n._audioUnlocked=!1,n.autoUnlock=!1,!n._mobileUnloaded&&n.ctx.sampleRate!==44100&&(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var i=function(c){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var f=new Audio;f._unlocked=!0,n._releaseHtml5Audio(f)}catch{n.noAudio=!0;break}for(var m=0;m<n._howls.length;m++)if(!n._howls[m]._webAudio)for(var v=n._howls[m]._getSoundIds(),h=0;h<v.length;h++){var b=n._howls[m]._soundById(v[h]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}n._autoResume();var E=n.ctx.createBufferSource();E.buffer=n._scratchBuffer,E.connect(n.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),E.onended=function(){E.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var P=0;P<n._howls.length;P++)n._howls[P]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),n}},_obtainHtml5Audio:function(){var n=this||t;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var i=this||t;return n._unlocked&&i._html5AudioPool.push(n),i},_autoSuspend:function(){var n=this;if(!(!n.autoSuspend||!n.ctx||typeof n.ctx.suspend>"u"||!t.usingWebAudio)){for(var i=0;i<n._howls.length;i++)if(n._howls[i]._webAudio){for(var c=0;c<n._howls[i]._sounds.length;c++)if(!n._howls[i]._sounds[c]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var f=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(f,f)}},3e4),n}},_autoResume:function(){var n=this;if(!(!n.ctx||typeof n.ctx.resume>"u"||!t.usingWebAudio))return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var i=0;i<n._howls.length;i++)n._howls[i]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var t=new r,a=function(n){var i=this;if(!n.src||n.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(n)};a.prototype={init:function(n){var i=this;return t.ctx||w(),i._autoplay=n.autoplay||!1,i._format=typeof n.format!="string"?n.format:[n.format],i._html5=n.html5||!1,i._muted=n.mute||!1,i._loop=n.loop||!1,i._pool=n.pool||5,i._preload=typeof n.preload=="boolean"||n.preload==="metadata"?n.preload:!0,i._rate=n.rate||1,i._sprite=n.sprite||{},i._src=typeof n.src!="string"?n.src:[n.src],i._volume=n.volume!==void 0?n.volume:1,i._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:n.xhr&&n.xhr.withCredentials?n.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=n.onend?[{fn:n.onend}]:[],i._onfade=n.onfade?[{fn:n.onfade}]:[],i._onload=n.onload?[{fn:n.onload}]:[],i._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],i._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],i._onpause=n.onpause?[{fn:n.onpause}]:[],i._onplay=n.onplay?[{fn:n.onplay}]:[],i._onstop=n.onstop?[{fn:n.onstop}]:[],i._onmute=n.onmute?[{fn:n.onmute}]:[],i._onvolume=n.onvolume?[{fn:n.onvolume}]:[],i._onrate=n.onrate?[{fn:n.onrate}]:[],i._onseek=n.onseek?[{fn:n.onseek}]:[],i._onunlock=n.onunlock?[{fn:n.onunlock}]:[],i._onresume=[],i._webAudio=t.usingWebAudio&&!i._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var n=this,i=null;if(t.noAudio){n._emit("loaderror",null,"No audio support.");return}typeof n._src=="string"&&(n._src=[n._src]);for(var c=0;c<n._src.length;c++){var f,m;if(n._format&&n._format[c])f=n._format[c];else{if(m=n._src[c],typeof m!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}f=/^data:audio\/([^;,]+);/i.exec(m),f||(f=/\.([^.]+)$/.exec(m.split("?",1)[0])),f&&(f=f[1].toLowerCase())}if(f||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),f&&t.codecs(f)){i=n._src[c];break}}if(!i){n._emit("loaderror",null,"No codec support for selected audio sources.");return}return n._src=i,n._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new o(n),n._webAudio&&u(n),n},play:function(n,i){var c=this,f=null;if(typeof n=="number")f=n,n=null;else{if(typeof n=="string"&&c._state==="loaded"&&!c._sprite[n])return null;if(typeof n>"u"&&(n="__default",!c._playLock)){for(var m=0,v=0;v<c._sounds.length;v++)c._sounds[v]._paused&&!c._sounds[v]._ended&&(m++,f=c._sounds[v]._id);m===1?n=null:f=null}}var h=f?c._soundById(f):c._inactiveSound();if(!h)return null;if(f&&!n&&(n=h._sprite||"__default"),c._state!=="loaded"){h._sprite=n,h._ended=!1;var b=h._id;return c._queue.push({event:"play",action:function(){c.play(b)}}),b}if(f&&!h._paused)return i||c._loadQueue("play"),h._id;c._webAudio&&t._autoResume();var E=Math.max(0,h._seek>0?h._seek:c._sprite[n][0]/1e3),P=Math.max(0,(c._sprite[n][0]+c._sprite[n][1])/1e3-E),T=P*1e3/Math.abs(h._rate),z=c._sprite[n][0]/1e3,R=(c._sprite[n][0]+c._sprite[n][1])/1e3;h._sprite=n,h._ended=!1;var G=function(){h._paused=!1,h._seek=E,h._start=z,h._stop=R,h._loop=!!(h._loop||c._sprite[n][2])};if(E>=R){c._ended(h);return}var j=h._node;if(c._webAudio){var re=function(){c._playLock=!1,G(),c._refreshBuffer(h);var ce=h._muted||c._muted?0:h._volume;j.gain.setValueAtTime(ce,t.ctx.currentTime),h._playStart=t.ctx.currentTime,typeof j.bufferSource.start>"u"?h._loop?j.bufferSource.noteGrainOn(0,E,86400):j.bufferSource.noteGrainOn(0,E,P):h._loop?j.bufferSource.start(0,E,86400):j.bufferSource.start(0,E,P),T!==1/0&&(c._endTimers[h._id]=setTimeout(c._ended.bind(c,h),T)),i||setTimeout(function(){c._emit("play",h._id),c._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?re():(c._playLock=!0,c.once("resume",re),c._clearTimer(h._id))}else{var he=function(){j.currentTime=E,j.muted=h._muted||c._muted||t._muted||j.muted,j.volume=h._volume*t.volume(),j.playbackRate=h._rate;try{var ce=j.play();if(ce&&typeof Promise<"u"&&(ce instanceof Promise||typeof ce.then=="function")?(c._playLock=!0,G(),ce.then(function(){c._playLock=!1,j._unlocked=!0,i?c._loadQueue():c._emit("play",h._id)}).catch(function(){c._playLock=!1,c._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):i||(c._playLock=!1,G(),c._emit("play",h._id)),j.playbackRate=h._rate,j.paused){c._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}n!=="__default"||h._loop?c._endTimers[h._id]=setTimeout(c._ended.bind(c,h),T):(c._endTimers[h._id]=function(){c._ended(h),j.removeEventListener("ended",c._endTimers[h._id],!1)},j.addEventListener("ended",c._endTimers[h._id],!1))}catch(we){c._emit("playerror",h._id,we)}};j.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(j.src=c._src,j.load());var Le=window&&window.ejecta||!j.readyState&&t._navigator.isCocoonJS;if(j.readyState>=3||Le)he();else{c._playLock=!0,c._state="loading";var Pe=function(){c._state="loaded",he(),j.removeEventListener(t._canPlayEvent,Pe,!1)};j.addEventListener(t._canPlayEvent,Pe,!1),c._clearTimer(h._id)}}return h._id},pause:function(n){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(n)}}),i;for(var c=i._getSoundIds(n),f=0;f<c.length;f++){i._clearTimer(c[f]);var m=i._soundById(c[f]);if(m&&!m._paused&&(m._seek=i.seek(c[f]),m._rateSeek=0,m._paused=!0,i._stopFade(c[f]),m._node))if(i._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),i._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||i._emit("pause",m?m._id:null)}return i},stop:function(n,i){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(n)}}),c;for(var f=c._getSoundIds(n),m=0;m<f.length;m++){c._clearTimer(f[m]);var v=c._soundById(f[m]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,c._stopFade(f[m]),v._node&&(c._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),c._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&c._clearSound(v._node))),i||c._emit("stop",v._id))}return c},mute:function(n,i){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(n,i)}}),c;if(typeof i>"u")if(typeof n=="boolean")c._muted=n;else return c._muted;for(var f=c._getSoundIds(i),m=0;m<f.length;m++){var v=c._soundById(f[m]);v&&(v._muted=n,v._interval&&c._stopFade(v._id),c._webAudio&&v._node?v._node.gain.setValueAtTime(n?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:n),c._emit("mute",v._id))}return c},volume:function(){var n=this,i=arguments,c,f;if(i.length===0)return n._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var m=n._getSoundIds(),v=m.indexOf(i[0]);v>=0?f=parseInt(i[0],10):c=parseFloat(i[0])}else i.length>=2&&(c=parseFloat(i[0]),f=parseInt(i[1],10));var h;if(typeof c<"u"&&c>=0&&c<=1){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,i)}}),n;typeof f>"u"&&(n._volume=c),f=n._getSoundIds(f);for(var b=0;b<f.length;b++)h=n._soundById(f[b]),h&&(h._volume=c,i[2]||n._stopFade(f[b]),n._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(c,t.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=c*t.volume()),n._emit("volume",h._id))}else return h=f?n._soundById(f):n._sounds[0],h?h._volume:0;return n},fade:function(n,i,c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(n,i,c,f)}}),m;n=Math.min(Math.max(0,parseFloat(n)),1),i=Math.min(Math.max(0,parseFloat(i)),1),c=parseFloat(c),m.volume(n,f);for(var v=m._getSoundIds(f),h=0;h<v.length;h++){var b=m._soundById(v[h]);if(b){if(f||m._stopFade(v[h]),m._webAudio&&!b._muted){var E=t.ctx.currentTime,P=E+c/1e3;b._volume=n,b._node.gain.setValueAtTime(n,E),b._node.gain.linearRampToValueAtTime(i,P)}m._startFadeInterval(b,n,i,c,v[h],typeof f>"u")}}return m},_startFadeInterval:function(n,i,c,f,m,v){var h=this,b=i,E=c-i,P=Math.abs(E/.01),T=Math.max(4,P>0?f/P:f),z=Date.now();n._fadeTo=c,n._interval=setInterval(function(){var R=(Date.now()-z)/f;z=Date.now(),b+=E*R,b=Math.round(b*100)/100,E<0?b=Math.max(c,b):b=Math.min(c,b),h._webAudio?n._volume=b:h.volume(b,n._id,!0),v&&(h._volume=b),(c<i&&b<=c||c>i&&b>=c)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,h.volume(c,n._id),h._emit("fade",n._id))},T)},_stopFade:function(n){var i=this,c=i._soundById(n);return c&&c._interval&&(i._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,i.volume(c._fadeTo,n),c._fadeTo=null,i._emit("fade",n)),i},loop:function(){var n=this,i=arguments,c,f,m;if(i.length===0)return n._loop;if(i.length===1)if(typeof i[0]=="boolean")c=i[0],n._loop=c;else return m=n._soundById(parseInt(i[0],10)),m?m._loop:!1;else i.length===2&&(c=i[0],f=parseInt(i[1],10));for(var v=n._getSoundIds(f),h=0;h<v.length;h++)m=n._soundById(v[h]),m&&(m._loop=c,n._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=c,c&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,n.playing(v[h])&&(n.pause(v[h],!0),n.play(v[h],!0)))));return n},rate:function(){var n=this,i=arguments,c,f;if(i.length===0)f=n._sounds[0]._id;else if(i.length===1){var m=n._getSoundIds(),v=m.indexOf(i[0]);v>=0?f=parseInt(i[0],10):c=parseFloat(i[0])}else i.length===2&&(c=parseFloat(i[0]),f=parseInt(i[1],10));var h;if(typeof c=="number"){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;typeof f>"u"&&(n._rate=c),f=n._getSoundIds(f);for(var b=0;b<f.length;b++)if(h=n._soundById(f[b]),h){n.playing(f[b])&&(h._rateSeek=n.seek(f[b]),h._playStart=n._webAudio?t.ctx.currentTime:h._playStart),h._rate=c,n._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(c,t.ctx.currentTime):h._node&&(h._node.playbackRate=c);var E=n.seek(f[b]),P=(n._sprite[h._sprite][0]+n._sprite[h._sprite][1])/1e3-E,T=P*1e3/Math.abs(h._rate);(n._endTimers[f[b]]||!h._paused)&&(n._clearTimer(f[b]),n._endTimers[f[b]]=setTimeout(n._ended.bind(n,h),T)),n._emit("rate",h._id)}}else return h=n._soundById(f),h?h._rate:n._rate;return n},seek:function(){var n=this,i=arguments,c,f;if(i.length===0)n._sounds.length&&(f=n._sounds[0]._id);else if(i.length===1){var m=n._getSoundIds(),v=m.indexOf(i[0]);v>=0?f=parseInt(i[0],10):n._sounds.length&&(f=n._sounds[0]._id,c=parseFloat(i[0]))}else i.length===2&&(c=parseFloat(i[0]),f=parseInt(i[1],10));if(typeof f>"u")return 0;if(typeof c=="number"&&(n._state!=="loaded"||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var h=n._soundById(f);if(h)if(typeof c=="number"&&c>=0){var b=n.playing(f);b&&n.pause(f,!0),h._seek=c,h._ended=!1,n._clearTimer(f),!n._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=c);var E=function(){b&&n.play(f,!0),n._emit("seek",f)};if(b&&!n._webAudio){var P=function(){n._playLock?setTimeout(P,0):E()};setTimeout(P,0)}else E()}else if(n._webAudio){var T=n.playing(f)?t.ctx.currentTime-h._playStart:0,z=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(z+T*Math.abs(h._rate))}else return h._node.currentTime;return n},playing:function(n){var i=this;if(typeof n=="number"){var c=i._soundById(n);return c?!c._paused:!1}for(var f=0;f<i._sounds.length;f++)if(!i._sounds[f]._paused)return!0;return!1},duration:function(n){var i=this,c=i._duration,f=i._soundById(n);return f&&(c=i._sprite[f._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var n=this,i=n._sounds,c=0;c<i.length;c++)i[c]._paused||n.stop(i[c]._id),n._webAudio||(n._clearSound(i[c]._node),i[c]._node.removeEventListener("error",i[c]._errorFn,!1),i[c]._node.removeEventListener(t._canPlayEvent,i[c]._loadFn,!1),i[c]._node.removeEventListener("ended",i[c]._endFn,!1),t._releaseHtml5Audio(i[c]._node)),delete i[c]._node,n._clearTimer(i[c]._id);var f=t._howls.indexOf(n);f>=0&&t._howls.splice(f,1);var m=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===n._src||n._src.indexOf(t._howls[c]._src)>=0){m=!1;break}return s&&m&&delete s[n._src],t.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,i,c,f){var m=this,v=m["_on"+n];return typeof i=="function"&&v.push(f?{id:c,fn:i,once:f}:{id:c,fn:i}),m},off:function(n,i,c){var f=this,m=f["_on"+n],v=0;if(typeof i=="number"&&(c=i,i=null),i||c)for(v=0;v<m.length;v++){var h=c===m[v].id;if(i===m[v].fn&&h||!i&&h){m.splice(v,1);break}}else if(n)f["_on"+n]=[];else{var b=Object.keys(f);for(v=0;v<b.length;v++)b[v].indexOf("_on")===0&&Array.isArray(f[b[v]])&&(f[b[v]]=[])}return f},once:function(n,i,c){var f=this;return f.on(n,i,c,1),f},_emit:function(n,i,c){for(var f=this,m=f["_on"+n],v=m.length-1;v>=0;v--)(!m[v].id||m[v].id===i||n==="load")&&(setTimeout((function(h){h.call(this,i,c)}).bind(f,m[v].fn),0),m[v].once&&f.off(n,m[v].fn,m[v].id));return f._loadQueue(n),f},_loadQueue:function(n){var i=this;if(i._queue.length>0){var c=i._queue[0];c.event===n&&(i._queue.shift(),i._loadQueue()),n||c.action()}return i},_ended:function(n){var i=this,c=n._sprite;if(!i._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(i._ended.bind(i,n),100),i;var f=!!(n._loop||i._sprite[c][2]);if(i._emit("end",n._id),!i._webAudio&&f&&i.stop(n._id,!0).play(n._id),i._webAudio&&f){i._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=t.ctx.currentTime;var m=(n._stop-n._start)*1e3/Math.abs(n._rate);i._endTimers[n._id]=setTimeout(i._ended.bind(i,n),m)}return i._webAudio&&!f&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,i._clearTimer(n._id),i._cleanBuffer(n._node),t._autoSuspend()),!i._webAudio&&!f&&i.stop(n._id,!0),i},_clearTimer:function(n){var i=this;if(i._endTimers[n]){if(typeof i._endTimers[n]!="function")clearTimeout(i._endTimers[n]);else{var c=i._soundById(n);c&&c._node&&c._node.removeEventListener("ended",i._endTimers[n],!1)}delete i._endTimers[n]}return i},_soundById:function(n){for(var i=this,c=0;c<i._sounds.length;c++)if(n===i._sounds[c]._id)return i._sounds[c];return null},_inactiveSound:function(){var n=this;n._drain();for(var i=0;i<n._sounds.length;i++)if(n._sounds[i]._ended)return n._sounds[i].reset();return new o(n)},_drain:function(){var n=this,i=n._pool,c=0,f=0;if(!(n._sounds.length<i)){for(f=0;f<n._sounds.length;f++)n._sounds[f]._ended&&c++;for(f=n._sounds.length-1;f>=0;f--){if(c<=i)return;n._sounds[f]._ended&&(n._webAudio&&n._sounds[f]._node&&n._sounds[f]._node.disconnect(0),n._sounds.splice(f,1),c--)}}},_getSoundIds:function(n){var i=this;if(typeof n>"u"){for(var c=[],f=0;f<i._sounds.length;f++)c.push(i._sounds[f]._id);return c}else return[n]},_refreshBuffer:function(n){var i=this;return n._node.bufferSource=t.ctx.createBufferSource(),n._node.bufferSource.buffer=s[i._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,t.ctx.currentTime),i},_cleanBuffer:function(n){var i=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!n.bufferSource)return i;if(t._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),c))try{n.bufferSource.buffer=t._scratchBuffer}catch{}return n.bufferSource=null,i},_clearSound:function(n){var i=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);i||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(n){this._parent=n,this.init()};o.prototype={init:function(){var n=this,i=n._parent;return n._muted=i._muted,n._loop=i._loop,n._volume=i._volume,n._rate=i._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++t._counter,i._sounds.push(n),n.create(),n},create:function(){var n=this,i=n._parent,c=t._muted||n._muted||n._parent._muted?0:n._volume;return i._webAudio?(n._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),n._node.gain.setValueAtTime(c,t.ctx.currentTime),n._node.paused=!0,n._node.connect(t.masterGain)):t.noAudio||(n._node=t._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(t._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=i._src,n._node.preload=i._preload===!0?"auto":i._preload,n._node.volume=c*t.volume(),n._node.load()),n},reset:function(){var n=this,i=n._parent;return n._muted=i._muted,n._loop=i._loop,n._volume=i._volume,n._rate=i._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++t._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,i=n._parent;i._duration=Math.ceil(n._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),n._node.removeEventListener(t._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,i=n._parent;i._duration===1/0&&(i._duration=Math.ceil(n._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var s={},u=function(n){var i=n._src;if(s[i]){n._duration=s[i].duration,p(n);return}if(/^data:[^;]+;base64,/.test(i)){for(var c=atob(i.split(",")[1]),f=new Uint8Array(c.length),m=0;m<c.length;++m)f[m]=c.charCodeAt(m);g(f.buffer,n)}else{var v=new XMLHttpRequest;v.open(n._xhr.method,i,!0),v.withCredentials=n._xhr.withCredentials,v.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(h){v.setRequestHeader(h,n._xhr.headers[h])}),v.onload=function(){var h=(v.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){n._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}g(v.response,n)},v.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete s[i],n.load())},d(v)}},d=function(n){try{n.send()}catch{n.onerror()}},g=function(n,i){var c=function(){i._emit("loaderror",null,"Decoding audio data failed.")},f=function(m){m&&i._sounds.length>0?(s[i._src]=m,p(i,m)):c()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(n).then(f).catch(c):t.ctx.decodeAudioData(n,f,c)},p=function(n,i){i&&!n._duration&&(n._duration=i.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},w=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),i=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=i?parseInt(i[1],10):null;if(n&&c&&c<9){var f=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!f&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=a,typeof $e<"u"?($e.HowlerGlobal=r,$e.Howler=t,$e.Howl=a,$e.Sound=o):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=t,window.Howl=a,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var o=a._howls.length-1;o>=0;o--)a._howls[o].stereo(t);return a},HowlerGlobal.prototype.pos=function(t,a,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(a=typeof a!="number"?s._pos[1]:a,o=typeof o!="number"?s._pos[2]:o,typeof t=="number")s._pos=[t,a,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,a,o,s,u,d){var g=this;if(!g.ctx||!g.ctx.listener)return g;var p=g._orientation;if(a=typeof a!="number"?p[1]:a,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,u=typeof u!="number"?p[4]:u,d=typeof d!="number"?p[5]:d,typeof t=="number")g._orientation=[t,a,o,s,u,d],typeof g.ctx.listener.forwardX<"u"?(g.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),g.ctx.listener.forwardY.setTargetAtTime(a,Howler.ctx.currentTime,.1),g.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),g.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),g.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),g.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):g.ctx.listener.setOrientation(t,a,o,s,u,d);else return p;return g},Howl.prototype.init=function(t){return function(a){var o=this;return o._orientation=a.orientation||[1,0,0],o._stereo=a.stereo||null,o._pos=a.pos||null,o._pannerAttr={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:360,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:360,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:0,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:"inverse",maxDistance:typeof a.maxDistance<"u"?a.maxDistance:1e4,panningModel:typeof a.panningModel<"u"?a.panningModel:"HRTF",refDistance:typeof a.refDistance<"u"?a.refDistance:1,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:1},o._onstereo=a.onstereo?[{fn:a.onstereo}]:[],o._onpos=a.onpos?[{fn:a.onpos}]:[],o._onorientation=a.onorientation?[{fn:a.onorientation}]:[],t.call(this,a)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,a){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,a)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof a>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var u=o._getSoundIds(a),d=0;d<u.length;d++){var g=o._soundById(u[d]);if(g)if(typeof t=="number")g._stereo=t,g._pos=[t,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",(!g._panner||!g._panner.pan)&&r(g,s),s==="spatial"?typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):g._panner.setPosition(t,0,0):g._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",g._id);else return g._stereo}return o},Howl.prototype.pos=function(t,a,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(t,a,o,s)}}),u;if(a=typeof a!="number"?0:a,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof t=="number")u._pos=[t,a,o];else return u._pos;for(var d=u._getSoundIds(s),g=0;g<d.length;g++){var p=u._soundById(d[g]);if(p)if(typeof t=="number")p._pos=[t,a,o],p._node&&((!p._panner||p._panner.pan)&&r(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(a,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(t,a,o)),u._emit("pos",p._id);else return p._pos}return u},Howl.prototype.orientation=function(t,a,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(t,a,o,s)}}),u;if(a=typeof a!="number"?u._orientation[1]:a,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof t=="number")u._orientation=[t,a,o];else return u._orientation;for(var d=u._getSoundIds(s),g=0;g<d.length;g++){var p=u._soundById(d[g]);if(p)if(typeof t=="number")p._orientation=[t,a,o],p._node&&(p._panner||(p._pos||(p._pos=u._pos||[0,0,-.5]),r(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(a,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(t,a,o)),u._emit("orientation",p._id);else return p._orientation}return u},Howl.prototype.pannerAttr=function(){var t=this,a=arguments,o,s,u;if(!t._webAudio)return t;if(a.length===0)return t._pannerAttr;if(a.length===1)if(typeof a[0]=="object")o=a[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return u=t._soundById(parseInt(a[0],10)),u?u._pannerAttr:t._pannerAttr;else a.length===2&&(o=a[0],s=parseInt(a[1],10));for(var d=t._getSoundIds(s),g=0;g<d.length;g++)if(u=t._soundById(d[g]),u){var p=u._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var w=u._panner;w||(u._pos||(u._pos=t._pos||[0,0,-.5]),r(u,"spatial"),w=u._panner),w.coneInnerAngle=p.coneInnerAngle,w.coneOuterAngle=p.coneOuterAngle,w.coneOuterGain=p.coneOuterGain,w.distanceModel=p.distanceModel,w.maxDistance=p.maxDistance,w.refDistance=p.refDistance,w.rolloffFactor=p.rolloffFactor,w.panningModel=p.panningModel}return t},Sound.prototype.init=function(t){return function(){var a=this,o=a._parent;a._orientation=o._orientation,a._stereo=o._stereo,a._pos=o._pos,a._pannerAttr=o._pannerAttr,t.call(this),a._stereo?o.stereo(a._stereo):a._pos&&o.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var a=this,o=a._parent;return a._orientation=o._orientation,a._stereo=o._stereo,a._pos=o._pos,a._pannerAttr=o._pannerAttr,a._stereo?o.stereo(a._stereo):a._pos?o.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,o._refreshBuffer(a)),t.call(this)}}(Sound.prototype.reset);var r=function(t,a){a=a||"spatial",a==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(J);const ie=new J.Howl({src:["sounds/music.mp3"],volume:.5,loop:!0}),fe=ie.play();ie.stop(fe);const Y={unauthorized:new J.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),play:new J.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new J.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new J.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new J.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),remove:new J.Howl({src:["sounds/remove.mp3"],volume:.7,preload:!0}),recycle:new J.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new J.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new J.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new J.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new J.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new J.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new J.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0})},it={noob:4,easy:3,normal:2,hard:1,veteran:0},st=20,Re=8,ct=10,lt=500,Ze=5,Ga={string:["20","50","75","100","150"],number:[5,7,10,15]},$=5,wn=10,Fa={eachDay:["Chaque jour","par jour"],eachTurn:["A chaque carte jouée","par carte"],emptyHand:["Quand votre main est vide","chaque fois que la main est vide"],reputationDeclines:["Quand votre réputation baisse","à chaque baisse de réputation"]},Xt={version:"1.0.6"},Yt=[{name:"TypeScript",image:"ts.png"},{name:"React",image:"react.webp"},{name:"Tailwind CSS",image:"tailwind.png"},{name:"NodeJS",image:"node.png"},{name:"Vercel",image:"vercel.png"},{name:"Next.js",image:"nextjs.webp"},{name:"PostgreSQL",image:"pgsql.png"},{name:"Docker",image:"docker.webp"},{name:"PixiJS",image:"pixi.png"},{name:"Three.js",image:"three.png"},{name:"Gulp",image:"gulp.webp"},{name:"Knex",image:"knex.png"},{name:"Git",image:"git.png"},{name:"Processing",image:"processing.webp"},{name:"p5.js",image:"p5.png"},{name:"Strapi",image:"strapi.png"},{name:"Windows",image:"windows.png"},{name:"MacOS",image:"macos.png"},{name:"Linux",image:"linux.png"},{name:"Jetbrains",image:"jetbrains.webp"},{name:"Ruby",image:"ruby.png"}],Zt=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Vous pouvez utiliser cette lib pour construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"}],A=it[te.difficulty],Be=[{description:`Gagne ${(2+A)*$}M$`,onPlayed:async(e,r,t)=>await e.addMoney((2+A)*$,{skipGameOverPause:!0,reason:t}),type:"action",cost:2},{description:`Gagne ${(4+A)*$}M$`,onPlayed:async(e,r,t)=>await e.addMoney((4+A)*$,{skipGameOverPause:!0,reason:t}),type:"action",cost:4},{description:`Le matin, gagne ${A*$}M$. L'après-midi, gagne ${A} @energy${A>1?"s":""}`,onPlayed:async(e,r,t)=>{new Date().getHours()<12?await e.addMoney(A*$,{skipGameOverPause:!0,reason:t}):await e.addEnergy(A,{skipGameOverPause:!0,reason:t})},type:"action",cost:0},{description:`Gagne ${(2+A)*$}M$ fois le nombre de cartes @action en main en comptant celle-ci`,onPlayed:async(e,r,t)=>{await e.addMoney((2+A)*$*e.hand.filter(a=>a.effect.type==="action").length,{skipGameOverPause:!0,reason:t})},type:"action",cost:4},{description:`Si le dark mode est activé, gagne ${(4+A)*$}M$`,onPlayed:async(e,r,t)=>await e.addMoney((4+A)*$,{skipGameOverPause:!0,reason:t}),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Si la @reputation est inférieur à 5, gagne ${(4+A)*$}M$`,onPlayed:async(e,r,t)=>await e.addMoney((4+A)*$,{skipGameOverPause:!0,reason:t}),condition:e=>e.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${A>4?` et gagne ${A-4} @energy${A-4>1?"s":""}`:""}`,onPlayed:async(e,r,t)=>{await e.play(e.hand[e.hand.length-1],{free:!0,skipGameOverPause:!0,reason:t}),A>4&&await e.addEnergy(A-4,{skipGameOverPause:!0,reason:t})},condition:(e,r)=>{const t=e.hand[e.hand.length-1];return t&&t.name!==r.name&&(!t.effect.condition||t.effect.condition(e,e.hand[e.hand.length-1]))},type:"action",cost:Math.max(0,4-A),waitBeforePlay:!0},{description:"Défausse la carte la plus à droite de ta main, gagne son coût en @energy",onPlayed:async(e,r,t)=>{const a=e.hand[e.hand.length-1];await e.discardCard({filter:s=>s.name===a.name,reason:t});const o=typeof a.effect.cost=="string"?Math.ceil(Number(a.effect.cost)/$):a.effect.cost;await e.addEnergy(o,{skipGameOverPause:!0,reason:t})},condition:(e,r)=>e.hand.length>=1&&e.hand.indexOf(r)!==e.hand.length-1,type:"action",cost:0},{description:`Pioche ${1+A} carte${A>0?"s":""}`,onPlayed:async(e,r,t)=>await e.draw(1+A,{skipGameOverPause:!0,reason:t}),condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${A>2?2+(A-2):2} cartes`,onPlayed:async(e,r,t)=>await e.draw(A>2?2+(A-2):2,{skipGameOverPause:!0,reason:t}),condition:e=>e.deck.length>=1,type:"support",cost:Math.max(0,2-A),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+A} cartes`,onPlayed:async(e,r,t)=>await e.draw(2+A,{skipGameOverPause:!0,reason:t}),condition:e=>e.hand.length<5&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${A>=4?1+Math.floor((A-2)/2):1} carte${A>=4?"s":""} @action${A>=2&&A%2!==0?` et gagne ${A%2} @energy${A%2>0?"s":""}`:""}`,onPlayed:async(e,r,t)=>{await e.draw(A>=2?1+Math.floor((A-2)/2):1,{filter:a=>a.effect.type==="action",skipGameOverPause:!0,reason:t}),A>=2&&A%2!==0&&await e.addEnergy(A%2,{skipGameOverPause:!0,reason:t})},condition:e=>e.deck.some(r=>r.effect.type==="action"),type:"support",cost:Math.max(0,2-A),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(A/2)} carte${A>=2?"s":""} @action${A%2!==0?` et gagne ${A%2*$}M$`:""}`,onPlayed:async(e,r,t)=>{await e.draw(1,{filter:a=>a.effect.type==="action",skipGameOverPause:!0,reason:t}),A%2!==0&&await e.addMoney(A%2*$,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.every(r=>r.effect.type!=="action")&&e.deck.some(r=>r.effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${A>=1?2:"une"} carte${A>1?"s":""} et gagne ${(2+A-1)*$}M$`,onPlayed:async(e,r,t)=>{await e.discardCard({random:!0,reason:t}),await e.draw(A>=1?2:1,{skipGameOverPause:!0,reason:t}),await e.addMoney((2+A-1)*$,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.length>=2&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${A>=1?1+A:"une"} carte${A>=1?"s":""}`,onPlayed:async(e,r,t)=>{await e.discardCard({toDeck:!0,random:!0,reason:t}),await e.draw(A>=1?1+A:1,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+A} cartes`,onPlayed:async(e,r,t)=>{await e.discardCard({reason:t}),await e.draw(5+A,{skipGameOverPause:!0,reason:t})},condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${A>5?5+(A-5):5} cartes`,onPlayed:async(e,r,t)=>{await e.discardCard({toDeck:!0,reason:t}),await e.draw(A>5?5+(A-5):5,{skipGameOverPause:!0,reason:t})},type:"support",cost:Math.max(0,5-A),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${A>3?` et gagne ${(A-3)*$}M$`:""}`,onPlayed:async(e,r,t)=>{await e.draw(e.upgrades.length,{skipGameOverPause:!0,reason:t}),A>3&&await e.addMoney((A-3)*$,{skipGameOverPause:!0,reason:t})},condition:e=>e.upgrades.length>0&&e.deck.length>=1,type:"support",cost:Math.max(0,3-A),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${A>0?` et gagne ${A*$}M$`:""}`,onPlayed:async(e,r,t)=>{await e.discardCard({filter:a=>a.effect.type==="support",reason:t}),await e.draw(2,{filter:a=>a.effect.type==="action",skipGameOverPause:!0,reason:t}),A>0&&await e.addMoney(A*$,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.filter(r=>r.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+A} cartes`,onPlayed:async(e,r,t)=>{await e.discardCard({filter:a=>a.effect.type==="action",reason:t}),await e.draw(3+A,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.some(r=>r.effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${A>4?` et gagne ${A-4} @energy${A-4>1?"s":""}`:""}`,onPlayed:async(e,r,t)=>{await e.draw(2,{filter:a=>typeof a.effect.cost=="number",skipGameOverPause:!0,reason:t}),A>4&&await e.addEnergy(A-4,{skipGameOverPause:!0,reason:t})},condition:e=>e.deck.some(r=>typeof r.effect.cost=="number"),type:"support",cost:Math.max(0,4-A),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${A>3?`, gagne ${A-3} @energy${A-3>1?"s":""}`:""}`,onPlayed:async(e,r,t)=>{e.addCardModifier("next card half cost",[]),A>3&&await e.addEnergy(A-3,{skipGameOverPause:!0,reason:t})},type:"support",cost:Math.max(0,3-A)},{description:"La prochaine carte qui coûte de l'argent coûte maintenant de l'@energy",onPlayed:async e=>{e.addCardModifier("next money card cost energy",[])},type:"support",cost:0},{description:`Baisse le prix de toutes les cartes en main de ${1+A} @energys ou de ${1+A*$}M$`,onPlayed:async(e,r)=>{const t=e.hand.filter(a=>a.name!==r.name&&Number(r.effect.cost)>0).map(a=>a.name);e.addCardModifier("lowers price of hand cards",[t,1+A])},condition:e=>e.hand.some(r=>Number(r.effect.cost)>0),type:"support",cost:Math.max(0,Re-A),ephemeral:!0},{description:`${A>4?`Ajoute ${A-4} @energy${A>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async(e,r,t)=>{A>4&&await e.addEnergy(A-4,{skipGameOverPause:!0,reason:t}),await e.addEnergy(e.energy,{skipGameOverPause:!0,reason:t})},type:"action",cost:String(Math.max(0,4-A)*$)},{description:`Ajoute ${4+A} @energys`,onPlayed:async(e,r,t)=>await e.addEnergy(4+A,{skipGameOverPause:!0,reason:t}),type:"action",cost:String(4*$)},{description:`Si la @reputation est inférieur à 5, ajoute ${A>3?5+A-3:5} @energys`,onPlayed:async(e,r,t)=>await e.addEnergy(A>3?5+A-3:5,{skipGameOverPause:!0,reason:t}),condition:e=>e.reputation<5,type:"action",cost:String(Math.max(0,3-A)*$)},{description:"Remplis la jauge de @reputation",onPlayed:async(e,r,t)=>await e.addReputation(10,{skipGameOverPause:!0,reason:t}),type:"action",cost:String(Math.max(0,5*wn-A)*$),ephemeral:!0}].map((e,r)=>({...e,index:r})),ve=it[te.difficulty],Ba=[{name:"Starbucks",triggerEvent:"eachDay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<st,onTrigger:async(e,r,t)=>{await e.addEnergy(r.cumul,{skipGameOverPause:!0,reason:t})},max:3,cost:String(Math.max(0,20-ve)*$)},{name:"Méditation",triggerEvent:"eachDay",description:"Pioche @cumul carte@s",image:"meditation.png",condition:e=>e.deck.length>0,onTrigger:async(e,r,t)=>{await e.draw(r.cumul,{skipGameOverPause:!0,reason:t})},max:3,cost:String(Math.max(0,20-ve)*$)},{name:"Bourse",triggerEvent:"eachDay",description:"Gagne @cumul fois 10% de votre capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,r,t)=>{await e.addMoney(Math.ceil(r.cumul*(e.money/10)),{skipGameOverPause:!0,reason:t})},cost:String(Math.max(0,8-ve)*$)},{name:"Recyclage",triggerEvent:"eachDay",description:"Place @cumul carte@s aléatoire@s de la défausse dans le deck",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,r,t)=>{await e.recycle(r.cumul,{reason:t})},max:3,cost:String(Math.max(0,20-ve)*$)},{name:"I.A",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,r,t)=>{await e.addMoney(r.cumul*e.discard.length,{skipGameOverPause:!0,reason:t})},cost:String(Math.max(0,80-ve)*$)},{name:"Sport",triggerEvent:"eachDay",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<ct,onTrigger:async(e,r,t)=>{await e.addReputation(r.cumul,{skipGameOverPause:!0,reason:t})},max:2,cost:Math.max(0,20-ve)},{name:"PC Puissant",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre d'@energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,r,t)=>{await e.addMoney(r.cumul*e.energy,{skipGameOverPause:!0,reason:t})},max:2,cost:String(Math.max(0,40-ve)*$)},{name:"Stagiaire",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,r,t)=>{await e.addMoney(r.cumul*e.hand.length,{skipGameOverPause:!0,reason:t})},max:5,cost:String(Math.max(0,20-ve)*$)}],He=Ba.map(e=>(e.description=`${e.description} ${Fa[e.triggerEvent][1]}`,e)),Ha={"upgrade cost threshold":()=>({condition:e=>!!e.effect.upgrade,use:(e,r)=>e.effect.upgrade?{...e,effect:{...e.effect,cost:za(r,e)}}:e}),"lowers price of hand cards":(e,r)=>({once:!0,condition:t=>e.includes(t.name),use:t=>({...t,effect:{...t.effect,cost:(typeof t.effect.cost=="string"?String:Number)(Math.max(0,Number(t.effect.cost)-r*(typeof t.effect.cost=="string"?$:1)))}})}),"next money card cost energy":()=>({once:!0,condition:e=>typeof e.effect.cost=="string"&&Number(e.effect.cost)>0,use:e=>({...e,effect:{...e.effect,cost:Math.min(20,Math.ceil(Number(e.effect.cost)/$))}})}),"next card half cost":()=>({once:!0,condition:e=>Number(e.effect.cost)>1,use:e=>({...e,effect:{...e.effect,cost:typeof e.effect.cost=="number"?Math.ceil(e.effect.cost/2):String(Math.ceil(Number(e.effect.cost)/2))}})})};function Te(e){return e.reputation===0?"reputation":e.deck.length===0&&e.hand.length===0?"mill":e.hand.every(r=>r.effect.condition&&!r.effect.condition(e,r)?!0:!Tt(e,r).canBeBuy)&&(e.reputation+e.energy<Ze||e.hand.length>=Re||e.deck.length===0)?"soft-lock":!1}function Et(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function za(e,r){const t=e.upgrades.length,a=Ga[typeof r.effect.cost][t]??1/0;return(typeof r.effect.cost=="string"?String:Number)(Math.min(Number(a),Number(r.effect.cost)))}function Va(e){return JSON.parse(JSON.stringify(e,(r,t)=>typeof t=="function"?void 0:t))}function Wa(e,r){const t=Va(r);return e.cardModifiers.slice().reduce((o,s)=>{const u=An(s);return!u.condition||u.condition(o.card,e)?{card:u.use(o.card,e),appliedModifiers:[...o.appliedModifiers,s]}:o},{card:t,appliedModifiers:[]})}function Tt(e,r){const{card:t,appliedModifiers:a}=Wa(e,r),o=typeof t.effect.cost=="number"?"energy":"money",s=Number(t.effect.cost),u=o==="money"?e[o]>=s:e[o]+e.reputation>=s;return{needs:o,cost:s,canBeBuy:u,appliedModifiers:a}}function qa(e,r){if(r.effect.ephemeral)return!0;if(r.effect.upgrade){const t=He.find(a=>a.name===r.name);if(t.max){if(t.max===1)return!0;const a=e.upgrades.find(o=>o.name===r.name);return a&&a.cumul>=a.max-1}}return!1}function Ce(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(lt)).replace(/MAX_HAND_SIZE/g,String(Re)).replace(/@action([^\s.:,]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@support([^\s.:,]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/((?:\d+|<span[^>]*>\d+<\/span>)M\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function bn(e,r){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${r}</span>`).replace(/@s/g,r>1?"s":"")}async function q(e=500){return new Promise(r=>setTimeout(r,e))}function Fe(e,r=1){for(let t=0;t<r;t++)e.sort(()=>Math.random()-.5);return e}function Kt(e,r,t,a,o,s=!1){const u=(e-r)/(t-r)*(o-a)+a;return s?a<o?Math.max(Math.min(u,o),a):Math.max(Math.min(u,a),o):u}function gt(e){return e.type==="action"}function An(e){return Ha[e[0]](...e[1])}function Ua(e){return JSON.parse(e,(r,t)=>{if(typeof t=="object")switch(r){case"discard":case"deck":case"hand":return t.map(a=>{var o,s,u;return{...a,state:"idle",effect:{...a.effect,template:(o=Be[a.effect.index])==null?void 0:o.template,onPlayed:a.effect.upgrade?async d=>await d.upgrade(a.name):(s=Be[a.effect.index])==null?void 0:s.onPlayed,condition:(u=Be[a.effect.index])==null?void 0:u.condition}}});case"upgrades":return t.map(a=>{var o,s;return{...a,state:"idle",onTrigger:(o=He.find(u=>u.name===a.name))==null?void 0:o.onTrigger,condition:(s=He.find(u=>u.name===a.name))==null?void 0:s.condition}});case"operationInProgress":return[]}return r==="isOperationInProgress"?!1:t})}const Jt=Be.filter(e=>e.type==="support"),Qt=Be.filter(e=>e.type==="action");function Cn(){ie.stop(fe),ie.play(fe),ie.fade(0,.5,500,fe);const e=localStorage.getItem("card-game-metadata"),r=localStorage.getItem("card-game-difficulty")??"normal",t=localStorage.getItem("card-game");if(t&&JSON.stringify(Xt)===e&&te.difficulty===r)return Ua(t);localStorage.setItem("card-game-metadata",JSON.stringify(Xt)),localStorage.setItem("card-game-difficulty",te.difficulty);const a=Yt.map((d,g)=>{const p=Kt(g,0,Yt.length,0,Jt.length,!0),w=Jt[Math.floor(p)];return{...d,type:"support",image:`images/techno/${d.image}`,state:"idle",effect:{...w,description:Ce(w.description)}}}),o=Zt.map((d,g)=>{const p=Kt(g,0,Zt.length,0,Qt.length,!0),w=Qt[Math.floor(p)];return{...d,type:"action",image:`images/projects/${d.image}`,state:"idle",effect:{...w,description:Ce(w.description)}}}),s=He.map(d=>({type:"action",name:d.name,image:`images/upgrades/${d.image}`,state:"idle",effect:{index:-1,upgrade:!0,ephemeral:d.max===1,description:Ce(`@upgrade <br/> ${bn(d.description,1)}`),onPlayed:async g=>await g.upgrade(d.name),type:"action",cost:d.cost,waitBeforePlay:!1}})),u=Fe([...a,...o,...s],3);return{logs:[],operationInProgress:[],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,deck:u.slice(7),hand:u.slice(0,7),discard:[],upgrades:[],cardModifiers:[["upgrade cost threshold",[]]],day:1,energy:st,reputation:ct,money:0}}function Xa(e,r){return{addLog:t=>{e(a=>({logs:[...a.logs,t]}))},dangerouslyUpdate:t=>e(t),setOperationInProgress:(t,a)=>{e(o=>({operationInProgress:a?[...o.operationInProgress,t]:o.operationInProgress.filter(s=>s!==t)}))},updateScore:()=>{e(t=>({score:Math.floor(t.energy+t.reputation*wn+t.money/$+t.upgrades.reduce((a,o)=>a+o.cumul,0)*10*(50/t.day)*100*(1+Object.keys(it).indexOf(te.difficulty)))}))},addEnergy:async(t,a)=>{const o=r();if(o.setOperationInProgress("energy",!0),t>0)Y.gain.play(),o.addLog({value:t,type:"energy",reason:a.reason}),await q(),e(s=>({energy:Math.max(0,Math.min(st,s.energy+t))}));else if(t<0){const s=r(),u=Math.abs(t)-s.energy,d=Math.min(Math.abs(t),s.energy);s.addLog({value:-d,type:"energy",reason:a.reason}),u>0?(e({energy:0}),await s.addReputation(-u,a)):e(g=>({energy:g.energy+t}))}o.setOperationInProgress("energy",!1)},addReputation:async(t,a)=>{const o=r();o.setOperationInProgress("reputation",!0),t===10?Y.powerUp.play():t>0?Y.gain.play():Y.loss.play(),t!==0&&o.addLog({value:t,type:"reputation",reason:a.reason}),e(s=>({reputation:Math.max(0,Math.min(ct,s.reputation+t))})),await q(),!(a!=null&&a.skipGameOverPause)&&Te(o)&&await q(2e3),o.setOperationInProgress("reputation",!1)},addMoney:async(t,a)=>{let o=r();o.addLog({value:t,type:"money",reason:a==null?void 0:a.reason}),o.setOperationInProgress("money",!0),t>0&&(Y.cashing.play(),await q()),e(s=>({money:s.money+t})),o=r(),!(a!=null&&a.skipGameOverPause)&&o.money>=lt&&await q(2e3),o.setOperationInProgress("money",!1)},addDay:async(t=1,a)=>{const o=r();if(o.setOperationInProgress("addDay",!0),e({day:o.day+t}),t>0){const s=r();for(let u=0;u<t;u++)await s.triggerUpgradeEvent("eachDay",a)}o.setOperationInProgress("addDay",!1)},upgrade:async t=>{const a=r();a.setOperationInProgress(`upgrade ${t}`,!0);const o=He.find(s=>s.name===t);Y.upgrade.play(),a.upgrades.find(s=>s.name===t)?e(s=>({upgrades:s.upgrades.map(u=>u.name===t?{...u,cumul:u.cumul+1}:u)})):e(s=>({upgrades:[...s.upgrades,{...o,state:"appear",cumul:1,max:o.max??1/0}]})),await q(),e(s=>({upgrades:s.upgrades.map(u=>u.name===t?{...u,state:"idle"}:u)})),a.setOperationInProgress(`upgrade ${t}`,!1)},triggerUpgrade:async(t,a)=>{const o=r(),s=o.upgrades.find(u=>u.name===t);o.setOperationInProgress(`triggerUpgrade ${t}`,!0),e({upgrades:o.upgrades.map(u=>u.name===s.name?{...u,state:"triggered"}:u)}),await q(),await s.onTrigger(r(),s,(a==null?void 0:a.reason)??s),await q(),e(u=>({upgrades:u.upgrades.map(d=>d.name===s.name?{...d,state:"idle"}:d)})),o.setOperationInProgress(`triggerUpgrade ${t}`,!1)},triggerUpgradeEvent:async(t,a)=>{let o=r();o.setOperationInProgress(`triggerUpgradeEvent ${t}`,!0);const s=o.upgrades.slice().filter(d=>d.triggerEvent===t);let u=0;await Promise.all(s.map(async d=>{(!d.condition||d.condition(r(),d))&&(await q(500*u++),await o.triggerUpgrade(d.name,{skipGameOverPause:a.skipGameOverPause,reason:d}))})),o=r(),!a.skipGameOverPause&&Te(o)&&await q(2e3),o.setOperationInProgress(`triggerUpgradeEvent ${t}`,!1)},addCardModifier:async(t,a,o)=>{Y.powerUp.play();const s=[t,a];e(u=>({cardModifiers:o!=null&&o.before?[s,...u.cardModifiers]:[...u.cardModifiers,s]}))},draw:async(t=1,a)=>{let o=r();o.setOperationInProgress("draw",!0);const s=a!=null&&a.fromDiscardPile?"discard":"deck",u=o.hand.slice(),d=o.discard.slice(),g=o[s].slice().filter(i=>a!=null&&a.filter?a.filter(i):!0),p=[];let w=!1,n=!1;for(let i=0;i<t&&g.length!==0;i++){const c=g.pop();c.state="drawn",p.push(c.name),u.length>=Re?(d.push(c),n=!0):(u.push(c),w=!0)}w?Y.draw.play():n&&Y.drop.play(),e({hand:u,discard:d,[s]:Fe(o[s].filter(i=>!p.includes(i.name)),2)}),await q(),e(i=>({hand:i.hand.map(c=>({...c,state:"idle"}))})),o=r(),!(a!=null&&a.skipGameOverPause)&&Te(o)&&await q(2e3),o.setOperationInProgress("draw",!1)},discardCard:async t=>{const a=t!=null&&t.toDeck?"deck":"discard";Y.drop.play();const o=r();o.setOperationInProgress("discard",!0);const s=o.hand.slice().filter(d=>d.state!=="played"&&(!(t!=null&&t.filter)||t.filter(d))),u=t!=null&&t.random?[s[Math.floor(Math.random()*o.hand.length)]]:s;e({hand:o.hand.map(d=>u.some(g=>g.name===d.name)?{...d,state:"dropped"}:d)}),await q(),e(d=>({[a]:Fe([...d.hand.filter(g=>u.some(p=>p.name===g.name)).map(g=>({...g,state:null})),...d[a]],2),hand:d.hand.filter(g=>!u.some(p=>p.name===g.name))})),o.setOperationInProgress("discard",!1)},removeCard:async t=>{const a=r();a.setOperationInProgress(`removeCard ${t}`,!0),a.hand.some(s=>s.name===t)&&(e({hand:a.hand.map(s=>s.name===t?{...s,state:"removed"}:s)}),Y.remove.play(),await q(1e3));const o=["discard","deck","hand"];e(s=>({...o.reduce((u,d)=>({...u,[d]:s[d].filter(g=>g.name!==t)}),{})})),a.setOperationInProgress(`removeCard ${t}`,!1)},recycle:async(t=1)=>{Y.recycle.play();const a=r();a.setOperationInProgress("recycle",!0);const o=a.discard.slice(),s=a.deck.slice(),u=[];for(let d=0;d<t&&o.length!==0;d++){const g=o.pop();u.push(g.name),s.push(g)}e({deck:Fe(s),discard:a.discard.filter(d=>!u.includes(d.name)),operationInProgress:a.operationInProgress.filter(d=>d!=="recycle")})},play:async(t,a)=>{const o=!!(a!=null&&a.free);let s=r();const u=(a==null?void 0:a.reason)??t,d=async()=>{Y.unauthorized.play(),e({hand:s.hand.map(f=>f.name===t.name?{...f,state:"unauthorized"}:f)}),await q(),e({hand:s.hand.map(f=>f.name===t.name?{...f,state:"idle"}:f)})};if(t.effect.condition&&!t.effect.condition(s,t)){await d();return}const{needs:g,cost:p,appliedModifiers:w}=Tt(s,t);if(o||Number(t.effect.cost)===0||(g==="money"?s.money>=p:s.reputation+s.energy>=p))o||(g==="money"?await s.addMoney(-p,{skipGameOverPause:!0,reason:u}):await s.addEnergy(-p,{skipGameOverPause:!0,reason:u})),s.setOperationInProgress(`play ${t.name}`,!0);else{await d();return}Y.play.play();const n=qa(s,t);n&&q(200).then(()=>Y.remove.play());const i=async()=>{e(f=>({hand:f.hand.map(m=>m.name===t.name?{...m,state:n?"removed":"played"}:m)})),await q(n?1e3:void 0),e(f=>({discard:n?f.discard:Fe([{...t,state:null},...f.discard],3),hand:f.hand.filter(m=>m.name!==t.name),cardModifiers:f.cardModifiers.filter(m=>!An(m).once||!w.some(h=>h.toString()===m.toString()))})),t.effect.type==="action"&&await s.addDay(1,a)},c=async()=>{t.effect.waitBeforePlay&&await q(),await t.effect.onPlayed(s,t,u)};await Promise.all([i(),c()]),s=r(),s.hand.length===0&&await s.draw(1,{reason:u}),!(a!=null&&a.skipGameOverPause)&&Te(r())&&await q(2e3),s.setOperationInProgress(`play ${t.name}`,!1)},win:()=>{ie.fade(.5,0,500,fe),e({isGameOver:!0,isWon:!0})},gameOver:t=>{Y.defeat.play(),ie.fade(.5,0,500,fe),e({isGameOver:!0,isWon:!1,reason:t})},reset:()=>{localStorage.removeItem("card-game-metadata"),localStorage.removeItem("card-game-difficulty"),localStorage.removeItem("card-game"),e(Cn())},continue:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const ne=Oa((e,r)=>({...Cn(),...Xa(e,r)}));ne.subscribe((e,r)=>{if((e.reputation!==r.reputation||e.money!==r.money||e.upgrades!==r.upgrades||e.energy!==r.energy||e.day!==r.day)&&e.updateScore(),localStorage.setItem("card-game",JSON.stringify(e,(t,a)=>{if(!(typeof a=="function"&&!(t in e)))return a})),e.operationInProgress.join(",")!==r.operationInProgress.join("")&&e.operationInProgress.length===0){if(!e.infinityMode&&!e.isWon&&e.money>=lt)e.win();else if(!e.isGameOver){const t=Te(e);t&&e.gameOver(t)}}});const Ya=e=>{const r=K(o=>o.animations),t=ne(o=>o.reset),a=Oe(o=>()=>o.setCardGameVisibility(!1));return l.jsx("div",{className:C("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":r,"-bottom-12":e.show,"delay-500":e.delay&&r}),children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{onClick:()=>a(),variant:"default",children:"Revenir à l'accueil"}),l.jsx(me,{onClick:()=>t(),variant:"default",children:"Recommencer"})]})})};function Za(e,r){const t=y.createContext(r);function a(s){const{children:u,...d}=s,g=y.useMemo(()=>d,Object.values(d));return l.jsx(t.Provider,{value:g,children:u})}function o(s){const u=y.useContext(t);if(u)return u;if(r!==void 0)return r;throw new Error(`\`${s}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,o]}function xe(e,r=[]){let t=[];function a(s,u){const d=y.createContext(u),g=t.length;t=[...t,u];function p(n){const{scope:i,children:c,...f}=n,m=(i==null?void 0:i[e][g])||d,v=y.useMemo(()=>f,Object.values(f));return l.jsx(m.Provider,{value:v,children:c})}function w(n,i){const c=(i==null?void 0:i[e][g])||d,f=y.useContext(c);if(f)return f;if(u!==void 0)return u;throw new Error(`\`${n}\` must be used within \`${s}\``)}return p.displayName=s+"Provider",[p,w]}const o=()=>{const s=t.map(u=>y.createContext(u));return function(d){const g=(d==null?void 0:d[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...d,[e]:g}}),[d,g])}};return o.scopeName=e,[a,Ka(o,...r)]}function Ka(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const u=a.reduce((d,{useScope:g,scopeName:p})=>{const n=g(s)[`__scope${p}`];return{...d,...n}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:u}),[u])}};return t.scopeName=r.scopeName,t}var Ja=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],X=Ja.reduce((e,r)=>{const t=y.forwardRef((a,o)=>{const{asChild:s,...u}=a,d=s?tt:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:o})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function Qa(e,r){e&&yn.flushSync(()=>e.dispatchEvent(r))}var jt="Progress",It=100,[eo,ic]=xe(jt),[to,no]=eo(jt),Sn=y.forwardRef((e,r)=>{const{__scopeProgress:t,value:a=null,max:o,getValueLabel:s=ro,...u}=e;(o||o===0)&&!en(o)&&console.error(ao(`${o}`,"Progress"));const d=en(o)?o:It;a!==null&&!tn(a,d)&&console.error(oo(`${a}`,"Progress"));const g=tn(a,d)?a:null,p=nt(g)?s(g,d):void 0;return l.jsx(to,{scope:t,value:g,max:d,children:l.jsx(X.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":nt(g)?g:void 0,"aria-valuetext":p,role:"progressbar","data-state":Nn(g,d),"data-value":g??void 0,"data-max":d,...u,ref:r})})});Sn.displayName=jt;var En="ProgressIndicator",Pn=y.forwardRef((e,r)=>{const{__scopeProgress:t,...a}=e,o=no(En,t);return l.jsx(X.div,{"data-state":Nn(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:r})});Pn.displayName=En;function ro(e,r){return`${Math.round(e/r*100)}%`}function Nn(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function nt(e){return typeof e=="number"}function en(e){return nt(e)&&!isNaN(e)&&e>0}function tn(e,r){return nt(e)&&!isNaN(e)&&e<=r&&e>=0}function ao(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${It}\`.`}function oo(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${It} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Mn=Sn,io=Pn;const Ot=y.forwardRef(({barColor:e,className:r,value:t,...a},o)=>l.jsx(Mn,{ref:o,className:C("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...a,children:l.jsx(io,{className:C("h-full w-full flex-1 transition-all",e,{"bg-primary":!e}),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ot.displayName=Mn.displayName;const ut=e=>{const r=ne(t=>t.energy);return e.isCost&&e.value===0?l.jsx(l.Fragment,{}):l.jsxs("div",{className:C("relative",{"w-8 h-8":e.miniature},e.className),style:e.style,children:[e.type==="energy"?!e.isCost||r>=e.value?l.jsx("img",{src:"images/energy-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):r>0?l.jsx("img",{src:"images/enerputation-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):l.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Coût en réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}):l.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}),l.jsxs("div",{className:C("absolute top-1/2 left-1/2 font-bold text-[1.8em] text-white pointer-events-none box-content",{"text-md":e.miniature},e.textColor),style:{transform:"translateX(-50%) translateY(-50%) translateZ(5px)"},children:[e.miniature&&e.value>0?"+":"",e.value]})]})},nn=e=>l.jsxs("div",{className:"flex items-center h-7 w-full",children:[l.jsx(ut,{type:e.type,value:e.value,iconScale:e.iconScale,textColor:e.textColor,className:"absolute -translate-x-1/2 z-50 scale-50"}),l.jsx(Ot,{barColor:e.barColor,className:e.className,value:e.value/e.max*100})]});function so(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M32 456a24 24 0 0 0 24 24h400a24 24 0 0 0 24-24V176H32zm80-238.86a9.14 9.14 0 0 1 9.14-9.14h109.72a9.14 9.14 0 0 1 9.14 9.14v109.72a9.14 9.14 0 0 1-9.14 9.14H121.14a9.14 9.14 0 0 1-9.14-9.14zM456 64h-55.92V32h-48v32H159.92V32h-48v32H56a23.8 23.8 0 0 0-24 23.77V144h448V87.77A23.8 23.8 0 0 0 456 64z"})))}function co(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"}),S.createElement("path",{d:"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"})))}function lo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function uo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),S.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function fo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),S.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),S.createElement("path",{d:"m64 160 29.74 282.51A24 24 0 0 0 117.61 464h276.78a24 24 0 0 0 23.87-21.49L448 160zm248 217.46-56-56-56 56L174.54 352l56-56-56-56L200 214.54l56 56 56-56L337.46 240l-56 56 56 56z"}),S.createElement("rect",{width:"448",height:"80",x:"32",y:"48",rx:"12",ry:"12"})))}function kn(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function mo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}const Ae=e=>l.jsxs("div",{children:[l.jsx(e.icon,{className:"h-full self-center"}),l.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-2",children:[l.jsxs("span",{children:[e.name," :"]})," ",e.value]})]}),Tn=e=>{const r=ne(t=>({money:t.money,score:t.score,day:t.day,deck:t.deck,discard:t.discard,infinity:t.infinityMode}));return l.jsxs("div",{className:C("flex flex-col gap-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left",e.className),children:[l.jsx(Ae,{icon:lo,name:"Dollars",value:l.jsx("span",{dangerouslySetInnerHTML:{__html:Ce(`${r.money}M$ ${e.forHUD?`sur ${lt}M$`:""}`)}})}),l.jsx(Ae,{icon:uo,name:"Score",value:l.jsxs("span",{className:"text-upgrade font-changa",children:[r.score.toLocaleString("fr")," pts"]})}),l.jsx(Ae,{icon:so,name:"Jour",value:r.day}),e.forHUD&&l.jsxs(l.Fragment,{children:[l.jsx(Ae,{icon:co,name:"Deck",value:r.deck.length}),l.jsx(Ae,{icon:fo,name:"Défausse",value:r.discard.length})]}),l.jsx(Ae,{icon:kn,name:"Mode",value:l.jsx("span",{className:"capitalize",children:St[te.difficulty]})}),r.infinity&&l.jsx(Ae,{icon:mo,name:"Mode infini",value:"Activé"})]})};function Ge(e){return typeof e=="object"&&"triggerEvent"in e}const po=e=>{var r;return l.jsxs("span",{className:C("inline-flex items-center h-7 w-full rounded-full",typeof e.item=="string"?"":Ge(e.item)?"bg-upgrade text-foreground":{"bg-action text-action-foreground":e.item.type==="action","bg-support text-support-foreground":e.item.type==="support"}),children:[typeof e.item=="object"&&l.jsx("img",{src:Ge(e.item)?`images/upgrades/${e.item.image}`:e.item.image,alt:"oops",className:C("aspect-square rounded-full h-full",{"object-cover":Ge(e.item)||e.item.type==="action","object-contain":!Ge(e.item)&&e.item.type==="support"},Ge(e.item)?"ring-upgrade shadow ring-4":{"ring-action ring-4":e.item.type==="action","ring-support ring-4":e.item.type==="support"})}),l.jsx("div",{className:"px-2",children:typeof e.item=="object"?(r=e.item)==null?void 0:r.name:e.item})]})},jn=e=>e.value==="0"?l.jsx(l.Fragment,{}):l.jsx("div",{className:C("text-2xl font-bold border border-white px-1 bg-money text-money-foreground w-fit",{"text-md":e.miniature},e.className),style:e.style,children:l.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.miniature?`${Number(e.value)>0?"+":""}${e.value}`:e.value,"M$"]})}),ht=12,go=e=>{const r=ne(t=>t.logs);return l.jsx("div",{className:C("absolute right-0 bottom-0 translate-x-full pointer-events-none",{hidden:!e.show}),children:l.jsx("table",{children:l.jsx("tbody",{children:new Array(ht).fill(0).map((t,a)=>{const o=r.slice(-ht)[a];return o?l.jsxs("tr",{style:{opacity:a/ht+a/r.length},children:[l.jsx("td",{children:l.jsx(po,{item:o.reason})}),l.jsx("td",{className:"pb-1.5",children:l.jsx("span",{className:C("inline-block ring-2",o.value>0?"ring-green-500":"ring-red-500",o.type==="money"?"":"rounded-full"),children:o.type==="money"?l.jsx(jn,{miniature:!0,value:String(o.value)}):l.jsx(ut,{miniature:!0,value:o.value,type:o.type})})})]},a):l.jsxs("tr",{children:[l.jsx("td",{}),l.jsx("td",{})]},a)})})})})},ho=e=>{const{shadows:r,animation:t}=K(g=>({shadows:g.shadows,animation:g.animations})),[a,o]=S.useState(!0),[s,u]=S.useState(!1),d=ne(g=>({energy:g.energy,reputation:g.reputation,reset:g.reset}));return S.useEffect(()=>{e.show?(u(!0),o(!1)):(o(!0),u(!1))},[e.show]),l.jsxs("div",{className:C("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"delay-500":s&&t,"translate-x-0":e.show}),children:[l.jsx("div",{className:C("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":r})}),l.jsx("div",{className:C("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":r})}),l.jsx(Ya,{show:e.show,delay:a}),l.jsx(go,{show:e.show}),l.jsxs(Ve,{className:"space-y-2 w-[400px]",children:[l.jsx("div",{className:"text-3xl text-center",children:"Game values"}),l.jsx(nn,{type:"energy",value:d.energy,max:st}),l.jsx(nn,{type:"reputation",value:d.reputation,max:ct,barColor:"bg-pink-500"}),l.jsx(Tn,{className:"*:h-6 text-lg",forHUD:!0})]})]})},Ke=["Si vous n'avez plus de @reputation, vous perdez la partie.","Quand une carte est jouée, elle va dans la défausse.","Si vous ne pouvez plus jouer de carte, vous perdez la partie.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Chaque carte @action jouée ajoute un jour à la partie.","Les cartes @action ont une bannière bleue.","Lorsque vous n'avez plus d'@energy, vous consommez la @reputation.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Vous ne pouvez pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop sont défaussées à la place.","Le prix des cartes d'@upgrade augmente progressivement.","Si vous obtenez MONEY_TO_REACHM$, vous gagnez la partie."];function vo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const yo=e=>{const r=S.useRef(null),t=_n(r),{animation:a,shadow:o,transparency:s}=K(g=>({animation:g.animations,transparency:g.transparency,shadow:g.shadows})),[u,d]=S.useState(0);return S.useEffect(()=>{const g=setInterval(()=>{t||d((u+1)%Ke.length)},5e3);return()=>clearInterval(g)},[u,t]),l.jsx("div",{ref:r,className:C("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":s,"bg-card":!s,"shadow shadow-black/50":o&&s,"transition-transform duration-500 ease-in-out":a,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>d((u+1)%Ke.length),children:l.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:l.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[l.jsx(vo,{className:"h-6 cursor-pointer"}),l.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:Ce(Ke[u])}})]})})})},_o=e=>{const r=K(a=>({shadows:a.shadows,animation:a.animations,transparency:a})),t=ne(a=>a.upgrades);return l.jsx("div",{className:C("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":r.animation,"top-0":e.show&&t.length>0}),children:l.jsx("div",{className:C("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":t.length>5,"-translate-y-[25%]":t.length>10,"shadow shadow-black/50":r.shadows&&r.transparency,"bg-card/50":r.transparency,"bg-card":!r.transparency}),children:l.jsx("div",{className:C("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":t.length>5,"translate-y-[25%]":t.length>10}),children:t.map((a,o)=>l.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[l.jsx("img",{src:`images/upgrades/${a.image}`,alt:a.name,className:C("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":a.state==="triggered"&&r.animation,"ring-foreground":a.state==="triggered"&&!r.animation})}),l.jsx("div",{className:"h-6 relative",children:l.jsxs("div",{className:"relative",children:[a.max!==1/0&&l.jsx(Ot,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:a.cumul/a.max*100}),l.jsx("div",{className:C("absolute text-center font-changa left-0 -translate-y-3 aspect-square h-6 rounded-full bg-upgrade",{"shadow shadow-black":r.shadows}),children:a.cumul})]})}),l.jsxs(Ve,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50",children:[l.jsxs("h3",{className:"text-xl",children:[a.name," ",l.jsxs("span",{className:"text-upgrade font-bold",children:[a.cumul,a.max!==1/0&&a.max!==null?`/${a.max}`:""]})]}),l.jsx("p",{dangerouslySetInnerHTML:{__html:Ce(bn(a.description,a.cumul))}})]})]},o))})})})},In=[{name:"ฟ- ק𝖆†/⑳ -ж",score:38120,mode:"hard"},{name:"Ghom",score:37980,mode:"hard"},{name:"Makushi",score:44e3,mode:"hard"},{name:"Xibalba",score:24050,mode:"hard"},{name:"Mel-Andrew",score:71213,mode:"normal"}],On=S.createContext({degX:0,degY:0,isHovered:!1}),rn={transformStyle:"preserve-3d"},Rn=({max:e=20,reverse:r=!1,scale:t=1,perspective:a=1e3,className:o="",children:s,style:u})=>{const d=K(b=>b.tilt&&b.animations),g=S.useRef(null),p=_n(g),[w,n]=S.useState({}),[i,c]=S.useState(0),[f,m]=S.useState(0),v=S.useCallback(b=>{if(g.current){const E=g.current.getBoundingClientRect(),P=b.clientX-E.left,T=b.clientY-E.top,z=E.width/2,R=E.height/2,G=(T-R)/R*e,j=(P-z)/z*e;c(r?G:-G),m(r?-j:j),n({...rn,transform:`
            perspective(${a}px)
            rotateX(${r?G:-G}deg)
            rotateY(${r?-j:j}deg)
            scale(${t})
          `})}},[e,a,r,t]),h=S.useCallback(()=>{c(0),m(0),n({...rn,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return S.useEffect(()=>{const b=g.current;return p?b&&(b.addEventListener("mousemove",v),b.addEventListener("mouseleave",h)):h(),()=>{b&&(b.removeEventListener("mousemove",v),b.removeEventListener("mouseleave",h)),h()}},[e,r,t,a,p]),d?l.jsx("div",{ref:g,className:C("will-change-transform",o),style:{...w,...u},children:l.jsx(On.Provider,{value:{degX:i,degY:f,isHovered:p},children:s})}):l.jsx("div",{className:o,style:u,children:s})},xo=()=>{const e=S.useContext(On);return K(t=>t.foil)?l.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[l.jsx("div",{className:C("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),l.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):l.jsx(l.Fragment,{})};var Rt={};(function e(r,t,a,o){var s=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!r.OffscreenCanvas)return!1;var x=new OffscreenCanvas(1,1),_=x.getContext("2d");_.fillRect(0,0,1,1);var N=x.transferToImageBitmap();try{_.createPattern(N,"no-repeat")}catch{return!1}return!0}();function g(){}function p(x){var _=t.exports.Promise,N=_!==void 0?_:r.Promise;return typeof N=="function"?new N(x):(x(g,g),null)}var w=function(x,_){return{transform:function(N){if(x)return N;if(_.has(N))return _.get(N);var k=new OffscreenCanvas(N.width,N.height),I=k.getContext("2d");return I.drawImage(N,0,0),_.set(N,k),k},clear:function(){_.clear()}}}(d,new Map),n=function(){var x=Math.floor(16.666666666666668),_,N,k={},I=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(O){var D=Math.random();return k[D]=requestAnimationFrame(function M(L){I===L||I+x-1<L?(I=L,delete k[D],O()):k[D]=requestAnimationFrame(M)}),D},N=function(O){k[O]&&cancelAnimationFrame(k[O])}):(_=function(O){return setTimeout(O,x)},N=function(O){return clearTimeout(O)}),{frame:_,cancel:N}}(),i=function(){var x,_,N={};function k(I){function O(D,M){I.postMessage({options:D||{},callback:M})}I.init=function(M){var L=M.transferControlToOffscreen();I.postMessage({canvas:L},[L])},I.fire=function(M,L,B){if(_)return O(M,null),_;var V=Math.random().toString(36).slice(2);return _=p(function(H){function W(Z){Z.data.callback===V&&(delete N[V],I.removeEventListener("message",W),_=null,w.clear(),B(),H())}I.addEventListener("message",W),O(M,V),N[V]=W.bind(null,{data:{callback:V}})}),_},I.reset=function(){I.postMessage({reset:!0});for(var M in N)N[M](),delete N[M]}}return function(){if(x)return x;if(!a&&s){var I=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{x=new Worker(URL.createObjectURL(new Blob([I])))}catch(O){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",O),null}k(x)}return x}}(),c={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(x,_){return _?_(x):x}function m(x){return x!=null}function v(x,_,N){return f(x&&m(x[_])?x[_]:c[_],N)}function h(x){return x<0?0:Math.floor(x)}function b(x,_){return Math.floor(Math.random()*(_-x))+x}function E(x){return parseInt(x,16)}function P(x){return x.map(T)}function T(x){var _=String(x).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:E(_.substring(0,2)),g:E(_.substring(2,4)),b:E(_.substring(4,6))}}function z(x){var _=v(x,"origin",Object);return _.x=v(_,"x",Number),_.y=v(_,"y",Number),_}function R(x){x.width=document.documentElement.clientWidth,x.height=document.documentElement.clientHeight}function G(x){var _=x.getBoundingClientRect();x.width=_.width,x.height=_.height}function j(x){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=x,_}function re(x,_,N,k,I,O,D,M,L){x.save(),x.translate(_,N),x.rotate(O),x.scale(k,I),x.arc(0,0,1,D,M,L),x.restore()}function he(x){var _=x.angle*(Math.PI/180),N=x.spread*(Math.PI/180);return{x:x.x,y:x.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:x.startVelocity*.5+Math.random()*x.startVelocity,angle2D:-_+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:x.color,shape:x.shape,tick:0,totalTicks:x.ticks,decay:x.decay,drift:x.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:x.gravity*3,ovalScalar:.6,scalar:x.scalar,flat:x.flat}}function Le(x,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var N=_.tick++/_.totalTicks,k=_.x+_.random*_.tiltCos,I=_.y+_.random*_.tiltSin,O=_.wobbleX+_.random*_.tiltCos,D=_.wobbleY+_.random*_.tiltSin;if(x.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-N)+")",x.beginPath(),u&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))x.fill(Aa(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(O-k)*.1,Math.abs(D-I)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var M=Math.PI/10*_.wobble,L=Math.abs(O-k)*.1,B=Math.abs(D-I)*.1,V=_.shape.bitmap.width*_.scalar,H=_.shape.bitmap.height*_.scalar,W=new DOMMatrix([Math.cos(M)*L,Math.sin(M)*L,-Math.sin(M)*B,Math.cos(M)*B,_.x,_.y]);W.multiplySelf(new DOMMatrix(_.shape.matrix));var Z=x.createPattern(w.transform(_.shape.bitmap),"no-repeat");Z.setTransform(W),x.globalAlpha=1-N,x.fillStyle=Z,x.fillRect(_.x-V/2,_.y-H/2,V,H),x.globalAlpha=1}else if(_.shape==="circle")x.ellipse?x.ellipse(_.x,_.y,Math.abs(O-k)*_.ovalScalar,Math.abs(D-I)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):re(x,_.x,_.y,Math.abs(O-k)*_.ovalScalar,Math.abs(D-I)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var F=Math.PI/2*3,ee=4*_.scalar,ae=8*_.scalar,oe=_.x,pe=_.y,be=5,ue=Math.PI/be;be--;)oe=_.x+Math.cos(F)*ae,pe=_.y+Math.sin(F)*ae,x.lineTo(oe,pe),F+=ue,oe=_.x+Math.cos(F)*ee,pe=_.y+Math.sin(F)*ee,x.lineTo(oe,pe),F+=ue;else x.moveTo(Math.floor(_.x),Math.floor(_.y)),x.lineTo(Math.floor(_.wobbleX),Math.floor(I)),x.lineTo(Math.floor(O),Math.floor(D)),x.lineTo(Math.floor(k),Math.floor(_.wobbleY));return x.closePath(),x.fill(),_.tick<_.totalTicks}function Pe(x,_,N,k,I){var O=_.slice(),D=x.getContext("2d"),M,L,B=p(function(V){function H(){M=L=null,D.clearRect(0,0,k.width,k.height),w.clear(),I(),V()}function W(){a&&!(k.width===o.width&&k.height===o.height)&&(k.width=x.width=o.width,k.height=x.height=o.height),!k.width&&!k.height&&(N(x),k.width=x.width,k.height=x.height),D.clearRect(0,0,k.width,k.height),O=O.filter(function(Z){return Le(D,Z)}),O.length?M=n.frame(W):H()}M=n.frame(W),L=H});return{addFettis:function(V){return O=O.concat(V),B},canvas:x,promise:B,reset:function(){M&&n.cancel(M),L&&L()}}}function ce(x,_){var N=!x,k=!!v(_||{},"resize"),I=!1,O=v(_,"disableForReducedMotion",Boolean),D=s&&!!v(_||{},"useWorker"),M=D?i():null,L=N?R:G,B=x&&M?!!x.__confetti_initialized:!1,V=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,H;function W(F,ee,ae){for(var oe=v(F,"particleCount",h),pe=v(F,"angle",Number),be=v(F,"spread",Number),ue=v(F,"startVelocity",Number),Ea=v(F,"decay",Number),Pa=v(F,"gravity",Number),Na=v(F,"drift",Number),zt=v(F,"colors",P),Ma=v(F,"ticks",Number),Vt=v(F,"shapes"),ka=v(F,"scalar"),Ta=!!v(F,"flat"),Wt=z(F),qt=oe,pt=[],ja=x.width*Wt.x,Ia=x.height*Wt.y;qt--;)pt.push(he({x:ja,y:Ia,angle:pe,spread:be,startVelocity:ue,color:zt[qt%zt.length],shape:Vt[b(0,Vt.length)],ticks:Ma,decay:Ea,gravity:Pa,drift:Na,scalar:ka,flat:Ta}));return H?H.addFettis(pt):(H=Pe(x,pt,L,ee,ae),H.promise)}function Z(F){var ee=O||v(F,"disableForReducedMotion",Boolean),ae=v(F,"zIndex",Number);if(ee&&V)return p(function(ue){ue()});N&&H?x=H.canvas:N&&!x&&(x=j(ae),document.body.appendChild(x)),k&&!B&&L(x);var oe={width:x.width,height:x.height};M&&!B&&M.init(x),B=!0,M&&(x.__confetti_initialized=!0);function pe(){if(M){var ue={getBoundingClientRect:function(){if(!N)return x.getBoundingClientRect()}};L(ue),M.postMessage({resize:{width:ue.width,height:ue.height}});return}oe.width=oe.height=null}function be(){H=null,k&&(I=!1,r.removeEventListener("resize",pe)),N&&x&&(document.body.contains(x)&&document.body.removeChild(x),x=null,B=!1)}return k&&!I&&(I=!0,r.addEventListener("resize",pe,!1)),M?M.fire(F,oe,be):W(F,oe,be)}return Z.reset=function(){M&&M.reset(),H&&H.reset()},Z}var we;function le(){return we||(we=ce(null,{useWorker:!0,resize:!0})),we}function Aa(x,_,N,k,I,O,D){var M=new Path2D(x),L=new Path2D;L.addPath(M,new DOMMatrix(_));var B=new Path2D;return B.addPath(L,new DOMMatrix([Math.cos(D)*I,Math.sin(D)*I,-Math.sin(D)*O,Math.cos(D)*O,N,k])),B}function Ca(x){if(!u)throw new Error("path confetti are not supported in this browser");var _,N;typeof x=="string"?_=x:(_=x.path,N=x.matrix);var k=new Path2D(_),I=document.createElement("canvas"),O=I.getContext("2d");if(!N){for(var D=1e3,M=D,L=D,B=0,V=0,H,W,Z=0;Z<D;Z+=2)for(var F=0;F<D;F+=2)O.isPointInPath(k,Z,F,"nonzero")&&(M=Math.min(M,Z),L=Math.min(L,F),B=Math.max(B,Z),V=Math.max(V,F));H=B-M,W=V-L;var ee=10,ae=Math.min(ee/H,ee/W);N=[ae,0,0,ae,-Math.round(H/2+M)*ae,-Math.round(W/2+L)*ae]}return{type:"path",path:_,matrix:N}}function Sa(x){var _,N=1,k="#000000",I='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof x=="string"?_=x:(_=x.text,N="scalar"in x?x.scalar:N,I="fontFamily"in x?x.fontFamily:I,k="color"in x?x.color:k);var O=10*N,D=""+O+"px "+I,M=new OffscreenCanvas(O,O),L=M.getContext("2d");L.font=D;var B=L.measureText(_),V=Math.ceil(B.actualBoundingBoxRight+B.actualBoundingBoxLeft),H=Math.ceil(B.actualBoundingBoxAscent+B.actualBoundingBoxDescent),W=2,Z=B.actualBoundingBoxLeft+W,F=B.actualBoundingBoxAscent+W;V+=W+W,H+=W+W,M=new OffscreenCanvas(V,H),L=M.getContext("2d"),L.font=D,L.fillStyle=k,L.fillText(_,Z,F);var ee=1/N;return{type:"bitmap",bitmap:M.transferToImageBitmap(),matrix:[ee,0,0,ee,-V*ee/2,-H*ee/2]}}t.exports=function(){return le().apply(this,arguments)},t.exports.reset=function(){le().reset()},t.exports.create=ce,t.exports.shapeFromPath=Ca,t.exports.shapeFromText=Sa})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Rt,!1);const rt=Rt.exports;Rt.exports.create;const at=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?rt.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):rt)({...e})};at.shapeFromPath=e=>rt.shapeFromPath({...e});at.shapeFromText=e=>rt.shapeFromText({...e});const wo=()=>{const r=Date.now()+5e3,t={startVelocity:30,spread:360,ticks:60,zIndex:0},a=(s,u)=>Math.random()*(u-s)+s,o=window.setInterval(()=>{const s=r-Date.now();if(s<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((d,g)=>{g>0&&d.remove()}),clearInterval(o);const u=50*(s/5e3);at({...t,particleCount:u,zIndex:50,origin:{x:a(.1,.3),y:Math.random()-.2}}),at({...t,particleCount:u,zIndex:50,origin:{x:a(.7,.9),y:Math.random()-.2}})},250)},bo=e=>{const r=K(u=>({shadows:u.shadows,animation:u.animations,transparency:u.transparency})),[t,a]=Oe(u=>[u.setCardGameVisibility,u.toggleSettings]),o=ne(u=>({isGameOver:u.isGameOver,isWon:u.isWon,reason:u.reason,score:u.score,reset:u.reset,continue:u.continue})),s=In.sort((u,d)=>d.score-u.score).findIndex(({score:u})=>o.score>=u);return S.useEffect(()=>{o.isGameOver&&o.isWon&&r.animation&&e.show&&(Y.victory.play(),wo())},[o.isGameOver,o.isWon,r.animation,e.show]),l.jsx("div",{className:e.show?"block":"hidden",children:o.isGameOver&&l.jsx("div",{className:C("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":r.transparency,"bg-background":!r.transparency}),children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[l.jsxs(Rn,{className:"flex flex-col select-none",max:10,reverse:!0,children:[l.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),l.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[o.isWon&&l.jsx("div",{className:"text-green-500",children:"Vous avez gagné !"}),!o.isWon&&l.jsx("div",{className:"text-red-500",children:"Vous avez perdu !"})]})]}),o.reason&&l.jsx("p",{className:"text-4xl",children:{reputation:"Vous avez utilisé toute votre jauge de réputation...",mill:"Vous n'avez plus de carte...","soft-lock":"Votre main est injouable..."}[o.reason]}),o.isWon?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Tn,{className:"*:h-10 text-3xl"}),l.jsx("div",{className:C("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":r.shadows&&r.transparency,"bg-card/50":r.transparency,"bg-card":!r.transparency}),children:s>=0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-3xl",children:["Rank:"," ",l.jsxs("span",{className:C("font-changa text-4xl",Et(s)),children:["# ",s+1]})]}),l.jsxs("p",{className:"text-lg",children:[l.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contactez-moi"})," ","pour ",l.jsx("br",{})," soumettre votre score !"]})]}):l.jsxs("div",{className:"text-lg",children:["Vous n'êtes pas classé, ",l.jsx("br",{})," votre score est trop faible. ",l.jsx("br",{})," Essayez"," ",te.difficulty==="noob"||te.difficulty==="easy"?l.jsxs(l.Fragment,{children:["une difficulté plus élevée ! ",l.jsx("br",{}),l.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:a,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):l.jsx("div",{className:"text-lg group/helpers",children:Ke.filter(u=>{switch(o.reason){case"reputation":return u.includes("@reputation")||u.includes("gagnez la partie");case"mill":return u.includes("plus jouer")||u.includes("défausse")||u.includes("limitée")||u.includes("gagnez la partie");case"soft-lock":return u.includes("plus jouer")||u.includes("progressivement")||u.includes("cartes à jouer")||u.includes("gagnez la partie");default:return!1}}).map((u,d)=>l.jsx("div",{className:C("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":r.animation}),children:l.jsx("p",{className:C("hover:text-foreground",{[C("animate-trigger",{"delay-0":d===0,"delay-100":d===1,"delay-200":d===2,"delay-300":d===3,"delay-500":d===4,"delay-700":d===5})]:r.animation}),dangerouslySetInnerHTML:{__html:Ce(u)}},d)}))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(me,{onClick:()=>t(!1),variant:"default",children:"Quitter"}),l.jsx(me,{onClick:()=>o.reset(),variant:o.isWon?"default":"cta",size:o.isWon?"default":"cta",children:o.isWon?"Nouvelle partie":"Recommencer"}),o.isWon&&l.jsx(me,{onClick:()=>o.continue(),variant:"cta",size:"cta",children:"Mode infini"})]}),o.isWon&&l.jsx("div",{className:C({"animate-bounce w-full hover:duration-500":r.animation}),children:l.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:C("text-xl block mx-auto w-[300px] text-center border-2 border-upgrade rounded-xl py-3",{"transition-colors duration-500 ease-in-out":r.animation,"bg-card/50 hover:bg-card":r.transparency,"bg-card":!r.transparency}),children:"Buy me a coffee ☕️"})})]})})})};function Ao(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Co(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}function an(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 210 293","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision"},S.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},S.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor","stroke-width":"0"})),S.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},S.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor","stroke-width":"0"})),S.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},S.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor","stroke-width":"0"}))))}const So=e=>{const{shadows:r,perspective:t,animation:a,transparency:o,tilt:s}=K(c=>({blur:c.blur,shadows:c.shadows,perspective:c.perspective,animation:c.animations,transparency:c.transparency,tilt:c.tilt})),{handSize:u,operationInProgress:d,isGameOver:g,play:p,canTriggerEffect:w,parsedCost:n}=ne(c=>{const f=Tt(c,e.card);return{handSize:c.hand.length,operationInProgress:c.operationInProgress,play:c.play,isGameOver:c.isGameOver,parsedCost:f,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(c,e.card)}}),i=e.position-(u-1)/2;return l.jsx("div",{className:C("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{"hover:-translate-y-14":e.card.state!=="removed",[C("transition-transform",e.card.state)]:a,grayscale:g||!n.canBeBuy||!w,"cursor-not-allowed":d.length>0}),onClick:async()=>{d.length===0&&!g&&await p(e.card,{reason:e.card})},onContextMenu:c=>{c.preventDefault(),gt(e.card)&&e.card.url&&window.open(e.card.url,"_blank")},style:{marginBottom:`${20-Math.abs(i)*5}px`,rotate:`${i*2}deg`,transitionDuration:a?"0.3s":"0",transitionTimingFunction:a?"ease-in-out":"linear"},children:e.card.state==="removed"&&a?l.jsx("div",{className:"relative",children:Math.random()<.5?l.jsx(an,{className:C("absolute scale-x-[-1]",{"text-card/60":o,"text-card":!o}),style:{maskClip:"fill-box"}}):l.jsx(an,{className:C("absolute",{"text-card/60":o,"text-card":!o}),style:{maskClip:"fill-box"}})}):l.jsxs(Rn,{scale:1.1,className:C("group/game-card",{"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":r},"flex flex-col w-full h-full rounded-xl","*:shrink-0",{[C({"bg-card/60":o,"bg-card":!o})]:e.card.effect.type==="support"}),children:[gt(e.card)&&e.card.detail&&l.jsxs("div",{className:C("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":r,"transition-opacity duration-200 ease-in-out delay-1000":a,"opacity-0 group-hover/game-card:opacity-100 flex":o,"hidden group-hover/game-card:flex":!o}),children:[l.jsx(Ao,{className:"w-10"}),l.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),l.jsx(Co,{className:"w-10 self-end"})]}),t&&s&&l.jsx("div",{className:C("absolute w-full h-full rounded-xl",{"bg-card/60":o,"bg-card":!o}),style:{transform:"translateZ(-20px)"}}),l.jsxs("div",{className:C("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[C({"bg-support/50":o,"bg-support":!o})]:e.card.effect.type==="support"}),style:{transformStyle:t?"preserve-3d":"flat"},children:[l.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t?"translateZ(5px)":""} translateX(-15px)`,transformStyle:t?"preserve-3d":"flat"},children:n.needs==="energy"?l.jsx(ut,{isCost:!0,type:"energy",value:n.cost,iconScale:"0.75",style:{transform:t?"translateZ(5px)":"none",transformStyle:t?"preserve-3d":"flat"}}):l.jsx(jn,{value:String(n.cost),style:{transform:`${t?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:t?"preserve-3d":"flat"}})}),l.jsx("h2",{className:C("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[C({"left-3 text-lg":n.needs==="money"&&e.card.name.length>7,"left-7":n.needs==="money"&&n.cost>99,"text-md":e.card.name.length>11})]:n.cost>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:t?"translateZ(5px)":"none"},children:e.card.name})]}),gt(e.card)?l.jsx(Eo,{card:e.card}):l.jsx(No,{card:e.card}),l.jsxs("div",{className:C("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/60":o,"bg-card":!o}),style:{transformStyle:t?"preserve-3d":"flat"},children:[l.jsx("p",{className:"py-[10px] px-[15px] text-center",style:{transform:t?"translateZ(10px)":"none",transformStyle:t?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&l.jsx("div",{className:C("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":o,"text-muted-foreground":!o}),children:"Éphémère"})]}),l.jsx(Ut,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),l.jsx(Ut,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),l.jsx(xo,{})]})})},Eo=e=>{const{shadows:r,perspective:t,transparency:a,animation:o}=K(s=>({shadows:s.shadows,perspective:s.perspective,transparency:s.transparency,animation:s.animations}));return l.jsxs("div",{className:"group/image relative pointer-events-auto",style:{transformStyle:t?"preserve-3d":"flat"},children:[l.jsx("div",{className:C({"inset-shadow":r},"relative flex justify-center items-center"),style:{transformStyle:t?"preserve-3d":"flat"},children:l.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:t?"translateZ(-15px)":"none"}})}),e.card.description&&l.jsx("div",{className:C("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":a}),style:{transform:t?"translateZ(-5px)":"none"},children:l.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},Po=["React","Knex"],No=e=>{const{perspective:r,animation:t}=K(a=>({perspective:a.perspective,animation:a.animations}));return l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:r?"translateZ(15px)":"none"},children:l.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:C("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":t&&Po.includes(e.card.name)})})})})};function Mo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const ko=e=>{const{shadows:r,animation:t,transparency:a}=K(o=>({shadows:o.shadows,animation:o.animations,transparency:o.transparency}));return l.jsxs("div",{className:C("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"translate-x-0":e.show}),children:[l.jsx("div",{className:C("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":r})}),l.jsx("div",{className:C("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":r})}),l.jsx(Ve,{children:l.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[l.jsx("div",{className:"text-3xl",children:"Scoreboard"}),l.jsx("div",{className:C("rounded-xl p-5",{"bg-card/40":a,"bg-card":!a}),children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{}),l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Mode"})]})}),l.jsx("tbody",{children:In.sort((o,s)=>s.score-o.score).map((o,s)=>l.jsxs("tr",{className:C("*:whitespace-nowrap",Et(s)),children:[l.jsx("td",{children:s<3?l.jsx(Mo,{className:C("w-4",Et(s))}):""}),l.jsxs("th",{children:["# ",s+1]}),l.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:o.name}),l.jsxs("td",{children:[o.score.toLocaleString()," pts"]}),l.jsx("td",{children:o.mode})]},s))})]})}),l.jsxs("p",{className:"text-muted-foreground text-sm bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si vous avez un meilleur score, vous pouvez me le ",l.jsx("br",{}),"soumettre en me contactant sur Discord ou LinkedIn !"]})]})})]})},To=e=>{const r=ne(),t=K(s=>s.animations),a=r.operationInProgress.length>0,o=r.energy+r.reputation<Ze||r.hand.length>=Re||r.deck.length===0||a;return l.jsx("div",{className:C("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0",{"transition-opacity duration-500 ease-in-out":t,"opacity-100":e.show,"pointer-events-none":!e.show}),children:l.jsxs(Ve,{className:"space-y-4",children:[l.jsx("div",{className:"text-3xl",children:"Game Actions"}),l.jsxs(me,{className:C("flex justify-start gap-2",{grayscale:o}),onClick:async()=>{r.setOperationInProgress("infinity-draw",!0),Y.play.play(),await r.addEnergy(-Ze,{skipGameOverPause:!0,reason:"Bouton pioche"}),await r.draw(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await r.triggerUpgradeEvent("eachDay",{skipGameOverPause:!0}),Te(r)&&await q(2e3),r.setOperationInProgress("infinity-draw",!1)},disabled:o,size:"cta",children:[l.jsx(ut,{value:Ze,type:"energy",isCost:!0,className:"w-8"})," ","Piocher une carte"]}),!1]})})},jo=()=>{const e=Oe(a=>a.isCardGameVisible),[r,t]=S.useState(localStorage.getItem("muted")==="true");return S.useEffect(()=>{ie.mute(r,fe),localStorage.setItem("muted",JSON.stringify(r))},[r]),S.useEffect(()=>{e?(ie.play(fe),ie.fade(0,.5,1e3,fe)):ie.fade(.5,0,1e3,fe)},[e]),[r,()=>t(!r)]};function Io(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),S.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),S.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function Oo(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{fill:"none","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M416 432 64 80"}),S.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),S.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}const Ro=e=>{const[r,t]=jo(),[a,o]=K(u=>[u.animations,u.transparency]),s=Oe(u=>u.toggleSettings);return l.jsxs("div",{className:C("absolute top-4 right-16 z-50 gap-2","translate-x-full pointer-events-none",{hidden:o,"opacity-0":!o,"transition-all duration-500 ease-in-out":a,"translate-x-0 opacity-100 flex pointer-events-auto":e.show}),children:[l.jsx(me,{onClick:s,variant:"icon",size:"icon",children:l.jsx(kn,{})}),l.jsx(me,{onClick:t,variant:"icon",size:"icon",children:r?l.jsx(Oo,{}):l.jsx(Io,{})})]})};var Do="Label",Dn=y.forwardRef((e,r)=>l.jsx(X.label,{...e,ref:r,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Dn.displayName=Do;var Ln=Dn;const Lo=Ra("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=y.forwardRef(({className:e,...r},t)=>l.jsx(Ln,{ref:t,className:C(Lo(),e),...r}));Pt.displayName=Ln.displayName;function U(e,r,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return r==null?void 0:r(o)}}function _e(e){const r=y.useRef(e);return y.useEffect(()=>{r.current=e}),y.useMemo(()=>(...t)=>{var a;return(a=r.current)==null?void 0:a.call(r,...t)},[])}function dt({prop:e,defaultProp:r,onChange:t=()=>{}}){const[a,o]=$o({defaultProp:r,onChange:t}),s=e!==void 0,u=s?e:a,d=_e(t),g=y.useCallback(p=>{if(s){const n=typeof p=="function"?p(e):p;n!==e&&d(n)}else o(p)},[s,e,o,d]);return[u,g]}function $o({defaultProp:e,onChange:r}){const t=y.useState(e),[a]=t,o=y.useRef(a),s=_e(r);return y.useEffect(()=>{o.current!==a&&(s(a),o.current=a)},[a,o,s]),t}function $n(e){const r=y.useRef({value:e,previous:e});return y.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var ze=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function Gn(e){const[r,t]=y.useState(void 0);return ze(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let u,d;if("borderBoxSize"in s){const g=s.borderBoxSize,p=Array.isArray(g)?g[0]:g;u=p.inlineSize,d=p.blockSize}else u=e.offsetWidth,d=e.offsetHeight;t({width:u,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),r}function Go(e,r){return y.useReducer((t,a)=>r[t][a]??t,e)}var De=e=>{const{present:r,children:t}=e,a=Fo(r),o=typeof t=="function"?t({present:a.isPresent}):y.Children.only(t),s=Q(a.ref,Bo(o));return typeof t=="function"||a.isPresent?y.cloneElement(o,{ref:s}):null};De.displayName="Presence";function Fo(e){const[r,t]=y.useState(),a=y.useRef({}),o=y.useRef(e),s=y.useRef("none"),u=e?"mounted":"unmounted",[d,g]=Go(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const p=We(a.current);s.current=d==="mounted"?p:"none"},[d]),ze(()=>{const p=a.current,w=o.current;if(w!==e){const i=s.current,c=We(p);e?g("MOUNT"):c==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(w&&i!==c?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,g]),ze(()=>{if(r){const p=n=>{const c=We(a.current).includes(n.animationName);n.target===r&&c&&yn.flushSync(()=>g("ANIMATION_END"))},w=n=>{n.target===r&&(s.current=We(a.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(p=>{p&&(a.current=getComputedStyle(p)),t(p)},[])}}function We(e){return(e==null?void 0:e.animationName)||"none"}function Bo(e){var a,o;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Dt="Checkbox",[Ho,sc]=xe(Dt),[zo,Vo]=Ho(Dt),Fn=y.forwardRef((e,r)=>{const{__scopeCheckbox:t,name:a,checked:o,defaultChecked:s,required:u,disabled:d,value:g="on",onCheckedChange:p,...w}=e,[n,i]=y.useState(null),c=Q(r,E=>i(E)),f=y.useRef(!1),m=n?!!n.closest("form"):!0,[v=!1,h]=dt({prop:o,defaultProp:s,onChange:p}),b=y.useRef(v);return y.useEffect(()=>{const E=n==null?void 0:n.form;if(E){const P=()=>h(b.current);return E.addEventListener("reset",P),()=>E.removeEventListener("reset",P)}},[n,h]),l.jsxs(zo,{scope:t,state:v,disabled:d,children:[l.jsx(X.button,{type:"button",role:"checkbox","aria-checked":Se(v)?"mixed":v,"aria-required":u,"data-state":zn(v),"data-disabled":d?"":void 0,disabled:d,value:g,...w,ref:c,onKeyDown:U(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:U(e.onClick,E=>{h(P=>Se(P)?!0:!P),m&&(f.current=E.isPropagationStopped(),f.current||E.stopPropagation())})}),m&&l.jsx(Wo,{control:n,bubbles:!f.current,name:a,value:g,checked:v,required:u,disabled:d,style:{transform:"translateX(-100%)"}})]})});Fn.displayName=Dt;var Bn="CheckboxIndicator",Hn=y.forwardRef((e,r)=>{const{__scopeCheckbox:t,forceMount:a,...o}=e,s=Vo(Bn,t);return l.jsx(De,{present:a||Se(s.state)||s.state===!0,children:l.jsx(X.span,{"data-state":zn(s.state),"data-disabled":s.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});Hn.displayName=Bn;var Wo=e=>{const{control:r,checked:t,bubbles:a=!0,...o}=e,s=y.useRef(null),u=$n(t),d=Gn(r);return y.useEffect(()=>{const g=s.current,p=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&n){const i=new Event("click",{bubbles:a});g.indeterminate=Se(t),n.call(g,Se(t)?!1:t),g.dispatchEvent(i)}},[u,t,a]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:Se(t)?!1:t,...o,tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Se(e){return e==="indeterminate"}function zn(e){return Se(e)?"indeterminate":e?"checked":"unchecked"}var Vn=Fn,qo=Hn;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wn=(...e)=>e.filter((r,t,a)=>!!r&&a.indexOf(r)===t).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:s,iconNode:u,...d},g)=>y.createElement("svg",{ref:g,...Xo,width:r,height:r,stroke:e,strokeWidth:a?Number(t)*24/Number(r):t,className:Wn("lucide",o),...d},[...u.map(([p,w])=>y.createElement(p,w)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=(e,r)=>{const t=y.forwardRef(({className:a,...o},s)=>y.createElement(Yo,{ref:s,iconNode:r,className:Wn(`lucide-${Uo(e)}`,a),...o}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=qn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=qn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Un=y.forwardRef(({className:e,...r},t)=>l.jsx(Vn,{ref:t,className:C("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:l.jsx(qo,{className:C("flex items-center justify-center text-current"),children:l.jsx(Zo,{className:"h-4 w-4"})})}));Un.displayName=Vn.displayName;function Jo(e){const r=e+"CollectionProvider",[t,a]=xe(r),[o,s]=t(r,{collectionRef:{current:null},itemMap:new Map}),u=c=>{const{scope:f,children:m}=c,v=S.useRef(null),h=S.useRef(new Map).current;return l.jsx(o,{scope:f,itemMap:h,collectionRef:v,children:m})};u.displayName=r;const d=e+"CollectionSlot",g=S.forwardRef((c,f)=>{const{scope:m,children:v}=c,h=s(d,m),b=Q(f,h.collectionRef);return l.jsx(tt,{ref:b,children:v})});g.displayName=d;const p=e+"CollectionItemSlot",w="data-radix-collection-item",n=S.forwardRef((c,f)=>{const{scope:m,children:v,...h}=c,b=S.useRef(null),E=Q(f,b),P=s(p,m);return S.useEffect(()=>(P.itemMap.set(b,{ref:b,...h}),()=>void P.itemMap.delete(b))),l.jsx(tt,{[w]:"",ref:E,children:v})});n.displayName=p;function i(c){const f=s(e+"CollectionConsumer",c);return S.useCallback(()=>{const v=f.collectionRef.current;if(!v)return[];const h=Array.from(v.querySelectorAll(`[${w}]`));return Array.from(f.itemMap.values()).sort((P,T)=>h.indexOf(P.ref.current)-h.indexOf(T.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:u,Slot:g,ItemSlot:n},i,a]}var Qo=Da.useId||(()=>{}),ei=0;function Je(e){const[r,t]=y.useState(Qo());return ze(()=>{t(a=>a??String(ei++))},[e]),r?`radix-${r}`:""}var ti=y.createContext(void 0);function Xn(e){const r=y.useContext(ti);return e||r||"ltr"}var vt="rovingFocusGroup.onEntryFocus",ni={bubbles:!1,cancelable:!0},ft="RovingFocusGroup",[Nt,Yn,ri]=Jo(ft),[ai,Zn]=xe(ft,[ri]),[oi,ii]=ai(ft),Kn=y.forwardRef((e,r)=>l.jsx(Nt.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Nt.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(si,{...e,ref:r})})}));Kn.displayName=ft;var si=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:o=!1,dir:s,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:w=!1,...n}=e,i=y.useRef(null),c=Q(r,i),f=Xn(s),[m=null,v]=dt({prop:u,defaultProp:d,onChange:g}),[h,b]=y.useState(!1),E=_e(p),P=Yn(t),T=y.useRef(!1),[z,R]=y.useState(0);return y.useEffect(()=>{const G=i.current;if(G)return G.addEventListener(vt,E),()=>G.removeEventListener(vt,E)},[E]),l.jsx(oi,{scope:t,orientation:a,dir:f,loop:o,currentTabStopId:m,onItemFocus:y.useCallback(G=>v(G),[v]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(G=>G+1),[]),onFocusableItemRemove:y.useCallback(()=>R(G=>G-1),[]),children:l.jsx(X.div,{tabIndex:h||z===0?-1:0,"data-orientation":a,...n,ref:c,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{T.current=!0}),onFocus:U(e.onFocus,G=>{const j=!T.current;if(G.target===G.currentTarget&&j&&!h){const re=new CustomEvent(vt,ni);if(G.currentTarget.dispatchEvent(re),!re.defaultPrevented){const he=P().filter(le=>le.focusable),Le=he.find(le=>le.active),Pe=he.find(le=>le.id===m),we=[Le,Pe,...he].filter(Boolean).map(le=>le.ref.current);er(we,w)}}T.current=!1}),onBlur:U(e.onBlur,()=>b(!1))})})}),Jn="RovingFocusGroupItem",Qn=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:o=!1,tabStopId:s,...u}=e,d=Je(),g=s||d,p=ii(Jn,t),w=p.currentTabStopId===g,n=Yn(t),{onFocusableItemAdd:i,onFocusableItemRemove:c}=p;return y.useEffect(()=>{if(a)return i(),()=>c()},[a,i,c]),l.jsx(Nt.ItemSlot,{scope:t,id:g,focusable:a,active:o,children:l.jsx(X.span,{tabIndex:w?0:-1,"data-orientation":p.orientation,...u,ref:r,onMouseDown:U(e.onMouseDown,f=>{a?p.onItemFocus(g):f.preventDefault()}),onFocus:U(e.onFocus,()=>p.onItemFocus(g)),onKeyDown:U(e.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){p.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const m=ui(f,p.orientation,p.dir);if(m!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let h=n().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")h.reverse();else if(m==="prev"||m==="next"){m==="prev"&&h.reverse();const b=h.indexOf(f.currentTarget);h=p.loop?di(h,b+1):h.slice(b+1)}setTimeout(()=>er(h))}})})})});Qn.displayName=Jn;var ci={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function li(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ui(e,r,t){const a=li(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ci[a]}function er(e,r=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:r}),document.activeElement!==t))return}function di(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var fi=Kn,mi=Qn,Lt="Radio",[pi,tr]=xe(Lt),[gi,hi]=pi(Lt),nr=y.forwardRef((e,r)=>{const{__scopeRadio:t,name:a,checked:o=!1,required:s,disabled:u,value:d="on",onCheck:g,...p}=e,[w,n]=y.useState(null),i=Q(r,m=>n(m)),c=y.useRef(!1),f=w?!!w.closest("form"):!0;return l.jsxs(gi,{scope:t,checked:o,disabled:u,children:[l.jsx(X.button,{type:"button",role:"radio","aria-checked":o,"data-state":or(o),"data-disabled":u?"":void 0,disabled:u,value:d,...p,ref:i,onClick:U(e.onClick,m=>{o||g==null||g(),f&&(c.current=m.isPropagationStopped(),c.current||m.stopPropagation())})}),f&&l.jsx(vi,{control:w,bubbles:!c.current,name:a,value:d,checked:o,required:s,disabled:u,style:{transform:"translateX(-100%)"}})]})});nr.displayName=Lt;var rr="RadioIndicator",ar=y.forwardRef((e,r)=>{const{__scopeRadio:t,forceMount:a,...o}=e,s=hi(rr,t);return l.jsx(De,{present:a||s.checked,children:l.jsx(X.span,{"data-state":or(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:r})})});ar.displayName=rr;var vi=e=>{const{control:r,checked:t,bubbles:a=!0,...o}=e,s=y.useRef(null),u=$n(t),d=Gn(r);return y.useEffect(()=>{const g=s.current,p=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&n){const i=new Event("click",{bubbles:a});n.call(g,t),g.dispatchEvent(i)}},[u,t,a]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function or(e){return e?"checked":"unchecked"}var yi=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$t="RadioGroup",[_i,cc]=xe($t,[Zn,tr]),ir=Zn(),sr=tr(),[xi,wi]=_i($t),cr=y.forwardRef((e,r)=>{const{__scopeRadioGroup:t,name:a,defaultValue:o,value:s,required:u=!1,disabled:d=!1,orientation:g,dir:p,loop:w=!0,onValueChange:n,...i}=e,c=ir(t),f=Xn(p),[m,v]=dt({prop:s,defaultProp:o,onChange:n});return l.jsx(xi,{scope:t,name:a,required:u,disabled:d,value:m,onValueChange:v,children:l.jsx(fi,{asChild:!0,...c,orientation:g,dir:f,loop:w,children:l.jsx(X.div,{role:"radiogroup","aria-required":u,"aria-orientation":g,"data-disabled":d?"":void 0,dir:f,...i,ref:r})})})});cr.displayName=$t;var lr="RadioGroupItem",ur=y.forwardRef((e,r)=>{const{__scopeRadioGroup:t,disabled:a,...o}=e,s=wi(lr,t),u=s.disabled||a,d=ir(t),g=sr(t),p=y.useRef(null),w=Q(r,p),n=s.value===o.value,i=y.useRef(!1);return y.useEffect(()=>{const c=m=>{yi.includes(m.key)&&(i.current=!0)},f=()=>i.current=!1;return document.addEventListener("keydown",c),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",f)}},[]),l.jsx(mi,{asChild:!0,...d,focusable:!u,active:n,children:l.jsx(nr,{disabled:u,required:s.required,checked:n,...g,...o,name:s.name,ref:w,onCheck:()=>s.onValueChange(o.value),onKeyDown:U(c=>{c.key==="Enter"&&c.preventDefault()}),onFocus:U(o.onFocus,()=>{var c;i.current&&((c=p.current)==null||c.click())})})})});ur.displayName=lr;var bi="RadioGroupIndicator",dr=y.forwardRef((e,r)=>{const{__scopeRadioGroup:t,...a}=e,o=sr(t);return l.jsx(ar,{...o,...a,ref:r})});dr.displayName=bi;var fr=cr,mr=ur,Ai=dr;const pr=y.forwardRef(({className:e,...r},t)=>l.jsx(fr,{className:C("grid gap-2",e),...r,ref:t}));pr.displayName=fr.displayName;const gr=y.forwardRef(({className:e,...r},t)=>l.jsx(mr,{ref:t,className:C("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:l.jsx(Ai,{className:"flex items-center justify-center",children:l.jsx(Ko,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gr.displayName=mr.displayName;function Ci(e,r=globalThis==null?void 0:globalThis.document){const t=_e(e);y.useEffect(()=>{const a=o=>{o.key==="Escape"&&t(o)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[t,r])}var Si="DismissableLayer",Mt="dismissableLayer.update",Ei="dismissableLayer.pointerDownOutside",Pi="dismissableLayer.focusOutside",on,hr=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vr=y.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:u,onDismiss:d,...g}=e,p=y.useContext(hr),[w,n]=y.useState(null),i=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,c]=y.useState({}),f=Q(r,R=>n(R)),m=Array.from(p.layers),[v]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),h=m.indexOf(v),b=w?m.indexOf(w):-1,E=p.layersWithOutsidePointerEventsDisabled.size>0,P=b>=h,T=ki(R=>{const G=R.target,j=[...p.branches].some(re=>re.contains(G));!P||j||(o==null||o(R),u==null||u(R),R.defaultPrevented||d==null||d())},i),z=Ti(R=>{const G=R.target;[...p.branches].some(re=>re.contains(G))||(s==null||s(R),u==null||u(R),R.defaultPrevented||d==null||d())},i);return Ci(R=>{b===p.layers.size-1&&(a==null||a(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},i),y.useEffect(()=>{if(w)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(on=i.body.style.pointerEvents,i.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(w)),p.layers.add(w),sn(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(i.body.style.pointerEvents=on)}},[w,i,t,p]),y.useEffect(()=>()=>{w&&(p.layers.delete(w),p.layersWithOutsidePointerEventsDisabled.delete(w),sn())},[w,p]),y.useEffect(()=>{const R=()=>c({});return document.addEventListener(Mt,R),()=>document.removeEventListener(Mt,R)},[]),l.jsx(X.div,{...g,ref:f,style:{pointerEvents:E?P?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,z.onFocusCapture),onBlurCapture:U(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,T.onPointerDownCapture)})});vr.displayName=Si;var Ni="DismissableLayerBranch",Mi=y.forwardRef((e,r)=>{const t=y.useContext(hr),a=y.useRef(null),o=Q(r,a);return y.useEffect(()=>{const s=a.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),l.jsx(X.div,{...e,ref:o})});Mi.displayName=Ni;function ki(e,r=globalThis==null?void 0:globalThis.document){const t=_e(e),a=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const s=d=>{if(d.target&&!a.current){let g=function(){yr(Ei,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=g,r.addEventListener("click",o.current,{once:!0})):g()}else r.removeEventListener("click",o.current);a.current=!1},u=window.setTimeout(()=>{r.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(u),r.removeEventListener("pointerdown",s),r.removeEventListener("click",o.current)}},[r,t]),{onPointerDownCapture:()=>a.current=!0}}function Ti(e,r=globalThis==null?void 0:globalThis.document){const t=_e(e),a=y.useRef(!1);return y.useEffect(()=>{const o=s=>{s.target&&!a.current&&yr(Pi,t,{originalEvent:s},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function sn(){const e=new CustomEvent(Mt);document.dispatchEvent(e)}function yr(e,r,t,{discrete:a}){const o=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&o.addEventListener(e,r,{once:!0}),a?Qa(o,s):o.dispatchEvent(s)}var yt="focusScope.autoFocusOnMount",_t="focusScope.autoFocusOnUnmount",cn={bubbles:!1,cancelable:!0},ji="FocusScope",_r=y.forwardRef((e,r)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...u}=e,[d,g]=y.useState(null),p=_e(o),w=_e(s),n=y.useRef(null),i=Q(r,m=>g(m)),c=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let m=function(E){if(c.paused||!d)return;const P=E.target;d.contains(P)?n.current=P:ye(n.current,{select:!0})},v=function(E){if(c.paused||!d)return;const P=E.relatedTarget;P!==null&&(d.contains(P)||ye(n.current,{select:!0}))},h=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&ye(d)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(h);return d&&b.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[a,d,c.paused]),y.useEffect(()=>{if(d){un.add(c);const m=document.activeElement;if(!d.contains(m)){const h=new CustomEvent(yt,cn);d.addEventListener(yt,p),d.dispatchEvent(h),h.defaultPrevented||(Ii($i(xr(d)),{select:!0}),document.activeElement===m&&ye(d))}return()=>{d.removeEventListener(yt,p),setTimeout(()=>{const h=new CustomEvent(_t,cn);d.addEventListener(_t,w),d.dispatchEvent(h),h.defaultPrevented||ye(m??document.body,{select:!0}),d.removeEventListener(_t,w),un.remove(c)},0)}}},[d,p,w,c]);const f=y.useCallback(m=>{if(!t&&!a||c.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,h=document.activeElement;if(v&&h){const b=m.currentTarget,[E,P]=Oi(b);E&&P?!m.shiftKey&&h===P?(m.preventDefault(),t&&ye(E,{select:!0})):m.shiftKey&&h===E&&(m.preventDefault(),t&&ye(P,{select:!0})):h===b&&m.preventDefault()}},[t,a,c.paused]);return l.jsx(X.div,{tabIndex:-1,...u,ref:i,onKeyDown:f})});_r.displayName=ji;function Ii(e,{select:r=!1}={}){const t=document.activeElement;for(const a of e)if(ye(a,{select:r}),document.activeElement!==t)return}function Oi(e){const r=xr(e),t=ln(r,e),a=ln(r.reverse(),e);return[t,a]}function xr(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function ln(e,r){for(const t of e)if(!Ri(t,{upTo:r}))return t}function Ri(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Di(e){return e instanceof HTMLInputElement&&"select"in e}function ye(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Di(e)&&r&&e.select()}}var un=Li();function Li(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=dn(e,r),e.unshift(r)},remove(r){var t;e=dn(e,r),(t=e[0])==null||t.resume()}}}function dn(e,r){const t=[...e],a=t.indexOf(r);return a!==-1&&t.splice(a,1),t}function $i(e){return e.filter(r=>r.tagName!=="A")}var Gi="Portal",wr=y.forwardRef((e,r)=>{var d;const{container:t,...a}=e,[o,s]=y.useState(!1);ze(()=>s(!0),[]);const u=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?La.createPortal(l.jsx(X.div,{...a,ref:r}),u):null});wr.displayName=Gi;var xt=0;function Fi(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fn()),document.body.insertAdjacentElement("beforeend",e[1]??fn()),xt++,()=>{xt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),xt--}},[])}function fn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var de=function(){return de=Object.assign||function(r){for(var t,a=1,o=arguments.length;a<o;a++){t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},de.apply(this,arguments)};function br(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]]);return t}function Bi(e,r,t){if(t||arguments.length===2)for(var a=0,o=r.length,s;a<o;a++)(s||!(a in r))&&(s||(s=Array.prototype.slice.call(r,0,a)),s[a]=r[a]);return e.concat(s||Array.prototype.slice.call(r))}var Qe="right-scroll-bar-position",et="width-before-scroll-bar",Hi="with-scroll-bars-hidden",zi="--removed-body-scroll-bar-size";function wt(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Vi(e,r){var t=y.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(a){var o=t.value;o!==a&&(t.value=a,t.callback(a,o))}}}})[0];return t.callback=r,t.facade}var Wi=typeof window<"u"?y.useLayoutEffect:y.useEffect,mn=new WeakMap;function qi(e,r){var t=Vi(null,function(a){return e.forEach(function(o){return wt(o,a)})});return Wi(function(){var a=mn.get(t);if(a){var o=new Set(a),s=new Set(e),u=t.current;o.forEach(function(d){s.has(d)||wt(d,null)}),s.forEach(function(d){o.has(d)||wt(d,u)})}mn.set(t,e)},[e]),t}function Ui(e){return e}function Xi(e,r){r===void 0&&(r=Ui);var t=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(s){var u=r(s,a);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(s){for(a=!0;t.length;){var u=t;t=[],u.forEach(s)}t={push:function(d){return s(d)},filter:function(){return t}}},assignMedium:function(s){a=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(s),u=t}var g=function(){var w=u;u=[],w.forEach(s)},p=function(){return Promise.resolve().then(g)};p(),t={push:function(w){u.push(w),p()},filter:function(w){return u=u.filter(w),t}}}};return o}function Yi(e){e===void 0&&(e={});var r=Xi(null);return r.options=de({async:!0,ssr:!1},e),r}var Ar=function(e){var r=e.sideCar,t=br(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,de({},t))};Ar.isSideCarExport=!0;function Zi(e,r){return e.useMedium(r),Ar}var Cr=Yi(),bt=function(){},mt=y.forwardRef(function(e,r){var t=y.useRef(null),a=y.useState({onScrollCapture:bt,onWheelCapture:bt,onTouchMoveCapture:bt}),o=a[0],s=a[1],u=e.forwardProps,d=e.children,g=e.className,p=e.removeScrollBar,w=e.enabled,n=e.shards,i=e.sideCar,c=e.noIsolation,f=e.inert,m=e.allowPinchZoom,v=e.as,h=v===void 0?"div":v,b=e.gapMode,E=br(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=i,T=qi([t,r]),z=de(de({},E),o);return y.createElement(y.Fragment,null,w&&y.createElement(P,{sideCar:Cr,removeScrollBar:p,shards:n,noIsolation:c,inert:f,setCallbacks:s,allowPinchZoom:!!m,lockRef:t,gapMode:b}),u?y.cloneElement(y.Children.only(d),de(de({},z),{ref:T})):y.createElement(h,de({},z,{className:g,ref:T}),d))});mt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mt.classNames={fullWidth:et,zeroRight:Qe};var Ki=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ji(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Ki();return r&&e.setAttribute("nonce",r),e}function Qi(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function es(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var ts=function(){var e=0,r=null;return{add:function(t){e==0&&(r=Ji())&&(Qi(r,t),es(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},ns=function(){var e=ts();return function(r,t){y.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},Sr=function(){var e=ns(),r=function(t){var a=t.styles,o=t.dynamic;return e(a,o),null};return r},rs={left:0,top:0,right:0,gap:0},At=function(e){return parseInt(e||"",10)||0},as=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[At(t),At(a),At(o)]},os=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rs;var r=as(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-t+r[2]-r[0])}},is=Sr(),je="data-scroll-locked",ss=function(e,r,t,a){var o=e.left,s=e.top,u=e.right,d=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Hi,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(je,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qe,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(et,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Qe," .").concat(Qe,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(et," .").concat(et,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(je,`] {
    `).concat(zi,": ").concat(d,`px;
  }
`)},pn=function(){var e=parseInt(document.body.getAttribute(je)||"0",10);return isFinite(e)?e:0},cs=function(){y.useEffect(function(){return document.body.setAttribute(je,(pn()+1).toString()),function(){var e=pn()-1;e<=0?document.body.removeAttribute(je):document.body.setAttribute(je,e.toString())}},[])},ls=function(e){var r=e.noRelative,t=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;cs();var s=y.useMemo(function(){return os(o)},[o]);return y.createElement(is,{styles:ss(s,!r,o,t?"":"!important")})},kt=!1;if(typeof window<"u")try{var qe=Object.defineProperty({},"passive",{get:function(){return kt=!0,!0}});window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch{kt=!1}var Ne=kt?{passive:!1}:!1,us=function(e){return e.tagName==="TEXTAREA"},Er=function(e,r){var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!us(e)&&t[r]==="visible")},ds=function(e){return Er(e,"overflowY")},fs=function(e){return Er(e,"overflowX")},gn=function(e,r){var t=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=Pr(e,a);if(o){var s=Nr(e,a),u=s[1],d=s[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},ms=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},ps=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},Pr=function(e,r){return e==="v"?ds(r):fs(r)},Nr=function(e,r){return e==="v"?ms(r):ps(r)},gs=function(e,r){return e==="h"&&r==="rtl"?-1:1},hs=function(e,r,t,a,o){var s=gs(e,window.getComputedStyle(r).direction),u=s*a,d=t.target,g=r.contains(d),p=!1,w=u>0,n=0,i=0;do{var c=Nr(e,d),f=c[0],m=c[1],v=c[2],h=m-v-s*f;(f||h)&&Pr(e,d)&&(n+=h,i+=f),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!g&&d!==document.body||g&&(r.contains(d)||r===d));return(w&&(Math.abs(n)<1||!o)||!w&&(Math.abs(i)<1||!o))&&(p=!0),p},Ue=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hn=function(e){return[e.deltaX,e.deltaY]},vn=function(e){return e&&"current"in e?e.current:e},vs=function(e,r){return e[0]===r[0]&&e[1]===r[1]},ys=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_s=0,Me=[];function xs(e){var r=y.useRef([]),t=y.useRef([0,0]),a=y.useRef(),o=y.useState(_s++)[0],s=y.useState(Sr)[0],u=y.useRef(e);y.useEffect(function(){u.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=Bi([e.lockRef.current],(e.shards||[]).map(vn),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=y.useCallback(function(m,v){if("touches"in m&&m.touches.length===2)return!u.current.allowPinchZoom;var h=Ue(m),b=t.current,E="deltaX"in m?m.deltaX:b[0]-h[0],P="deltaY"in m?m.deltaY:b[1]-h[1],T,z=m.target,R=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in m&&R==="h"&&z.type==="range")return!1;var G=gn(R,z);if(!G)return!0;if(G?T=R:(T=R==="v"?"h":"v",G=gn(R,z)),!G)return!1;if(!a.current&&"changedTouches"in m&&(E||P)&&(a.current=T),!T)return!0;var j=a.current||T;return hs(j,v,m,j==="h"?E:P,!0)},[]),g=y.useCallback(function(m){var v=m;if(!(!Me.length||Me[Me.length-1]!==s)){var h="deltaY"in v?hn(v):Ue(v),b=r.current.filter(function(T){return T.name===v.type&&(T.target===v.target||v.target===T.shadowParent)&&vs(T.delta,h)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var E=(u.current.shards||[]).map(vn).filter(Boolean).filter(function(T){return T.contains(v.target)}),P=E.length>0?d(v,E[0]):!u.current.noIsolation;P&&v.cancelable&&v.preventDefault()}}},[]),p=y.useCallback(function(m,v,h,b){var E={name:m,delta:v,target:h,should:b,shadowParent:ws(h)};r.current.push(E),setTimeout(function(){r.current=r.current.filter(function(P){return P!==E})},1)},[]),w=y.useCallback(function(m){t.current=Ue(m),a.current=void 0},[]),n=y.useCallback(function(m){p(m.type,hn(m),m.target,d(m,e.lockRef.current))},[]),i=y.useCallback(function(m){p(m.type,Ue(m),m.target,d(m,e.lockRef.current))},[]);y.useEffect(function(){return Me.push(s),e.setCallbacks({onScrollCapture:n,onWheelCapture:n,onTouchMoveCapture:i}),document.addEventListener("wheel",g,Ne),document.addEventListener("touchmove",g,Ne),document.addEventListener("touchstart",w,Ne),function(){Me=Me.filter(function(m){return m!==s}),document.removeEventListener("wheel",g,Ne),document.removeEventListener("touchmove",g,Ne),document.removeEventListener("touchstart",w,Ne)}},[]);var c=e.removeScrollBar,f=e.inert;return y.createElement(y.Fragment,null,f?y.createElement(s,{styles:ys(o)}):null,c?y.createElement(ls,{gapMode:e.gapMode}):null)}function ws(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const bs=Zi(Cr,xs);var Mr=y.forwardRef(function(e,r){return y.createElement(mt,de({},e,{ref:r,sideCar:bs}))});Mr.classNames=mt.classNames;var As=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},ke=new WeakMap,Xe=new WeakMap,Ye={},Ct=0,kr=function(e){return e&&(e.host||kr(e.parentNode))},Cs=function(e,r){return r.map(function(t){if(e.contains(t))return t;var a=kr(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Ss=function(e,r,t,a){var o=Cs(r,Array.isArray(e)?e:[e]);Ye[t]||(Ye[t]=new WeakMap);var s=Ye[t],u=[],d=new Set,g=new Set(o),p=function(n){!n||d.has(n)||(d.add(n),p(n.parentNode))};o.forEach(p);var w=function(n){!n||g.has(n)||Array.prototype.forEach.call(n.children,function(i){if(d.has(i))w(i);else try{var c=i.getAttribute(a),f=c!==null&&c!=="false",m=(ke.get(i)||0)+1,v=(s.get(i)||0)+1;ke.set(i,m),s.set(i,v),u.push(i),m===1&&f&&Xe.set(i,!0),v===1&&i.setAttribute(t,"true"),f||i.setAttribute(a,"true")}catch(h){console.error("aria-hidden: cannot operate on ",i,h)}})};return w(r),d.clear(),Ct++,function(){u.forEach(function(n){var i=ke.get(n)-1,c=s.get(n)-1;ke.set(n,i),s.set(n,c),i||(Xe.has(n)||n.removeAttribute(a),Xe.delete(n)),c||n.removeAttribute(t)}),Ct--,Ct||(ke=new WeakMap,ke=new WeakMap,Xe=new WeakMap,Ye={})}},Es=function(e,r,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=As(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live]"))),Ss(a,o,t,"aria-hidden")):function(){return null}},Gt="Dialog",[Tr,jr]=xe(Gt),[Ps,se]=Tr(Gt),Ir=e=>{const{__scopeDialog:r,children:t,open:a,defaultOpen:o,onOpenChange:s,modal:u=!0}=e,d=y.useRef(null),g=y.useRef(null),[p=!1,w]=dt({prop:a,defaultProp:o,onChange:s});return l.jsx(Ps,{scope:r,triggerRef:d,contentRef:g,contentId:Je(),titleId:Je(),descriptionId:Je(),open:p,onOpenChange:w,onOpenToggle:y.useCallback(()=>w(n=>!n),[w]),modal:u,children:t})};Ir.displayName=Gt;var Or="DialogTrigger",Rr=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,o=se(Or,t),s=Q(r,o.triggerRef);return l.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ht(o.open),...a,ref:s,onClick:U(e.onClick,o.onOpenToggle)})});Rr.displayName=Or;var Ft="DialogPortal",[Ns,Dr]=Tr(Ft,{forceMount:void 0}),Lr=e=>{const{__scopeDialog:r,forceMount:t,children:a,container:o}=e,s=se(Ft,r);return l.jsx(Ns,{scope:r,forceMount:t,children:y.Children.map(a,u=>l.jsx(De,{present:t||s.open,children:l.jsx(wr,{asChild:!0,container:o,children:u})}))})};Lr.displayName=Ft;var ot="DialogOverlay",$r=y.forwardRef((e,r)=>{const t=Dr(ot,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,s=se(ot,e.__scopeDialog);return s.modal?l.jsx(De,{present:a||s.open,children:l.jsx(Ms,{...o,ref:r})}):null});$r.displayName=ot;var Ms=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,o=se(ot,t);return l.jsx(Mr,{as:tt,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(X.div,{"data-state":Ht(o.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Ee="DialogContent",Gr=y.forwardRef((e,r)=>{const t=Dr(Ee,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,s=se(Ee,e.__scopeDialog);return l.jsx(De,{present:a||s.open,children:s.modal?l.jsx(ks,{...o,ref:r}):l.jsx(Ts,{...o,ref:r})})});Gr.displayName=Ee;var ks=y.forwardRef((e,r)=>{const t=se(Ee,e.__scopeDialog),a=y.useRef(null),o=Q(r,t.contentRef,a);return y.useEffect(()=>{const s=a.current;if(s)return Es(s)},[]),l.jsx(Fr,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,s=>{var u;s.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,s=>{const u=s.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&s.preventDefault()}),onFocusOutside:U(e.onFocusOutside,s=>s.preventDefault())})}),Ts=y.forwardRef((e,r)=>{const t=se(Ee,e.__scopeDialog),a=y.useRef(!1),o=y.useRef(!1);return l.jsx(Fr,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,s),s.defaultPrevented||(a.current||(d=t.triggerRef.current)==null||d.focus(),s.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:s=>{var g,p;(g=e.onInteractOutside)==null||g.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=s.target;((p=t.triggerRef.current)==null?void 0:p.contains(u))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Fr=y.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,...u}=e,d=se(Ee,t),g=y.useRef(null),p=Q(r,g);return Fi(),l.jsxs(l.Fragment,{children:[l.jsx(_r,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:s,children:l.jsx(vr,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ht(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Is,{titleId:d.titleId}),l.jsx(Rs,{contentRef:g,descriptionId:d.descriptionId})]})]})}),Bt="DialogTitle",Br=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,o=se(Bt,t);return l.jsx(X.h2,{id:o.titleId,...a,ref:r})});Br.displayName=Bt;var Hr="DialogDescription",zr=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,o=se(Hr,t);return l.jsx(X.p,{id:o.descriptionId,...a,ref:r})});zr.displayName=Hr;var Vr="DialogClose",Wr=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,o=se(Vr,t);return l.jsx(X.button,{type:"button",...a,ref:r,onClick:U(e.onClick,()=>o.onOpenChange(!1))})});Wr.displayName=Vr;function Ht(e){return e?"open":"closed"}var qr="DialogTitleWarning",[js,Ur]=Za(qr,{contentName:Ee,titleName:Bt,docsSlug:"dialog"}),Is=({titleId:e})=>{const r=Ur(qr),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Os="DialogDescriptionWarning",Rs=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ur(Os).contentName}}.`;return y.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},Ds=Ir,Ls=Rr,$s=Lr,Gs=$r,Fs=Gr,Bs=Br,Hs=zr,Xr=Wr,Yr="AlertDialog",[zs,lc]=xe(Yr,[jr]),ge=jr(),Zr=e=>{const{__scopeAlertDialog:r,...t}=e,a=ge(r);return l.jsx(Ds,{...a,...t,modal:!0})};Zr.displayName=Yr;var Vs="AlertDialogTrigger",Kr=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Ls,{...o,...a,ref:r})});Kr.displayName=Vs;var Ws="AlertDialogPortal",Jr=e=>{const{__scopeAlertDialog:r,...t}=e,a=ge(r);return l.jsx($s,{...a,...t})};Jr.displayName=Ws;var qs="AlertDialogOverlay",Qr=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Gs,{...o,...a,ref:r})});Qr.displayName=qs;var Ie="AlertDialogContent",[Us,Xs]=zs(Ie),ea=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,children:a,...o}=e,s=ge(t),u=y.useRef(null),d=Q(r,u),g=y.useRef(null);return l.jsx(js,{contentName:Ie,titleName:ta,docsSlug:"alert-dialog",children:l.jsx(Us,{scope:t,cancelRef:g,children:l.jsxs(Fs,{role:"alertdialog",...s,...o,ref:d,onOpenAutoFocus:U(o.onOpenAutoFocus,p=>{var w;p.preventDefault(),(w=g.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx($a,{children:a}),l.jsx(Zs,{contentRef:u})]})})})});ea.displayName=Ie;var ta="AlertDialogTitle",na=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Bs,{...o,...a,ref:r})});na.displayName=ta;var ra="AlertDialogDescription",aa=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Hs,{...o,...a,ref:r})});aa.displayName=ra;var Ys="AlertDialogAction",oa=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Xr,{...o,...a,ref:r})});oa.displayName=Ys;var ia="AlertDialogCancel",sa=y.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...a}=e,{cancelRef:o}=Xs(ia,t),s=ge(t),u=Q(r,o);return l.jsx(Xr,{...s,...a,ref:u})});sa.displayName=ia;var Zs=({contentRef:e})=>{const r=`\`${Ie}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ie}\` by passing a \`${ra}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ie}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},Ks=Zr,Js=Kr,Qs=Jr,ca=Qr,la=ea,ua=oa,da=sa,fa=na,ma=aa;const ec=Ks,tc=Js,nc=Qs,pa=y.forwardRef(({className:e,...r},t)=>{const a=K(o=>({transparency:o.transparency,animation:o.animations}));return l.jsx(ca,{className:C("fixed inset-0 z-50",{"bg-black/80":a.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":a.animation},e),...r,ref:t})});pa.displayName=ca.displayName;const ga=y.forwardRef(({className:e,...r},t)=>l.jsxs(nc,{children:[l.jsx(pa,{}),l.jsx(la,{ref:t,className:C("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));ga.displayName=la.displayName;const ha=({className:e,...r})=>l.jsx("div",{className:C("flex flex-col space-y-2 text-center sm:text-left",e),...r});ha.displayName="AlertDialogHeader";const va=({className:e,...r})=>l.jsx("div",{className:C("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});va.displayName="AlertDialogFooter";const ya=y.forwardRef(({className:e,...r},t)=>l.jsx(fa,{ref:t,className:C("text-lg font-semibold",e),...r}));ya.displayName=fa.displayName;const _a=y.forwardRef(({className:e,...r},t)=>l.jsx(ma,{ref:t,className:C("text-sm text-muted-foreground",e),...r}));_a.displayName=ma.displayName;const xa=y.forwardRef(({className:e,...r},t)=>l.jsx(ua,{ref:t,className:C(xn({variant:"cta"}),e),...r}));xa.displayName=ua.displayName;const wa=y.forwardRef(({className:e,...r},t)=>l.jsx(da,{ref:t,className:C(xn({variant:"default"}),"mt-2 sm:mt-0",e),...r}));wa.displayName=da.displayName;function ba(e){return S.createElement("div",{...e,className:C("w-full h-full aspect-square text-foreground",e.className),style:e.style},S.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},S.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const rc=e=>{const r=ne(p=>p.score),t=Oe(p=>p.toggleSettings),a=K(),[o,s]=S.useState(te.difficulty),u=y.useMemo(()=>o!==te.difficulty,[o]),d=y.useMemo(()=>a.animations!==te.quality.animations||o!==te.difficulty,[a,o]),g=S.useCallback(()=>{localStorage.setItem("settings",JSON.stringify({difficulty:o,quality:JSON.parse(localStorage.getItem("settings")??JSON.stringify(te)).quality})),d?window.location.reload():t()},[o,d,t]);return l.jsxs("div",{className:C("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":a.animations,"opacity-0 bg-background/80":a.transparency,hidden:!a.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[l.jsx("div",{onClick:t,className:C("absolute w-full h-full left-0 top-0",{"pointer-events-auto":e.show,"pointer-events-none":!e.show})}),l.jsxs(Ve,{className:"space-y-4 z-40",children:[l.jsx("div",{className:"text-3xl",children:"Settings"}),l.jsxs("div",{className:C("flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",{"*:bg-card/30":a.transparency,"*:bg-card":!a.transparency}),children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Difficulté"}),l.jsx(pr,{className:"space-y-0 gap-0",defaultValue:o,onValueChange:p=>{s(p)},children:Object.keys(it).map(p=>l.jsxs(Pt,{className:"flex items-center gap-2 py-2",children:[l.jsx(gr,{value:p}),St[p]]},p))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Qualité"}),l.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(te.quality).map(p=>l.jsxs(Pt,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[l.jsx(Un,{defaultChecked:a[p],onCheckedChange:w=>a.update({[p]:w})}),St[p]]},p))})]})]}),l.jsxs("div",{className:"flex gap-5",children:[r>0&&d?l.jsxs(ec,{children:[l.jsx(tc,{children:l.jsx(me,{variant:u?"cta":"default",disabled:!u,size:"cta",children:"Appliquer"})}),l.jsxs(ga,{className:"w-fit",children:[l.jsxs(ha,{children:[l.jsx(ya,{className:"text-2xl",children:"Une partie est en cours !"}),l.jsxs(_a,{children:["Cette action va réinitialiser votre partie. ",l.jsx("br",{}),"Êtes-vous sûr de vouloir continuer ?"]})]}),l.jsxs(va,{children:[l.jsx(wa,{children:"Cancel"}),l.jsx(xa,{onClick:g,children:"Continue"})]})]})]}):l.jsx(me,{variant:u?"cta":"default",disabled:!u,size:"cta",onClick:g,children:"Appliquer"}),d&&l.jsxs("div",{className:"flex-grow border rounded-xl flex items-center gap-3 pl-3",children:[l.jsx(ba,{className:"w-5"})," Un rechargement peut être nécessaire."]})]})]})]})},ac=e=>{const r=K(a=>({animations:a.animations,transparency:a.transparency})),t=ne(a=>({handOverflow:a.hand.length>=Re}));return l.jsx("div",{className:C("absolute right-0 -translate-x-8 top-[60%] rotate-3",{"animate-pulse duration-700":r.animations&&r.transparency}),children:l.jsx("div",{className:C("text-3xl flex items-center gap-2 pointer-events-none",{"transition-[right] ease-in-out duration-1000":r.animations,[C("opacity-0",{"opacity-100":e.show})]:r.transparency,[C("hidden",{flex:e.show})]:!r.transparency}),children:t.handOverflow&&l.jsxs(l.Fragment,{children:[l.jsx(ba,{className:"w-10"})," La main est pleine !"]})})})},uc=()=>{const e=K(o=>({animations:o.animations})),r=ne(),[t,a]=Oe(o=>[o.isCardGameVisible,o.settingsVisible]);return l.jsxs(l.Fragment,{children:[l.jsx(yo,{show:t}),l.jsx(ac,{show:t}),l.jsx(ko,{show:t}),l.jsx(ho,{show:t}),l.jsx(bo,{show:t}),l.jsx(To,{show:t}),l.jsx(_o,{show:t}),l.jsx(Ro,{show:t}),l.jsx(rc,{show:t&&a}),!1,l.jsx("div",{className:C("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{" transition-[bottom] ease-in-out duration-1000":e.animations},t?"bottom-[-50px]":"-bottom-full"),children:r.hand.sort((o,s)=>{const u=o.effect.type==="action"?1:0,d=s.effect.type==="action"?1:0,g=typeof o.effect.cost=="string"?1:0,p=typeof s.effect.cost=="string"?1:0,w=Number(o.effect.cost),n=Number(s.effect.cost),i=o.effect.description.localeCompare(s.effect.description);return u-d||g-p||w-n||i}).map((o,s)=>l.jsx(So,{card:o,position:s},s))})]})};export{uc as Game};
