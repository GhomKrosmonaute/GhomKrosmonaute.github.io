import{a as Fe,s as te,d as ka,e as K,u as Oe,j as l,c as S,B as pe,r as y,S as Qe,f as gr,R as C,t as wt,C as ze,g as Ta,h as Wt,i as Ia,k as Q,l as ja,m as Oa,n as Ra,o as hr}from"./index-CLDWV_1p.js";var J={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var n=function(){this.init()};n.prototype={init:function(){var r=this||t;return r._counter=1e3,r._html5AudioPool=[],r.html5PoolSize=10,r._codecs={},r._howls=[],r._muted=!1,r._volume=1,r._canPlayEvent="canplaythrough",r._navigator=typeof window<"u"&&window.navigator?window.navigator:null,r.masterGain=null,r.noAudio=!1,r.usingWebAudio=!0,r.autoSuspend=!0,r.ctx=null,r.autoUnlock=!0,r._setup(),r},volume:function(r){var i=this||t;if(r=parseFloat(r),i.ctx||w(),typeof r<"u"&&r>=0&&r<=1){if(i._volume=r,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(r,t.ctx.currentTime);for(var c=0;c<i._howls.length;c++)if(!i._howls[c]._webAudio)for(var f=i._howls[c]._getSoundIds(),p=0;p<f.length;p++){var v=i._howls[c]._soundById(f[p]);v&&v._node&&(v._node.volume=v._volume*r)}return i}return i._volume},mute:function(r){var i=this||t;i.ctx||w(),i._muted=r,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(r?0:i._volume,t.ctx.currentTime);for(var c=0;c<i._howls.length;c++)if(!i._howls[c]._webAudio)for(var f=i._howls[c]._getSoundIds(),p=0;p<f.length;p++){var v=i._howls[c]._soundById(f[p]);v&&v._node&&(v._node.muted=r?!0:v._muted)}return i},stop:function(){for(var r=this||t,i=0;i<r._howls.length;i++)r._howls[i].stop();return r},unload:function(){for(var r=this||t,i=r._howls.length-1;i>=0;i--)r._howls[i].unload();return r.usingWebAudio&&r.ctx&&typeof r.ctx.close<"u"&&(r.ctx.close(),r.ctx=null,w()),r},codecs:function(r){return(this||t)._codecs[r.replace(/^x-/,"")]},_setup:function(){var r=this||t;if(r.state=r.ctx&&r.ctx.state||"suspended",r._autoSuspend(),!r.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(r._canPlayEvent="canplay")}catch{r.noAudio=!0}else r.noAudio=!0;try{var i=new Audio;i.muted&&(r.noAudio=!0)}catch{}return r.noAudio||r._setupCodecs(),r},_setupCodecs:function(){var r=this||t,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return r}if(!i||typeof i.canPlayType!="function")return r;var c=i.canPlayType("audio/mpeg;").replace(/^no$/,""),f=r._navigator?r._navigator.userAgent:"",p=f.match(/OPR\/(\d+)/g),v=p&&parseInt(p[0].split("/")[1],10)<33,g=f.indexOf("Safari")!==-1&&f.indexOf("Chrome")===-1,b=f.match(/Version\/(.*?) /),E=g&&b&&parseInt(b[1],10)<15;return r._codecs={mp3:!!(!v&&(c||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},r},_unlockAudio:function(){var r=this||t;if(!(r._audioUnlocked||!r.ctx)){r._audioUnlocked=!1,r.autoUnlock=!1,!r._mobileUnloaded&&r.ctx.sampleRate!==44100&&(r._mobileUnloaded=!0,r.unload()),r._scratchBuffer=r.ctx.createBuffer(1,1,22050);var i=function(c){for(;r._html5AudioPool.length<r.html5PoolSize;)try{var f=new Audio;f._unlocked=!0,r._releaseHtml5Audio(f)}catch{r.noAudio=!0;break}for(var p=0;p<r._howls.length;p++)if(!r._howls[p]._webAudio)for(var v=r._howls[p]._getSoundIds(),g=0;g<v.length;g++){var b=r._howls[p]._soundById(v[g]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}r._autoResume();var E=r.ctx.createBufferSource();E.buffer=r._scratchBuffer,E.connect(r.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof r.ctx.resume=="function"&&r.ctx.resume(),E.onended=function(){E.disconnect(0),r._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var P=0;P<r._howls.length;P++)r._howls[P]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),r}},_obtainHtml5Audio:function(){var r=this||t;if(r._html5AudioPool.length)return r._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(r){var i=this||t;return r._unlocked&&i._html5AudioPool.push(r),i},_autoSuspend:function(){var r=this;if(!(!r.autoSuspend||!r.ctx||typeof r.ctx.suspend>"u"||!t.usingWebAudio)){for(var i=0;i<r._howls.length;i++)if(r._howls[i]._webAudio){for(var c=0;c<r._howls[i]._sounds.length;c++)if(!r._howls[i]._sounds[c]._paused)return r}return r._suspendTimer&&clearTimeout(r._suspendTimer),r._suspendTimer=setTimeout(function(){if(r.autoSuspend){r._suspendTimer=null,r.state="suspending";var f=function(){r.state="suspended",r._resumeAfterSuspend&&(delete r._resumeAfterSuspend,r._autoResume())};r.ctx.suspend().then(f,f)}},3e4),r}},_autoResume:function(){var r=this;if(!(!r.ctx||typeof r.ctx.resume>"u"||!t.usingWebAudio))return r.state==="running"&&r.ctx.state!=="interrupted"&&r._suspendTimer?(clearTimeout(r._suspendTimer),r._suspendTimer=null):r.state==="suspended"||r.state==="running"&&r.ctx.state==="interrupted"?(r.ctx.resume().then(function(){r.state="running";for(var i=0;i<r._howls.length;i++)r._howls[i]._emit("resume")}),r._suspendTimer&&(clearTimeout(r._suspendTimer),r._suspendTimer=null)):r.state==="suspending"&&(r._resumeAfterSuspend=!0),r}};var t=new n,a=function(r){var i=this;if(!r.src||r.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(r)};a.prototype={init:function(r){var i=this;return t.ctx||w(),i._autoplay=r.autoplay||!1,i._format=typeof r.format!="string"?r.format:[r.format],i._html5=r.html5||!1,i._muted=r.mute||!1,i._loop=r.loop||!1,i._pool=r.pool||5,i._preload=typeof r.preload=="boolean"||r.preload==="metadata"?r.preload:!0,i._rate=r.rate||1,i._sprite=r.sprite||{},i._src=typeof r.src!="string"?r.src:[r.src],i._volume=r.volume!==void 0?r.volume:1,i._xhr={method:r.xhr&&r.xhr.method?r.xhr.method:"GET",headers:r.xhr&&r.xhr.headers?r.xhr.headers:null,withCredentials:r.xhr&&r.xhr.withCredentials?r.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=r.onend?[{fn:r.onend}]:[],i._onfade=r.onfade?[{fn:r.onfade}]:[],i._onload=r.onload?[{fn:r.onload}]:[],i._onloaderror=r.onloaderror?[{fn:r.onloaderror}]:[],i._onplayerror=r.onplayerror?[{fn:r.onplayerror}]:[],i._onpause=r.onpause?[{fn:r.onpause}]:[],i._onplay=r.onplay?[{fn:r.onplay}]:[],i._onstop=r.onstop?[{fn:r.onstop}]:[],i._onmute=r.onmute?[{fn:r.onmute}]:[],i._onvolume=r.onvolume?[{fn:r.onvolume}]:[],i._onrate=r.onrate?[{fn:r.onrate}]:[],i._onseek=r.onseek?[{fn:r.onseek}]:[],i._onunlock=r.onunlock?[{fn:r.onunlock}]:[],i._onresume=[],i._webAudio=t.usingWebAudio&&!i._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var r=this,i=null;if(t.noAudio){r._emit("loaderror",null,"No audio support.");return}typeof r._src=="string"&&(r._src=[r._src]);for(var c=0;c<r._src.length;c++){var f,p;if(r._format&&r._format[c])f=r._format[c];else{if(p=r._src[c],typeof p!="string"){r._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}f=/^data:audio\/([^;,]+);/i.exec(p),f||(f=/\.([^.]+)$/.exec(p.split("?",1)[0])),f&&(f=f[1].toLowerCase())}if(f||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),f&&t.codecs(f)){i=r._src[c];break}}if(!i){r._emit("loaderror",null,"No codec support for selected audio sources.");return}return r._src=i,r._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(r._html5=!0,r._webAudio=!1),new o(r),r._webAudio&&u(r),r},play:function(r,i){var c=this,f=null;if(typeof r=="number")f=r,r=null;else{if(typeof r=="string"&&c._state==="loaded"&&!c._sprite[r])return null;if(typeof r>"u"&&(r="__default",!c._playLock)){for(var p=0,v=0;v<c._sounds.length;v++)c._sounds[v]._paused&&!c._sounds[v]._ended&&(p++,f=c._sounds[v]._id);p===1?r=null:f=null}}var g=f?c._soundById(f):c._inactiveSound();if(!g)return null;if(f&&!r&&(r=g._sprite||"__default"),c._state!=="loaded"){g._sprite=r,g._ended=!1;var b=g._id;return c._queue.push({event:"play",action:function(){c.play(b)}}),b}if(f&&!g._paused)return i||c._loadQueue("play"),g._id;c._webAudio&&t._autoResume();var E=Math.max(0,g._seek>0?g._seek:c._sprite[r][0]/1e3),P=Math.max(0,(c._sprite[r][0]+c._sprite[r][1])/1e3-E),T=P*1e3/Math.abs(g._rate),z=c._sprite[r][0]/1e3,R=(c._sprite[r][0]+c._sprite[r][1])/1e3;g._sprite=r,g._ended=!1;var G=function(){g._paused=!1,g._seek=E,g._start=z,g._stop=R,g._loop=!!(g._loop||c._sprite[r][2])};if(E>=R){c._ended(g);return}var I=g._node;if(c._webAudio){var ne=function(){c._playLock=!1,G(),c._refreshBuffer(g);var ce=g._muted||c._muted?0:g._volume;I.gain.setValueAtTime(ce,t.ctx.currentTime),g._playStart=t.ctx.currentTime,typeof I.bufferSource.start>"u"?g._loop?I.bufferSource.noteGrainOn(0,E,86400):I.bufferSource.noteGrainOn(0,E,P):g._loop?I.bufferSource.start(0,E,86400):I.bufferSource.start(0,E,P),T!==1/0&&(c._endTimers[g._id]=setTimeout(c._ended.bind(c,g),T)),i||setTimeout(function(){c._emit("play",g._id),c._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?ne():(c._playLock=!0,c.once("resume",ne),c._clearTimer(g._id))}else{var he=function(){I.currentTime=E,I.muted=g._muted||c._muted||t._muted||I.muted,I.volume=g._volume*t.volume(),I.playbackRate=g._rate;try{var ce=I.play();if(ce&&typeof Promise<"u"&&(ce instanceof Promise||typeof ce.then=="function")?(c._playLock=!0,G(),ce.then(function(){c._playLock=!1,I._unlocked=!0,i?c._loadQueue():c._emit("play",g._id)}).catch(function(){c._playLock=!1,c._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):i||(c._playLock=!1,G(),c._emit("play",g._id)),I.playbackRate=g._rate,I.paused){c._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}r!=="__default"||g._loop?c._endTimers[g._id]=setTimeout(c._ended.bind(c,g),T):(c._endTimers[g._id]=function(){c._ended(g),I.removeEventListener("ended",c._endTimers[g._id],!1)},I.addEventListener("ended",c._endTimers[g._id],!1))}catch(we){c._emit("playerror",g._id,we)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=c._src,I.load());var Le=window&&window.ejecta||!I.readyState&&t._navigator.isCocoonJS;if(I.readyState>=3||Le)he();else{c._playLock=!0,c._state="loading";var Pe=function(){c._state="loaded",he(),I.removeEventListener(t._canPlayEvent,Pe,!1)};I.addEventListener(t._canPlayEvent,Pe,!1),c._clearTimer(g._id)}}return g._id},pause:function(r){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(r)}}),i;for(var c=i._getSoundIds(r),f=0;f<c.length;f++){i._clearTimer(c[f]);var p=i._soundById(c[f]);if(p&&!p._paused&&(p._seek=i.seek(c[f]),p._rateSeek=0,p._paused=!0,i._stopFade(c[f]),p._node))if(i._webAudio){if(!p._node.bufferSource)continue;typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),i._cleanBuffer(p._node)}else(!isNaN(p._node.duration)||p._node.duration===1/0)&&p._node.pause();arguments[1]||i._emit("pause",p?p._id:null)}return i},stop:function(r,i){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(r)}}),c;for(var f=c._getSoundIds(r),p=0;p<f.length;p++){c._clearTimer(f[p]);var v=c._soundById(f[p]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,c._stopFade(f[p]),v._node&&(c._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),c._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&c._clearSound(v._node))),i||c._emit("stop",v._id))}return c},mute:function(r,i){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(r,i)}}),c;if(typeof i>"u")if(typeof r=="boolean")c._muted=r;else return c._muted;for(var f=c._getSoundIds(i),p=0;p<f.length;p++){var v=c._soundById(f[p]);v&&(v._muted=r,v._interval&&c._stopFade(v._id),c._webAudio&&v._node?v._node.gain.setValueAtTime(r?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:r),c._emit("mute",v._id))}return c},volume:function(){var r=this,i=arguments,c,f;if(i.length===0)return r._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var p=r._getSoundIds(),v=p.indexOf(i[0]);v>=0?f=parseInt(i[0],10):c=parseFloat(i[0])}else i.length>=2&&(c=parseFloat(i[0]),f=parseInt(i[1],10));var g;if(typeof c<"u"&&c>=0&&c<=1){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;typeof f>"u"&&(r._volume=c),f=r._getSoundIds(f);for(var b=0;b<f.length;b++)g=r._soundById(f[b]),g&&(g._volume=c,i[2]||r._stopFade(f[b]),r._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(c,t.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=c*t.volume()),r._emit("volume",g._id))}else return g=f?r._soundById(f):r._sounds[0],g?g._volume:0;return r},fade:function(r,i,c,f){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"fade",action:function(){p.fade(r,i,c,f)}}),p;r=Math.min(Math.max(0,parseFloat(r)),1),i=Math.min(Math.max(0,parseFloat(i)),1),c=parseFloat(c),p.volume(r,f);for(var v=p._getSoundIds(f),g=0;g<v.length;g++){var b=p._soundById(v[g]);if(b){if(f||p._stopFade(v[g]),p._webAudio&&!b._muted){var E=t.ctx.currentTime,P=E+c/1e3;b._volume=r,b._node.gain.setValueAtTime(r,E),b._node.gain.linearRampToValueAtTime(i,P)}p._startFadeInterval(b,r,i,c,v[g],typeof f>"u")}}return p},_startFadeInterval:function(r,i,c,f,p,v){var g=this,b=i,E=c-i,P=Math.abs(E/.01),T=Math.max(4,P>0?f/P:f),z=Date.now();r._fadeTo=c,r._interval=setInterval(function(){var R=(Date.now()-z)/f;z=Date.now(),b+=E*R,b=Math.round(b*100)/100,E<0?b=Math.max(c,b):b=Math.min(c,b),g._webAudio?r._volume=b:g.volume(b,r._id,!0),v&&(g._volume=b),(c<i&&b<=c||c>i&&b>=c)&&(clearInterval(r._interval),r._interval=null,r._fadeTo=null,g.volume(c,r._id),g._emit("fade",r._id))},T)},_stopFade:function(r){var i=this,c=i._soundById(r);return c&&c._interval&&(i._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,i.volume(c._fadeTo,r),c._fadeTo=null,i._emit("fade",r)),i},loop:function(){var r=this,i=arguments,c,f,p;if(i.length===0)return r._loop;if(i.length===1)if(typeof i[0]=="boolean")c=i[0],r._loop=c;else return p=r._soundById(parseInt(i[0],10)),p?p._loop:!1;else i.length===2&&(c=i[0],f=parseInt(i[1],10));for(var v=r._getSoundIds(f),g=0;g<v.length;g++)p=r._soundById(v[g]),p&&(p._loop=c,r._webAudio&&p._node&&p._node.bufferSource&&(p._node.bufferSource.loop=c,c&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop,r.playing(v[g])&&(r.pause(v[g],!0),r.play(v[g],!0)))));return r},rate:function(){var r=this,i=arguments,c,f;if(i.length===0)f=r._sounds[0]._id;else if(i.length===1){var p=r._getSoundIds(),v=p.indexOf(i[0]);v>=0?f=parseInt(i[0],10):c=parseFloat(i[0])}else i.length===2&&(c=parseFloat(i[0]),f=parseInt(i[1],10));var g;if(typeof c=="number"){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;typeof f>"u"&&(r._rate=c),f=r._getSoundIds(f);for(var b=0;b<f.length;b++)if(g=r._soundById(f[b]),g){r.playing(f[b])&&(g._rateSeek=r.seek(f[b]),g._playStart=r._webAudio?t.ctx.currentTime:g._playStart),g._rate=c,r._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(c,t.ctx.currentTime):g._node&&(g._node.playbackRate=c);var E=r.seek(f[b]),P=(r._sprite[g._sprite][0]+r._sprite[g._sprite][1])/1e3-E,T=P*1e3/Math.abs(g._rate);(r._endTimers[f[b]]||!g._paused)&&(r._clearTimer(f[b]),r._endTimers[f[b]]=setTimeout(r._ended.bind(r,g),T)),r._emit("rate",g._id)}}else return g=r._soundById(f),g?g._rate:r._rate;return r},seek:function(){var r=this,i=arguments,c,f;if(i.length===0)r._sounds.length&&(f=r._sounds[0]._id);else if(i.length===1){var p=r._getSoundIds(),v=p.indexOf(i[0]);v>=0?f=parseInt(i[0],10):r._sounds.length&&(f=r._sounds[0]._id,c=parseFloat(i[0]))}else i.length===2&&(c=parseFloat(i[0]),f=parseInt(i[1],10));if(typeof f>"u")return 0;if(typeof c=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var g=r._soundById(f);if(g)if(typeof c=="number"&&c>=0){var b=r.playing(f);b&&r.pause(f,!0),g._seek=c,g._ended=!1,r._clearTimer(f),!r._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=c);var E=function(){b&&r.play(f,!0),r._emit("seek",f)};if(b&&!r._webAudio){var P=function(){r._playLock?setTimeout(P,0):E()};setTimeout(P,0)}else E()}else if(r._webAudio){var T=r.playing(f)?t.ctx.currentTime-g._playStart:0,z=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(z+T*Math.abs(g._rate))}else return g._node.currentTime;return r},playing:function(r){var i=this;if(typeof r=="number"){var c=i._soundById(r);return c?!c._paused:!1}for(var f=0;f<i._sounds.length;f++)if(!i._sounds[f]._paused)return!0;return!1},duration:function(r){var i=this,c=i._duration,f=i._soundById(r);return f&&(c=i._sprite[f._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var r=this,i=r._sounds,c=0;c<i.length;c++)i[c]._paused||r.stop(i[c]._id),r._webAudio||(r._clearSound(i[c]._node),i[c]._node.removeEventListener("error",i[c]._errorFn,!1),i[c]._node.removeEventListener(t._canPlayEvent,i[c]._loadFn,!1),i[c]._node.removeEventListener("ended",i[c]._endFn,!1),t._releaseHtml5Audio(i[c]._node)),delete i[c]._node,r._clearTimer(i[c]._id);var f=t._howls.indexOf(r);f>=0&&t._howls.splice(f,1);var p=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===r._src||r._src.indexOf(t._howls[c]._src)>=0){p=!1;break}return s&&p&&delete s[r._src],t.noAudio=!1,r._state="unloaded",r._sounds=[],r=null,null},on:function(r,i,c,f){var p=this,v=p["_on"+r];return typeof i=="function"&&v.push(f?{id:c,fn:i,once:f}:{id:c,fn:i}),p},off:function(r,i,c){var f=this,p=f["_on"+r],v=0;if(typeof i=="number"&&(c=i,i=null),i||c)for(v=0;v<p.length;v++){var g=c===p[v].id;if(i===p[v].fn&&g||!i&&g){p.splice(v,1);break}}else if(r)f["_on"+r]=[];else{var b=Object.keys(f);for(v=0;v<b.length;v++)b[v].indexOf("_on")===0&&Array.isArray(f[b[v]])&&(f[b[v]]=[])}return f},once:function(r,i,c){var f=this;return f.on(r,i,c,1),f},_emit:function(r,i,c){for(var f=this,p=f["_on"+r],v=p.length-1;v>=0;v--)(!p[v].id||p[v].id===i||r==="load")&&(setTimeout((function(g){g.call(this,i,c)}).bind(f,p[v].fn),0),p[v].once&&f.off(r,p[v].fn,p[v].id));return f._loadQueue(r),f},_loadQueue:function(r){var i=this;if(i._queue.length>0){var c=i._queue[0];c.event===r&&(i._queue.shift(),i._loadQueue()),r||c.action()}return i},_ended:function(r){var i=this,c=r._sprite;if(!i._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(i._ended.bind(i,r),100),i;var f=!!(r._loop||i._sprite[c][2]);if(i._emit("end",r._id),!i._webAudio&&f&&i.stop(r._id,!0).play(r._id),i._webAudio&&f){i._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=t.ctx.currentTime;var p=(r._stop-r._start)*1e3/Math.abs(r._rate);i._endTimers[r._id]=setTimeout(i._ended.bind(i,r),p)}return i._webAudio&&!f&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,i._clearTimer(r._id),i._cleanBuffer(r._node),t._autoSuspend()),!i._webAudio&&!f&&i.stop(r._id,!0),i},_clearTimer:function(r){var i=this;if(i._endTimers[r]){if(typeof i._endTimers[r]!="function")clearTimeout(i._endTimers[r]);else{var c=i._soundById(r);c&&c._node&&c._node.removeEventListener("ended",i._endTimers[r],!1)}delete i._endTimers[r]}return i},_soundById:function(r){for(var i=this,c=0;c<i._sounds.length;c++)if(r===i._sounds[c]._id)return i._sounds[c];return null},_inactiveSound:function(){var r=this;r._drain();for(var i=0;i<r._sounds.length;i++)if(r._sounds[i]._ended)return r._sounds[i].reset();return new o(r)},_drain:function(){var r=this,i=r._pool,c=0,f=0;if(!(r._sounds.length<i)){for(f=0;f<r._sounds.length;f++)r._sounds[f]._ended&&c++;for(f=r._sounds.length-1;f>=0;f--){if(c<=i)return;r._sounds[f]._ended&&(r._webAudio&&r._sounds[f]._node&&r._sounds[f]._node.disconnect(0),r._sounds.splice(f,1),c--)}}},_getSoundIds:function(r){var i=this;if(typeof r>"u"){for(var c=[],f=0;f<i._sounds.length;f++)c.push(i._sounds[f]._id);return c}else return[r]},_refreshBuffer:function(r){var i=this;return r._node.bufferSource=t.ctx.createBufferSource(),r._node.bufferSource.buffer=s[i._src],r._panner?r._node.bufferSource.connect(r._panner):r._node.bufferSource.connect(r._node),r._node.bufferSource.loop=r._loop,r._loop&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop||0),r._node.bufferSource.playbackRate.setValueAtTime(r._rate,t.ctx.currentTime),i},_cleanBuffer:function(r){var i=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!r.bufferSource)return i;if(t._scratchBuffer&&r.bufferSource&&(r.bufferSource.onended=null,r.bufferSource.disconnect(0),c))try{r.bufferSource.buffer=t._scratchBuffer}catch{}return r.bufferSource=null,i},_clearSound:function(r){var i=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);i||(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(r){this._parent=r,this.init()};o.prototype={init:function(){var r=this,i=r._parent;return r._muted=i._muted,r._loop=i._loop,r._volume=i._volume,r._rate=i._rate,r._seek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,i._sounds.push(r),r.create(),r},create:function(){var r=this,i=r._parent,c=t._muted||r._muted||r._parent._muted?0:r._volume;return i._webAudio?(r._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),r._node.gain.setValueAtTime(c,t.ctx.currentTime),r._node.paused=!0,r._node.connect(t.masterGain)):t.noAudio||(r._node=t._obtainHtml5Audio(),r._errorFn=r._errorListener.bind(r),r._node.addEventListener("error",r._errorFn,!1),r._loadFn=r._loadListener.bind(r),r._node.addEventListener(t._canPlayEvent,r._loadFn,!1),r._endFn=r._endListener.bind(r),r._node.addEventListener("ended",r._endFn,!1),r._node.src=i._src,r._node.preload=i._preload===!0?"auto":i._preload,r._node.volume=c*t.volume(),r._node.load()),r},reset:function(){var r=this,i=r._parent;return r._muted=i._muted,r._loop=i._loop,r._volume=i._volume,r._rate=i._rate,r._seek=0,r._rateSeek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,r},_errorListener:function(){var r=this;r._parent._emit("loaderror",r._id,r._node.error?r._node.error.code:0),r._node.removeEventListener("error",r._errorFn,!1)},_loadListener:function(){var r=this,i=r._parent;i._duration=Math.ceil(r._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),r._node.removeEventListener(t._canPlayEvent,r._loadFn,!1)},_endListener:function(){var r=this,i=r._parent;i._duration===1/0&&(i._duration=Math.ceil(r._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(r)),r._node.removeEventListener("ended",r._endFn,!1)}};var s={},u=function(r){var i=r._src;if(s[i]){r._duration=s[i].duration,m(r);return}if(/^data:[^;]+;base64,/.test(i)){for(var c=atob(i.split(",")[1]),f=new Uint8Array(c.length),p=0;p<c.length;++p)f[p]=c.charCodeAt(p);h(f.buffer,r)}else{var v=new XMLHttpRequest;v.open(r._xhr.method,i,!0),v.withCredentials=r._xhr.withCredentials,v.responseType="arraybuffer",r._xhr.headers&&Object.keys(r._xhr.headers).forEach(function(g){v.setRequestHeader(g,r._xhr.headers[g])}),v.onload=function(){var g=(v.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){r._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}h(v.response,r)},v.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete s[i],r.load())},d(v)}},d=function(r){try{r.send()}catch{r.onerror()}},h=function(r,i){var c=function(){i._emit("loaderror",null,"Decoding audio data failed.")},f=function(p){p&&i._sounds.length>0?(s[i._src]=p,m(i,p)):c()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(r).then(f).catch(c):t.ctx.decodeAudioData(r,f,c)},m=function(r,i){i&&!r._duration&&(r._duration=i.duration),Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue())},w=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),i=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=i?parseInt(i[1],10):null;if(r&&c&&c<9){var f=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!f&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=a,typeof Fe<"u"?(Fe.HowlerGlobal=n,Fe.Howler=t,Fe.Howl=a,Fe.Sound=o):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=a,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var o=a._howls.length-1;o>=0;o--)a._howls[o].stereo(t);return a},HowlerGlobal.prototype.pos=function(t,a,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(a=typeof a!="number"?s._pos[1]:a,o=typeof o!="number"?s._pos[2]:o,typeof t=="number")s._pos=[t,a,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,a,o,s,u,d){var h=this;if(!h.ctx||!h.ctx.listener)return h;var m=h._orientation;if(a=typeof a!="number"?m[1]:a,o=typeof o!="number"?m[2]:o,s=typeof s!="number"?m[3]:s,u=typeof u!="number"?m[4]:u,d=typeof d!="number"?m[5]:d,typeof t=="number")h._orientation=[t,a,o,s,u,d],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(a,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(t,a,o,s,u,d);else return m;return h},Howl.prototype.init=function(t){return function(a){var o=this;return o._orientation=a.orientation||[1,0,0],o._stereo=a.stereo||null,o._pos=a.pos||null,o._pannerAttr={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:360,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:360,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:0,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:"inverse",maxDistance:typeof a.maxDistance<"u"?a.maxDistance:1e4,panningModel:typeof a.panningModel<"u"?a.panningModel:"HRTF",refDistance:typeof a.refDistance<"u"?a.refDistance:1,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:1},o._onstereo=a.onstereo?[{fn:a.onstereo}]:[],o._onpos=a.onpos?[{fn:a.onpos}]:[],o._onorientation=a.onorientation?[{fn:a.onorientation}]:[],t.call(this,a)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,a){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,a)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof a>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var u=o._getSoundIds(a),d=0;d<u.length;d++){var h=o._soundById(u[d]);if(h)if(typeof t=="number")h._stereo=t,h._pos=[t,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&n(h,s),s==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(t,0,0):h._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",h._id);else return h._stereo}return o},Howl.prototype.pos=function(t,a,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(t,a,o,s)}}),u;if(a=typeof a!="number"?0:a,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof t=="number")u._pos=[t,a,o];else return u._pos;for(var d=u._getSoundIds(s),h=0;h<d.length;h++){var m=u._soundById(d[h]);if(m)if(typeof t=="number")m._pos=[t,a,o],m._node&&((!m._panner||m._panner.pan)&&n(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(a,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setPosition(t,a,o)),u._emit("pos",m._id);else return m._pos}return u},Howl.prototype.orientation=function(t,a,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(t,a,o,s)}}),u;if(a=typeof a!="number"?u._orientation[1]:a,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof t=="number")u._orientation=[t,a,o];else return u._orientation;for(var d=u._getSoundIds(s),h=0;h<d.length;h++){var m=u._soundById(d[h]);if(m)if(typeof t=="number")m._orientation=[t,a,o],m._node&&(m._panner||(m._pos||(m._pos=u._pos||[0,0,-.5]),n(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(a,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setOrientation(t,a,o)),u._emit("orientation",m._id);else return m._orientation}return u},Howl.prototype.pannerAttr=function(){var t=this,a=arguments,o,s,u;if(!t._webAudio)return t;if(a.length===0)return t._pannerAttr;if(a.length===1)if(typeof a[0]=="object")o=a[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return u=t._soundById(parseInt(a[0],10)),u?u._pannerAttr:t._pannerAttr;else a.length===2&&(o=a[0],s=parseInt(a[1],10));for(var d=t._getSoundIds(s),h=0;h<d.length;h++)if(u=t._soundById(d[h]),u){var m=u._pannerAttr;m={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:m.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:m.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:m.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:m.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:m.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:m.panningModel};var w=u._panner;w||(u._pos||(u._pos=t._pos||[0,0,-.5]),n(u,"spatial"),w=u._panner),w.coneInnerAngle=m.coneInnerAngle,w.coneOuterAngle=m.coneOuterAngle,w.coneOuterGain=m.coneOuterGain,w.distanceModel=m.distanceModel,w.maxDistance=m.maxDistance,w.refDistance=m.refDistance,w.rolloffFactor=m.rolloffFactor,w.panningModel=m.panningModel}return t},Sound.prototype.init=function(t){return function(){var a=this,o=a._parent;a._orientation=o._orientation,a._stereo=o._stereo,a._pos=o._pos,a._pannerAttr=o._pannerAttr,t.call(this),a._stereo?o.stereo(a._stereo):a._pos&&o.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var a=this,o=a._parent;return a._orientation=o._orientation,a._stereo=o._stereo,a._pos=o._pos,a._pannerAttr=o._pannerAttr,a._stereo?o.stereo(a._stereo):a._pos?o.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,o._refreshBuffer(a)),t.call(this)}}(Sound.prototype.reset);var n=function(t,a){a=a||"spatial",a==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(J);const ie=new J.Howl({src:["sounds/music.mp3"],volume:.5,loop:!0}),fe=ie.play();ie.stop(fe);const Y={unauthorized:new J.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),play:new J.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new J.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new J.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new J.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),remove:new J.Howl({src:["sounds/remove.mp3"],volume:.7,preload:!0}),recycle:new J.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new J.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new J.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new J.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new J.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new J.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new J.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0})},at={noob:4,easy:3,normal:2,hard:1,veteran:0},ot=20,Re=8,it=10,st=500,Ye=5,Da={string:["20","50","75","100","150"],number:[5,7,10,15]},F=5,vr=10,La={eachDay:["Chaque jour","par jour"],eachTurn:["A chaque carte jouée","par carte"],emptyHand:["Quand votre main est vide","chaque fois que la main est vide"],reputationDeclines:["Quand votre réputation baisse","à chaque baisse de réputation"]},qt={version:"1.0.5"},Ut=[{name:"TypeScript",logo:"ts.png"},{name:"React",logo:"react.webp"},{name:"Tailwind CSS",logo:"tailwind.png"},{name:"NodeJS",logo:"node.png"},{name:"Vercel",logo:"vercel.png"},{name:"Next.js",logo:"nextjs.webp"},{name:"PostgreSQL",logo:"pgsql.png"},{name:"Docker",logo:"docker.webp"},{name:"PixiJS",logo:"pixi.png"},{name:"Three.js",logo:"three.png"},{name:"Gulp",logo:"gulp.webp"},{name:"Knex",logo:"knex.png"},{name:"Git",logo:"git.png"},{name:"Processing",logo:"processing.webp"},{name:"p5.js",logo:"p5.png"},{name:"Strapi",logo:"strapi.png"},{name:"Windows",logo:"windows.png"},{name:"MacOS",logo:"macos.png"},{name:"Linux",logo:"linux.png"},{name:"Jetbrains",logo:"jetbrains.webp"},{name:"Ruby",logo:"ruby.png"}],Xt=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Vous pouvez utiliser cette lib pour construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"}],A=at[te.difficulty],$e=[{description:`Gagne ${(2+A)*F}M$`,onPlayed:async e=>await e.addMoney((2+A)*F,{skipGameOverPause:!0}),type:"action",cost:2},{description:`Gagne ${(4+A)*F}M$`,onPlayed:async e=>await e.addMoney((4+A)*F,{skipGameOverPause:!0}),type:"action",cost:4},{description:`Le matin, gagne ${A*F}M$. L'après-midi, gagne ${A} @energy${A>1?"s":""}`,onPlayed:async e=>{new Date().getHours()<12?await e.addMoney(A*F,{skipGameOverPause:!0}):await e.addEnergy(A,{skipGameOverPause:!0})},type:"action",cost:0},{description:`Gagne ${(2+A)*F}M$ fois le nombre de cartes @action en main en comptant celle-ci`,onPlayed:async e=>{await e.addMoney((2+A)*F*e.hand.filter(n=>n.effect.type==="action").length,{skipGameOverPause:!0})},type:"action",cost:4},{description:`Si le dark mode est activé, gagne ${(4+A)*F}M$`,onPlayed:async e=>await e.addMoney((4+A)*F,{skipGameOverPause:!0}),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Si la @reputation est inférieur à 5, gagne ${(4+A)*F}M$`,onPlayed:async e=>await e.addMoney((4+A)*F,{skipGameOverPause:!0}),condition:e=>e.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${A>4?` et gagne ${A-4} @energy${A-4>1?"s":""}`:""}`,onPlayed:async e=>{await e.play(e.hand[e.hand.length-1],{free:!0,skipGameOverPause:!0}),A>4&&await e.addEnergy(A-4,{skipGameOverPause:!0})},condition:(e,n)=>{const t=e.hand[e.hand.length-1];return t&&t.name!==n.name&&(!t.effect.condition||t.effect.condition(e,e.hand[e.hand.length-1]))},type:"action",cost:Math.max(0,4-A),waitBeforePlay:!0},{description:"Défausse la carte la plus à droite de ta main, gagne son coût en @energy",onPlayed:async e=>{const n=e.hand[e.hand.length-1];await e.discardCard({filter:a=>a.name===n.name});const t=typeof n.effect.cost=="string"?Math.ceil(Number(n.effect.cost)/F):n.effect.cost;await e.addEnergy(t,{skipGameOverPause:!0})},condition:(e,n)=>e.hand.length>=1&&e.hand.indexOf(n)!==e.hand.length-1,type:"action",cost:0},{description:`Pioche ${1+A} carte${A>0?"s":""}`,onPlayed:async e=>await e.draw(1+A,{skipGameOverPause:!0}),condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${A>2?2+(A-2):2} cartes`,onPlayed:async e=>await e.draw(A>2?2+(A-2):2,{skipGameOverPause:!0}),condition:e=>e.deck.length>=1,type:"support",cost:Math.max(0,2-A),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+A} cartes`,onPlayed:async e=>await e.draw(2+A,{skipGameOverPause:!0}),condition:e=>e.hand.length<5&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${A>=4?1+Math.floor((A-2)/2):1} carte${A>=4?"s":""} @action${A>=2&&A%2!==0?` et gagne ${A%2} @energy${A%2>0?"s":""}`:""}`,onPlayed:async e=>{await e.draw(A>=2?1+Math.floor((A-2)/2):1,{filter:n=>n.effect.type==="action",skipGameOverPause:!0}),A>=2&&A%2!==0&&await e.addEnergy(A%2,{skipGameOverPause:!0})},condition:e=>e.deck.some(n=>n.effect.type==="action"),type:"support",cost:Math.max(0,2-A),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(A/2)} carte${A>=2?"s":""} @action${A%2!==0?` et gagne ${A%2*F}M$`:""}`,onPlayed:async e=>{await e.draw(1,{filter:n=>n.effect.type==="action",skipGameOverPause:!0}),A%2!==0&&await e.addMoney(A%2*F,{skipGameOverPause:!0})},condition:e=>e.hand.every(n=>n.effect.type!=="action")&&e.deck.some(n=>n.effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${A>=1?2:"une"} carte${A>1?"s":""} et gagne ${(2+A-1)*F}M$`,onPlayed:async e=>{await e.discardCard({random:!0}),await e.draw(A>=1?2:1,{skipGameOverPause:!0}),await e.addMoney((2+A-1)*F,{skipGameOverPause:!0})},condition:e=>e.hand.length>=2&&e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${A>=1?1+A:"une"} carte${A>=1?"s":""}`,onPlayed:async e=>{await e.discardCard({toDeck:!0,random:!0}),await e.draw(A>=1?1+A:1,{skipGameOverPause:!0})},condition:e=>e.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+A} cartes`,onPlayed:async e=>{await e.discardCard(),await e.draw(5+A,{skipGameOverPause:!0})},condition:e=>e.deck.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${A>5?5+(A-5):5} cartes`,onPlayed:async e=>{await e.discardCard({toDeck:!0}),await e.draw(A>5?5+(A-5):5,{skipGameOverPause:!0})},type:"support",cost:Math.max(0,5-A),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${A>3?` et gagne ${(A-3)*F}M$`:""}`,onPlayed:async e=>{await e.draw(e.upgrades.length,{skipGameOverPause:!0}),A>3&&await e.addMoney((A-3)*F,{skipGameOverPause:!0})},condition:e=>e.upgrades.length>0&&e.deck.length>=1,type:"support",cost:Math.max(0,3-A),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${A>0?` et gagne ${A*F}M$`:""}`,onPlayed:async e=>{await e.discardCard({filter:n=>n.effect.type==="support"}),await e.draw(2,{filter:n=>n.effect.type==="action",skipGameOverPause:!0}),A>0&&await e.addMoney(A*F,{skipGameOverPause:!0})},condition:e=>e.hand.filter(n=>n.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+A} cartes`,onPlayed:async e=>{await e.discardCard({filter:n=>n.effect.type==="action"}),await e.draw(3+A,{skipGameOverPause:!0})},condition:e=>e.hand.some(n=>n.effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${A>4?` et gagne ${A-4} @energy${A-4>1?"s":""}`:""}`,onPlayed:async e=>{await e.draw(2,{filter:n=>typeof n.effect.cost=="number",skipGameOverPause:!0}),A>4&&await e.addEnergy(A-4,{skipGameOverPause:!0})},condition:e=>e.deck.some(n=>typeof n.effect.cost=="number"),type:"support",cost:Math.max(0,4-A),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${A>3?`, gagne ${A-3} @energy${A-3>1?"s":""}`:""}`,onPlayed:async e=>{e.addCardModifier("next card half cost",[]),A>3&&await e.addEnergy(A-3,{skipGameOverPause:!0})},type:"support",cost:Math.max(0,3-A)},{description:"La prochaine carte qui coûte de l'argent coûte maintenant de l'@energy",onPlayed:async e=>{e.addCardModifier("next money card cost energy",[])},type:"support",cost:0},{description:`Baisse le prix de toutes les cartes en main de ${1+A} @energys ou de ${1+A*F}M$`,onPlayed:async(e,n)=>{const t=e.hand.filter(a=>a.name!==n.name&&Number(n.effect.cost)>0).map(a=>a.name);e.addCardModifier("lowers price of hand cards",[t,1+A])},condition:e=>e.hand.some(n=>Number(n.effect.cost)>0),type:"support",cost:Math.max(0,Re-A),ephemeral:!0},{description:`${A>4?`Ajoute ${A-4} @energy${A>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async e=>{A>4&&await e.addEnergy(A-4,{skipGameOverPause:!0}),await e.addEnergy(e.energy,{skipGameOverPause:!0})},type:"action",cost:String(Math.max(0,4-A)*F)},{description:`Ajoute ${4+A} @energys`,onPlayed:async e=>await e.addEnergy(4+A,{skipGameOverPause:!0}),type:"action",cost:String(4*F)},{description:`Si la @reputation est inférieur à 5, ajoute ${A>3?5+A-3:5} @energys`,onPlayed:async e=>await e.addEnergy(A>3?5+A-3:5,{skipGameOverPause:!0}),condition:e=>e.reputation<5,type:"action",cost:String(Math.max(0,3-A)*F)},{description:"Remplis la jauge de @reputation",onPlayed:async e=>await e.addReputation(10,{skipGameOverPause:!0}),type:"action",cost:String(Math.max(0,5*vr-A)*F),ephemeral:!0}].map((e,n)=>({...e,index:n})),ve=at[te.difficulty],Fa=[{name:"Starbucks",triggerEvent:"eachDay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<ot,onTrigger:async(e,n)=>{await e.addEnergy(n.cumul,{skipGameOverPause:!0})},max:3,cost:String(Math.max(0,20-ve)*F)},{name:"Méditation",triggerEvent:"eachDay",description:"Pioche @cumul carte@s",image:"meditation.png",condition:e=>e.deck.length>0,onTrigger:async(e,n)=>{await e.draw(n.cumul,{skipGameOverPause:!0})},max:3,cost:String(Math.max(0,20-ve)*F)},{name:"Bourse",triggerEvent:"eachDay",description:"Gagne @cumul fois 10% de votre capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,n)=>{await e.addMoney(Math.ceil(n.cumul/100*e.money),{skipGameOverPause:!0})},cost:String(Math.max(0,8-ve)*F)},{name:"Recyclage",triggerEvent:"eachDay",description:"Place @cumul carte@s aléatoire@s de la défausse dans le deck",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,n)=>{await e.recycle(n.cumul)},max:3,cost:String(Math.max(0,20-ve)*F)},{name:"I.A",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,n)=>{await e.addMoney(n.cumul*e.discard.length,{skipGameOverPause:!0})},cost:String(Math.max(0,80-ve)*F)},{name:"Sport",triggerEvent:"eachDay",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<it,onTrigger:async(e,n)=>{await e.addReputation(n.cumul,{skipGameOverPause:!0})},max:2,cost:Math.max(0,20-ve)},{name:"PC Puissant",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre d'@energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,n)=>{await e.addMoney(n.cumul*e.energy,{skipGameOverPause:!0})},max:2,cost:String(Math.max(0,40-ve)*F)},{name:"Stagiaire",triggerEvent:"eachDay",description:"Gagne @cumulM$ fois le nombre de cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,n)=>{await e.addMoney(n.cumul*e.hand.length,{skipGameOverPause:!0})},max:5,cost:String(Math.max(0,20-ve)*F)}],Be=Fa.map(e=>(e.description=`${e.description} ${La[e.triggerEvent][1]}`,e)),Ga={"upgrade cost threshold":()=>({condition:e=>!!e.effect.upgrade,use:(e,n)=>e.effect.upgrade?{...e,effect:{...e.effect,cost:$a(n,e)}}:e}),"lowers price of hand cards":(e,n)=>({once:!0,condition:t=>e.includes(t.name),use:t=>({...t,effect:{...t.effect,cost:(typeof t.effect.cost=="string"?String:Number)(Math.max(0,Number(t.effect.cost)-n*(typeof t.effect.cost=="string"?F:1)))}})}),"next money card cost energy":()=>({once:!0,condition:e=>typeof e.effect.cost=="string"&&Number(e.effect.cost)>0,use:e=>({...e,effect:{...e.effect,cost:Math.min(20,Math.ceil(Number(e.effect.cost)/F))}})}),"next card half cost":()=>({once:!0,condition:e=>Number(e.effect.cost)>1,use:e=>({...e,effect:{...e.effect,cost:typeof e.effect.cost=="number"?Math.ceil(e.effect.cost/2):String(Math.ceil(Number(e.effect.cost)/2))}})})};function Te(e){return e.reputation===0?"reputation":e.deck.length===0&&e.hand.length===0?"mill":e.hand.every(n=>n.effect.condition&&!n.effect.condition(e,n)?!0:!Mt(e,n).canBeBuy)&&(e.reputation+e.energy<Ye||e.hand.length>=Re||e.deck.length===0)?"soft-lock":!1}function bt(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function $a(e,n){const t=e.upgrades.length,a=Da[typeof n.effect.cost][t]??1/0;return(typeof n.effect.cost=="string"?String:Number)(Math.min(Number(a),Number(n.effect.cost)))}function Ba(e){return JSON.parse(JSON.stringify(e,(n,t)=>typeof t=="function"?void 0:t))}function Ha(e,n){const t=Ba(n);return e.cardModifiers.slice().reduce((o,s)=>{const u=_r(s);return!u.condition||u.condition(o.card,e)?{card:u.use(o.card,e),appliedModifiers:[...o.appliedModifiers,s]}:o},{card:t,appliedModifiers:[]})}function Mt(e,n){const{card:t,appliedModifiers:a}=Ha(e,n),o=typeof t.effect.cost=="number"?"energy":"money",s=Number(t.effect.cost),u=o==="money"?e[o]>=s:e[o]+e.reputation>=s;return{needs:o,cost:s,canBeBuy:u,appliedModifiers:a}}function za(e,n){if(n.effect.ephemeral)return!0;if(n.effect.upgrade){const t=Be.find(a=>a.name===n.name);if(t.max){if(t.max===1)return!0;const a=e.upgrades.find(o=>o.name===n.name);return a&&a.cumul>=a.max-1}}return!1}function Se(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(st)).replace(/MAX_HAND_SIZE/g,String(Re)).replace(/@action([^\s.:,]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@support([^\s.:,]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/((?:\d+|<span[^>]*>\d+<\/span>)M\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function yr(e,n){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${n}</span>`).replace(/@s/g,n>1?"s":"")}async function q(e=500){return new Promise(n=>setTimeout(n,e))}function Ge(e,n=1){for(let t=0;t<n;t++)e.sort(()=>Math.random()-.5);return e}function Yt(e,n,t,a,o,s=!1){const u=(e-n)/(t-n)*(o-a)+a;return s?a<o?Math.max(Math.min(u,o),a):Math.max(Math.min(u,a),o):u}function ft(e){return e.image!==void 0}function _r(e){return Ga[e[0]](...e[1])}function Va(e){return JSON.parse(e,(n,t)=>{if(typeof t=="object")switch(n){case"discard":case"deck":case"hand":return t.map(a=>{var o,s,u;return{...a,state:"idle",effect:{...a.effect,template:(o=$e[a.effect.index])==null?void 0:o.template,onPlayed:a.effect.upgrade?async d=>await d.upgrade(a.name):(s=$e[a.effect.index])==null?void 0:s.onPlayed,condition:(u=$e[a.effect.index])==null?void 0:u.condition}}});case"upgrades":return t.map(a=>{var o,s;return{...a,state:"idle",onTrigger:(o=Be.find(u=>u.name===a.name))==null?void 0:o.onTrigger,condition:(s=Be.find(u=>u.name===a.name))==null?void 0:s.condition}});case"operationInProgress":return{}}return n==="isOperationInProgress"?!1:t})}const Zt=$e.filter(e=>e.type==="support"),Kt=$e.filter(e=>e.type==="action");function xr(){ie.stop(fe),ie.play(fe),ie.fade(0,.5,500,fe);const e=localStorage.getItem("card-game-metadata"),n=localStorage.getItem("card-game-difficulty")??"normal",t=localStorage.getItem("card-game");if(t&&JSON.stringify(qt)===e&&te.difficulty===n)return Va(t);localStorage.setItem("card-game-metadata",JSON.stringify(qt)),localStorage.setItem("card-game-difficulty",te.difficulty);const a=Ut.map((d,h)=>{const m=Yt(h,0,Ut.length,0,Zt.length,!0),w=Zt[Math.floor(m)];return{...d,logo:`images/techno/${d.logo}`,state:"idle",effect:{...w,description:Se(w.description)}}}),o=Xt.map((d,h)=>{const m=Yt(h,0,Xt.length,0,Kt.length,!0),w=Kt[Math.floor(m)];return{...d,image:`images/projects/${d.image}`,state:"idle",effect:{...w,description:Se(w.description)}}}),s=Be.map(d=>({name:d.name,image:`images/upgrades/${d.image}`,state:"idle",effect:{index:-1,upgrade:!0,ephemeral:d.max===1,description:Se(`@upgrade <br/> ${yr(d.description,1)}`),onPlayed:async h=>await h.upgrade(d.name),type:"action",cost:d.cost,waitBeforePlay:!1}})),u=Ge([...a,...o,...s],3);return{isOperationInProgress:!1,operationInProgress:{},score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,deck:u.slice(7),hand:u.slice(0,7),discard:[],upgrades:[],cardModifiers:[["upgrade cost threshold",[]]],day:1,energy:ot,reputation:it,money:0}}function Wa(e,n){return{dangerouslyUpdate:t=>e(t),setOperationInProgress:(t,a)=>{e(o=>({operationInProgress:{...o.operationInProgress,[t]:a}}))},updateScore:()=>{e(t=>({score:Math.floor(t.energy+t.reputation*vr+t.money/F+t.upgrades.reduce((a,o)=>a+o.cumul,0)*10*(50/t.day)*100*(1+Object.keys(at).indexOf(te.difficulty)))}))},addEnergy:async(t,a)=>{const o=n();if(o.setOperationInProgress("energy",!0),t>0)Y.gain.play(),e(s=>({energy:Math.max(0,Math.min(ot,s.energy+t))}));else if(t<0){const s=n(),u=Math.abs(t)-s.energy;u>0?(e({energy:0}),await s.addReputation(-u,{skipGameOverPause:a==null?void 0:a.skipGameOverPause})):e(d=>({energy:d.energy+t}))}await q(),o.setOperationInProgress("energy",!1)},addReputation:async(t,a)=>{const o=n();o.setOperationInProgress("reputation",!0),t===10?Y.powerUp.play():t>0?Y.gain.play():Y.loss.play(),e(s=>({reputation:Math.max(0,Math.min(it,s.reputation+t))})),await q(),!(a!=null&&a.skipGameOverPause)&&Te(o)&&await q(2e3),o.setOperationInProgress("reputation",!1)},addMoney:async(t,a)=>{let o=n();o.setOperationInProgress("money",!0),t>0&&Y.cashing.play(),e(s=>({money:s.money+t})),await q(),o=n(),!(a!=null&&a.skipGameOverPause)&&o.money>=st&&await q(2e3),o.setOperationInProgress("money",!1)},addDay:async(t=1)=>{if(e(a=>({day:a.day+t,operationInProgress:{...a.operationInProgress,day:!0}})),t>0){const a=n();for(let o=0;o<t;o++)await a.triggerUpgradeEvent("eachDay")}e(a=>({operationInProgress:{...a.operationInProgress,day:!1}}))},upgrade:async t=>{e(s=>({operationInProgress:{...s.operationInProgress,[`upgrade ${t}`]:!0}}));const a=Be.find(s=>s.name===t);Y.upgrade.play(),n().upgrades.find(s=>s.name===t)?e(s=>({upgrades:s.upgrades.map(u=>u.name===t?{...u,cumul:u.cumul+1}:u)})):e(s=>({upgrades:[...s.upgrades,{...a,state:"appear",cumul:1,max:a.max??1/0}]})),await q(),e(s=>({upgrades:s.upgrades.map(u=>u.name===t?{...u,state:"idle"}:u),operationInProgress:{...s.operationInProgress,[`upgrade ${t}`]:!1}}))},triggerUpgrade:async t=>{const o=n().upgrades.find(s=>s.name===t);e(s=>({upgrades:s.upgrades.map(u=>u.name===o.name?{...u,state:"triggered"}:u),operationInProgress:{...s.operationInProgress,[`trigger ${t}`]:!0}})),await q(),await o.onTrigger(n(),o),await q(),e(s=>({upgrades:s.upgrades.map(u=>u.name===o.name?{...u,state:"idle"}:u),operationInProgress:{...s.operationInProgress,[`trigger ${t}`]:!1}}))},triggerUpgradeEvent:async(t,a)=>{let o=n();e(u=>({operationInProgress:{...u.operationInProgress,[`trigger ${t}`]:!0}}));const s=o.upgrades.slice().filter(u=>u.triggerEvent===t&&(!u.condition||u.condition(o,u)));await Promise.all(s.map(async(u,d)=>{await q(250*d),await o.triggerUpgrade(u.name)})),o=n(),!(a!=null&&a.skipGameOverPause)&&Te(o)&&await q(2e3),o.setOperationInProgress(`trigger ${t}`,!1)},addCardModifier:async(t,a,o)=>{Y.powerUp.play();const s=[t,a];e(u=>({cardModifiers:o!=null&&o.before?[s,...u.cardModifiers]:[...u.cardModifiers,s]}))},draw:async(t=1,a)=>{e(s=>{const u=a!=null&&a.fromDiscardPile?"discard":"deck",d=s.hand.slice(),h=s.discard.slice(),m=s[u].slice().filter(c=>a!=null&&a.filter?a.filter(c):!0),w=[];let r=!1,i=!1;for(let c=0;c<t&&m.length!==0;c++){const f=m.pop();f.state="drawn",w.push(f.name),d.length>=Re?(h.push(f),i=!0):(d.push(f),r=!0)}return(r||i)&&Y.draw.play(),{hand:d,discard:h,[u]:Ge(s[u].filter(c=>!w.includes(c.name)),2),operationInProgress:{...s.operationInProgress,draw:!0}}}),await q(),e(s=>({hand:s.hand.map(u=>({...u,state:"idle"}))}));const o=n();!(a!=null&&a.skipGameOverPause)&&Te(o)&&await q(2e3),o.setOperationInProgress("draw",!1)},discardCard:async t=>{const a=t!=null&&t.toDeck?"deck":"discard";Y.drop.play();const o=n();o.setOperationInProgress("discard",!0);const s=o.hand.slice().filter(d=>d.state!=="played"&&(!(t!=null&&t.filter)||t.filter(d))),u=t!=null&&t.random?[s[Math.floor(Math.random()*o.hand.length)]]:s;e({hand:o.hand.map(d=>u.some(h=>h.name===d.name)?{...d,state:"dropped"}:d)}),await q(),e(d=>({[a]:Ge([...d.hand.filter(h=>u.some(m=>m.name===h.name)).map(h=>({...h,state:null})),...d[a]],2),hand:d.hand.filter(h=>!u.some(m=>m.name===h.name)),operationInProgress:{...d.operationInProgress,discard:!1}}))},removeCard:async t=>{e(o=>({hand:o.hand.map(s=>s.name===t?{...s,state:"removed"}:s),operationInProgress:{...o.operationInProgress,remove:!0}})),Y.remove.play(),await q(1e3);const a=["discard","deck","hand"];e(o=>({...a.reduce((s,u)=>({...s,[u]:o[u].filter(d=>d.name!==t)}),{operationInProgress:{...o.operationInProgress,remove:!1}})}))},recycle:async(t=1)=>{Y.recycle.play();const a=n();a.setOperationInProgress("recycle",!0);const o=a.discard.slice(),s=a.deck.slice(),u=[];for(let d=0;d<t&&o.length!==0;d++){const h=o.pop();u.push(h.name),s.push(h)}e({deck:Ge(s),discard:a.discard.filter(d=>!u.includes(d.name)),operationInProgress:{...a.operationInProgress,recycle:!1}})},play:async(t,a)=>{const o=!!(a!=null&&a.free);let s=n();const u=async()=>{Y.unauthorized.play(),e({hand:s.hand.map(c=>c.name===t.name?{...c,state:"unauthorized"}:c)}),await q(),e({hand:s.hand.map(c=>c.name===t.name?{...c,state:"idle"}:c)})};if(t.effect.condition&&!t.effect.condition(s,t)){await u();return}const{needs:d,cost:h,appliedModifiers:m}=Mt(s,t);if(o)s.setOperationInProgress("play",!0);else if(s[d]<h)if(d==="energy"){if(s.reputation+s.energy<h){await u();return}s.setOperationInProgress("play",!0),await s.addEnergy(-h,{skipGameOverPause:!0})}else{await u();return}else e({[d]:s[d]-h,operationInProgress:{...s.operationInProgress,play:!0}});Y.play.play();const w=za(s,t);w&&q(200).then(()=>Y.remove.play());const r=async()=>{e(c=>({hand:c.hand.map(f=>f.name===t.name?{...f,state:w?"removed":"played"}:f)})),await q(w?1e3:void 0),e(c=>({discard:w?c.discard:Ge([{...t,state:null},...c.discard],3),hand:c.hand.filter(f=>f.name!==t.name),cardModifiers:c.cardModifiers.filter(f=>!_r(f).once||!m.some(v=>v.toString()===f.toString()))})),t.effect.type==="action"&&await s.addDay()},i=async()=>{t.effect.waitBeforePlay&&await q(),await t.effect.onPlayed(s,t)};await Promise.all([r(),i()]),s=n(),s.hand.length===0&&await s.draw(),!(a!=null&&a.skipGameOverPause)&&Te(n())&&await q(2e3),s.setOperationInProgress("play",!1)},win:()=>{ie.fade(.5,0,500,fe),e({isGameOver:!0,isWon:!0})},gameOver:t=>{Y.defeat.play(),ie.fade(.5,0,500,fe),e({isGameOver:!0,isWon:!1,reason:t})},reset:()=>{localStorage.removeItem("card-game-metadata"),localStorage.removeItem("card-game-difficulty"),localStorage.removeItem("card-game"),e(xr())},continue:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const re=ka((e,n)=>({...xr(),...Wa(e,n)}));re.subscribe((e,n)=>{if((e.reputation!==n.reputation||e.money!==n.money||e.upgrades!==n.upgrades||e.energy!==n.energy||e.day!==n.day)&&e.updateScore(),(n.hand.map(t=>t.state).join(",")!==e.hand.map(t=>t.state).join(",")||Object.values(n.operationInProgress).join(",")!==Object.values(e.operationInProgress).join(",")||n.upgrades.map(t=>t.state).join(",")!==e.upgrades.map(t=>t.state).join(","))&&(console.log("state",e),e.dangerouslyUpdate({isOperationInProgress:e.hand.some(t=>t.state!=="idle")||e.upgrades.length>0&&e.upgrades.some(t=>t.state!=="idle")||Object.keys(e.operationInProgress).length>0&&Object.values(e.operationInProgress).some(t=>t)})),localStorage.setItem("card-game",JSON.stringify(e,(t,a)=>{if(!(typeof a=="function"&&!(t in e)))return a})),!e.isOperationInProgress){if(!e.infinityMode&&!e.isWon&&e.money>=st)e.win();else if(!e.isGameOver){const t=Te(e);t&&e.gameOver(t)}}});const qa=e=>{const n=K(o=>o.animations),t=re(o=>o.reset),a=Oe(o=>()=>o.setCardGameVisibility(!1));return l.jsx("div",{className:S("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":n,"-bottom-12":e.show,"delay-500":e.delay&&n}),children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(pe,{onClick:()=>a(),variant:"default",children:"Revenir à l'accueil"}),l.jsx(pe,{onClick:()=>t(),variant:"default",children:"Recommencer"})]})})};function Ua(e,n){const t=y.createContext(n);function a(s){const{children:u,...d}=s,h=y.useMemo(()=>d,Object.values(d));return l.jsx(t.Provider,{value:h,children:u})}function o(s){const u=y.useContext(t);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${s}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,o]}function xe(e,n=[]){let t=[];function a(s,u){const d=y.createContext(u),h=t.length;t=[...t,u];function m(r){const{scope:i,children:c,...f}=r,p=(i==null?void 0:i[e][h])||d,v=y.useMemo(()=>f,Object.values(f));return l.jsx(p.Provider,{value:v,children:c})}function w(r,i){const c=(i==null?void 0:i[e][h])||d,f=y.useContext(c);if(f)return f;if(u!==void 0)return u;throw new Error(`\`${r}\` must be used within \`${s}\``)}return m.displayName=s+"Provider",[m,w]}const o=()=>{const s=t.map(u=>y.createContext(u));return function(d){const h=(d==null?void 0:d[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return o.scopeName=e,[a,Xa(o,...n)]}function Xa(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const u=a.reduce((d,{useScope:h,scopeName:m})=>{const r=h(s)[`__scope${m}`];return{...d,...r}},{});return y.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return t.scopeName=n.scopeName,t}var Ya=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],X=Ya.reduce((e,n)=>{const t=y.forwardRef((a,o)=>{const{asChild:s,...u}=a,d=s?Qe:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:o})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function Za(e,n){e&&gr.flushSync(()=>e.dispatchEvent(n))}var Nt="Progress",kt=100,[Ka,rc]=xe(Nt),[Ja,Qa]=Ka(Nt),wr=y.forwardRef((e,n)=>{const{__scopeProgress:t,value:a=null,max:o,getValueLabel:s=eo,...u}=e;(o||o===0)&&!Jt(o)&&console.error(to(`${o}`,"Progress"));const d=Jt(o)?o:kt;a!==null&&!Qt(a,d)&&console.error(ro(`${a}`,"Progress"));const h=Qt(a,d)?a:null,m=et(h)?s(h,d):void 0;return l.jsx(Ja,{scope:t,value:h,max:d,children:l.jsx(X.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":et(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":Sr(h,d),"data-value":h??void 0,"data-max":d,...u,ref:n})})});wr.displayName=Nt;var br="ProgressIndicator",Ar=y.forwardRef((e,n)=>{const{__scopeProgress:t,...a}=e,o=Qa(br,t);return l.jsx(X.div,{"data-state":Sr(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:n})});Ar.displayName=br;function eo(e,n){return`${Math.round(e/n*100)}%`}function Sr(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function et(e){return typeof e=="number"}function Jt(e){return et(e)&&!isNaN(e)&&e>0}function Qt(e,n){return et(e)&&!isNaN(e)&&e<=n&&e>=0}function to(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kt}\`.`}function ro(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kt} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Cr=wr,no=Ar;const Tt=y.forwardRef(({barColor:e,className:n,value:t,...a},o)=>l.jsx(Cr,{ref:o,className:S("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...a,children:l.jsx(no,{className:S("h-full w-full flex-1 transition-all",e,{"bg-primary":!e}),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Tt.displayName=Cr.displayName;const It=e=>{const n=re(t=>t.energy);return e.isCost&&e.value===0?l.jsx(l.Fragment,{}):l.jsxs("div",{className:S("relative",e.className),style:e.style,children:[e.type==="energy"?!e.isCost||n>=e.value?l.jsx("img",{src:"images/energy-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):n>0?l.jsx("img",{src:"images/enerputation-background.png",alt:"Energie background image",title:e.isCost?"Coût en énergie":"Energie",className:"pointer-events-auto",style:{scale:e.iconScale}}):l.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Coût en réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}):l.jsx("img",{src:"images/reputation-background.png",alt:"Reputation background image",title:"Réputation",className:"pointer-events-auto",style:{scale:e.iconScale}}),l.jsx("div",{className:S("absolute top-1/2 left-1/2 font-bold text-[1.8em] text-white pointer-events-none box-content",e.textColor),style:{transform:"translateX(-50%) translateY(-50%) translateZ(5px)"},children:e.value})]})},er=e=>l.jsxs("div",{className:"flex items-center h-7 w-[250px]",children:[l.jsx(It,{type:e.type,value:e.value,iconScale:e.iconScale,textColor:e.textColor,className:"absolute -translate-x-1/2 z-50 scale-50"}),l.jsx(Tt,{barColor:e.barColor,className:e.className,value:e.value/e.max*100})]});function ao(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M32 456a24 24 0 0 0 24 24h400a24 24 0 0 0 24-24V176H32zm80-238.86a9.14 9.14 0 0 1 9.14-9.14h109.72a9.14 9.14 0 0 1 9.14 9.14v109.72a9.14 9.14 0 0 1-9.14 9.14H121.14a9.14 9.14 0 0 1-9.14-9.14zM456 64h-55.92V32h-48v32H159.92V32h-48v32H56a23.8 23.8 0 0 0-24 23.77V144h448V87.77A23.8 23.8 0 0 0 456 64z"})))}function oo(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"}),C.createElement("path",{d:"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"})))}function io(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M225.814 32.316c-3.955-.014-7.922-.01-11.9.007-19.147.089-38.6.592-58.219 1.32l5.676 24.893c20.431-2.31 42.83-4.03 65.227-4.89 12.134-.466 24.194-.712 35.892-.65 35.095.183 66.937 3.13 87.77 11.202l8.908 3.454-3.977 8.685c-29.061 63.485-35.782 124.732-31.228 184.826 2.248-71.318 31.893-134.75 70.81-216.068-52.956-8.8-109.634-12.582-168.959-12.78zm28.034 38.79c-8.74.007-17.65.184-26.559.526-41.672 1.6-83.199 6.49-110.264 12.096 30.233 56.079 54.69 112.287 70.483 167.082a71.934 71.934 0 0 1 5.894.045c4.018.197 7.992.742 11.875 1.59-16.075-51.397-34.385-98.8-57.146-146.131l-5.143-10.694 11.686-2.068c29.356-5.198 59.656-7.21 88.494-7.219 1.922 0 3.84.007 5.748.024 18.324.16 35.984 1.108 52.346 2.535l11.054.965-3.224 10.617c-18.7 61.563-22.363 127.678-11.79 190.582.176.163.354.325.526.49 3.813-1.336 7.38-2.698 10.705-4.154-8.254-67.394-4.597-136.923 26.229-209.201-17.202-4.383-43.425-6.674-72.239-7.034a656.656 656.656 0 0 0-8.675-.05zm144.945 7.385c-30.956 65.556-52.943 118.09-56.547 174.803 20.038-66.802 58.769-126.685 102.904-165.158a602.328 602.328 0 0 0-46.357-9.645zM103.832 97.02c-18.76 3.868-37.086 8.778-54.812 15.562 8.626 7.48 24.22 21.395 43.14 39.889 8.708-8.963 17.589-17.818 26.852-25.87a1067.587 1067.587 0 0 0-15.18-29.581zm142.023 7.482c-13.62-.066-27.562.324-41.554 1.293-1.468 13.682-9.56 26.482-19.225 39.07 15.431 36.469 28.758 73.683 40.756 113.194 18.375 5.42 36.554 11.827 51.28 19.504-5.47-42.458-4.722-85.963 2.38-128.508-12.885-13.31-19.597-28.09-20.135-44.34a621.48 621.48 0 0 0-13.502-.213zm182.018 26.985c-24.73 29.3-46.521 65.997-61.37 105.912 27.264-38.782 60.79-69.032 96.477-90.4a1318.664 1318.664 0 0 0-35.107-15.512zm-300.74 11.959c-14.594 13.188-29.014 29.017-44.031 44.097 32.289 19.191 59.791 41.918 82.226 67.66 1.393-.526 2.8-.999 4.215-1.43-10.498-36.096-24.885-73.033-42.41-110.327zM360.52 268.198c-16.397 19.788-31.834 30.235-53.09 38.57 2.391 9.22-1.16 19.805-9.334 27.901-4.808 4.761-10.85 10.188-19.684 13.715a62.896 62.896 0 0 0 3.9 2.127c12.364 6.17 34.207 4.18 54.5-5.049 20.23-9.2 38.302-25.092 45-41.191 3.357-9.05.96-13.77-4.917-20.692-4.184-4.925-10.295-9.89-16.375-15.38zm-170.079.586c-10.715-.098-21.597 2.994-30.59 9.76-12.79 9.623-22.65 26.784-22.738 55.934v.2l-.01.2c-2.92 61.381 1.6 89.7 10.555 105.065 7.904 13.562 21.05 20.054 40.28 31.994.916-2.406 1.87-5.365 2.765-9.098 2.277-9.499 4.161-22.545 5.355-36.975 2.389-28.858 2.04-63.51-1.955-88.445l-2.111-13.19 13.016 2.995c31.615 7.273 49.7 8.132 60.2 6.28 10.502-1.854 14.061-5.523 20.221-11.624 5.79-5.732 5.682-7.795 4.456-11.021-1.227-3.227-6.149-8.545-14.5-13.633-16.703-10.176-45.085-19.611-71.614-26.647a53.988 53.988 0 0 0-13.33-1.795zm189.1 69.416c-10.013 9.754-22.335 17.761-35.277 23.647-20.983 9.542-44.063 13.907-63.211 7.553-6.76 2.516-10.687 5.407-12.668 7.8-2.718 3.284-2.888 5.7-1.967 9.16.92 3.46 3.665 7.568 7.059 10.524 3.393 2.956 7.426 4.492 8.959 4.564 46.794 2.222 67.046-11.207 92.277-26.783 7.358-4.542 10.174-13.743 9.469-22.931-.353-4.594-1.69-8.911-3.233-11.63a9.009 9.009 0 0 0-1.408-1.904zm-166.187 9.096c2.727 25.068 2.772 54.314.642 80.053-1.247 15.072-3.175 28.779-5.789 39.685-1.137 4.746-2.388 8.954-3.9 12.659l146.697-6.465c-1.656-6.149-3.344-12.324-5.031-18.502a127.004 127.004 0 0 1-17.24 4.424l.044.73-8.316.518c-5.121.614-10.452.953-15.983.992l-83.86 5.21 2.493-11.607c7.947-37.006 8.68-69.589 3.778-105.234a353.433 353.433 0 0 1-13.536-2.463zm31.972 4.684c3.948 31.933 3.473 62.41-2.406 95.2l19.264-1.196a39.44 39.44 0 0 1-6.1-14.778c-1.296-6.88-.575-14.538 3.926-20.87.199-.281.414-.55.627-.821-5.246-4.845-9.628-11.062-11.614-18.524-2.114-7.944-.794-17.67 5.497-25.27 2.079-2.51 4.592-4.776 7.543-6.816-2.61-2.08-4.898-4.285-6.874-6.582-3.064.021-6.345-.093-9.863-.343zm132.666 41.785c-23.456 14.253-49.81 27.876-96.41 25.664a26.402 26.402 0 0 1-4.518-.615c-1.233.553-1.891 1.256-2.382 1.947-.963 1.355-1.532 3.8-.909 7.113 1.248 6.627 7.525 13.889 13.37 14.569 41.385 4.813 69.979-8.726 87.341-24.477 8-7.258 8.068-11.9 6.89-16.951-.59-2.523-1.89-4.969-3.382-7.25zm-6.683 49.062a114.657 114.657 0 0 1-8.547 4.86c1.65 6.051 3.304 12.102 4.937 18.154l19.92-3.572c-5.14-4.387-9.162-8.954-12.39-13.496-1.442-2.029-2.713-4.001-3.92-5.946z"})))}function so(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),C.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function co(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),C.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),C.createElement("path",{d:"m64 160 29.74 282.51A24 24 0 0 0 117.61 464h276.78a24 24 0 0 0 23.87-21.49L448 160zm248 217.46-56-56-56 56L174.54 352l56-56-56-56L200 214.54l56 56 56-56L337.46 240l-56 56 56 56z"}),C.createElement("rect",{width:"448",height:"80",x:"32",y:"48",rx:"12",ry:"12"})))}function Er(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function lo(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}const Ae=e=>l.jsxs("div",{children:[l.jsx(e.icon,{className:"h-full self-center"}),l.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-2",children:[l.jsxs("span",{children:[e.name," :"]})," ",e.value]})]}),Pr=e=>{const n=re(t=>({money:t.money,score:t.score,day:t.day,deck:t.deck,discard:t.discard,infinity:t.infinityMode}));return l.jsxs("div",{className:S("flex flex-col gap-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left",e.className),children:[l.jsx(Ae,{icon:io,name:"Dollars",value:l.jsx("span",{dangerouslySetInnerHTML:{__html:Se(`${n.money}M$ ${e.verbose?`sur ${st}M$`:""}`)}})}),l.jsx(Ae,{icon:so,name:"Score",value:l.jsxs("span",{className:"text-upgrade font-changa",children:[n.score.toLocaleString("fr")," pts"]})}),l.jsx(Ae,{icon:ao,name:"Jour",value:n.day}),e.verbose&&l.jsxs(l.Fragment,{children:[l.jsx(Ae,{icon:oo,name:"Deck",value:n.deck.length}),l.jsx(Ae,{icon:co,name:"Défausse",value:n.discard.length})]}),l.jsx(Ae,{icon:Er,name:"Mode",value:l.jsx("span",{className:"capitalize",children:wt[te.difficulty]})}),n.infinity&&l.jsx(Ae,{icon:lo,name:"Mode infini",value:"Activé"})]})},uo=e=>{const{shadows:n,animation:t}=K(h=>({shadows:h.shadows,animation:h.animations})),[a,o]=C.useState(!0),[s,u]=C.useState(!1),d=re(h=>({energy:h.energy,reputation:h.reputation,reset:h.reset}));return C.useEffect(()=>{e.show?(u(!0),o(!1)):(o(!0),u(!1))},[e.show]),l.jsxs("div",{className:S("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"delay-500":s&&t,"translate-x-0":e.show}),children:[l.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":n})}),l.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":n})}),l.jsx(qa,{show:e.show,delay:a}),l.jsxs(ze,{className:"space-y-2",children:[l.jsx("div",{className:"text-3xl text-center",children:"Game values"}),l.jsx(er,{type:"energy",value:d.energy,max:ot}),l.jsx(er,{type:"reputation",value:d.reputation,max:it,barColor:"bg-pink-500"}),l.jsx(Pr,{className:"*:h-6 text-lg",verbose:!0})]})]})},At=["Si vous n'avez plus de @reputation, vous perdez la partie.","Quand une carte est jouée, elle va dans la défausse.","Si vous ne pouvez plus jouer de carte, vous perdez la partie.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Chaque carte @action jouée ajoute un jour à la partie.","Les cartes @action ont une bannière bleue.","Lorsque vous n'avez plus d'@energy, vous consommez la @reputation.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Vous ne pouvez pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop sont défaussées à la place.","Le prix des cartes d'@upgrade augmente progressivement.","Si vous obtenez MONEY_TO_REACHM$, vous gagnez la partie."];function fo(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const po=e=>{const{animation:n,shadow:t,transparency:a}=K(u=>({animation:u.animations,transparency:u.transparency,shadow:u.shadows})),[o,s]=C.useState(0);return l.jsx("div",{className:S("absolute top-0 left-0 -translate-y-full -translate-x-full w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":a,"bg-card":!a,"shadow shadow-black/50":t&&a,"transition-transform duration-500 ease-in-out":n,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>s((o+1)%At.length),children:l.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:l.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[l.jsx(fo,{className:"h-6 cursor-pointer"}),l.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:Se(At[o])}})]})})})},mo=e=>{const n=K(a=>({shadows:a.shadows,animation:a.animations,transparency:a})),t=re(a=>a.upgrades);return l.jsx("div",{className:S("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":n.animation,"top-0":e.show&&t.length>0}),children:l.jsx("div",{className:S("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":t.length>5,"-translate-y-[25%]":t.length>10,"shadow shadow-black/50":n.shadows&&n.transparency,"bg-card/50":n.transparency,"bg-card":!n.transparency}),children:l.jsx("div",{className:S("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":t.length>5,"translate-y-[25%]":t.length>10}),children:t.map((a,o)=>l.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[l.jsx("img",{src:`images/upgrades/${a.image}`,alt:a.name,className:S("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":a.state==="triggered"&&n.animation,"ring-foreground":a.state==="triggered"&&!n.animation})}),l.jsx("div",{className:"h-6 relative",children:l.jsxs("div",{className:"relative",children:[a.max!==1/0&&l.jsx(Tt,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:a.cumul/a.max*100}),l.jsx("div",{className:S("absolute text-center font-changa left-0 -translate-y-3 aspect-square h-6 rounded-full bg-upgrade",{"shadow shadow-black":n.shadows}),children:a.cumul})]})}),l.jsxs(ze,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50",children:[l.jsxs("h3",{className:"text-xl",children:[a.name," ",l.jsxs("span",{className:"text-upgrade font-bold",children:[a.cumul,a.max!==1/0?`/${a.max}`:""]})]}),l.jsx("p",{dangerouslySetInnerHTML:{__html:Se(yr(a.description,a.cumul))}})]})]},o))})})})},Mr=[{name:"ฟ- ק𝖆†/⑳ -ж",score:38120,mode:"hard"},{name:"Ghom",score:37980,mode:"hard"},{name:"Makushi",score:44e3,mode:"hard"},{name:"Xibalba",score:24050,mode:"hard"},{name:"Mel-Andrew",score:71213,mode:"normal"}],Nr=C.createContext({degX:0,degY:0,isHovered:!1}),tr={transformStyle:"preserve-3d"},kr=({max:e=20,reverse:n=!1,scale:t=1,perspective:a=1e3,className:o="",children:s,style:u})=>{const d=K(b=>b.tilt&&b.animations),h=C.useRef(null),m=Ta(h),[w,r]=C.useState({}),[i,c]=C.useState(0),[f,p]=C.useState(0),v=C.useCallback(b=>{if(h.current){const E=h.current.getBoundingClientRect(),P=b.clientX-E.left,T=b.clientY-E.top,z=E.width/2,R=E.height/2,G=(T-R)/R*e,I=(P-z)/z*e;c(n?G:-G),p(n?-I:I),r({...tr,transform:`
            perspective(${a}px)
            rotateX(${n?G:-G}deg)
            rotateY(${n?-I:I}deg)
            scale(${t})
          `})}},[e,a,n,t]),g=C.useCallback(()=>{c(0),p(0),r({...tr,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return C.useEffect(()=>{const b=h.current;return m?b&&(b.addEventListener("mousemove",v),b.addEventListener("mouseleave",g)):g(),()=>{b&&(b.removeEventListener("mousemove",v),b.removeEventListener("mouseleave",g)),g()}},[e,n,t,a,m]),d?l.jsx("div",{ref:h,className:S("will-change-transform",o),style:{...w,...u},children:l.jsx(Nr.Provider,{value:{degX:i,degY:f,isHovered:m},children:s})}):l.jsx("div",{className:o,style:u,children:s})},go=()=>{const e=C.useContext(Nr);return K(t=>t.foil)?l.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[l.jsx("div",{className:S("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),l.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):l.jsx(l.Fragment,{})};var jt={};(function e(n,t,a,o){var s=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!n.OffscreenCanvas)return!1;var x=new OffscreenCanvas(1,1),_=x.getContext("2d");_.fillRect(0,0,1,1);var M=x.transferToImageBitmap();try{_.createPattern(M,"no-repeat")}catch{return!1}return!0}();function h(){}function m(x){var _=t.exports.Promise,M=_!==void 0?_:n.Promise;return typeof M=="function"?new M(x):(x(h,h),null)}var w=function(x,_){return{transform:function(M){if(x)return M;if(_.has(M))return _.get(M);var k=new OffscreenCanvas(M.width,M.height),j=k.getContext("2d");return j.drawImage(M,0,0),_.set(M,k),k},clear:function(){_.clear()}}}(d,new Map),r=function(){var x=Math.floor(16.666666666666668),_,M,k={},j=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(O){var D=Math.random();return k[D]=requestAnimationFrame(function N(L){j===L||j+x-1<L?(j=L,delete k[D],O()):k[D]=requestAnimationFrame(N)}),D},M=function(O){k[O]&&cancelAnimationFrame(k[O])}):(_=function(O){return setTimeout(O,x)},M=function(O){return clearTimeout(O)}),{frame:_,cancel:M}}(),i=function(){var x,_,M={};function k(j){function O(D,N){j.postMessage({options:D||{},callback:N})}j.init=function(N){var L=N.transferControlToOffscreen();j.postMessage({canvas:L},[L])},j.fire=function(N,L,B){if(_)return O(N,null),_;var V=Math.random().toString(36).slice(2);return _=m(function(H){function W(Z){Z.data.callback===V&&(delete M[V],j.removeEventListener("message",W),_=null,w.clear(),B(),H())}j.addEventListener("message",W),O(N,V),M[V]=W.bind(null,{data:{callback:V}})}),_},j.reset=function(){j.postMessage({reset:!0});for(var N in M)M[N](),delete M[N]}}return function(){if(x)return x;if(!a&&s){var j=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{x=new Worker(URL.createObjectURL(new Blob([j])))}catch(O){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",O),null}k(x)}return x}}(),c={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(x,_){return _?_(x):x}function p(x){return x!=null}function v(x,_,M){return f(x&&p(x[_])?x[_]:c[_],M)}function g(x){return x<0?0:Math.floor(x)}function b(x,_){return Math.floor(Math.random()*(_-x))+x}function E(x){return parseInt(x,16)}function P(x){return x.map(T)}function T(x){var _=String(x).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:E(_.substring(0,2)),g:E(_.substring(2,4)),b:E(_.substring(4,6))}}function z(x){var _=v(x,"origin",Object);return _.x=v(_,"x",Number),_.y=v(_,"y",Number),_}function R(x){x.width=document.documentElement.clientWidth,x.height=document.documentElement.clientHeight}function G(x){var _=x.getBoundingClientRect();x.width=_.width,x.height=_.height}function I(x){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=x,_}function ne(x,_,M,k,j,O,D,N,L){x.save(),x.translate(_,M),x.rotate(O),x.scale(k,j),x.arc(0,0,1,D,N,L),x.restore()}function he(x){var _=x.angle*(Math.PI/180),M=x.spread*(Math.PI/180);return{x:x.x,y:x.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:x.startVelocity*.5+Math.random()*x.startVelocity,angle2D:-_+(.5*M-Math.random()*M),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:x.color,shape:x.shape,tick:0,totalTicks:x.ticks,decay:x.decay,drift:x.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:x.gravity*3,ovalScalar:.6,scalar:x.scalar,flat:x.flat}}function Le(x,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var M=_.tick++/_.totalTicks,k=_.x+_.random*_.tiltCos,j=_.y+_.random*_.tiltSin,O=_.wobbleX+_.random*_.tiltCos,D=_.wobbleY+_.random*_.tiltSin;if(x.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-M)+")",x.beginPath(),u&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))x.fill(_a(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(O-k)*.1,Math.abs(D-j)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var N=Math.PI/10*_.wobble,L=Math.abs(O-k)*.1,B=Math.abs(D-j)*.1,V=_.shape.bitmap.width*_.scalar,H=_.shape.bitmap.height*_.scalar,W=new DOMMatrix([Math.cos(N)*L,Math.sin(N)*L,-Math.sin(N)*B,Math.cos(N)*B,_.x,_.y]);W.multiplySelf(new DOMMatrix(_.shape.matrix));var Z=x.createPattern(w.transform(_.shape.bitmap),"no-repeat");Z.setTransform(W),x.globalAlpha=1-M,x.fillStyle=Z,x.fillRect(_.x-V/2,_.y-H/2,V,H),x.globalAlpha=1}else if(_.shape==="circle")x.ellipse?x.ellipse(_.x,_.y,Math.abs(O-k)*_.ovalScalar,Math.abs(D-j)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):ne(x,_.x,_.y,Math.abs(O-k)*_.ovalScalar,Math.abs(D-j)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var $=Math.PI/2*3,ee=4*_.scalar,ae=8*_.scalar,oe=_.x,me=_.y,be=5,ue=Math.PI/be;be--;)oe=_.x+Math.cos($)*ae,me=_.y+Math.sin($)*ae,x.lineTo(oe,me),$+=ue,oe=_.x+Math.cos($)*ee,me=_.y+Math.sin($)*ee,x.lineTo(oe,me),$+=ue;else x.moveTo(Math.floor(_.x),Math.floor(_.y)),x.lineTo(Math.floor(_.wobbleX),Math.floor(j)),x.lineTo(Math.floor(O),Math.floor(D)),x.lineTo(Math.floor(k),Math.floor(_.wobbleY));return x.closePath(),x.fill(),_.tick<_.totalTicks}function Pe(x,_,M,k,j){var O=_.slice(),D=x.getContext("2d"),N,L,B=m(function(V){function H(){N=L=null,D.clearRect(0,0,k.width,k.height),w.clear(),j(),V()}function W(){a&&!(k.width===o.width&&k.height===o.height)&&(k.width=x.width=o.width,k.height=x.height=o.height),!k.width&&!k.height&&(M(x),k.width=x.width,k.height=x.height),D.clearRect(0,0,k.width,k.height),O=O.filter(function(Z){return Le(D,Z)}),O.length?N=r.frame(W):H()}N=r.frame(W),L=H});return{addFettis:function(V){return O=O.concat(V),B},canvas:x,promise:B,reset:function(){N&&r.cancel(N),L&&L()}}}function ce(x,_){var M=!x,k=!!v(_||{},"resize"),j=!1,O=v(_,"disableForReducedMotion",Boolean),D=s&&!!v(_||{},"useWorker"),N=D?i():null,L=M?R:G,B=x&&N?!!x.__confetti_initialized:!1,V=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,H;function W($,ee,ae){for(var oe=v($,"particleCount",g),me=v($,"angle",Number),be=v($,"spread",Number),ue=v($,"startVelocity",Number),ba=v($,"decay",Number),Aa=v($,"gravity",Number),Sa=v($,"drift",Number),Bt=v($,"colors",P),Ca=v($,"ticks",Number),Ht=v($,"shapes"),Ea=v($,"scalar"),Pa=!!v($,"flat"),zt=z($),Vt=oe,dt=[],Ma=x.width*zt.x,Na=x.height*zt.y;Vt--;)dt.push(he({x:Ma,y:Na,angle:me,spread:be,startVelocity:ue,color:Bt[Vt%Bt.length],shape:Ht[b(0,Ht.length)],ticks:Ca,decay:ba,gravity:Aa,drift:Sa,scalar:Ea,flat:Pa}));return H?H.addFettis(dt):(H=Pe(x,dt,L,ee,ae),H.promise)}function Z($){var ee=O||v($,"disableForReducedMotion",Boolean),ae=v($,"zIndex",Number);if(ee&&V)return m(function(ue){ue()});M&&H?x=H.canvas:M&&!x&&(x=I(ae),document.body.appendChild(x)),k&&!B&&L(x);var oe={width:x.width,height:x.height};N&&!B&&N.init(x),B=!0,N&&(x.__confetti_initialized=!0);function me(){if(N){var ue={getBoundingClientRect:function(){if(!M)return x.getBoundingClientRect()}};L(ue),N.postMessage({resize:{width:ue.width,height:ue.height}});return}oe.width=oe.height=null}function be(){H=null,k&&(j=!1,n.removeEventListener("resize",me)),M&&x&&(document.body.contains(x)&&document.body.removeChild(x),x=null,B=!1)}return k&&!j&&(j=!0,n.addEventListener("resize",me,!1)),N?N.fire($,oe,be):W($,oe,be)}return Z.reset=function(){N&&N.reset(),H&&H.reset()},Z}var we;function le(){return we||(we=ce(null,{useWorker:!0,resize:!0})),we}function _a(x,_,M,k,j,O,D){var N=new Path2D(x),L=new Path2D;L.addPath(N,new DOMMatrix(_));var B=new Path2D;return B.addPath(L,new DOMMatrix([Math.cos(D)*j,Math.sin(D)*j,-Math.sin(D)*O,Math.cos(D)*O,M,k])),B}function xa(x){if(!u)throw new Error("path confetti are not supported in this browser");var _,M;typeof x=="string"?_=x:(_=x.path,M=x.matrix);var k=new Path2D(_),j=document.createElement("canvas"),O=j.getContext("2d");if(!M){for(var D=1e3,N=D,L=D,B=0,V=0,H,W,Z=0;Z<D;Z+=2)for(var $=0;$<D;$+=2)O.isPointInPath(k,Z,$,"nonzero")&&(N=Math.min(N,Z),L=Math.min(L,$),B=Math.max(B,Z),V=Math.max(V,$));H=B-N,W=V-L;var ee=10,ae=Math.min(ee/H,ee/W);M=[ae,0,0,ae,-Math.round(H/2+N)*ae,-Math.round(W/2+L)*ae]}return{type:"path",path:_,matrix:M}}function wa(x){var _,M=1,k="#000000",j='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof x=="string"?_=x:(_=x.text,M="scalar"in x?x.scalar:M,j="fontFamily"in x?x.fontFamily:j,k="color"in x?x.color:k);var O=10*M,D=""+O+"px "+j,N=new OffscreenCanvas(O,O),L=N.getContext("2d");L.font=D;var B=L.measureText(_),V=Math.ceil(B.actualBoundingBoxRight+B.actualBoundingBoxLeft),H=Math.ceil(B.actualBoundingBoxAscent+B.actualBoundingBoxDescent),W=2,Z=B.actualBoundingBoxLeft+W,$=B.actualBoundingBoxAscent+W;V+=W+W,H+=W+W,N=new OffscreenCanvas(V,H),L=N.getContext("2d"),L.font=D,L.fillStyle=k,L.fillText(_,Z,$);var ee=1/M;return{type:"bitmap",bitmap:N.transferToImageBitmap(),matrix:[ee,0,0,ee,-V*ee/2,-H*ee/2]}}t.exports=function(){return le().apply(this,arguments)},t.exports.reset=function(){le().reset()},t.exports.create=ce,t.exports.shapeFromPath=xa,t.exports.shapeFromText=wa})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),jt,!1);const tt=jt.exports;jt.exports.create;const rt=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?tt.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):tt)({...e})};rt.shapeFromPath=e=>tt.shapeFromPath({...e});rt.shapeFromText=e=>tt.shapeFromText({...e});const ho=()=>{const n=Date.now()+5e3,t={startVelocity:30,spread:360,ticks:60,zIndex:0},a=(s,u)=>Math.random()*(u-s)+s,o=window.setInterval(()=>{const s=n-Date.now();if(s<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((d,h)=>{h>0&&d.remove()}),clearInterval(o);const u=50*(s/5e3);rt({...t,particleCount:u,zIndex:50,origin:{x:a(.1,.3),y:Math.random()-.2}}),rt({...t,particleCount:u,zIndex:50,origin:{x:a(.7,.9),y:Math.random()-.2}})},250)},vo=e=>{const n=K(u=>({shadows:u.shadows,animation:u.animations,transparency:u.transparency})),[t,a]=Oe(u=>[u.setCardGameVisibility,u.toggleSettings]),o=re(u=>({isGameOver:u.isGameOver,isWon:u.isWon,reason:u.reason,score:u.score,reset:u.reset,continue:u.continue})),s=Mr.sort((u,d)=>d.score-u.score).findIndex(({score:u})=>o.score>=u);return C.useEffect(()=>{o.isGameOver&&o.isWon&&n.animation&&e.show&&(Y.victory.play(),ho())},[o.isGameOver,o.isWon,n.animation,e.show]),l.jsx("div",{className:e.show?"block":"hidden",children:o.isGameOver&&l.jsx("div",{className:S("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":n.transparency,"bg-background":!n.transparency}),children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[l.jsxs(kr,{className:"flex flex-col select-none",max:10,reverse:!0,children:[l.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),l.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[o.isWon&&l.jsx("div",{className:"text-green-500",children:"Vous avez gagné !"}),!o.isWon&&l.jsx("div",{className:"text-red-500",children:"Vous avez perdu !"})]})]}),o.reason&&l.jsx("p",{className:"text-4xl",children:{reputation:"Vous avez utilisé toute votre jauge de réputation...",mill:"Vous n'avez plus de carte...","soft-lock":"Votre main est injouable..."}[o.reason]}),o.isWon?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Pr,{className:"*:h-10 text-3xl"}),l.jsx("div",{className:S("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":n.shadows&&n.transparency,"bg-card/50":n.transparency,"bg-card":!n.transparency}),children:s>=0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-3xl",children:["Rank:"," ",l.jsxs("span",{className:S("font-changa text-4xl",bt(s)),children:["# ",s+1]})]}),l.jsxs("p",{className:"text-lg",children:[l.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contactez-moi"})," ","pour ",l.jsx("br",{})," soumettre votre score !"]})]}):l.jsxs("div",{className:"text-lg",children:["Vous n'êtes pas classé, ",l.jsx("br",{})," votre score est trop faible. ",l.jsx("br",{})," Essayez"," ",te.difficulty==="noob"||te.difficulty==="easy"?l.jsxs(l.Fragment,{children:["une difficulté plus élevée ! ",l.jsx("br",{}),l.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:a,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):l.jsx("div",{className:"text-lg group/helpers",children:At.filter(u=>{switch(o.reason){case"reputation":return u.includes("@reputation")||u.includes("gagnez la partie");case"mill":return u.includes("plus jouer")||u.includes("défausse")||u.includes("limitée")||u.includes("gagnez la partie");case"soft-lock":return u.includes("plus jouer")||u.includes("progressivement")||u.includes("cartes à jouer")||u.includes("gagnez la partie");default:return!1}}).map((u,d)=>l.jsx("div",{className:S("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":n.animation}),children:l.jsx("p",{className:S("hover:text-foreground",{[S("animate-trigger",{"delay-0":d===0,"delay-100":d===1,"delay-200":d===2,"delay-300":d===3,"delay-500":d===4,"delay-700":d===5})]:n.animation}),dangerouslySetInnerHTML:{__html:Se(u)}},d)}))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(pe,{onClick:()=>t(!1),variant:"default",children:"Quitter"}),l.jsx(pe,{onClick:()=>o.reset(),variant:o.isWon?"default":"cta",size:o.isWon?"default":"cta",children:o.isWon?"Nouvelle partie":"Recommencer"}),o.isWon&&l.jsx(pe,{onClick:()=>o.continue(),variant:"cta",size:"cta",children:"Mode infini"})]}),o.isWon&&l.jsx("div",{className:S({"animate-bounce w-full hover:duration-500":n.animation}),children:l.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:S("text-xl block mx-auto w-[300px] text-center border-2 border-upgrade rounded-xl py-3",{"transition-colors duration-500 ease-in-out":n.animation,"bg-card/50 hover:bg-card":n.transparency,"bg-card":!n.transparency}),children:"Buy me a coffee ☕️"})})]})})})};function yo(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function _o(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}function rr(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 210 293","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision"},C.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},C.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor","stroke-width":"0"})),C.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},C.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor","stroke-width":"0"})),C.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},C.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor","stroke-width":"0"}))))}const xo=e=>e.value==="0"?l.jsx(l.Fragment,{}):l.jsx("div",{className:S("text-2xl font-bold border border-white px-1 bg-money text-money-foreground",e.className),style:e.style,children:l.jsxs("div",{style:{transform:"translateZ(5px)"},children:[e.value,"M$"]})}),wo=e=>{const{shadows:n,perspective:t,animation:a,transparency:o,tilt:s}=K(c=>({blur:c.blur,shadows:c.shadows,perspective:c.perspective,animation:c.animations,transparency:c.transparency,tilt:c.tilt})),{handSize:u,isOperationInProgress:d,isGameOver:h,play:m,canTriggerEffect:w,parsedCost:r}=re(c=>{const f=Mt(c,e.card);return{handSize:c.hand.length,isOperationInProgress:c.isOperationInProgress,play:c.play,isGameOver:c.isGameOver,parsedCost:f,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(c,e.card)}}),i=e.position-(u-1)/2;return l.jsx("div",{className:S("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{"hover:-translate-y-14":e.card.state!=="removed",[S("transition-transform",e.card.state)]:a,grayscale:h||!r.canBeBuy||!w,"cursor-not-allowed":d}),onClick:async()=>{!d&&!h&&await m(e.card)},onContextMenu:c=>{c.preventDefault(),ft(e.card)&&e.card.url&&window.open(e.card.url,"_blank")},style:{marginBottom:`${20-Math.abs(i)*5}px`,rotate:`${i*2}deg`,transitionDuration:a?"0.3s":"0",transitionTimingFunction:a?"ease-in-out":"linear"},children:e.card.state==="removed"&&a?l.jsx("div",{className:"relative",children:Math.random()<.5?l.jsx(rr,{className:S("absolute scale-x-[-1]",{"text-card/60":o,"text-card":!o}),style:{maskClip:"fill-box"}}):l.jsx(rr,{className:S("absolute",{"text-card/60":o,"text-card":!o}),style:{maskClip:"fill-box"}})}):l.jsxs(kr,{scale:1.1,className:S("group/game-card",{"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":n},"flex flex-col w-full h-full rounded-xl","*:shrink-0",{[S({"bg-card/60":o,"bg-card":!o})]:e.card.effect.type==="support"}),children:[ft(e.card)&&e.card.detail&&l.jsxs("div",{className:S("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":n,"transition-opacity duration-200 ease-in-out delay-1000":a,"opacity-0 group-hover/game-card:opacity-100 flex":o,"hidden group-hover/game-card:flex":!o}),children:[l.jsx(yo,{className:"w-10"}),l.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),l.jsx(_o,{className:"w-10 self-end"})]}),t&&s&&l.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":o,"bg-card":!o}),style:{transform:"translateZ(-20px)"}}),l.jsxs("div",{className:S("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[S({"bg-support/50":o,"bg-support":!o})]:e.card.effect.type==="support"}),style:{transformStyle:t?"preserve-3d":"flat"},children:[l.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t?"translateZ(5px)":""} translateX(-15px)`,transformStyle:t?"preserve-3d":"flat"},children:r.needs==="energy"?l.jsx(It,{isCost:!0,type:"energy",value:r.cost,iconScale:"0.75",style:{transform:t?"translateZ(5px)":"none",transformStyle:t?"preserve-3d":"flat"}}):l.jsx(xo,{value:String(r.cost),style:{transform:`${t?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:t?"preserve-3d":"flat"}})}),l.jsx("h2",{className:S("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[S({"left-3 text-lg":r.needs==="money"&&e.card.name.length>7,"left-7":r.needs==="money"&&r.cost>99,"text-md":e.card.name.length>11})]:r.cost>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:t?"translateZ(5px)":"none"},children:e.card.name})]}),ft(e.card)?l.jsx(bo,{card:e.card}):l.jsx(So,{card:e.card}),l.jsxs("div",{className:S("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/60":o,"bg-card":!o}),style:{transformStyle:t?"preserve-3d":"flat"},children:[l.jsx("p",{className:"py-[10px] px-[15px] text-center",style:{transform:t?"translateZ(10px)":"none",transformStyle:t?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&l.jsx("div",{className:S("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":o,"text-muted-foreground":!o}),children:"Éphémère"})]}),l.jsx(Wt,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),l.jsx(Wt,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),l.jsx(go,{})]})})},bo=e=>{const{shadows:n,perspective:t,transparency:a,animation:o}=K(s=>({shadows:s.shadows,perspective:s.perspective,transparency:s.transparency,animation:s.animations}));return l.jsxs("div",{className:"group/image relative pointer-events-auto",style:{transformStyle:t?"preserve-3d":"flat"},children:[l.jsx("div",{className:S({"inset-shadow":n},"relative flex justify-center items-center"),style:{transformStyle:t?"preserve-3d":"flat"},children:l.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:t?"translateZ(-15px)":"none"}})}),e.card.description&&l.jsx("div",{className:S("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":a}),style:{transform:t?"translateZ(-5px)":"none"},children:l.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},Ao=["React","Knex"],So=e=>{const{perspective:n,animation:t}=K(a=>({perspective:a.perspective,animation:a.animations}));return l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:n?"translateZ(15px)":"none"},children:l.jsx("img",{src:e.card.logo,alt:`Logo de la techno "${e.card.name}"`,className:S("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":t&&Ao.includes(e.card.name)})})})})};function Co(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const Eo=e=>{const{shadows:n,animation:t,transparency:a}=K(o=>({shadows:o.shadows,animation:o.animations,transparency:o.transparency}));return l.jsxs("div",{className:S("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"translate-x-0":e.show}),children:[l.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":n})}),l.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":n})}),l.jsx(ze,{children:l.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[l.jsx("div",{className:"text-3xl",children:"Scoreboard"}),l.jsx("div",{className:S("rounded-xl p-5",{"bg-card/40":a,"bg-card":!a}),children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{}),l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Mode"})]})}),l.jsx("tbody",{children:Mr.sort((o,s)=>s.score-o.score).map((o,s)=>l.jsxs("tr",{className:S("*:whitespace-nowrap",bt(s)),children:[l.jsx("td",{children:s<3?l.jsx(Co,{className:S("w-4",bt(s))}):""}),l.jsxs("th",{children:["# ",s+1]}),l.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:o.name}),l.jsxs("td",{children:[o.score.toLocaleString()," pts"]}),l.jsx("td",{children:o.mode})]},s))})]})}),l.jsxs("p",{className:"text-muted-foreground text-sm bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si vous avez un meilleur score, vous pouvez me le ",l.jsx("br",{}),"soumettre en me contactant sur Discord ou LinkedIn !"]})]})})]})},Po=e=>{const n=re(),t=K(o=>o.animations),a=n.energy+n.reputation<Ye||n.hand.length>=Re||n.deck.length===0||n.isOperationInProgress;return l.jsx("div",{className:S("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0",{"transition-opacity duration-500 ease-in-out":t,"opacity-100":e.show}),children:l.jsxs(ze,{className:"space-y-4",children:[l.jsx("div",{className:"text-3xl",children:"Game Actions"}),l.jsxs(pe,{className:S("flex justify-start gap-2",{grayscale:a}),onClick:async()=>{n.setOperationInProgress("infinity-draw",!0),Y.play.play(),await n.addEnergy(-Ye,{skipGameOverPause:!0}),await n.draw(1,{skipGameOverPause:!0}),await n.triggerUpgradeEvent("eachDay",{skipGameOverPause:!0}),Te(n)&&await q(2e3),n.setOperationInProgress("infinity-draw",!1)},disabled:a,size:"cta",children:[l.jsx(It,{value:Ye,type:"energy",isCost:!0,className:"w-8"})," ","Piocher une carte"]}),!1]})})},Mo=()=>{const e=Oe(a=>a.isCardGameVisible),[n,t]=C.useState(localStorage.getItem("muted")==="true");return C.useEffect(()=>{ie.mute(n,fe),localStorage.setItem("muted",JSON.stringify(n))},[n]),C.useEffect(()=>{e?(ie.play(fe),ie.fade(0,.5,1e3,fe)):ie.fade(.5,0,1e3,fe)},[e]),[n,()=>t(!n)]};function No(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),C.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),C.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function ko(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{fill:"none","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M416 432 64 80"}),C.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),C.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}const To=e=>{const[n,t]=Mo(),[a,o]=K(u=>[u.animations,u.transparency]),s=Oe(u=>u.toggleSettings);return l.jsxs("div",{className:S("absolute top-4 right-16 z-50 gap-2","translate-x-full pointer-events-none",{hidden:o,"opacity-0":!o,"transition-all duration-500 ease-in-out":a,"translate-x-0 opacity-100 flex pointer-events-auto":e.show}),children:[l.jsx(pe,{onClick:s,variant:"icon",size:"icon",children:l.jsx(Er,{})}),l.jsx(pe,{onClick:t,variant:"icon",size:"icon",children:n?l.jsx(ko,{}):l.jsx(No,{})})]})};var Io="Label",Tr=y.forwardRef((e,n)=>l.jsx(X.label,{...e,ref:n,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Tr.displayName=Io;var Ir=Tr;const jo=Ia("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=y.forwardRef(({className:e,...n},t)=>l.jsx(Ir,{ref:t,className:S(jo(),e),...n}));St.displayName=Ir.displayName;function U(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function _e(e){const n=y.useRef(e);return y.useEffect(()=>{n.current=e}),y.useMemo(()=>(...t)=>{var a;return(a=n.current)==null?void 0:a.call(n,...t)},[])}function ct({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,o]=Oo({defaultProp:n,onChange:t}),s=e!==void 0,u=s?e:a,d=_e(t),h=y.useCallback(m=>{if(s){const r=typeof m=="function"?m(e):m;r!==e&&d(r)}else o(m)},[s,e,o,d]);return[u,h]}function Oo({defaultProp:e,onChange:n}){const t=y.useState(e),[a]=t,o=y.useRef(a),s=_e(n);return y.useEffect(()=>{o.current!==a&&(s(a),o.current=a)},[a,o,s]),t}function jr(e){const n=y.useRef({value:e,previous:e});return y.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var He=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function Or(e){const[n,t]=y.useState(void 0);return He(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let u,d;if("borderBoxSize"in s){const h=s.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;t({width:u,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),n}function Ro(e,n){return y.useReducer((t,a)=>n[t][a]??t,e)}var De=e=>{const{present:n,children:t}=e,a=Do(n),o=typeof t=="function"?t({present:a.isPresent}):y.Children.only(t),s=Q(a.ref,Lo(o));return typeof t=="function"||a.isPresent?y.cloneElement(o,{ref:s}):null};De.displayName="Presence";function Do(e){const[n,t]=y.useState(),a=y.useRef({}),o=y.useRef(e),s=y.useRef("none"),u=e?"mounted":"unmounted",[d,h]=Ro(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=Ve(a.current);s.current=d==="mounted"?m:"none"},[d]),He(()=>{const m=a.current,w=o.current;if(w!==e){const i=s.current,c=Ve(m);e?h("MOUNT"):c==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(w&&i!==c?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),He(()=>{if(n){const m=r=>{const c=Ve(a.current).includes(r.animationName);r.target===n&&c&&gr.flushSync(()=>h("ANIMATION_END"))},w=r=>{r.target===n&&(s.current=Ve(a.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",m),n.addEventListener("animationend",m),()=>{n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",m),n.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[n,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(m=>{m&&(a.current=getComputedStyle(m)),t(m)},[])}}function Ve(e){return(e==null?void 0:e.animationName)||"none"}function Lo(e){var a,o;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Ot="Checkbox",[Fo,nc]=xe(Ot),[Go,$o]=Fo(Ot),Rr=y.forwardRef((e,n)=>{const{__scopeCheckbox:t,name:a,checked:o,defaultChecked:s,required:u,disabled:d,value:h="on",onCheckedChange:m,...w}=e,[r,i]=y.useState(null),c=Q(n,E=>i(E)),f=y.useRef(!1),p=r?!!r.closest("form"):!0,[v=!1,g]=ct({prop:o,defaultProp:s,onChange:m}),b=y.useRef(v);return y.useEffect(()=>{const E=r==null?void 0:r.form;if(E){const P=()=>g(b.current);return E.addEventListener("reset",P),()=>E.removeEventListener("reset",P)}},[r,g]),l.jsxs(Go,{scope:t,state:v,disabled:d,children:[l.jsx(X.button,{type:"button",role:"checkbox","aria-checked":Ce(v)?"mixed":v,"aria-required":u,"data-state":Fr(v),"data-disabled":d?"":void 0,disabled:d,value:h,...w,ref:c,onKeyDown:U(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:U(e.onClick,E=>{g(P=>Ce(P)?!0:!P),p&&(f.current=E.isPropagationStopped(),f.current||E.stopPropagation())})}),p&&l.jsx(Bo,{control:r,bubbles:!f.current,name:a,value:h,checked:v,required:u,disabled:d,style:{transform:"translateX(-100%)"}})]})});Rr.displayName=Ot;var Dr="CheckboxIndicator",Lr=y.forwardRef((e,n)=>{const{__scopeCheckbox:t,forceMount:a,...o}=e,s=$o(Dr,t);return l.jsx(De,{present:a||Ce(s.state)||s.state===!0,children:l.jsx(X.span,{"data-state":Fr(s.state),"data-disabled":s.disabled?"":void 0,...o,ref:n,style:{pointerEvents:"none",...e.style}})})});Lr.displayName=Dr;var Bo=e=>{const{control:n,checked:t,bubbles:a=!0,...o}=e,s=y.useRef(null),u=jr(t),d=Or(n);return y.useEffect(()=>{const h=s.current,m=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==t&&r){const i=new Event("click",{bubbles:a});h.indeterminate=Ce(t),r.call(h,Ce(t)?!1:t),h.dispatchEvent(i)}},[u,t,a]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:Ce(t)?!1:t,...o,tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ce(e){return e==="indeterminate"}function Fr(e){return Ce(e)?"indeterminate":e?"checked":"unchecked"}var Gr=Rr,Ho=Lr;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$r=(...e)=>e.filter((n,t,a)=>!!n&&a.indexOf(n)===t).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=y.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:s,iconNode:u,...d},h)=>y.createElement("svg",{ref:h,...Vo,width:n,height:n,stroke:e,strokeWidth:a?Number(t)*24/Number(n):t,className:$r("lucide",o),...d},[...u.map(([m,w])=>y.createElement(m,w)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=(e,n)=>{const t=y.forwardRef(({className:a,...o},s)=>y.createElement(Wo,{ref:s,iconNode:n,className:$r(`lucide-${zo(e)}`,a),...o}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Br("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Br("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Hr=y.forwardRef(({className:e,...n},t)=>l.jsx(Gr,{ref:t,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:l.jsx(Ho,{className:S("flex items-center justify-center text-current"),children:l.jsx(qo,{className:"h-4 w-4"})})}));Hr.displayName=Gr.displayName;function Xo(e){const n=e+"CollectionProvider",[t,a]=xe(n),[o,s]=t(n,{collectionRef:{current:null},itemMap:new Map}),u=c=>{const{scope:f,children:p}=c,v=C.useRef(null),g=C.useRef(new Map).current;return l.jsx(o,{scope:f,itemMap:g,collectionRef:v,children:p})};u.displayName=n;const d=e+"CollectionSlot",h=C.forwardRef((c,f)=>{const{scope:p,children:v}=c,g=s(d,p),b=Q(f,g.collectionRef);return l.jsx(Qe,{ref:b,children:v})});h.displayName=d;const m=e+"CollectionItemSlot",w="data-radix-collection-item",r=C.forwardRef((c,f)=>{const{scope:p,children:v,...g}=c,b=C.useRef(null),E=Q(f,b),P=s(m,p);return C.useEffect(()=>(P.itemMap.set(b,{ref:b,...g}),()=>void P.itemMap.delete(b))),l.jsx(Qe,{[w]:"",ref:E,children:v})});r.displayName=m;function i(c){const f=s(e+"CollectionConsumer",c);return C.useCallback(()=>{const v=f.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${w}]`));return Array.from(f.itemMap.values()).sort((P,T)=>g.indexOf(P.ref.current)-g.indexOf(T.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:u,Slot:h,ItemSlot:r},i,a]}var Yo=ja.useId||(()=>{}),Zo=0;function Ze(e){const[n,t]=y.useState(Yo());return He(()=>{t(a=>a??String(Zo++))},[e]),n?`radix-${n}`:""}var Ko=y.createContext(void 0);function zr(e){const n=y.useContext(Ko);return e||n||"ltr"}var pt="rovingFocusGroup.onEntryFocus",Jo={bubbles:!1,cancelable:!0},lt="RovingFocusGroup",[Ct,Vr,Qo]=Xo(lt),[ei,Wr]=xe(lt,[Qo]),[ti,ri]=ei(lt),qr=y.forwardRef((e,n)=>l.jsx(Ct.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Ct.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ni,{...e,ref:n})})}));qr.displayName=lt;var ni=y.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:o=!1,dir:s,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:w=!1,...r}=e,i=y.useRef(null),c=Q(n,i),f=zr(s),[p=null,v]=ct({prop:u,defaultProp:d,onChange:h}),[g,b]=y.useState(!1),E=_e(m),P=Vr(t),T=y.useRef(!1),[z,R]=y.useState(0);return y.useEffect(()=>{const G=i.current;if(G)return G.addEventListener(pt,E),()=>G.removeEventListener(pt,E)},[E]),l.jsx(ti,{scope:t,orientation:a,dir:f,loop:o,currentTabStopId:p,onItemFocus:y.useCallback(G=>v(G),[v]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(G=>G+1),[]),onFocusableItemRemove:y.useCallback(()=>R(G=>G-1),[]),children:l.jsx(X.div,{tabIndex:g||z===0?-1:0,"data-orientation":a,...r,ref:c,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{T.current=!0}),onFocus:U(e.onFocus,G=>{const I=!T.current;if(G.target===G.currentTarget&&I&&!g){const ne=new CustomEvent(pt,Jo);if(G.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const he=P().filter(le=>le.focusable),Le=he.find(le=>le.active),Pe=he.find(le=>le.id===p),we=[Le,Pe,...he].filter(Boolean).map(le=>le.ref.current);Yr(we,w)}}T.current=!1}),onBlur:U(e.onBlur,()=>b(!1))})})}),Ur="RovingFocusGroupItem",Xr=y.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:o=!1,tabStopId:s,...u}=e,d=Ze(),h=s||d,m=ri(Ur,t),w=m.currentTabStopId===h,r=Vr(t),{onFocusableItemAdd:i,onFocusableItemRemove:c}=m;return y.useEffect(()=>{if(a)return i(),()=>c()},[a,i,c]),l.jsx(Ct.ItemSlot,{scope:t,id:h,focusable:a,active:o,children:l.jsx(X.span,{tabIndex:w?0:-1,"data-orientation":m.orientation,...u,ref:n,onMouseDown:U(e.onMouseDown,f=>{a?m.onItemFocus(h):f.preventDefault()}),onFocus:U(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:U(e.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){m.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const p=ii(f,m.orientation,m.dir);if(p!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let g=r().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")g.reverse();else if(p==="prev"||p==="next"){p==="prev"&&g.reverse();const b=g.indexOf(f.currentTarget);g=m.loop?si(g,b+1):g.slice(b+1)}setTimeout(()=>Yr(g))}})})})});Xr.displayName=Ur;var ai={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oi(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ii(e,n,t){const a=oi(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ai[a]}function Yr(e,n=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:n}),document.activeElement!==t))return}function si(e,n){return e.map((t,a)=>e[(n+a)%e.length])}var ci=qr,li=Xr,Rt="Radio",[ui,Zr]=xe(Rt),[di,fi]=ui(Rt),Kr=y.forwardRef((e,n)=>{const{__scopeRadio:t,name:a,checked:o=!1,required:s,disabled:u,value:d="on",onCheck:h,...m}=e,[w,r]=y.useState(null),i=Q(n,p=>r(p)),c=y.useRef(!1),f=w?!!w.closest("form"):!0;return l.jsxs(di,{scope:t,checked:o,disabled:u,children:[l.jsx(X.button,{type:"button",role:"radio","aria-checked":o,"data-state":en(o),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:i,onClick:U(e.onClick,p=>{o||h==null||h(),f&&(c.current=p.isPropagationStopped(),c.current||p.stopPropagation())})}),f&&l.jsx(pi,{control:w,bubbles:!c.current,name:a,value:d,checked:o,required:s,disabled:u,style:{transform:"translateX(-100%)"}})]})});Kr.displayName=Rt;var Jr="RadioIndicator",Qr=y.forwardRef((e,n)=>{const{__scopeRadio:t,forceMount:a,...o}=e,s=fi(Jr,t);return l.jsx(De,{present:a||s.checked,children:l.jsx(X.span,{"data-state":en(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:n})})});Qr.displayName=Jr;var pi=e=>{const{control:n,checked:t,bubbles:a=!0,...o}=e,s=y.useRef(null),u=jr(t),d=Or(n);return y.useEffect(()=>{const h=s.current,m=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==t&&r){const i=new Event("click",{bubbles:a});r.call(h,t),h.dispatchEvent(i)}},[u,t,a]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function en(e){return e?"checked":"unchecked"}var mi=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Dt="RadioGroup",[gi,ac]=xe(Dt,[Wr,Zr]),tn=Wr(),rn=Zr(),[hi,vi]=gi(Dt),nn=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,name:a,defaultValue:o,value:s,required:u=!1,disabled:d=!1,orientation:h,dir:m,loop:w=!0,onValueChange:r,...i}=e,c=tn(t),f=zr(m),[p,v]=ct({prop:s,defaultProp:o,onChange:r});return l.jsx(hi,{scope:t,name:a,required:u,disabled:d,value:p,onValueChange:v,children:l.jsx(ci,{asChild:!0,...c,orientation:h,dir:f,loop:w,children:l.jsx(X.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":d?"":void 0,dir:f,...i,ref:n})})})});nn.displayName=Dt;var an="RadioGroupItem",on=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,disabled:a,...o}=e,s=vi(an,t),u=s.disabled||a,d=tn(t),h=rn(t),m=y.useRef(null),w=Q(n,m),r=s.value===o.value,i=y.useRef(!1);return y.useEffect(()=>{const c=p=>{mi.includes(p.key)&&(i.current=!0)},f=()=>i.current=!1;return document.addEventListener("keydown",c),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",f)}},[]),l.jsx(li,{asChild:!0,...d,focusable:!u,active:r,children:l.jsx(Kr,{disabled:u,required:s.required,checked:r,...h,...o,name:s.name,ref:w,onCheck:()=>s.onValueChange(o.value),onKeyDown:U(c=>{c.key==="Enter"&&c.preventDefault()}),onFocus:U(o.onFocus,()=>{var c;i.current&&((c=m.current)==null||c.click())})})})});on.displayName=an;var yi="RadioGroupIndicator",sn=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,...a}=e,o=rn(t);return l.jsx(Qr,{...o,...a,ref:n})});sn.displayName=yi;var cn=nn,ln=on,_i=sn;const un=y.forwardRef(({className:e,...n},t)=>l.jsx(cn,{className:S("grid gap-2",e),...n,ref:t}));un.displayName=cn.displayName;const dn=y.forwardRef(({className:e,...n},t)=>l.jsx(ln,{ref:t,className:S("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:l.jsx(_i,{className:"flex items-center justify-center",children:l.jsx(Uo,{className:"h-2.5 w-2.5 fill-current text-current"})})}));dn.displayName=ln.displayName;function xi(e,n=globalThis==null?void 0:globalThis.document){const t=_e(e);y.useEffect(()=>{const a=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[t,n])}var wi="DismissableLayer",Et="dismissableLayer.update",bi="dismissableLayer.pointerDownOutside",Ai="dismissableLayer.focusOutside",nr,fn=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pn=y.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:u,onDismiss:d,...h}=e,m=y.useContext(fn),[w,r]=y.useState(null),i=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,c]=y.useState({}),f=Q(n,R=>r(R)),p=Array.from(m.layers),[v]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(v),b=w?p.indexOf(w):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,P=b>=g,T=Ei(R=>{const G=R.target,I=[...m.branches].some(ne=>ne.contains(G));!P||I||(o==null||o(R),u==null||u(R),R.defaultPrevented||d==null||d())},i),z=Pi(R=>{const G=R.target;[...m.branches].some(ne=>ne.contains(G))||(s==null||s(R),u==null||u(R),R.defaultPrevented||d==null||d())},i);return xi(R=>{b===m.layers.size-1&&(a==null||a(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},i),y.useEffect(()=>{if(w)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(nr=i.body.style.pointerEvents,i.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(w)),m.layers.add(w),ar(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(i.body.style.pointerEvents=nr)}},[w,i,t,m]),y.useEffect(()=>()=>{w&&(m.layers.delete(w),m.layersWithOutsidePointerEventsDisabled.delete(w),ar())},[w,m]),y.useEffect(()=>{const R=()=>c({});return document.addEventListener(Et,R),()=>document.removeEventListener(Et,R)},[]),l.jsx(X.div,{...h,ref:f,style:{pointerEvents:E?P?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,z.onFocusCapture),onBlurCapture:U(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,T.onPointerDownCapture)})});pn.displayName=wi;var Si="DismissableLayerBranch",Ci=y.forwardRef((e,n)=>{const t=y.useContext(fn),a=y.useRef(null),o=Q(n,a);return y.useEffect(()=>{const s=a.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),l.jsx(X.div,{...e,ref:o})});Ci.displayName=Si;function Ei(e,n=globalThis==null?void 0:globalThis.document){const t=_e(e),a=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const s=d=>{if(d.target&&!a.current){let h=function(){mn(bi,t,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=h,n.addEventListener("click",o.current,{once:!0})):h()}else n.removeEventListener("click",o.current);a.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",s),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>a.current=!0}}function Pi(e,n=globalThis==null?void 0:globalThis.document){const t=_e(e),a=y.useRef(!1);return y.useEffect(()=>{const o=s=>{s.target&&!a.current&&mn(Ai,t,{originalEvent:s},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ar(){const e=new CustomEvent(Et);document.dispatchEvent(e)}function mn(e,n,t,{discrete:a}){const o=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),a?Za(o,s):o.dispatchEvent(s)}var mt="focusScope.autoFocusOnMount",gt="focusScope.autoFocusOnUnmount",or={bubbles:!1,cancelable:!0},Mi="FocusScope",gn=y.forwardRef((e,n)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...u}=e,[d,h]=y.useState(null),m=_e(o),w=_e(s),r=y.useRef(null),i=Q(n,p=>h(p)),c=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let p=function(E){if(c.paused||!d)return;const P=E.target;d.contains(P)?r.current=P:ye(r.current,{select:!0})},v=function(E){if(c.paused||!d)return;const P=E.relatedTarget;P!==null&&(d.contains(P)||ye(r.current,{select:!0}))},g=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&ye(d)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(g);return d&&b.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[a,d,c.paused]),y.useEffect(()=>{if(d){sr.add(c);const p=document.activeElement;if(!d.contains(p)){const g=new CustomEvent(mt,or);d.addEventListener(mt,m),d.dispatchEvent(g),g.defaultPrevented||(Ni(Oi(hn(d)),{select:!0}),document.activeElement===p&&ye(d))}return()=>{d.removeEventListener(mt,m),setTimeout(()=>{const g=new CustomEvent(gt,or);d.addEventListener(gt,w),d.dispatchEvent(g),g.defaultPrevented||ye(p??document.body,{select:!0}),d.removeEventListener(gt,w),sr.remove(c)},0)}}},[d,m,w,c]);const f=y.useCallback(p=>{if(!t&&!a||c.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(v&&g){const b=p.currentTarget,[E,P]=ki(b);E&&P?!p.shiftKey&&g===P?(p.preventDefault(),t&&ye(E,{select:!0})):p.shiftKey&&g===E&&(p.preventDefault(),t&&ye(P,{select:!0})):g===b&&p.preventDefault()}},[t,a,c.paused]);return l.jsx(X.div,{tabIndex:-1,...u,ref:i,onKeyDown:f})});gn.displayName=Mi;function Ni(e,{select:n=!1}={}){const t=document.activeElement;for(const a of e)if(ye(a,{select:n}),document.activeElement!==t)return}function ki(e){const n=hn(e),t=ir(n,e),a=ir(n.reverse(),e);return[t,a]}function hn(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function ir(e,n){for(const t of e)if(!Ti(t,{upTo:n}))return t}function Ti(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ii(e){return e instanceof HTMLInputElement&&"select"in e}function ye(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Ii(e)&&n&&e.select()}}var sr=ji();function ji(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=cr(e,n),e.unshift(n)},remove(n){var t;e=cr(e,n),(t=e[0])==null||t.resume()}}}function cr(e,n){const t=[...e],a=t.indexOf(n);return a!==-1&&t.splice(a,1),t}function Oi(e){return e.filter(n=>n.tagName!=="A")}var Ri="Portal",vn=y.forwardRef((e,n)=>{var d;const{container:t,...a}=e,[o,s]=y.useState(!1);He(()=>s(!0),[]);const u=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?Oa.createPortal(l.jsx(X.div,{...a,ref:n}),u):null});vn.displayName=Ri;var ht=0;function Di(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lr()),document.body.insertAdjacentElement("beforeend",e[1]??lr()),ht++,()=>{ht===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),ht--}},[])}function lr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var de=function(){return de=Object.assign||function(n){for(var t,a=1,o=arguments.length;a<o;a++){t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},de.apply(this,arguments)};function yn(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]]);return t}function Li(e,n,t){if(t||arguments.length===2)for(var a=0,o=n.length,s;a<o;a++)(s||!(a in n))&&(s||(s=Array.prototype.slice.call(n,0,a)),s[a]=n[a]);return e.concat(s||Array.prototype.slice.call(n))}var Ke="right-scroll-bar-position",Je="width-before-scroll-bar",Fi="with-scroll-bars-hidden",Gi="--removed-body-scroll-bar-size";function vt(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function $i(e,n){var t=y.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(a){var o=t.value;o!==a&&(t.value=a,t.callback(a,o))}}}})[0];return t.callback=n,t.facade}var Bi=typeof window<"u"?y.useLayoutEffect:y.useEffect,ur=new WeakMap;function Hi(e,n){var t=$i(null,function(a){return e.forEach(function(o){return vt(o,a)})});return Bi(function(){var a=ur.get(t);if(a){var o=new Set(a),s=new Set(e),u=t.current;o.forEach(function(d){s.has(d)||vt(d,null)}),s.forEach(function(d){o.has(d)||vt(d,u)})}ur.set(t,e)},[e]),t}function zi(e){return e}function Vi(e,n){n===void 0&&(n=zi);var t=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(s){var u=n(s,a);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(s){for(a=!0;t.length;){var u=t;t=[],u.forEach(s)}t={push:function(d){return s(d)},filter:function(){return t}}},assignMedium:function(s){a=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(s),u=t}var h=function(){var w=u;u=[],w.forEach(s)},m=function(){return Promise.resolve().then(h)};m(),t={push:function(w){u.push(w),m()},filter:function(w){return u=u.filter(w),t}}}};return o}function Wi(e){e===void 0&&(e={});var n=Vi(null);return n.options=de({async:!0,ssr:!1},e),n}var _n=function(e){var n=e.sideCar,t=yn(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,de({},t))};_n.isSideCarExport=!0;function qi(e,n){return e.useMedium(n),_n}var xn=Wi(),yt=function(){},ut=y.forwardRef(function(e,n){var t=y.useRef(null),a=y.useState({onScrollCapture:yt,onWheelCapture:yt,onTouchMoveCapture:yt}),o=a[0],s=a[1],u=e.forwardProps,d=e.children,h=e.className,m=e.removeScrollBar,w=e.enabled,r=e.shards,i=e.sideCar,c=e.noIsolation,f=e.inert,p=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,E=yn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=i,T=Hi([t,n]),z=de(de({},E),o);return y.createElement(y.Fragment,null,w&&y.createElement(P,{sideCar:xn,removeScrollBar:m,shards:r,noIsolation:c,inert:f,setCallbacks:s,allowPinchZoom:!!p,lockRef:t,gapMode:b}),u?y.cloneElement(y.Children.only(d),de(de({},z),{ref:T})):y.createElement(g,de({},z,{className:h,ref:T}),d))});ut.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ut.classNames={fullWidth:Je,zeroRight:Ke};var Ui=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Ui();return n&&e.setAttribute("nonce",n),e}function Yi(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function Zi(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var Ki=function(){var e=0,n=null;return{add:function(t){e==0&&(n=Xi())&&(Yi(n,t),Zi(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},Ji=function(){var e=Ki();return function(n,t){y.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},wn=function(){var e=Ji(),n=function(t){var a=t.styles,o=t.dynamic;return e(a,o),null};return n},Qi={left:0,top:0,right:0,gap:0},_t=function(e){return parseInt(e||"",10)||0},es=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[_t(t),_t(a),_t(o)]},ts=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Qi;var n=es(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-t+n[2]-n[0])}},rs=wn(),Ie="data-scroll-locked",ns=function(e,n,t,a){var o=e.left,s=e.top,u=e.right,d=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Fi,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Ie,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ke,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Je,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Ke," .").concat(Ke,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Je," .").concat(Je,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ie,`] {
    `).concat(Gi,": ").concat(d,`px;
  }
`)},dr=function(){var e=parseInt(document.body.getAttribute(Ie)||"0",10);return isFinite(e)?e:0},as=function(){y.useEffect(function(){return document.body.setAttribute(Ie,(dr()+1).toString()),function(){var e=dr()-1;e<=0?document.body.removeAttribute(Ie):document.body.setAttribute(Ie,e.toString())}},[])},os=function(e){var n=e.noRelative,t=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;as();var s=y.useMemo(function(){return ts(o)},[o]);return y.createElement(rs,{styles:ns(s,!n,o,t?"":"!important")})},Pt=!1;if(typeof window<"u")try{var We=Object.defineProperty({},"passive",{get:function(){return Pt=!0,!0}});window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Pt=!1}var Me=Pt?{passive:!1}:!1,is=function(e){return e.tagName==="TEXTAREA"},bn=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!is(e)&&t[n]==="visible")},ss=function(e){return bn(e,"overflowY")},cs=function(e){return bn(e,"overflowX")},fr=function(e,n){var t=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=An(e,a);if(o){var s=Sn(e,a),u=s[1],d=s[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},ls=function(e){var n=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[n,t,a]},us=function(e){var n=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[n,t,a]},An=function(e,n){return e==="v"?ss(n):cs(n)},Sn=function(e,n){return e==="v"?ls(n):us(n)},ds=function(e,n){return e==="h"&&n==="rtl"?-1:1},fs=function(e,n,t,a,o){var s=ds(e,window.getComputedStyle(n).direction),u=s*a,d=t.target,h=n.contains(d),m=!1,w=u>0,r=0,i=0;do{var c=Sn(e,d),f=c[0],p=c[1],v=c[2],g=p-v-s*f;(f||g)&&An(e,d)&&(r+=g,i+=f),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(n.contains(d)||n===d));return(w&&(Math.abs(r)<1||!o)||!w&&(Math.abs(i)<1||!o))&&(m=!0),m},qe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pr=function(e){return[e.deltaX,e.deltaY]},mr=function(e){return e&&"current"in e?e.current:e},ps=function(e,n){return e[0]===n[0]&&e[1]===n[1]},ms=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gs=0,Ne=[];function hs(e){var n=y.useRef([]),t=y.useRef([0,0]),a=y.useRef(),o=y.useState(gs++)[0],s=y.useState(wn)[0],u=y.useRef(e);y.useEffect(function(){u.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Li([e.lockRef.current],(e.shards||[]).map(mr),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2)return!u.current.allowPinchZoom;var g=qe(p),b=t.current,E="deltaX"in p?p.deltaX:b[0]-g[0],P="deltaY"in p?p.deltaY:b[1]-g[1],T,z=p.target,R=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in p&&R==="h"&&z.type==="range")return!1;var G=fr(R,z);if(!G)return!0;if(G?T=R:(T=R==="v"?"h":"v",G=fr(R,z)),!G)return!1;if(!a.current&&"changedTouches"in p&&(E||P)&&(a.current=T),!T)return!0;var I=a.current||T;return fs(I,v,p,I==="h"?E:P,!0)},[]),h=y.useCallback(function(p){var v=p;if(!(!Ne.length||Ne[Ne.length-1]!==s)){var g="deltaY"in v?pr(v):qe(v),b=n.current.filter(function(T){return T.name===v.type&&(T.target===v.target||v.target===T.shadowParent)&&ps(T.delta,g)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var E=(u.current.shards||[]).map(mr).filter(Boolean).filter(function(T){return T.contains(v.target)}),P=E.length>0?d(v,E[0]):!u.current.noIsolation;P&&v.cancelable&&v.preventDefault()}}},[]),m=y.useCallback(function(p,v,g,b){var E={name:p,delta:v,target:g,should:b,shadowParent:vs(g)};n.current.push(E),setTimeout(function(){n.current=n.current.filter(function(P){return P!==E})},1)},[]),w=y.useCallback(function(p){t.current=qe(p),a.current=void 0},[]),r=y.useCallback(function(p){m(p.type,pr(p),p.target,d(p,e.lockRef.current))},[]),i=y.useCallback(function(p){m(p.type,qe(p),p.target,d(p,e.lockRef.current))},[]);y.useEffect(function(){return Ne.push(s),e.setCallbacks({onScrollCapture:r,onWheelCapture:r,onTouchMoveCapture:i}),document.addEventListener("wheel",h,Me),document.addEventListener("touchmove",h,Me),document.addEventListener("touchstart",w,Me),function(){Ne=Ne.filter(function(p){return p!==s}),document.removeEventListener("wheel",h,Me),document.removeEventListener("touchmove",h,Me),document.removeEventListener("touchstart",w,Me)}},[]);var c=e.removeScrollBar,f=e.inert;return y.createElement(y.Fragment,null,f?y.createElement(s,{styles:ms(o)}):null,c?y.createElement(os,{gapMode:e.gapMode}):null)}function vs(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const ys=qi(xn,hs);var Cn=y.forwardRef(function(e,n){return y.createElement(ut,de({},e,{ref:n,sideCar:ys}))});Cn.classNames=ut.classNames;var _s=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},ke=new WeakMap,Ue=new WeakMap,Xe={},xt=0,En=function(e){return e&&(e.host||En(e.parentNode))},xs=function(e,n){return n.map(function(t){if(e.contains(t))return t;var a=En(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},ws=function(e,n,t,a){var o=xs(n,Array.isArray(e)?e:[e]);Xe[t]||(Xe[t]=new WeakMap);var s=Xe[t],u=[],d=new Set,h=new Set(o),m=function(r){!r||d.has(r)||(d.add(r),m(r.parentNode))};o.forEach(m);var w=function(r){!r||h.has(r)||Array.prototype.forEach.call(r.children,function(i){if(d.has(i))w(i);else try{var c=i.getAttribute(a),f=c!==null&&c!=="false",p=(ke.get(i)||0)+1,v=(s.get(i)||0)+1;ke.set(i,p),s.set(i,v),u.push(i),p===1&&f&&Ue.set(i,!0),v===1&&i.setAttribute(t,"true"),f||i.setAttribute(a,"true")}catch(g){console.error("aria-hidden: cannot operate on ",i,g)}})};return w(n),d.clear(),xt++,function(){u.forEach(function(r){var i=ke.get(r)-1,c=s.get(r)-1;ke.set(r,i),s.set(r,c),i||(Ue.has(r)||r.removeAttribute(a),Ue.delete(r)),c||r.removeAttribute(t)}),xt--,xt||(ke=new WeakMap,ke=new WeakMap,Ue=new WeakMap,Xe={})}},bs=function(e,n,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=_s(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live]"))),ws(a,o,t,"aria-hidden")):function(){return null}},Lt="Dialog",[Pn,Mn]=xe(Lt),[As,se]=Pn(Lt),Nn=e=>{const{__scopeDialog:n,children:t,open:a,defaultOpen:o,onOpenChange:s,modal:u=!0}=e,d=y.useRef(null),h=y.useRef(null),[m=!1,w]=ct({prop:a,defaultProp:o,onChange:s});return l.jsx(As,{scope:n,triggerRef:d,contentRef:h,contentId:Ze(),titleId:Ze(),descriptionId:Ze(),open:m,onOpenChange:w,onOpenToggle:y.useCallback(()=>w(r=>!r),[w]),modal:u,children:t})};Nn.displayName=Lt;var kn="DialogTrigger",Tn=y.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=se(kn,t),s=Q(n,o.triggerRef);return l.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":$t(o.open),...a,ref:s,onClick:U(e.onClick,o.onOpenToggle)})});Tn.displayName=kn;var Ft="DialogPortal",[Ss,In]=Pn(Ft,{forceMount:void 0}),jn=e=>{const{__scopeDialog:n,forceMount:t,children:a,container:o}=e,s=se(Ft,n);return l.jsx(Ss,{scope:n,forceMount:t,children:y.Children.map(a,u=>l.jsx(De,{present:t||s.open,children:l.jsx(vn,{asChild:!0,container:o,children:u})}))})};jn.displayName=Ft;var nt="DialogOverlay",On=y.forwardRef((e,n)=>{const t=In(nt,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,s=se(nt,e.__scopeDialog);return s.modal?l.jsx(De,{present:a||s.open,children:l.jsx(Cs,{...o,ref:n})}):null});On.displayName=nt;var Cs=y.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=se(nt,t);return l.jsx(Cn,{as:Qe,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(X.div,{"data-state":$t(o.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),Ee="DialogContent",Rn=y.forwardRef((e,n)=>{const t=In(Ee,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,s=se(Ee,e.__scopeDialog);return l.jsx(De,{present:a||s.open,children:s.modal?l.jsx(Es,{...o,ref:n}):l.jsx(Ps,{...o,ref:n})})});Rn.displayName=Ee;var Es=y.forwardRef((e,n)=>{const t=se(Ee,e.__scopeDialog),a=y.useRef(null),o=Q(n,t.contentRef,a);return y.useEffect(()=>{const s=a.current;if(s)return bs(s)},[]),l.jsx(Dn,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,s=>{var u;s.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,s=>{const u=s.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&s.preventDefault()}),onFocusOutside:U(e.onFocusOutside,s=>s.preventDefault())})}),Ps=y.forwardRef((e,n)=>{const t=se(Ee,e.__scopeDialog),a=y.useRef(!1),o=y.useRef(!1);return l.jsx(Dn,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,s),s.defaultPrevented||(a.current||(d=t.triggerRef.current)==null||d.focus(),s.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:s=>{var h,m;(h=e.onInteractOutside)==null||h.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=s.target;((m=t.triggerRef.current)==null?void 0:m.contains(u))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Dn=y.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,...u}=e,d=se(Ee,t),h=y.useRef(null),m=Q(n,h);return Di(),l.jsxs(l.Fragment,{children:[l.jsx(gn,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:s,children:l.jsx(pn,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":$t(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Ns,{titleId:d.titleId}),l.jsx(Ts,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Gt="DialogTitle",Ln=y.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=se(Gt,t);return l.jsx(X.h2,{id:o.titleId,...a,ref:n})});Ln.displayName=Gt;var Fn="DialogDescription",Gn=y.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=se(Fn,t);return l.jsx(X.p,{id:o.descriptionId,...a,ref:n})});Gn.displayName=Fn;var $n="DialogClose",Bn=y.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,o=se($n,t);return l.jsx(X.button,{type:"button",...a,ref:n,onClick:U(e.onClick,()=>o.onOpenChange(!1))})});Bn.displayName=$n;function $t(e){return e?"open":"closed"}var Hn="DialogTitleWarning",[Ms,zn]=Ua(Hn,{contentName:Ee,titleName:Gt,docsSlug:"dialog"}),Ns=({titleId:e})=>{const n=zn(Hn),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},ks="DialogDescriptionWarning",Ts=({contentRef:e,descriptionId:n})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zn(ks).contentName}}.`;return y.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(a))},[a,e,n]),null},Is=Nn,js=Tn,Os=jn,Rs=On,Ds=Rn,Ls=Ln,Fs=Gn,Vn=Bn,Wn="AlertDialog",[Gs,oc]=xe(Wn,[Mn]),ge=Mn(),qn=e=>{const{__scopeAlertDialog:n,...t}=e,a=ge(n);return l.jsx(Is,{...a,...t,modal:!0})};qn.displayName=Wn;var $s="AlertDialogTrigger",Un=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(js,{...o,...a,ref:n})});Un.displayName=$s;var Bs="AlertDialogPortal",Xn=e=>{const{__scopeAlertDialog:n,...t}=e,a=ge(n);return l.jsx(Os,{...a,...t})};Xn.displayName=Bs;var Hs="AlertDialogOverlay",Yn=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Rs,{...o,...a,ref:n})});Yn.displayName=Hs;var je="AlertDialogContent",[zs,Vs]=Gs(je),Zn=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,children:a,...o}=e,s=ge(t),u=y.useRef(null),d=Q(n,u),h=y.useRef(null);return l.jsx(Ms,{contentName:je,titleName:Kn,docsSlug:"alert-dialog",children:l.jsx(zs,{scope:t,cancelRef:h,children:l.jsxs(Ds,{role:"alertdialog",...s,...o,ref:d,onOpenAutoFocus:U(o.onOpenAutoFocus,m=>{var w;m.preventDefault(),(w=h.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[l.jsx(Ra,{children:a}),l.jsx(qs,{contentRef:u})]})})})});Zn.displayName=je;var Kn="AlertDialogTitle",Jn=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Ls,{...o,...a,ref:n})});Jn.displayName=Kn;var Qn="AlertDialogDescription",ea=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Fs,{...o,...a,ref:n})});ea.displayName=Qn;var Ws="AlertDialogAction",ta=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,o=ge(t);return l.jsx(Vn,{...o,...a,ref:n})});ta.displayName=Ws;var ra="AlertDialogCancel",na=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...a}=e,{cancelRef:o}=Vs(ra,t),s=ge(t),u=Q(n,o);return l.jsx(Vn,{...s,...a,ref:u})});na.displayName=ra;var qs=({contentRef:e})=>{const n=`\`${je}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${je}\` by passing a \`${Qn}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${je}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},Us=qn,Xs=Un,Ys=Xn,aa=Yn,oa=Zn,ia=ta,sa=na,ca=Jn,la=ea;const Zs=Us,Ks=Xs,Js=Ys,ua=y.forwardRef(({className:e,...n},t)=>{const a=K(o=>({transparency:o.transparency,animation:o.animations}));return l.jsx(aa,{className:S("fixed inset-0 z-50",{"bg-black/80":a.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":a.animation},e),...n,ref:t})});ua.displayName=aa.displayName;const da=y.forwardRef(({className:e,...n},t)=>l.jsxs(Js,{children:[l.jsx(ua,{}),l.jsx(oa,{ref:t,className:S("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n})]}));da.displayName=oa.displayName;const fa=({className:e,...n})=>l.jsx("div",{className:S("flex flex-col space-y-2 text-center sm:text-left",e),...n});fa.displayName="AlertDialogHeader";const pa=({className:e,...n})=>l.jsx("div",{className:S("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});pa.displayName="AlertDialogFooter";const ma=y.forwardRef(({className:e,...n},t)=>l.jsx(ca,{ref:t,className:S("text-lg font-semibold",e),...n}));ma.displayName=ca.displayName;const ga=y.forwardRef(({className:e,...n},t)=>l.jsx(la,{ref:t,className:S("text-sm text-muted-foreground",e),...n}));ga.displayName=la.displayName;const ha=y.forwardRef(({className:e,...n},t)=>l.jsx(ia,{ref:t,className:S(hr({variant:"cta"}),e),...n}));ha.displayName=ia.displayName;const va=y.forwardRef(({className:e,...n},t)=>l.jsx(sa,{ref:t,className:S(hr({variant:"default"}),"mt-2 sm:mt-0",e),...n}));va.displayName=sa.displayName;function ya(e){return C.createElement("div",{...e,className:S("w-full h-full aspect-square text-foreground",e.className),style:e.style},C.createElement("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const Qs=e=>{const n=re(m=>m.score),t=Oe(m=>m.toggleSettings),a=K(),[o,s]=C.useState(te.difficulty),u=y.useMemo(()=>o!==te.difficulty,[o]),d=y.useMemo(()=>a.animations!==te.quality.animations||o!==te.difficulty,[a,o]),h=C.useCallback(()=>{localStorage.setItem("settings",JSON.stringify({difficulty:o,quality:JSON.parse(localStorage.getItem("settings")??JSON.stringify(te)).quality})),d?window.location.reload():t()},[o,d,t]);return l.jsxs("div",{className:S("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":a.animations,"opacity-0 bg-background/80":a.transparency,hidden:!a.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[l.jsx("div",{onClick:t,className:S("absolute w-full h-full left-0 top-0",{"pointer-events-auto":e.show,"pointer-events-none":!e.show})}),l.jsxs(ze,{className:"space-y-4 z-40",children:[l.jsx("div",{className:"text-3xl",children:"Settings"}),l.jsxs("div",{className:S("flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",{"*:bg-card/30":a.transparency,"*:bg-card":!a.transparency}),children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Difficulté"}),l.jsx(un,{className:"space-y-0 gap-0",defaultValue:o,onValueChange:m=>{s(m)},children:Object.keys(at).map(m=>l.jsxs(St,{className:"flex items-center gap-2 py-2",children:[l.jsx(dn,{value:m}),wt[m]]},m))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Qualité"}),l.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(te.quality).map(m=>l.jsxs(St,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[l.jsx(Hr,{defaultChecked:a[m],onCheckedChange:w=>a.update({[m]:w})}),wt[m]]},m))})]})]}),l.jsxs("div",{className:"flex gap-5",children:[n>0&&d?l.jsxs(Zs,{children:[l.jsx(Ks,{children:l.jsx(pe,{variant:u?"cta":"default",disabled:!u,size:"cta",children:"Appliquer"})}),l.jsxs(da,{className:"w-fit",children:[l.jsxs(fa,{children:[l.jsx(ma,{className:"text-2xl",children:"Une partie est en cours !"}),l.jsxs(ga,{children:["Cette action va réinitialiser votre partie. ",l.jsx("br",{}),"Êtes-vous sûr de vouloir continuer ?"]})]}),l.jsxs(pa,{children:[l.jsx(va,{children:"Cancel"}),l.jsx(ha,{onClick:h,children:"Continue"})]})]})]}):l.jsx(pe,{variant:u?"cta":"default",disabled:!u,size:"cta",onClick:h,children:"Appliquer"}),d&&l.jsxs("div",{className:"flex-grow border rounded-xl flex items-center gap-3 pl-3",children:[l.jsx(ya,{className:"w-5"})," Un rechargement peut être nécessaire."]})]})]})]})},ec=e=>{const n=K(a=>({animations:a.animations,transparency:a.transparency})),t=re(a=>({handOverflow:a.hand.length>=Re}));return l.jsx("div",{className:S("absolute right-0 -translate-x-8 top-[60%] rotate-3",{"animate-pulse duration-700":n.animations&&n.transparency}),children:l.jsx("div",{className:S("text-3xl flex items-center gap-2 pointer-events-none",{"transition-[right] ease-in-out duration-1000":n.animations,[S("opacity-0",{"opacity-100":e.show})]:n.transparency,[S("hidden",{flex:e.show})]:!n.transparency}),children:t.handOverflow&&l.jsxs(l.Fragment,{children:[l.jsx(ya,{className:"w-10"})," La main est pleine !"]})})})},ic=()=>{const e=K(o=>({animations:o.animations})),n=re(),[t,a]=Oe(o=>[o.isCardGameVisible,o.settingsVisible]);return l.jsxs(l.Fragment,{children:[l.jsx(po,{show:t}),l.jsx(mo,{show:t}),l.jsx(ec,{show:t}),l.jsx(Eo,{show:t}),l.jsx(uo,{show:t}),l.jsx(vo,{show:t}),l.jsx(Po,{show:t}),l.jsx(To,{show:t}),l.jsx(Qs,{show:t&&a}),!1,l.jsx("div",{className:S("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{" transition-[bottom] ease-in-out duration-1000":e.animations},t?"bottom-[-50px]":"-bottom-full"),children:n.hand.sort((o,s)=>{const u=o.effect.type==="action"?1:0,d=s.effect.type==="action"?1:0,h=typeof o.effect.cost=="string"?1:0,m=typeof s.effect.cost=="string"?1:0,w=Number(o.effect.cost),r=Number(s.effect.cost),i=o.effect.description.localeCompare(s.effect.description);return u-d||h-m||w-r||i}).map((o,s)=>l.jsx(wo,{card:o,position:s},s))})]})};export{ic as Game};
