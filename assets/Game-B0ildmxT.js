import{j as r,T as D,M as Be,a as Ge,f as Za,R as un,d as qt,g as jr,e as cc,h as ue,i as Ut,k as ca,l as dc,s as uc,m as jt,p as fc,I as mc,n as Xa,o as da,q as Qa,t as ua,v as Cr,w as Ja,A as Nr,x as hc,E as Oe,y as W,z as pc,B as Wt,C as Fn,D as gc,F as ut,G as ee,H as Ce,J as nt,K as ft,L as es,N as er,O as vc,P as yt,Q as ts,S as tr,U as xc,V as at,W as j,u as je,X as Kt,r as u,Y as Q,c as S,Z as de,$ as T,a0 as yc,a1 as nr,a2 as wc,a3 as ns,a4 as rs,a5 as as,a6 as Sr,a7 as rr,a8 as bc,a9 as ss,aa as fn,ab as jc,ac as Yt,ad as Cc,ae as os,af as is,ag as Nc,ah as Sn,ai as Sc,aj as Ec,ak as Tt,al as Pc,am as Rc,an as ls,ao as kc,ap as Mc,aq as ar,ar as rt,as as sr,at as ce,au as mn,av as Ac,aw as Ic,ax as Tc,ay as Oc,az as Dc,aA as Lt,aB as fa,aC as Lc,aD as _c,aE as Fc,aF as ma}from"./index-Blwhwd1D.js";import{u as Ke,c as Et,b as ae,G as Ze,e as cs,h as $c,S as zc,a as ha,d as Bc}from"./cards-B5bzqs4L.js";import{reviveCard as be,revivedState as hn,isGameOver as $t,generateChoiceOptions as $n,reviveUpgrade as zt,toSortedCards as or,willBeRemoved as Gc,getGlobalCardModifierLogs as qc}from"./game-utils-DPmOP0Th.js";const ir=[{name:"PremiÃ¨re victoire",description:"Gagne une partie",unlockCondition:e=>e.wonGames>=1},{name:"ConquÃ©rant",description:"Gagne 5 parties",unlockCondition:e=>e.wonGames>=5},{name:"Try harder",description:"Gagne 25 parties",unlockCondition:e=>e.wonGames>=10},{name:"MaÃ®tre du jeu",description:"Utilise 5 amÃ©liorations diffÃ©rentes en une partie",unlockCondition:e=>e.upgrades.length>=5},{name:"Enutrof",description:"Utilise toutes les amÃ©liorations Ã©conomiques en une partie",unlockCondition:e=>Ke.filter(t=>t.tags.includes("money")).every(t=>e.upgrades.some(n=>n.name===t.name))},{name:"Eliatrop",description:"Utilise toutes les amÃ©liorations Ã©nergÃ©tiques en une partie",unlockCondition:e=>Ke.filter(t=>t.tags.includes("energy")||t.tags.includes("reputation")).every(t=>e.upgrades.some(n=>n.name===t.name))},{name:"Ecaflip",description:r.jsxs(r.Fragment,{children:[r.jsx(D,{name:"coinFlip"})," 20 fois en une partie"]}),unlockCondition:e=>e.coinFlips>=20},{name:"Xelor",description:`Ai ${Be} cartes en main qui coutent zÃ©ro en mÃªme temps`,unlockCondition:e=>e.hand.filter(t=>be(t,e).effect.cost.value<=0).length>=5},{name:"Sadida",description:r.jsxs(r.Fragment,{children:[r.jsx(D,{name:"recycle"})," 150 cartes en une partie"]}),unlockCondition:e=>e.recycledCards>=150},{name:"Sacrieur",description:r.jsxs(r.Fragment,{children:[r.jsx(D,{name:"discard"})," 50 cartes en une partie"]}),unlockCondition:e=>e.discardedCards>=50},{name:"Trader",description:r.jsxs(r.Fragment,{children:["Ai 7 cartes ",r.jsx(D,{name:"action"})," en main en mÃªme temps"]}),unlockCondition:e=>e.hand.filter(t=>be(t,e).type==="action").length>=7},{name:"Milliardaire",description:r.jsxs(r.Fragment,{children:["Gagne ",r.jsx(Ge,{M$:1e3})," en une partie"]}),unlockCondition:e=>e.money>=1e3},{name:"Collectionneur",description:"DÃ©couvre 30 cartes diffÃ©rentes",unlockCondition:e=>e.discoveries.length>=30},{name:"Perfectionniste",description:r.jsxs(r.Fragment,{children:["DÃ©couvrir toutes les cartes ",r.jsx(D,{name:"upgrade"})]}),unlockCondition:e=>Ke.every(t=>e.discoveries.includes(t.name))},{name:"ComplÃ©tionniste",description:"DÃ©couvre toutes les cartes",unlockCondition:e=>e.discoveries.length===Et.length},{name:"Retro gamer",description:"Utilise le Konami code",unlockCondition:e=>e.debug},{name:"Changer de thÃªme",description:"Change le thÃªme du jeu",unlockCondition:()=>Za().theme!=="default"},{name:"Procrastinateur",description:r.jsxs(r.Fragment,{children:["Faire durer la partie plus de 90 ",r.jsx(D,{name:"day",plural:!0})]}),unlockCondition:e=>e.day>=90},{name:"SÃ©lectif",description:r.jsxs(r.Fragment,{children:["Passer 20 ",r.jsx(D,{name:"pick",children:"choix de carte"})," en une partie"]}),unlockCondition:e=>e.skippedChoices>=20},{name:"Jour, nuit, jour, nuit...",description:"Passe du thÃ¨me clair au thÃ¨me sombre 2 fois",unlockCondition:()=>+(localStorage.getItem("Jour, nuit, jour, nuit...")??0)>=4},{name:"Le temps c'est de l'argent",description:r.jsxs(r.Fragment,{children:["Gagne ",r.jsx(Ge,{M$:100})," avant le deuxiÃ¨me ",r.jsx(D,{name:"day"})]}),unlockCondition:e=>e.money>=100&&e.day<=1},{name:"Ultra badass",description:r.jsxs(r.Fragment,{children:["Obtient une carte de ",r.jsx(D,{name:"level"})," ",r.jsx(un,{advantage:qt.singularity})," ou plus"]}),unlockCondition:e=>jr(e).some(t=>t.rarity>=qt.singularity)}],pa={version:"1.1.1"};function ds(){const e=localStorage.getItem("globals");return e?JSON.parse(e):{debug:!1,scoreAverage:0,totalMoney:0,wonGames:0,playedGames:0,discoveries:[],achievements:[]}}function Wc(e,t){const n=()=>{const a=t();localStorage.setItem("globals",JSON.stringify({debug:a.debug,wonGames:a.wonGames,achievements:a.achievements,playedGames:a.playedGames,discoveries:a.discoveries,scoreAverage:a.scoreAverage,totalMoney:a.totalMoney}))};return{setDebug:a=>{e({debug:a}),n()},checkAchievements:async()=>{await ue(t,async()=>{const a=t();for(const s of ir)a.achievements.includes(s.name)||s.unlockCondition(t())&&(a.setOperationInProgress("checkAchievements",!0),await a.addAchievement(s.name));a.setOperationInProgress("checkAchievements",!1)})},checkDiscoveries:()=>{jt(t,()=>{const a=t();a.addDiscovery(...Ut(a).map(s=>s.name))})},addDiscovery:(...a)=>{jt(t,()=>{e(s=>({discoveries:Array.from(new Set([...s.discoveries,...a]))})),n()})},addAchievement:async a=>{await ue(t,async()=>{e(s=>({achievements:Array.from(new Set([...s.achievements,a]))})),ae.achievement.play(),await t().addScreenMessage({header:"SuccÃ¨s dÃ©verrouillÃ©",message:a,className:"bg-primary text-primary-foreground text-center"}),n()})},addWonGame:()=>{jt(t,()=>{const a=t();e({wonGames:a.wonGames+1,scoreAverage:a.scoreAverage+(a.score-a.scoreAverage)/(a.wonGames+1),totalMoney:a.totalMoney+a.money,playedGames:a.playedGames+1}),n()})},addPlayedGame:()=>{jt(t,()=>{const a=t();e({playedGames:a.playedGames+1,totalMoney:a.totalMoney+a.money}),n()})}}}function us(){const e=Za().difficulty,t=localStorage.getItem("metadata"),n=localStorage.getItem("save");if(n&&JSON.stringify(pa)===t)return fc(n);localStorage.setItem("metadata",JSON.stringify(pa));const a=["Prettier","Knex","Jest","Processing"],s=[];for(let o=0;o<mc;o++){const i=Xa(Et.filter(l=>s.every(c=>c.options().every(d=>d.name!==l.name))&&a.every(c=>c!==l.name)&&!l.effect().tags.includes("upgrade")),5).slice(0,da).map(l=>({name:l.name,state:"idle",initialRarity:Qa()}));s.push({header:"Choisis une carte",options:()=>i})}return{cardDetail:null,selectedCard:null,coinFlips:0,recycledCards:0,discardedCards:0,skippedChoices:0,difficulty:e,error:null,choiceOptions:s,choiceOptionCount:da,logs:[],screenMessageQueue:[],operationInProgress:["choices"],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,requestedCancel:!1,draw:a.slice(Be-2).map(o=>({name:o,state:"idle",initialRarity:qt.common})),hand:a.slice(0,Be-2).map(o=>({name:o,state:"idle",initialRarity:qt.common})),revivedHand:[],revivedDraw:[],revivedDiscard:[],playZone:[],discard:[],upgrades:[],globalCardModifiers:[{name:"upgrade cost threshold",params:[],reason:{name:"Promotion temporaire",body:"Promotion temporaire"}},{name:"all card inflation",params:[],reason:{name:"Inflation",body:r.jsx(D,{name:"inflation"})}}],day:0,dayFull:!1,sprintFull:!1,energy:ua,energyMax:ua,reputation:Cr,money:0,inflation:0}}function Hc(e,t){return{setCardDetail:n=>{e({cardDetail:n})},skip:async n=>{await ue(t,async()=>{ae.play.play();const a=t();await a.addEnergy(Ja(a.day)&&a.choiceOptions.length===1?10:5,{reason:n.reason,skipGameOverPause:!0}),e(s=>({choiceOptions:s.choiceOptions.slice(1)})),await a.increments("skippedChoices")})},increments:async(n,a)=>{const s=t();typeof s[n]=="number"&&(e({[n]:s[n]+(a??1)}),await s.checkAchievements())},incrementsInflation:()=>{const a=t().inflation+Nr;e({inflation:a})},handleError:n=>(n instanceof Error?e({error:n}):e({error:new Error(String(n))}),n),coinFlip:async n=>{await ue(t,async()=>{ae.coinFlip.play();const a=t();a.setOperationInProgress("coinFlip",!0);const o=Math.random()>.5?"head":"tail",i=n[o].message;await Promise.all([await a.addScreenMessage({message:i,className:"bg-background text-foreground"}),await n[o].onTrigger(a,n.card,n.reason)]),await a.increments("coinFlips"),a.setOperationInProgress("coinFlip",!1)})},advanceTime:async n=>{await ue(t,async()=>{if(n<0)return;const a=t();a.setOperationInProgress("advanceTime",!0);const s=a.upgrades.length/Ke.length,o=Ut(a).length/Et.length,i=hc(.5*o+.5*s,0,1,Oe,Oe*.3),l=Math.max(i,n*i);if(l<i)throw a.handleError(new Error(`Not enough energy to advance time: ${n}`));let c=Math.floor(a.day);const d=a.day+l,f=Math.floor(d);for(c;c<f;c++){const m=c!==0&&(c+1)%7===0,v=m&&(c+1)%28===0;if(e({day:c+1,dayFull:!0,sprintFull:m}),ae.bell.play(),m&&ae.upgrade.play(),await a.addScreenMessage({message:m?`Sprint ${Math.floor((c+1)/7)}`:`Jour ${c+1}`,className:m?"bg-upgrade text-upgrade-foreground":"bg-day text-day-foreground"}),await a.triggerEvent("daily"),e(p=>({dayFull:!1,choiceOptions:m?p.choiceOptions:[...p.choiceOptions,$n(t(),{header:"Choisis une carte",filter:g=>!g.effect().tags.includes("upgrade")})]})),m){await a.triggerEvent("weekly");const p=t();e(g=>({sprintFull:!1,choiceOptions:[...g.choiceOptions,$n(p,{noResource:!0,header:r.jsxs(r.Fragment,{children:["Choisis une carte ",r.jsx(D,{name:"action"})]}),filter:h=>!h.effect().tags.includes("upgrade")&&h.type==="action"}),$n(p,{noResource:!0,header:r.jsxs(r.Fragment,{children:["Choisis une carte ",r.jsx(D,{name:"upgrade"})]}),filter:h=>!!h.effect().tags.includes("upgrade")})]})),v&&(await a.addScreenMessage({header:"L'inflation augmente",message:`Mois ${Math.floor((c+1)/7)}`,className:"bg-inflation text-inflation-foreground"}),a.incrementsInflation(),await a.triggerEvent("monthly"))}await W(1e3)}e({day:d,dayFull:null,sprintFull:null}),a.setOperationInProgress("advanceTime",!1)})},addLog:n=>{e(a=>({logs:[...a.logs,n]}))},addScreenMessage:async n=>{await ue(t,async()=>{const a=t(),s=a.screenMessageQueue.length===0;s&&a.setOperationInProgress("screenMessage",!0),e({screenMessageQueue:[...a.screenMessageQueue,{...n,id:Math.random()}]}),await pc(()=>t().screenMessageQueue.length===0),s&&a.setOperationInProgress("screenMessage",!1)})},dangerouslyUpdate:n=>e(n),setOperationInProgress:(n,a)=>{jt(t,()=>{e(s=>({operationInProgress:a?Array.from(new Set([...s.operationInProgress,n])):s.operationInProgress.filter(o=>o!==n)}))})},updateScore:()=>{jt(t,()=>{const n=t(),a=1,s=ts,o=1/tr,i=n.energy*a,l=n.reputation*s,c=n.money*o;let d=0;n.upgrades.forEach(h=>{const x=zt(h);d+=(x.cost.type==="money"?x.cost.value/tr:x.cost.value)*x.cumul});let f=1;n.day<=28?f=2:n.day<=56&&(f=1.5);const m=1+(xc[at.difficulty]-3)*.2,p=(i+l+c+d)*f*m,g=n.money/Wt;e({score:Math.round(p*g*10)})})},addEnergy:async(n,a)=>{await ue(t,async()=>{const s=t();if(s.setOperationInProgress("energy",!0),n>0){const o=Math.min(n,s.energyMax-s.energy);o>0&&s.addLog({value:o,type:"energy",reason:a.reason}),e(i=>({energy:Math.max(0,Math.min(i.energyMax,i.energy+n))})),ae.gain.play(),await W()}else if(n<0){const o=t(),i=Math.abs(n)-o.energy,l=Math.min(Math.abs(n),o.energy);l>0&&o.addLog({value:-l,type:"energy",reason:a.reason}),i>0?(e({energy:0}),await o.addReputation(-i,a)):e(c=>({energy:c.energy+n}))}s.setOperationInProgress("energy",!1)})},addMaxEnergy:async(n,a)=>{await ue(t,async()=>{if(n===0)return;const s=t();s.setOperationInProgress("maxEnergy",!0),e(o=>({energyMax:Math.max(0,o.energyMax+n)})),n>0?(ae.powerUp.play(),await W(),await s.addEnergy(n,a)):(ae.loss.play(),await W(),s.energy>s.energyMax&&await s.addEnergy(s.energyMax-s.energy,a)),s.setOperationInProgress("maxEnergy",!1)})},addReputation:async(n,a)=>{await ue(t,async()=>{const s=t();s.setOperationInProgress("reputation",!0),n===10?ae.powerUp.play():n>0?ae.gain.play():ae.loss.play(),n!==0&&s.addLog({value:n,type:"reputation",reason:a.reason}),e(o=>({reputation:Math.max(0,Math.min(Cr,o.reputation+n))})),await W(),n<0&&await s.triggerEvent("onReputationDeclines"),!(a!=null&&a.skipGameOverPause)&&$t(s)&&await W(2e3),s.setOperationInProgress("reputation",!1)})},addMoney:async(n,a)=>{await ue(t,async()=>{let s=t();s.setOperationInProgress("money",!0),n!==0&&s.addLog({value:n,type:"money",reason:a==null?void 0:a.reason}),n>0&&(ae.cashing.play(),await W()),e(o=>({money:o.money+n})),s=t(),!(a!=null&&a.skipGameOverPause)&&s.money>=Wt&&await W(2e3),s.setOperationInProgress("money",!1)})},upgrade:async n=>{await ue(t,async()=>{const a=t();a.setOperationInProgress(`upgrade ${n}`,!0);const s=Ke.find(o=>o.name===n);ae.upgrade.play(),a.upgrades.find(o=>o.name===n)?e(o=>({upgrades:o.upgrades.map(i=>i.name===n?{...i,cumul:i.cumul+1}:i)})):e(o=>({upgrades:[...o.upgrades,{name:s.name,cumul:1,state:"appear"}]})),await W(),e(o=>({upgrades:Fn(o.upgrades,n,"idle")})),s.eventName==="onUpgradeThis"&&await a.triggerUpgrade(n,{}),await a.checkAchievements(),a.setOperationInProgress(`upgrade ${n}`,!1)})},triggerUpgrade:async(n,a)=>{await ue(t,async()=>{const s=t(),o=s.upgrades.find(l=>l.name===n),i=zt(o);(!i.condition||i.condition(t(),i))&&(s.setOperationInProgress(`triggerUpgrade ${n}`,!0),e({upgrades:Fn(s.upgrades,n,"triggered")}),await W(),await i.onTrigger(t(),i,(a==null?void 0:a.reason)??o),e(l=>({upgrades:Fn(l.upgrades,n,"idle")})),s.setOperationInProgress(`triggerUpgrade ${n}`,!1))})},triggerEvent:async n=>{await ue(t,async()=>{const a=t();a.setOperationInProgress(`triggerUpgradeEvent ${n}`,!0);const s=a.upgrades.map(o=>zt(o)).filter(o=>o.eventName===n);for(const o of s)await a.triggerUpgrade(o.name,{reason:gc(o)});a.setOperationInProgress(`triggerUpgradeEvent ${n}`,!1)})},addGlobalCardModifier:async(n,a,s)=>{await ue(t,async()=>{ae.powerUp.play();const o={name:n,params:a,reason:s};e(i=>({globalCardModifiers:[...i.globalCardModifiers,o]})),await W()})},transformCardsAnimation:async(n,a)=>{await ue(t,async()=>{const s=t();s.setOperationInProgress("transformCards",!0);const o=ut(),i=jr(s).filter(l=>n.includes(l.name));e(l=>({hand:ee(l.hand,n,"transforming"),draw:ee(l.draw,n,"transforming"),discard:ee(l.discard,n,"transforming")})),await W(o/2),await a(i),await W(o/2),e(l=>({hand:ee(l.hand,n,"idle"),draw:ee(l.draw,n,"idle"),discard:ee(l.discard,n,"idle")})),s.setOperationInProgress("transformCards",!1)})},shuffleStack:async n=>{await ue(t,async()=>{const a=t();a.setOperationInProgress(`shuffleStack ${n}`,!0),ae.shuffle.play();const s=ut()/2;await W(s),e(o=>{const i=n==="draw"?"revivedDraw":"revivedDiscard",l=Xa(o[i],3);return{[n]:l.map(c=>Ce(c)),[i]:l}}),await W(s),a.setOperationInProgress(`shuffleStack ${n}`,!1)})},riseToTheStackSurface:async(n,a)=>{await ue(t,async()=>{const s=t();s.setOperationInProgress(`shuffleStack ${n}`,!0),ae.shuffle.play();const o=ut()/2;await W(o),e(i=>{const l=i[n].map(m=>be(m,i)),c=l.filter(a),d=l.filter(m=>!a(m)),f=[...c,...d];return{[n]:f.map(m=>Ce(m)),[n==="draw"?"revivedDraw":"revivedDiscard"]:f}}),await W(o),s.setOperationInProgress(`shuffleStack ${n}`,!1)})},drawCard:async(n=1,a)=>{await ue(t,async()=>{let s=t();const o=a!=null&&a.fromDiscardPile?"discard":"draw",i=s[o].toReversed().filter(c=>{if(!a.filter)return!0;const d=be(c,s);return a.filter(d)}).slice(0,Math.min(n,Be-s.hand.length,s[o].length));if(i.length===0)return;s.setOperationInProgress("draw",!0),a.filter&&await s.riseToTheStackSurface(o,a.filter);const l=async c=>{e(d=>({[o]:ee(d[o],c.name,"playing")})),await W(),e(d=>({[o]:nt(d[o],c.name),hand:or(ft(d.hand,ee([c],"landing"),!0),d).map(f=>Ce(f))})),o==="draw"?ae.draw.play():ae.recycle.play(),await W(),e(d=>({hand:ee(d.hand,c.name,"idle")}))};if(i.length>3){const c=ut();await Promise.all(i.map(async(d,f)=>{await W(c/2*f+f),await l(d)}))}else for(const c of i)await l(c);await s.triggerEvent("onDraw"),s=t(),!(a!=null&&a.skipGameOverPause)&&$t(s)&&await W(2e3),s.setOperationInProgress("draw",!1)})},discardCard:async n=>{await ue(t,async()=>{const a=n!=null&&n.toDraw?"draw":"discard";ae.drop.play();const s=t();s.setOperationInProgress("discard",!0);const o=s.hand.filter(c=>!(n!=null&&n.filter)||n.filter(be(c,s))),i=n!=null&&n.random?[o[Math.floor(Math.random()*s.hand.length)]]:o,l=async c=>{e(d=>({hand:ee(d.hand,c.name,"discarding")})),await W(),e(d=>({hand:nt(d.hand,c.name),[a]:ft(d[a],ee([c],"landing"),!0)})),await W(),e(d=>({[a]:ee(d[a],c.name,"idle")}))};if(i.length===s.hand.length){const c=ut();await Promise.all(i.map(async(d,f)=>{await W(c/2*f+f),await l(d)}))}else for(const c of i)await l(c);a==="draw"&&await s.shuffleStack("draw"),await s.increments("discardedCards",i.length),s.setOperationInProgress("discard",!1)})},removeCard:async n=>{await ue(t,async()=>{const a=t();a.setOperationInProgress(`removeCard ${n}`,!0),a.hand.some(o=>o.name===n)&&(e({hand:ee(a.hand,n,"removing"),discard:ee(a.discard,n,"removing"),draw:ee(a.draw,n,"removing")}),ae.remove.play(),await W(),e({hand:ee(a.hand,n,"idle"),discard:ee(a.discard,n,"idle"),draw:ee(a.draw,n,"idle")}));const s=["discard","draw","hand"];e(o=>({...s.reduce((i,l)=>({...i,[l]:o[l].filter(c=>c.name!==n)}),{})})),a.setOperationInProgress(`removeCard ${n}`,!1)})},recycleCard:async n=>{await ue(t,async()=>{if(n.count===void 0&&(n.count=1/0),n.count<=0)return;let a=t();if(a.discard.length===0)return;a.setOperationInProgress("recycle",!0),a.discard.length>1&&n.filter&&(await a.riseToTheStackSurface("discard",n.filter),a=t()),ae.recycle.play();const s=a.discard.toReversed().filter(i=>!n.filter||n.filter(be(i,a))).slice(0,n.count),o=async i=>{e(l=>({discard:ee(l.discard,i.name,"playing")})),await W(),e(l=>({discard:nt(l.discard,i.name),draw:ft(l.draw,[{...i,state:"landing"}],!0)})),await W(),e(l=>({draw:ee(l.draw,i.name,"idle")})),s.push(i)};if(s.length>3){const i=ut();await Promise.all(s.map(async(l,c)=>{await W(i/2*c+c),await o(l)}))}else for(const i of s)await o(i);await a.increments("recycledCards",s.length),a.setOperationInProgress("recycle",!1)})},selectCard:n=>{e({selectedCard:n})},waitCardSelection:async n=>{const a=n.from.map(l=>Array.isArray(l)?l[0]:l.name);e(l=>({requestedCancel:!1,selectedCard:null,hand:ee(l.hand,a,"selected")}));const s=t();s.setOperationInProgress("selectCard",!0);let o;const i=await new Promise(l=>{const c=()=>{e(m=>({hand:ee(m.hand,a,"idle")}))},d=m=>{l(be(m,s)),clearInterval(o),e({selectedCard:null}),c()},f=()=>{l(null),clearInterval(o),e({requestedCancel:!1}),c()};o=setInterval(()=>{const m=t();if(m.requestedCancel)return f();m.selectedCard&&(n.from.some(v=>(Array.isArray(v)?v[0]:v.name)===m.selectedCard)?d(m.selectedCard):f())},100),setTimeout(()=>{f()},n.timeout??1e4)});return await W(),s.setOperationInProgress("selectCard",!1),i},playCard:async(n,a)=>{await ue(t,async()=>{const s=!!(a!=null&&a.free);let o=t();const i=(a==null?void 0:a.reason)??n,l=async()=>{ae.unauthorized.play(),e({hand:ee(o.hand,n.name,"unauthorized")}),await W(),e({hand:ee(o.hand,n.name,"idle")})};if(n.effect.condition&&!n.effect.condition(o,n)){await l();return}if(s||n.effect.cost.value<=0||es(n,o))o.setOperationInProgress(`play ${n.name}`,!0);else{await l();return}let c=[];if((n.effect.prePlay||n.effect.needsPlayZone)&&(e(g=>({hand:ee(g.hand,n.name,"playing")})),await W(),e(g=>({playZone:ee([...g.playZone,Ce(n)],n.name,"landing"),hand:nt(g.hand,n.name)})),await W(),e(g=>({playZone:ee(g.playZone,n.name,"idle")})),n.effect.prePlay)){const g=await n.effect.prePlay(o,n);if(g==="cancel"){e(h=>({playZone:ee(h.playZone,n.name,"discarding")})),await W(),e(h=>({playZone:nt(h.playZone,n.name),hand:ee([...h.hand,Ce(n)],n.name,"landing")})),await W(),e(h=>({hand:ee(h.hand,n.name,"idle")})),o.setOperationInProgress(`play ${n.name}`,!1);return}else c=g}if(!s){const g=er(n.effect.cost,o);await(n.effect.cost.type==="money"?o.addMoney(-g,{skipGameOverPause:!0,reason:i}):o.addEnergy(-g,{skipGameOverPause:!0,reason:i}))}ae.play.play(),be(Ce(n),o,{clean:!0});const d=Gc(t(),n),f=n.effect.tags.includes("recyclage"),m=d?"removing":"playing";!n.effect.needsPlayZone&&!n.effect.prePlay&&e(g=>({hand:ee(g.hand,n.name,m)}));const v=async()=>{f&&ae.recycle.play(),d&&ae.remove.play(),n.effect.needsPlayZone&&(e(h=>({playZone:ee(h.playZone,n.name,m)})),await W()),e(h=>({discard:d||f?h.discard:ft(h.discard,[Ce(n,"landing")],!0),draw:f?ft(h.draw,[Ce(n,"landing")],!0):h.draw,hand:nt(h.hand,n.name),playZone:nt(h.playZone,n.name)})),await W(),e(h=>({discard:ee(h.discard,n.name,"idle"),draw:ee(h.draw,n.name,"idle")}));const g=t();(f||n.effect.tags.includes("recycle"))&&g.draw.length>1&&await g.shuffleStack("draw"),!d&&!f&&g.discard.length>1&&await g.shuffleStack("discard")},p=async()=>{await n.effect.onPlayed(t(),n,i,...c)};n.effect.waitBeforePlay?(await W(),await v(),await p()):n.effect.needsPlayZone||n.effect.prePlay?(await p(),await v()):await Promise.all([W().then(()=>v()),p()]),await o.triggerEvent("onPlay"),o=t(),o.hand.length===0&&(await o.triggerEvent("onEmptyHand"),await o.drawCard(1,{reason:i})),await o.advanceTime(er({type:"energy",value:vc(n.effect.cost)},o)),!(a!=null&&a.skipGameOverPause)&&$t(t())&&await W(2e3),o.setOperationInProgress(`play ${n.name}`,!1)})},pickOption:async(n,a)=>{await ue(t,async()=>{const s=t();s.setOperationInProgress(`pick ${yt(n)?n.id:n.name}`,!0);const o=s.choiceOptions[0];if(ae.gain.play(),e({choiceOptions:[{...o,options:()=>a.map(i=>(yt(i)?i.id:i.name)===(yt(n)?n.id:n.name)?{...i,state:"playing"}:{...i,state:"discarding"})},...s.choiceOptions.slice(1)]}),yt(n)){switch(n.type){case"money":await s.addMoney(n.value,{reason:"Ressource",skipGameOverPause:!0});break;case"reputation":await s.addReputation(n.value,{reason:"Ressource",skipGameOverPause:!0});break;case"energy":await s.addEnergy(n.value,{reason:"Ressource",skipGameOverPause:!0});break}await W(),e(i=>({choiceOptions:[{...o,options:()=>ee(a,null)},...i.choiceOptions.slice(1)]})),e(i=>({choiceOptions:i.choiceOptions.slice(1)}))}else await W(),e(i=>({choiceOptions:[{...o,options:()=>ee(a,null)},...i.choiceOptions.slice(1)]})),e(i=>{const l=i.hand.length<Be?"hand":"draw",c=l==="draw"?ft(i.draw,[Ce(n,"landing")],!0):or([...i.hand,Ce(n,"landing")],i).map(d=>Ce(d));return{choiceOptions:i.choiceOptions.slice(1),[l]:c}}),await W(),e(i=>({hand:ee(i.hand,n.name,"idle"),draw:ee(i.draw,n.name,"idle")})),s.checkDiscoveries();s.setOperationInProgress(`pick ${yt(n)?n.id:n.name}`,!1)})},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:n=>{ae.defeat.play(),e({isGameOver:!0,isWon:!1,reason:n})},reset:()=>{localStorage.removeItem("metadata"),localStorage.removeItem("save"),e({...us(),...ds()});const n=t();e(hn(n))},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const ie=cc((e,t)=>{const n={...us(),...Hc(e,t),...ds(),...Wc(e,t)};return n.discoveries=Array.from(new Set([...n.discoveries,...Ut(n).map(a=>a.name)])),{...n,...hn(n)}});ie.subscribe(async(e,t)=>{await ue(()=>e,async()=>{if(!e.error)if((e.reputation!==t.reputation||e.money!==t.money||e.upgrades!==t.upgrades||e.energy!==t.energy||e.day!==t.day)&&e.updateScore(),e.operationInProgress.join(",")!==t.operationInProgress.join("")&&e.operationInProgress.length===0){if(e.dangerouslyUpdate(hn(e,!0)),ca(e)&&await e.addAchievement("PremiÃ¨re victoire"),e.checkDiscoveries(),await e.checkAchievements(),dc(e,Ke),ca(e))e.win(),e.addWonGame();else if(!e.isGameOver){const n=$t(e);n&&(e.defeat(n),e.addPlayedGame())}uc(e)}else(e.hand.map(n=>n.name+n.state).join(",")!==t.hand.map(n=>n.name+n.state).join(",")||e.draw.map(n=>n.name+n.state).join(",")!==t.draw.map(n=>n.name+n.state).join(",")||e.discard.map(n=>n.name+n.state).join(",")!==t.discard.map(n=>n.name+n.state).join(",")||e.inflation!==t.inflation||e.globalCardModifiers.map(n=>n.name).join(",")!==t.globalCardModifiers.map(n=>n.name).join(","))&&e.dangerouslyUpdate(hn(e))})});const ga=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],Vc=()=>{const[e,t]=ie(i=>[i.debug,i.setDebug]),[n,a]=j.useState(0),[s,o]=j.useState(null);j.useEffect(()=>{const i=l=>{s&&clearTimeout(s),l.key===ga[n]?a(c=>c+1):a(0),n===ga.length-1&&(a(0),t(!e)),o(setTimeout(()=>{a(0)},1e3))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[n,s,e,t])},Uc=()=>{const e=je(s=>s.isCardGameVisible),t=ie(s=>s.operationInProgress.length>0),n=ie(s=>s.checkAchievements),a=ie(s=>s.checkDiscoveries);j.useEffect(()=>{const s=setInterval(()=>{e&&!t&&(a(),n().then())},1e3);return()=>clearInterval(s)},[e,t,n])};var Er={};(function e(t,n,a,s){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),y=C.getContext("2d");y.fillRect(0,0,1,1);var O=C.transferToImageBitmap();try{y.createPattern(O,"no-repeat")}catch{return!1}return!0}();function c(){}function d(C){var y=n.exports.Promise,O=y!==void 0?y:t.Promise;return typeof O=="function"?new O(C):(C(c,c),null)}var f=function(C,y){return{transform:function(O){if(C)return O;if(y.has(O))return y.get(O);var $=new OffscreenCanvas(O.width,O.height),G=$.getContext("2d");return G.drawImage(O,0,0),y.set(O,$),$},clear:function(){y.clear()}}}(l,new Map),m=function(){var C=Math.floor(16.666666666666668),y,O,$={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(q){var V=Math.random();return $[V]=requestAnimationFrame(function R(I){G===I||G+C-1<I?(G=I,delete $[V],q()):$[V]=requestAnimationFrame(R)}),V},O=function(q){$[q]&&cancelAnimationFrame($[q])}):(y=function(q){return setTimeout(q,C)},O=function(q){return clearTimeout(q)}),{frame:y,cancel:O}}(),v=function(){var C,y,O={};function $(G){function q(V,R){G.postMessage({options:V||{},callback:R})}G.init=function(R){var I=R.transferControlToOffscreen();G.postMessage({canvas:I},[I])},G.fire=function(R,I,Y){if(y)return q(R,null),y;var B=Math.random().toString(36).slice(2);return y=d(function(_){function z(oe){oe.data.callback===B&&(delete O[B],G.removeEventListener("message",z),y=null,f.clear(),Y(),_())}G.addEventListener("message",z),q(R,B),O[B]=z.bind(null,{data:{callback:B}})}),y},G.reset=function(){G.postMessage({reset:!0});for(var R in O)O[R](),delete O[R]}}return function(){if(C)return C;if(!a&&o){var G=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([G])))}catch(q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",q),null}$(C)}return C}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(C,y){return y?y(C):C}function h(C){return C!=null}function x(C,y,O){return g(C&&h(C[y])?C[y]:p[y],O)}function w(C){return C<0?0:Math.floor(C)}function b(C,y){return Math.floor(Math.random()*(y-C))+C}function N(C){return parseInt(C,16)}function E(C){return C.map(P)}function P(C){var y=String(C).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:N(y.substring(0,2)),g:N(y.substring(2,4)),b:N(y.substring(4,6))}}function A(C){var y=x(C,"origin",Object);return y.x=x(y,"x",Number),y.y=x(y,"y",Number),y}function k(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function M(C){var y=C.getBoundingClientRect();C.width=y.width,C.height=y.height}function K(C){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=C,y}function L(C,y,O,$,G,q,V,R,I){C.save(),C.translate(y,O),C.rotate(q),C.scale($,G),C.arc(0,0,1,V,R,I),C.restore()}function H(C){var y=C.angle*(Math.PI/180),O=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-y+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function J(C,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.velocity*=y.decay,y.flat?(y.wobble=0,y.wobbleX=y.x+10*y.scalar,y.wobbleY=y.y+10*y.scalar,y.tiltSin=0,y.tiltCos=0,y.random=1):(y.wobble+=y.wobbleSpeed,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble),y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2);var O=y.tick++/y.totalTicks,$=y.x+y.random*y.tiltCos,G=y.y+y.random*y.tiltSin,q=y.wobbleX+y.random*y.tiltCos,V=y.wobbleY+y.random*y.tiltSin;if(C.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-O)+")",C.beginPath(),i&&y.shape.type==="path"&&typeof y.shape.path=="string"&&Array.isArray(y.shape.matrix))C.fill(F(y.shape.path,y.shape.matrix,y.x,y.y,Math.abs(q-$)*.1,Math.abs(V-G)*.1,Math.PI/10*y.wobble));else if(y.shape.type==="bitmap"){var R=Math.PI/10*y.wobble,I=Math.abs(q-$)*.1,Y=Math.abs(V-G)*.1,B=y.shape.bitmap.width*y.scalar,_=y.shape.bitmap.height*y.scalar,z=new DOMMatrix([Math.cos(R)*I,Math.sin(R)*I,-Math.sin(R)*Y,Math.cos(R)*Y,y.x,y.y]);z.multiplySelf(new DOMMatrix(y.shape.matrix));var oe=C.createPattern(f.transform(y.shape.bitmap),"no-repeat");oe.setTransform(z),C.globalAlpha=1-O,C.fillStyle=oe,C.fillRect(y.x-B/2,y.y-_/2,B,_),C.globalAlpha=1}else if(y.shape==="circle")C.ellipse?C.ellipse(y.x,y.y,Math.abs(q-$)*y.ovalScalar,Math.abs(V-G)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):L(C,y.x,y.y,Math.abs(q-$)*y.ovalScalar,Math.abs(V-G)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI);else if(y.shape==="star")for(var U=Math.PI/2*3,he=4*y.scalar,pe=8*y.scalar,ge=y.x,Pe=y.y,Ee=5,Te=Math.PI/Ee;Ee--;)ge=y.x+Math.cos(U)*pe,Pe=y.y+Math.sin(U)*pe,C.lineTo(ge,Pe),U+=Te,ge=y.x+Math.cos(U)*he,Pe=y.y+Math.sin(U)*he,C.lineTo(ge,Pe),U+=Te;else C.moveTo(Math.floor(y.x),Math.floor(y.y)),C.lineTo(Math.floor(y.wobbleX),Math.floor(G)),C.lineTo(Math.floor(q),Math.floor(V)),C.lineTo(Math.floor($),Math.floor(y.wobbleY));return C.closePath(),C.fill(),y.tick<y.totalTicks}function ne(C,y,O,$,G){var q=y.slice(),V=C.getContext("2d"),R,I,Y=d(function(B){function _(){R=I=null,V.clearRect(0,0,$.width,$.height),f.clear(),G(),B()}function z(){a&&!($.width===s.width&&$.height===s.height)&&($.width=C.width=s.width,$.height=C.height=s.height),!$.width&&!$.height&&(O(C),$.width=C.width,$.height=C.height),V.clearRect(0,0,$.width,$.height),q=q.filter(function(oe){return J(V,oe)}),q.length?R=m.frame(z):_()}R=m.frame(z),I=_});return{addFettis:function(B){return q=q.concat(B),Y},canvas:C,promise:Y,reset:function(){R&&m.cancel(R),I&&I()}}}function re(C,y){var O=!C,$=!!x(y||{},"resize"),G=!1,q=x(y,"disableForReducedMotion",Boolean),V=o&&!!x(y||{},"useWorker"),R=V?v():null,I=O?k:M,Y=C&&R?!!C.__confetti_initialized:!1,B=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_;function z(U,he,pe){for(var ge=x(U,"particleCount",w),Pe=x(U,"angle",Number),Ee=x(U,"spread",Number),Te=x(U,"startVelocity",Number),tc=x(U,"decay",Number),nc=x(U,"gravity",Number),rc=x(U,"drift",Number),sa=x(U,"colors",E),ac=x(U,"ticks",Number),oa=x(U,"shapes"),sc=x(U,"scalar"),oc=!!x(U,"flat"),ia=A(U),la=ge,_n=[],ic=C.width*ia.x,lc=C.height*ia.y;la--;)_n.push(H({x:ic,y:lc,angle:Pe,spread:Ee,startVelocity:Te,color:sa[la%sa.length],shape:oa[b(0,oa.length)],ticks:ac,decay:tc,gravity:nc,drift:rc,scalar:sc,flat:oc}));return _?_.addFettis(_n):(_=ne(C,_n,I,he,pe),_.promise)}function oe(U){var he=q||x(U,"disableForReducedMotion",Boolean),pe=x(U,"zIndex",Number);if(he&&B)return d(function(Te){Te()});O&&_?C=_.canvas:O&&!C&&(C=K(pe),document.body.appendChild(C)),$&&!Y&&I(C);var ge={width:C.width,height:C.height};R&&!Y&&R.init(C),Y=!0,R&&(C.__confetti_initialized=!0);function Pe(){if(R){var Te={getBoundingClientRect:function(){if(!O)return C.getBoundingClientRect()}};I(Te),R.postMessage({resize:{width:Te.width,height:Te.height}});return}ge.width=ge.height=null}function Ee(){_=null,$&&(G=!1,t.removeEventListener("resize",Pe)),O&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,Y=!1)}return $&&!G&&(G=!0,t.addEventListener("resize",Pe,!1)),R?R.fire(U,ge,Ee):z(U,ge,Ee)}return oe.reset=function(){R&&R.reset(),_&&_.reset()},oe}var Z;function X(){return Z||(Z=re(null,{useWorker:!0,resize:!0})),Z}function F(C,y,O,$,G,q,V){var R=new Path2D(C),I=new Path2D;I.addPath(R,new DOMMatrix(y));var Y=new Path2D;return Y.addPath(I,new DOMMatrix([Math.cos(V)*G,Math.sin(V)*G,-Math.sin(V)*q,Math.cos(V)*q,O,$])),Y}function se(C){if(!i)throw new Error("path confetti are not supported in this browser");var y,O;typeof C=="string"?y=C:(y=C.path,O=C.matrix);var $=new Path2D(y),G=document.createElement("canvas"),q=G.getContext("2d");if(!O){for(var V=1e3,R=V,I=V,Y=0,B=0,_,z,oe=0;oe<V;oe+=2)for(var U=0;U<V;U+=2)q.isPointInPath($,oe,U,"nonzero")&&(R=Math.min(R,oe),I=Math.min(I,U),Y=Math.max(Y,oe),B=Math.max(B,U));_=Y-R,z=B-I;var he=10,pe=Math.min(he/_,he/z);O=[pe,0,0,pe,-Math.round(_/2+R)*pe,-Math.round(z/2+I)*pe]}return{type:"path",path:y,matrix:O}}function le(C){var y,O=1,$="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?y=C:(y=C.text,O="scalar"in C?C.scalar:O,G="fontFamily"in C?C.fontFamily:G,$="color"in C?C.color:$);var q=10*O,V=""+q+"px "+G,R=new OffscreenCanvas(q,q),I=R.getContext("2d");I.font=V;var Y=I.measureText(y),B=Math.ceil(Y.actualBoundingBoxRight+Y.actualBoundingBoxLeft),_=Math.ceil(Y.actualBoundingBoxAscent+Y.actualBoundingBoxDescent),z=2,oe=Y.actualBoundingBoxLeft+z,U=Y.actualBoundingBoxAscent+z;B+=z+z,_+=z+z,R=new OffscreenCanvas(B,_),I=R.getContext("2d"),I.font=V,I.fillStyle=$,I.fillText(y,oe,U);var he=1/O;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[he,0,0,he,-B*he/2,-_*he/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=re,n.exports.shapeFromPath=se,n.exports.shapeFromText=le})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Er,!1);const pn=Er.exports;Er.exports.create;const gn=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?pn.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):pn)({...e})};gn.shapeFromPath=e=>pn.shapeFromPath({...e});gn.shapeFromText=e=>pn.shapeFromText({...e});const fs=()=>{const t=Date.now()+5e3,n={startVelocity:30,spread:360,ticks:60,zIndex:0},a=(o,i)=>Math.random()*(i-o)+o,s=window.setInterval(()=>{const o=t-Date.now();if(o<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((l,c)=>{c>0&&l.remove()}),clearInterval(s);const i=50*(o/5e3);gn({...n,particleCount:i,zIndex:999999,origin:{x:a(.1,.3),y:Math.random()-.2}}),gn({...n,particleCount:i,zIndex:999999,origin:{x:a(.7,.9),y:Math.random()-.2}})},250)},me=5,Ot={position:"fixed",zIndex:10010,backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden"},Dt={transition:"all 0.3s linear"},zn=({children:e,style:t})=>{const{position:n,highlight:a}=bs(),s=window.document.documentElement.getBoundingClientRect();return!n||!a?r.jsx("div",{className:"top-0 left-0 w-screen h-svh",style:{...Ot,...t},children:e}):Kt.createPortal(r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"top-0 left-0",style:{width:n.left-me,height:n.bottom+me,...Dt,...Ot,...t}}),r.jsx("div",{className:"top-0",style:{left:n.left-me,width:s.width-(n.left-me),height:n.top-me,...Dt,...Ot,...t}}),r.jsx("div",{style:{top:n.top-me,left:n.right+me,width:s.width-(n.right+me),height:s.height-(n.top-me),...Dt,...Ot,...t}}),r.jsx("div",{className:"left-0",style:{top:n.bottom+me,width:n.right+me,height:s.height-(n.bottom+me),...Dt,...Ot,...t}}),r.jsx("div",{style:{position:"fixed",top:n.top-me,left:n.left-me,width:n.width+me*2,height:n.height+me*2,zIndex:10015,backgroundColor:"transparent",outline:"2px solid hsl(var(--upgrade))",borderRadius:"0.2rem",...Dt}}),r.jsx("div",{style:{position:"fixed",zIndex:10020},children:e})]}),document.body)};function Kc(e,t){const n=u.createContext(t);function a(o){const{children:i,...l}=o,c=u.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:i})}function s(o){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,s]}function Ae(e,t=[]){let n=[];function a(o,i){const l=u.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:v,children:p,...g}=m,h=(v==null?void 0:v[e][c])||l,x=u.useMemo(()=>g,Object.values(g));return r.jsx(h.Provider,{value:x,children:p})}function f(m,v){const p=(v==null?void 0:v[e][c])||l,g=u.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Yc(s,...t)]}function Yc(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=a.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Pr="Progress",Rr=100,[Zc,$p]=Ae(Pr),[Xc,Qc]=Zc(Pr),ms=u.forwardRef((e,t)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:o=Jc,...i}=e;(s||s===0)&&!va(s)&&console.error(ed(`${s}`,"Progress"));const l=va(s)?s:Rr;a!==null&&!xa(a,l)&&console.error(td(`${a}`,"Progress"));const c=xa(a,l)?a:null,d=vn(c)?o(c,l):void 0;return r.jsx(Xc,{scope:n,value:c,max:l,children:r.jsx(Q.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vn(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":gs(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});ms.displayName=Pr;var hs="ProgressIndicator",ps=u.forwardRef((e,t)=>{const{__scopeProgress:n,...a}=e,s=Qc(hs,n);return r.jsx(Q.div,{"data-state":gs(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});ps.displayName=hs;function Jc(e,t){return`${Math.round(e/t*100)}%`}function gs(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vn(e){return typeof e=="number"}function va(e){return vn(e)&&!isNaN(e)&&e>0}function xa(e,t){return vn(e)&&!isNaN(e)&&e<=t&&e>=0}function ed(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Rr}\`.`}function td(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Rr} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vs=ms,nd=ps;function rd(e){const[t,n]=j.useState([]);return j.useEffect(()=>{e!==t[1]&&n(a=>[a[1],e])},[e]),t[0]}const En=u.forwardRef(({barColor:e,className:t,value:n,increaseOnly:a,...s},o)=>{const i=rd(n);return r.jsx(vs,{ref:o,className:S("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:r.jsx(nd,{className:S("h-full w-full flex-1",e??"bg-primary",{[S("transition-transform duration-200 ease-out",{"duration-500":typeof n=="number"&&i===0&&n>90})]:!a||typeof n!="number"||typeof i!="number"||n>i}),style:{transform:`translateX(-${100-(n||0)}%)`}})})});En.displayName=vs.displayName;function ad(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"})))}const xs=j.createContext(null),ys=j.createContext(null),sd=({steps:e,children:t,opaqueStyle:n})=>{var K;const a=je(L=>L.isCardGameVisible),[s,o]=de(L=>[L.tutorial,L.updateTutorial]),[i,l]=j.useState(null),[c,d]=j.useState(null),[f,m]=j.useState(null),[v,p]=j.useState(!1),[g,h]=j.useState(!1),x=L=>{p(!0),A(L),m(e[L]||null),l(L)},w=()=>{x(0)},b=()=>{ae.bell.play(),l(null),m(null),d(null),o(!1)},N=()=>{if(i!==null){if(i>=e.length-1)return b();ae.gain.play(),x(i+1)}},E=()=>{if(i!==null){if(i-1<0)return b();ae.play.play(),x(i-1)}},P=L=>()=>{let H=0,J=-1;e.forEach(ne=>{ne.id===L&&(J=H),H++}),!(J<0)&&x(J)},A=L=>{var ne;if(L===null||((ne=e[L])==null?void 0:ne.id.charAt(0))==="_")return;const H=document.body;new MutationObserver((re,Z)=>{var se;const X=document.querySelector(((se=e[L])==null?void 0:se.id)||"");if(!X)return;const F=X.getBoundingClientRect();F&&(d({left:F.left,top:F.top,right:F.right,bottom:F.bottom,width:F.width,height:F.height,x:F.x,y:F.y}),Z.disconnect())}).observe(H,{childList:!0,subtree:!0})},k=()=>{var J,ne;if(i===null||((J=e[i])==null?void 0:J.id.charAt(0))==="_")return;const L=document.querySelector(((ne=e[i])==null?void 0:ne.id)||"");if(!L)return;const H=L.getBoundingClientRect();H&&d({left:H.left,top:H.top,right:H.right,bottom:H.bottom,width:H.width,height:H.height,x:H.x,y:H.y})};j.useEffect(()=>{!a||!s?(l(null),m(null),d(null)):w()},[s,a]),j.useEffect(()=>(window.addEventListener("resize",k),window.addEventListener("scroll",k,{capture:!0}),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k)}),[i]);let M=null;return f&&!c&&(M=r.jsx(zn,{style:n,children:null})),f&&c&&(M=r.jsx(zn,{style:n,children:(f==null?void 0:f.render({position:c,next:N,back:E,finish:b,goTo:P}))||null})),i!==null&&((K=e[i])==null?void 0:K.id.charAt(0))==="_"&&(M=r.jsx(zn,{style:n,children:(f==null?void 0:f.render({position:void 0,next:N,back:E,finish:b,goTo:P}))||null})),r.jsx(xs.Provider,{value:{start:w},children:r.jsxs(ys.Provider,{value:{position:c,isLoading:v,highlight:g,setLoading:p,setHighlight:h},children:[t,M,f&&r.jsxs("div",{className:"fixed w-fit right-2 bottom-2",style:{zIndex:999998},children:[i!==null&&r.jsxs("div",{className:"text-xl font-mono text-center text-white bg-black bg-opacity-50 p-1 rounded-md",children:[i+1," / ",e.length]}),r.jsxs(T,{variant:"cta",size:"cta",className:"my-2",onClick:b,children:["Passer le didacticiel ",r.jsx(ad,{className:"ml-2 h-5"})]}),r.jsx(En,{value:((i??0)+1)/e.length*100})]})]})})},ws=()=>{const e=j.useContext(xs);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},bs=()=>{const e=j.useContext(ys);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},xe=({location:e,highlight:t,children:n,style:a,...s})=>{const{position:o,isLoading:i,setLoading:l,setHighlight:c}=bs(),d=j.useRef(null),[f,m]=j.useState(null);return j.useEffect(()=>{c(!!t)},[t]),j.useEffect(()=>{const v=o,p={};switch(e){case"right":case"left":case"top":case"bottom":if(!v)throw Error("Not position exists")}switch(e){case"right":case"left":p.top=v.top-me+"px",e==="left"?(p.left=v.left-me+"px",p.transform="translate(-100%, 0)"):p.left=v.right+me+"px";break;case"top":case"bottom":p.left=v.left+v.width/2+"px",e==="top"?(p.top=v.top-me+"px",p.transform="translate(-50%, -100%)"):(p.top=v.bottom+me+"px",p.transform="translate(-50%, 0)");break;case"center":p.left="50%",p.top="50%",p.transform="translate(-50%, -50%)";break}m(p),l(!1)},[o,i]),i?null:r.jsx("div",{...s,ref:d,className:"space-y-4 leading-6 *:whitespace-nowrap",style:{position:"fixed",visibility:"visible",zIndex:"10010",borderRadius:"3px",fontSize:"1.5rem",...f,...a},children:n})},ye={backgroundColor:"hsl(var(--card))",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 4rem 0 rgba(255,255,255, 0.3)"},od=[{id:"_welcome",render:({next:e,finish:t})=>r.jsxs(xe,{style:ye,location:"center",children:[r.jsx("h2",{children:"Bienvenue sur mon jeu de cartes !"}),r.jsxs("p",{children:["Je vais te guider rapidement Ã  travers les bases du jeu. ",r.jsx("br",{}),"J'espÃ¨re qu'il te plaira !"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Quitter le tutoriel"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"C'est parti !"})]}),r.jsx("img",{src:"images/tutorial/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})},{id:"#energy",render:({next:e,back:t})=>r.jsx(r.Fragment,{children:r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsxs("h2",{children:["L'",r.jsx(D,{name:"energy"})]}),r.jsxs("p",{children:["L'",r.jsx(D,{name:"energy"})," est la ressource principale du jeu. ",r.jsx("br",{}),"Elle te permet de jouer des cartes."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#reputation",render:({next:e,back:t})=>r.jsx(r.Fragment,{children:r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsxs("h2",{children:["La ",r.jsx(D,{name:"reputation"})]}),r.jsx("p",{children:"Cette jauge est importante !"}),r.jsxs("p",{children:["Elle te permet d'utiliser des cartes lorsque tu n'as plus assez d'",r.jsx(D,{name:"energy"}),". ",r.jsx("br",{}),"Cependant, si cette jauge est vide, tu perds la partie."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#day",render:({next:e,back:t})=>r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsxs("h2",{children:["La ",r.jsx(D,{name:"day",children:"journÃ©e"})]}),r.jsxs("p",{children:["La ",r.jsx(D,{name:"day",children:"journÃ©e"})," avance Ã  chaque carte jouÃ©e. ",r.jsx("br",{}),"Certains Ã©vÃ¨nements se dÃ©clencheront Ã  la fin de chaque"," ",r.jsx(D,{name:"day"}),"."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#sprint",render:({next:e,back:t})=>r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsxs("h2",{children:["Le ",r.jsx(D,{name:"sprint"})]}),r.jsxs("p",{children:["Le sprint est un cycle de 7 ",r.jsx(D,{name:"day",plural:!0}),", une semaine donc."]}),r.jsxs("p",{children:["Ã€ la fin de chaque ",r.jsx(D,{name:"sprint"}),", tu pourras choisir ",r.jsx("br",{})," ","une ",r.jsx(D,{name:"upgrade"})," Ã  ajouter Ã  ton deck."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#deck",render:({next:e,back:t})=>r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsx("h2",{children:"Le deck"}),r.jsxs("p",{children:["Comme dans la plupart des jeux de cartes, ton deck reprÃ©sente ",r.jsx("br",{}),"toutes les cartes que tu possÃ¨des."]}),r.jsxs("p",{children:["Ici, tu peux voir toutes les cartes de ton deck triÃ©es par ",r.jsx("br",{}),"type de carte. Si tu cherches une carte en particulier, ",r.jsx("br",{}),"tu peux utiliser la barre de recherche."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#money",render:({next:e,back:t})=>r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsxs("h2",{children:["L'",r.jsx(D,{name:"money"})]}),r.jsx("p",{children:"Il te permet de jouer certaines cartes"}),r.jsxs("p",{children:["Si tu atteins ",r.jsx(Ge,{M$:Wt}),", tu gagnes la partie."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#corner-icons",render:({next:e,back:t})=>r.jsxs(xe,{location:"left",style:ye,highlight:!0,children:[r.jsx("h2",{children:"Les paramÃ¨tres"}),r.jsx("p",{children:"En haut Ã  droite, tu peux accÃ©der aux paramÃ¨tres du jeu."}),r.jsxs("p",{children:["Tu pourras y arrÃªter la musique, y rÃ©gler la qualitÃ© graphique, ",r.jsx("br",{}),"y consulter les taux de conversion et les rÃ¨gles du jeu ",r.jsx("br",{}),"ou encore y ajuster le niveau de difficultÃ©."]}),r.jsxs("p",{children:["On y trouve Ã©galement le classement des meilleurs scores, ",r.jsx("br",{}),"les cartes dÃ©couvertes et les succÃ¨s dÃ©verrouillÃ©s ainsi ",r.jsx("br",{}),"que quelques statistiques sur tes parties prÃ©cÃ©dentes. ",r.jsx("br",{})]}),r.jsx("p",{children:"Si tu as besoin d'aide, tu peux consulter le tutoriel Ã  tout moment."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#hand",render:({next:e,back:t})=>r.jsxs(xe,{location:"top",style:ye,highlight:!0,children:[r.jsx("h2",{children:"La main"}),r.jsxs("p",{children:["Ta main est l'ensemble des cartes que tu peux jouer. ",r.jsx("br",{}),"Tu peux en jouer tant que tu as les ressources nÃ©cessaires ",r.jsx("br",{}),"et que leurs effets sont activables."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#card-stacks",render:({next:e,back:t})=>r.jsxs(xe,{location:"left",style:ye,highlight:!0,children:[r.jsx("h2",{children:"La pioche et la dÃ©fausse"}),r.jsx("p",{children:"A droite, tu trouveras la pioche et la dÃ©fausse."}),r.jsxs("p",{children:["La pioche contient les cartes que tu pourras piocher. ",r.jsx("br",{}),"La dÃ©fausse contient les cartes que tu viens de jouer."]}),r.jsxs("p",{children:["En cliquant sur l'une des deux piles, tu pourras voir ",r.jsx("br",{}),"les cartes qu'elles contiennent."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#upgrades",render:({next:e,back:t})=>r.jsxs(xe,{location:"bottom",style:ye,highlight:!0,children:[r.jsxs("h2",{children:["Les ",r.jsx(D,{name:"upgrade",plural:!0})]}),r.jsxs("p",{children:["Sur le haut de l'Ã©cran, tu verras apparaitre des"," ",r.jsx(D,{name:"upgrade",plural:!0}),". ",r.jsx("br",{}),"Elles s'activeront automatiquement lors de certains Ã©vÃ¨nements"]}),r.jsx("img",{src:"images/tutorial/upgrades.png",alt:"upgrades"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#logs",render:({next:e,back:t})=>r.jsxs(xe,{location:"right",style:ye,highlight:!0,children:[r.jsx("h2",{children:"Les logs"}),r.jsxs("p",{children:["Ici, tu pourras voir les effets des cartes que tu as jouÃ©es. ",r.jsx("br",{}),"Les logs sont triÃ©s par ordre chronologique."]}),r.jsx("img",{src:"images/tutorial/logs.png",alt:"logs"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#actions",render:({next:e,back:t})=>r.jsxs(xe,{location:"top",style:ye,highlight:!0,children:[r.jsx("h2",{children:"Les actions"}),r.jsxs("p",{children:["Au milieu de l'Ã©cran, tu trouveras des actions ",r.jsx("br",{}),"a effectuer au cours de la partie."]}),r.jsxs("p",{children:["Par exemple, choisir une carte Ã  ajouter Ã  ton deck ",r.jsx("br",{}),"ou mÃªme piocher une carte si tu ne peux pas jouer"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"_detail",render:({next:e,back:t})=>r.jsxs(xe,{style:ye,location:"center",children:[r.jsx("h2",{children:"Informations d'une carte"}),r.jsxs("p",{children:["Si tu veux plus d'informations sur une carte, ",r.jsx("br",{}),"tu peux faire un clic droit dessus."]}),r.jsxs("p",{children:["Une popup s'ouvrira avec les formes alternatives ",r.jsx("br",{}),"de la carte et plein d'autres informations utiles !"]}),r.jsx("img",{src:"images/tutorial/detail.png",alt:"card detail",className:"w-[500px]"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:()=>{ae.victory.play(),fs(),e()},children:"Suivant"})]})]})},{id:"_end",render:({finish:e})=>r.jsxs(xe,{style:ye,location:"center",children:[r.jsx("h2",{children:"Fin du tutoriel"}),r.jsxs("p",{children:["Tu as maintenant toutes les clÃ©s en main. ",r.jsx("br",{}),"N'hÃ©site pas Ã  consulter les rÃ¨gles du jeu si tu as besoin d'aide."]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Lancer une partie"})}),r.jsx("img",{src:"images/tutorial/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})}],js=j.createContext(null);function id(){const e=j.useContext(js);if(!e)throw new Error("useCrashReport must be used within a CrashReportProvider");return e}const ld=({children:e})=>{const[t,n,a]=ie(m=>[m.error,m.dangerouslyUpdate,()=>m]),[s,o]=j.useState(null),[i,l]=j.useState(null),[c,d]=j.useState(null);j.useEffect(()=>{t&&f(t,a())},[t]);const f=j.useCallback((m,v)=>{ae.error.play(),o(m),l(yc(v)),console.error(m);const p=JSON.stringify(nr(v,"revivedHand","revivedDraw","revivedDiscard"));W(500).then(()=>navigator.clipboard.writeText(p).catch(()=>{d(p)}).then(()=>alert("L'Ã©tat du jeu a Ã©tÃ© copiÃ© dans le presse-papier")))},[]);return r.jsx(js.Provider,{value:{gameState:i,crashReport:s,addCrashReport:f,gameStringState:c,resetCrashReport:()=>{o(null),l(null),n({error:null})}},children:s?r.jsx(cd,{}):e})},cd=()=>{const e=ie(d=>d.reset),{resetCrashReport:t,crashReport:n,gameState:a,gameStringState:s}=id(),[o,i]=j.useState(!1),[l,c]=j.useState(!1);return!n||!a?null:r.jsxs("div",{className:"absolute inset-0 bg-background/50 flex justify-center items-center",children:[r.jsxs("div",{className:"bg-background/90 ring ring-red-600 p-4 rounded-lg space-y-4 max-w-xl",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Une erreur Ã  Ã©tÃ© interceptÃ©e !"}),r.jsx("p",{children:"Si tu le souhaites, tu peux envoyer le rapport d'erreur Ã  Ghom pour qu'il puisse corriger le problÃ¨me. Tu peux continuer ta partie, mais si tu rencontres des problÃ¨mes, il est conseillÃ© de recharger la page. Si le bug persiste, il est possible que ta sauvegarde soit corrompue, dans ce cas tu devrais recommencer une nouvelle partie, dÃ©solÃ© pour la gÃªne occasionnÃ©e."}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 w-fit mx-auto",children:[r.jsx(T,{onClick:()=>{t(),e()},size:"cta",className:"text-red-600",children:"Recommencer une partie"}),r.jsx(T,{onClick:()=>{t(),window.location.reload()},size:"cta",children:"Rafraichir le navigateur"}),r.jsx(T,{onClick:()=>{!s||l?window.open(`mailto:${wc.email}?subject=${encodeURI(`Rapport d'erreur: ${n.message}`)}&body=${encodeURI(`
${n.stack}

Game state:
< colle ici le contenu de ton presse-papier >`)}`):i(!0)},variant:"cta",size:"cta",children:"Envoyer le rapport"}),r.jsx(T,{onClick:()=>t(),variant:"cta",size:"cta",children:"Continuer la partie"})]})]}),o&&r.jsxs("div",{className:"absolute left-1/2 top-1/2 bg-background ring ring-red-600 p-4 rounded-lg max-w-xl space-y-4 -translate-y-1/2 -translate-x-1/2",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Avant d'envoyer le rapport"}),r.jsx("p",{className:"text-xl leading-5",children:"Merci de copier ta sauvegarde dans le presse-papier afin de me la transmettre lors de ton rapport."}),r.jsx("h2",{className:"text-2xl",children:"Sauvegarde"}),r.jsx("code",{className:"text-sm whitespace-normal overflow-scroll w-full h-52",children:s}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(T,{onClick:()=>i(!1),children:"Retour"}),r.jsx(T,{onClick:()=>{navigator.clipboard.writeText(s).then(()=>{alert("La sauvegarde a Ã©tÃ© copiÃ©e dans le presse-papier"),i(!1),c(!0)}).catch(()=>{alert(`Impossible de copier la sauvegarde...
Essaye de la copier Ã  la main, merci d'avance !`)})},variant:"cta",size:"cta",children:"Copier la sauvegarde"})]})]})]})},dd=e=>{const[t,n]=ie(a=>[a.screenMessageQueue[0],()=>{a.dangerouslyUpdate({screenMessageQueue:a.screenMessageQueue.slice(1)})}]);return j.useEffect(()=>{if(!t)return;const a=setTimeout(()=>{n()},2e3);return()=>clearTimeout(a)},[t,n]),!e.show||!t?null:r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full z-50 flex justify-center items-center",children:[r.jsx("div",{className:S(t.className,"absolute animate-to-right duration-[2s] rounded-r-full rounded-bl-full w-full h-[120px] opacity-50")}),r.jsx("div",{className:S(t.className,"absolute animate-to-left duration-[2s] rounded-l-full rounded-tr-full w-full h-[120px] opacity-50")}),r.jsxs("div",{className:S(t.className,"bg-transparent font-changa italic animate-notification duration-[2s] w-fit h-fit text-center"),children:[t.header&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-3xl",children:t.header}),r.jsx("br",{})]}),r.jsx("span",{className:"text-6xl",children:t.message})]})]},t.id)};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cs=(...e)=>e.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...fd,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:Cs("lucide",s),...l},[...i.map(([d,f])=>u.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(e,t)=>{const n=u.forwardRef(({className:a,...s},o)=>u.createElement(md,{ref:o,iconNode:t,className:Cs(`lucide-${ud(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=kt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=kt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=kt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function vd(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function xd(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}function Es(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},j.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},j.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"2"})),j.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},j.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"2"})),j.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},j.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"2"}))))}const Ps=j.createContext({degX:0,degY:0,isHovered:!1}),wa={transformStyle:"preserve-3d"},kr=({max:e=20,reverse:t=!1,scale:n=1,perspective:a=1e3,className:s="",children:o,style:i,disabled:l=!1})=>{const c=de(N=>N.quality.tilt&&N.quality.animations),d=j.useRef(null),f=ns(d),[m,v]=j.useState({}),[p,g]=j.useState(0),[h,x]=j.useState(0),w=j.useCallback(N=>{if(!l&&d.current){const E=d.current.getBoundingClientRect(),P=N.clientX-E.left,A=N.clientY-E.top,k=E.width/2,M=E.height/2,K=(A-M)/M*e,L=(P-k)/k*e;g(t?K:-K),x(t?-L:L),v({...wa,transform:`
            perspective(${a}px)
            rotateX(${t?K:-K}deg)
            rotateY(${t?-L:L}deg)
            scale(${n})
          `})}},[e,a,t,n]),b=j.useCallback(()=>{g(0),x(0),v({...wa,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return j.useEffect(()=>{const N=d.current;return f?N&&(N.addEventListener("mousemove",w),N.addEventListener("mouseleave",b)):b(),()=>{N&&(N.removeEventListener("mousemove",w),N.removeEventListener("mouseleave",b)),b()}},[e,t,n,a,f]),c?r.jsx("div",{ref:d,className:S("will-change-transform",s),style:{...m,...i},children:r.jsx(Ps.Provider,{value:{degX:p,degY:h,isHovered:f},children:o})}):r.jsx("div",{className:s,style:i,children:o})},Rs=()=>{const e=j.useContext(Ps);return de(n=>n.quality.foil)?r.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[r.jsx("div",{className:S("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),r.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):r.jsx(r.Fragment,{})},ks=e=>e.value<=0&&e.isCost?r.jsx(r.Fragment,{}):r.jsx("div",{className:S("text-2xl font-changa text-money w-fit h-fit bg-card flex justify-center px-1 shadow-lg",{"text-md px-0":e.miniature},e.className),style:e.style,children:r.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.symbol?`${e.value>0?"+":""}${e.value}`:e.value,"M$"]})}),xn=e=>{const t=ie(),n=de(),a=er(e.cost,t);return a<=0?r.jsxs("div",{className:S("flex gap-1 bg-pink-500 text-white pl-2 pr-3 py-1 rounded-sm rounded-r-xl text-md font-changa h-6",{"inline-flex px-1 py-0 rounded-sm h-5 w-fit":e.miniature}),style:{transform:`${n.quality.perspective?"translateZ(10px)":""} ${e.miniature?"":"translateX(-16px) translateY(4px) rotateX(10deg) rotateY(10deg) rotateZ(-10deg)"}`,transformStyle:n.quality.perspective?"preserve-3d":"flat"},children:[r.jsx("span",{children:"Free"}),!e.miniature&&r.jsx("span",{className:"inline-block translate-x-full",children:"Â·"})]}):e.cost.type==="money"?r.jsx(ks,{isCost:!0,miniature:e.miniature,value:a,style:{display:e.miniature?"inline-block":"block",transform:`${n.quality.perspective?"translateZ(10px)":""} ${e.miniature?"":"rotate(-10deg)"}`,transformStyle:n.quality.perspective?"preserve-3d":"flat"}}):r.jsx(Ze,{isCost:!0,miniature:e.miniature,value:a,colors:rs(t,e.cost.value),style:{display:e.miniature?"inline-block":"block",transform:n.quality.perspective?"translateZ(5px)":"none",transformStyle:n.quality.perspective?"preserve-3d":"flat"},className:e.miniature?"w-5 h-5":""})},Ms=e=>{const t=de(),n=as(e.card.effect);return n.length===0?null:r.jsx("div",{className:S("text-center text-2xl font-bold",{"text-muted-foreground/50":t.quality.transparency,"text-muted-foreground":!t.quality.transparency}),children:n.map(a=>r.jsx("div",{children:r.jsx(D,{name:a})},a))})},Pt=e=>{const t=de(i=>({blur:i.quality.blur,shadows:i.quality.shadows,perspective:i.quality.perspective,animation:i.quality.animations,transparency:i.quality.transparency,tilt:i.quality.tilt})),n=ie(i=>({...i,canBeBuy:es(e.card,i),canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(i,e.card),selectionInProgress:i.operationInProgress.some(l=>l.startsWith("selectCard"))})),a=typeof e.position=="number"?e.position-(n.hand.length-1)/2:0,s=e.isChoice?n.operationInProgress.filter(i=>i!=="choices").length>0:n.operationInProgress.length>0,o=Sr(e.card.rarity);return r.jsx("div",{className:S("game-card relative",rr,"-mx-3.5 z-10 hover:z-30 cursor-pointer select-none",{"cursor-not-allowed":e.isStack||n.selectionInProgress&&e.card.state!=="selected"||!n.selectionInProgress&&(s||e.isPlaying||!e.isChoice&&n.choiceOptions.length>0),[S("transition-transform",e.card.state)]:t.animation,[S({"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removing",grayscale:n.selectionInProgress&&e.card.state!=="selected"||!n.selectionInProgress&&(n.choiceOptions.length>0||n.isGameOver||!n.canBeBuy||!n.canTriggerEffect)})]:!e.isStack&&!e.isChoice&&!e.isPlaying&&!e.withoutDetail}),onClick:async()=>{e.withoutDetail||e.isPlaying||e.isStack||(e.isChoice?n.choiceOptions.length>0&&!s&&await n.pickOption(e.card,e.options):n.selectionInProgress?n.selectCard(e.card.name):n.choiceOptions.length===0&&!s&&!n.isGameOver&&await n.playCard(e.card,{reason:Ce(e.card)}))},onContextMenu:i=>{i.preventDefault(),!e.withoutDetail&&n.setCardDetail(Ce(e.card))},style:{marginBottom:`${20-Math.abs(a)*5}px`,rotate:`${a*2}deg`,transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear",scale:e.card.state==="highlighted"?"1.1":"1"},children:e.card.state==="removing"&&t.animation?r.jsx("div",{className:"relative",children:r.jsx(Es,{className:S("absolute",Math.random()<.5?"scale-x-[-1]":"",{"text-card/60":t.transparency,"text-card":!t.transparency,[S({"stroke-common":o==="common","stroke-rare":o==="rare","stroke-epic":o==="epic","stroke-legendary":o==="legendary","stroke-cosmic":o==="cosmic","stroke-singularity":o==="singularity"})]:!e.card.effect.tags.includes("token")}),style:{maskClip:"fill-box"}})}):e.card.state==="removed"?r.jsx(r.Fragment,{}):r.jsx(kr,{disabled:e.isStack,scale:1.1,className:S("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[S({"bg-card/60":t.transparency,"bg-card":!t.transparency})]:e.card.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,[S("ring-2",{"ring-common shadow-common":o==="common","ring-rare shadow-rare":o==="rare","ring-epic shadow-epic":o==="epic","ring-legendary shadow-legendary":o==="legendary","ring-cosmic shadow-cosmic":o==="cosmic","ring-singularity shadow-singularity":o==="singularity"})]:!e.card.effect.tags.includes("token")}),children:r.jsxs(r.Fragment,{children:[t.perspective&&t.tilt&&r.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),!n.discoveries.includes(e.card.name)&&r.jsx("div",{className:"absolute left-1/2 -top-1 -translate-y-full -translate-x-1/2 animate-pulse",children:r.jsx(bc,{})}),r.jsxs("div",{className:S("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.type==="action","bg-support":e.card.type==="support","bg-upgrade":e.card.effect.tags.includes("upgrade")}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t.perspective?"translateZ(5px)":""} translateX(${e.card.effect.cost.type==="money"?"-15px":"-8px"})`,transformStyle:t.perspective?"preserve-3d":"flat"},children:r.jsx(xn,{cost:e.card.effect.cost})}),r.jsx("h2",{className:S("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[S({"left-3 text-lg":e.card.effect.cost.type==="money"&&e.card.name.length>7,"left-7":e.card.effect.cost.type==="money"&&e.card.effect.cost.value>99,"text-md":e.card.name.length>11})]:e.card.effect.cost.value>0,"text-action-foreground":e.card.type==="action","text-support-foreground":e.card.type==="support","text-upgrade-foreground":e.card.effect.tags.includes("upgrade")}),style:{transformStyle:t.perspective?"preserve-3d":"flat",transform:t.perspective?"translateZ(5px)":"none"},children:e.card.name}),r.jsxs("div",{className:S("absolute bottom-0 left-0 translate-y-full flex","*:px-2 *:py-0 *:rounded-br-md *:text-sm *:font-mono",{"transition-opacity duration-1000 group-hover/game-card:opacity-0":t.transparency&&t.animation}),children:[!e.card.effect.tags.includes("token")&&r.jsx(un,{advantage:e.card.rarity}),e.card.effect.tags.includes("upgrade")&&r.jsx("div",{className:"bg-upgrade",children:(()=>{const i=Ke.find(l=>l.name===e.card.name);return i.max===void 0?"cumul infini: âˆž":`cumul max: ${i.max}`})()})]})]}),ss(e.card)?r.jsx(yd,{card:e.card}):r.jsx(bd,{card:e.card}),r.jsxs("div",{className:S("flex-grow rounded-b-xl",e.card.type==="action"&&{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"py-[12px] px-[10px] text-center",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},children:e.card.effect.description}),r.jsx(Ms,{card:e.card})]}),r.jsx(fn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),r.jsx(fn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),r.jsx(Rs,{})]})})})},yd=e=>{const{shadows:t,perspective:n}=de(a=>({shadows:a.quality.shadows,perspective:a.quality.perspective}));return r.jsx("div",{className:"group/image relative",style:{transformStyle:n?"preserve-3d":"flat"},children:r.jsx("div",{className:S({"inset-shadow":t},"relative flex justify-center items-center"),style:{transformStyle:n?"preserve-3d":"flat"},children:r.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:n?"translateZ(-15px)":"none"}})})})},wd=["React","Knex"],bd=e=>{const{perspective:t,animation:n}=de(a=>({perspective:a.quality.perspective,animation:a.quality.animations}));return r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex justify-center items-center mt-7 mb-3",style:{transform:t?"translateZ(15px)":"none"},children:r.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:S("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":n&&wd.includes(e.card.name)})})})})},As=e=>{const t=ie(),n=typeof e.item=="object"?jc(e.item)?be(e.item,t):zt(e.item):e.item;return r.jsxs("span",{className:S("inline-flex items-center h-7 w-full rounded-full",typeof n=="string"?"":{"bg-action text-action-foreground":n.type==="action","bg-support text-support-foreground":n.type==="support","bg-upgrade text-upgrade-foreground":n.type==="upgrade"}),children:[typeof n=="object"&&r.jsx(Is,{item:n}),r.jsx("div",{className:"px-2",children:typeof n=="object"?n.name:n})]})},Is=({item:e,...t})=>r.jsx("img",{...t,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:S("aspect-square rounded-full h-full bg-background",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},t.className)}),jd=e=>{const t=ie(),n=de(),a=j.useRef(null),[s,o]=j.useState("tri par ordre d'exÃ©cution"),i=t.cardDetail?be(t.cardDetail,t):null,l=t.cardDetail?qc(t,t.cardDetail):[],c=i?Sr(i.rarity,!0):null,d=i?as(i.effect):null,f=j.useMemo(()=>{var m;return(((m=a.current)==null?void 0:m.children.length)??0)>3},[a]);return r.jsxs("div",{className:S("absolute inset-0 z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":n.quality.animations,"opacity-0 bg-background/80":n.quality.transparency,hidden:!n.quality.transparency,"opacity-100 flex pointer-events-auto":i&&e.show}),children:[r.jsx("div",{onClick:()=>t.setCardDetail(null),className:S("absolute inset-0",i&&e.show?"pointer-events-auto":"pointer-events-none")}),i&&r.jsxs(Yt,{className:"space-y-4 z-30 w-fit h-fit flex flex-col items-center",children:[r.jsxs("h1",{className:"text-3xl",children:['A propos de "',i.name,'"']}),!i.effect.tags.includes("token")&&r.jsx("div",{className:"flex",children:Object.entries(qt).sort(([,m],[,v])=>m-v).map(([m,v])=>{const p=Cc(v,t);return r.jsx("div",{children:r.jsx(Pt,{withoutDetail:!0,card:be({name:i.name,state:c===m&&l.length===0?"highlighted":"idle",initialRarity:p},t,{withoutModifiers:!0})})},m)})}),r.jsxs("div",{className:"flex gap-5",children:[l.length>0&&r.jsxs("div",{className:"shrink-0 flex flex-col p-5 space-y-2 border rounded-lg relative",children:[r.jsx(T,{className:"absolute top-0 right-0",onClick:()=>{o(s==="tri par ordre d'exÃ©cution"?"tri par raison":s==="tri par raison"?"tri par type":"tri par ordre d'exÃ©cution")},children:s}),r.jsx("h2",{className:"text-2xl",children:"Modificateurs actifs"}),r.jsx("div",{className:"max-h-[300px] overflow-y-scroll flex-grow",children:r.jsx("table",{children:r.jsx("tbody",{children:l.sort((m,v)=>s==="tri par type"?m.type.localeCompare(v.type):s==="tri par raison"?m.reason.name.localeCompare(v.reason.name):0).map((m,v)=>r.jsxs("tr",{className:"odd:bg-muted/50",children:[r.jsxs("th",{children:["#",v+1]}),r.jsx("th",{className:"whitespace-nowrap",children:"body"in m.reason?r.jsx("span",{children:m.reason.body}):r.jsx(As,{item:m.reason})}),m.type==="localAdvantage"?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"text-right",children:r.jsx(un,{advantage:m.before,orphan:!0})}),r.jsx("td",{children:r.jsx(ya,{className:"w-4"})}),r.jsx("td",{children:r.jsx(un,{advantage:m.after,orphan:!0})})]}):r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"text-right",children:r.jsx(xn,{cost:m.before,miniature:!0})}),r.jsx("td",{children:r.jsx(ya,{className:"w-4"})}),r.jsx("td",{children:r.jsx(xn,{cost:m.after,miniature:!0})})]})]},v))})})})]}),(i.effect.tags.includes("token")||l.length>0)&&r.jsxs("div",{className:"shrink-0 p-5 space-y-2 border rounded-lg",children:[r.jsx("h2",{className:"text-center text-2xl",children:"Ta carte"}),r.jsx(Pt,{card:i,withoutDetail:!0})]}),r.jsxs("div",{ref:a,className:S("flex flex-col gap-5 *:p-5 *:space-y-2 *:border *:rounded-lg",{"grid grid-cols-2":f}),children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl",children:["Type ",r.jsx(D,{name:i.type})]}),d&&d.length>0&&d.map(m=>r.jsxs("div",{children:[r.jsx(D,{name:m,className:"text-2xl"})," -"," ",os[m].description]},m))]}),i.effect.hint&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"A savoir"}),r.jsx("p",{className:"text-2xl",children:i.effect.hint})]}),i.type==="action"&&r.jsx(Cd,{card:i})]})]})]})]})},Ts=e=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex mb-2 gap-2",children:[r.jsx(xn,{cost:e.card.effect.cost,miniature:!0}),r.jsx("h2",{children:e.card.name})]}),r.jsx("p",{children:e.card.effect.description}),r.jsx(Ms,{card:e.card}),ss(e.card)&&e.card.families.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("hr",{}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.card.families.map(t=>r.jsx(is,{name:t},t))})]})]}),Cd=e=>r.jsxs(r.Fragment,{children:[e.card.families.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Familles"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.card.families.map(t=>r.jsx(is,{name:t},t))})]}),r.jsxs("div",{children:[r.jsxs("a",{className:S("flex gap-3 items-baseline flex-wrap",!e.card.url&&"cursor-default"),href:e.card.url,target:"_blank",children:[r.jsxs("h2",{className:"inline text-2xl whitespace-nowrap",children:['Projet "',e.card.name,'"']}),e.card.url&&r.jsx(gd,{className:"inline self-center"}),e.card.description&&r.jsxs("span",{className:"text-lg italic text-muted-foreground whitespace-nowrap",children:["(",e.card.description,")"]})]}),e.card.detail&&r.jsxs("div",{className:"flex-grow text-xl text-left max-w-lg relative ml-5",children:[e.card.detail,r.jsx("span",{className:"inline-block w-0 overflow-visible",children:r.jsx(xd,{className:"w-5 h-5 inline-block translate-x-2 translate-y-1/2"})}),r.jsx(vd,{className:"w-5 h-5 absolute -left-2 top-0 -translate-x-full"})]})]})]}),ba=e=>{const t=j.useRef(null),n=Nc(t),a=ie(i=>i[e.revivedKey]),s=ie(i=>i.operationInProgress.includes(`shuffleStack ${e.revivedKey.replace("revived","").toLowerCase()}`)),o=n?2:1;return r.jsxs("div",{ref:t,className:"space-y-4",style:{zIndex:e.zIndex??1},children:[r.jsx("div",{className:S(rr,"relative overflow-visible"),children:a.map((i,l,c)=>r.jsx("div",{className:S(rr,"absolute top-1/2 left-1/2 flex justify-center items-center transition-transform",(s||l<c.length-2)&&"border-l bg-card"),style:{transform:`translateY(calc(-50% - ${l*o}px)) translateX(calc(-50% + ${l*o}px)) ${s?`rotate(${l%2?-10:10}deg)`:""}`,borderColor:`hsl(var(--${Sr(i.rarity)}))`},children:!s&&l>=c.length-2&&r.jsx("div",{style:{transform:"translateY(10px)"},children:r.jsx(Pt,{card:i,isStack:!0})})},l))}),r.jsxs("div",{className:"text-center",children:[e.name," (",a.length,")"]})]})},Nd=e=>r.jsxs("div",{id:"card-stacks",className:S("flex gap-10 transition-opacity duration-1000 opacity-0 pointer-events-none","fixed top-36 right-20",(e==null?void 0:e.show)&&"opacity-100 pointer-events-auto"),children:[r.jsx(ba,{name:"Pioche",revivedKey:"revivedDraw",zIndex:2}),r.jsx(ba,{name:"DÃ©fausse",revivedKey:"revivedDiscard"})]}),Sd=e=>{const{start:t}=ws(),n=je(({tutorial:a})=>a);return j.useEffect(()=>{e.show&&n&&t()},[e.show,n]),null},Ed=e=>{const t=cs[e.eventName];return r.jsxs("div",{className:S("inline-flex justify-center items-center gap-1 mx-auto",e.className),children:[r.jsx(Ze,{value:r.jsx(t.icon,{className:"h-5"}),colors:"colors"in t?t.colors:"bg-background",miniature:!0,className:"block h-6 w-6"}),r.jsx("span",{className:"font-zain test-sm",children:t.name})]})},Pd=e=>{const t=de(a=>({shadows:a.quality.shadows,animation:a.quality.animations,transparency:a})),n=ie(a=>a.upgrades);return r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"upgrades",className:"pointer-events-none fixed w-[300px] h-24 top-2 left-1/2 -translate-x-1/2"}),r.jsx("div",{className:S("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":t.animation,"top-0":e.show&&n.length>0}),children:r.jsx("div",{className:S("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":n.length>5,"-translate-y-[25%]":n.length>10,"shadow shadow-black/50":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:r.jsx("div",{className:S("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":n.length>5,"translate-y-[25%]":n.length>10}),children:n.map((a,s)=>{const o=zt(a),i=cs[o.eventName];return r.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[r.jsx("img",{src:`images/upgrades/${o.image}`,alt:o.name,className:S("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":o.state==="triggered"&&t.animation,"ring-foreground":o.state==="triggered"&&!t.animation})}),r.jsx("div",{className:"h-6 relative",children:r.jsxs("div",{className:"relative",children:[o.max!==1/0&&r.jsx(En,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:o.cumul/o.max*100}),r.jsx(Ze,{value:r.jsx(i.icon,{className:"h-5"}),colors:"colors"in i?i.colors:"bg-background",miniature:!0,className:"absolute h-6 w-6",style:{top:"-15px",left:"-15px",transform:"translate(0, -50%)"}}),r.jsx(Ze,{value:o.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),r.jsxs(Yt,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[r.jsxs("h3",{className:"text-xl font-changa",children:[o.name," ",r.jsxs("span",{className:"text-upgrade font-bold",children:[o.cumul,o.max!==1/0&&o.max!==null?`/${o.max}`:""]})]}),r.jsx("p",{children:o.description(o.cumul)}),r.jsx(Ed,{eventName:o.eventName})]})]},s)})})})})]})};function Os(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function Ds(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}function ja(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M221.97 54.406c-40.375 0-77.013 8.01-104.345 21.563C90.293 89.52 70.937 109.51 70.937 134c0 2.57.213 5.094.626 7.563l-.032 5.875c-.555 82.898 16.25 164.612 14.97 244.718-.372 23.295 14.294 43.908 38 57.594s56.797 21.5 97.125 21.5c40.357 0 71.338-8.024 92.906-22.03 21.57-14.008 33.408-34.712 33.408-56.908 0-3.17.054-6.345.125-9.53 42.143-1.114 75.316-23.45 97.125-52.563 22.235-29.684 34.027-66.306 34.687-99.626.66-33.32-9.983-66.91-39.156-80.594-14.588-6.842-30.593-6.573-49.25-1.125-6.16 1.798-12.548 4.25-19.126 7.375.07-2.93.125-5.86.125-8.75v-6.72c.33-2.214.5-4.484.5-6.78 0-24.49-19.357-44.478-46.69-58.03-27.33-13.554-63.937-21.564-104.31-21.564zm0 18.688c37.87 0 72.087 7.752 96.03 19.625 23.943 11.87 36.28 26.974 36.28 41.28 0 14.306-12.337 29.44-36.28 41.313-23.943 11.87-58.16 19.593-96.03 19.593-37.87 0-72.09-7.722-96.032-19.594-23.943-11.87-36.313-27.006-36.313-41.312 0-14.306 12.37-29.41 36.313-41.28 23.942-11.874 58.16-19.626 96.03-19.626zm-69.657 39.03c-23.19 6.707-37.907 16.684-37.907 27.814 0 20.193 48.398 36.562 108.094 36.562 59.696 0 108.063-16.37 108.063-36.563 0-10.264-12.52-19.546-32.657-26.187 5.266 4.105 8.22 8.692 8.22 13.563 0 17.186-36.765 31.124-82.126 31.124-45.36 0-82.125-13.938-82.125-31.125 0-5.518 3.788-10.693 10.438-15.187zm263.312 68.282c4.34-.023 7.825.793 10.53 2.063 10.826 5.076 18.406 22.81 17.908 48.124-.5 25.313-9.714 55.51-26.844 78.375-16.296 21.75-38.106 36.352-67.126 37.905 4.352-49.843 14.23-100.49 19.28-147.844 20.724-13.842 35.894-18.567 46.25-18.624z"})))}const Ls=e=>{const t=de(n=>({animation:n.quality.animations,transparency:n.quality.transparency}));return e.animated?r.jsx("div",{className:S({"animate-bounce w-full hover:duration-500":t.animation&&e.animated}),children:r.jsxs("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:S("text-2xl flex justify-center ring-2 ring-singularity text-singularity rounded-md py-2 mx-auto w-[220px] gap-2",{"bg-card/50 hover:bg-card":t.transparency,"bg-card":!t.transparency}),children:[r.jsx(ja,{className:"w-8 h-8"})," Buy me a coffee"]})}):r.jsxs("a",{href:"http://buymeacoffee.com/ghom",target:"_blank",className:Sn({variant:"icon",className:"border-2 border-singularity text-singularity gap-2"}),children:[r.jsx(ja,{})," Buy me a coffee"]})},Rd=Sc.find(e=>e.name==="Github"),kd=e=>{const{start:t}=ws(),n=je(i=>()=>{i.setTutorial(!0),t()}),[a,s]=de(i=>[i.quality.animations,i.quality.transparency]),o=je(i=>i.toggleSettings);return r.jsxs("div",{id:"corner-icons",className:S("absolute flex top-4 right-4 z-30 gap-2","translate-x-1/2 pointer-events-none",{hidden:!s,"opacity-0":s,"transition-all duration-500 ease-in-out":a,"translate-x-0 opacity-100 flex":e.show}),children:[r.jsx(Ls,{}),r.jsxs("a",{href:Rd.url,target:"_blank",className:Sn({variant:"icon"}),children:[r.jsx(Ec,{className:"w-5 mr-2"})," Github"]}),r.jsx(T,{onClick:n,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Lancer le tutoriel",children:r.jsx(Ds,{})}),r.jsx(T,{onClick:o,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Ouvrir les paramÃ¨tres",children:r.jsx(Os,{})}),r.jsx("div",{className:"w-10 h-10 "})]})},Md=e=>{const t=de(a=>({blur:a.quality.blur,shadows:a.quality.shadows,perspective:a.quality.perspective,animation:a.quality.animations,transparency:a.quality.transparency,tilt:a.quality.tilt})),n=ie(a=>({pickOption:a.pickOption}));return r.jsx("div",{className:S("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{[S("transition-transform",e.resource.state)]:t.animation}),onClick:async()=>{await n.pickOption(e.resource,e.options)},style:{transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear"},children:e.resource.state==="removing"&&t.animation?r.jsx("div",{className:"relative",children:r.jsx(Es,{className:S("absolute",Math.random()<.5?"scale-x-[-1]":"",{"text-card/60":t.transparency,"text-card":!t.transparency},{"stroke-energy":e.resource.type==="energy","stroke-money":e.resource.type==="money","stroke-reputation":e.resource.type==="reputation"}),style:{maskClip:"fill-box"}})}):e.resource.state==="removed"?r.jsx(r.Fragment,{}):r.jsxs(kr,{scale:1.1,className:S("group/game-card","flex flex-col w-full h-full rounded-xl justify-center","*:shrink-0",{"bg-card/60":t.transparency,"bg-card":!t.transparency,"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,"shadow-glow-20 shadow-primary":e.resource.state==="selected"},"ring-2",{"ring-money/50":e.resource.type==="money","ring-energy/50":e.resource.type==="energy","ring-reputation/50":e.resource.type==="reputation"}),children:[t.perspective&&t.tilt&&r.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),r.jsxs("div",{style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"py-[10px] text-center font-changa text-2xl",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},children:e.resource.type==="money"?r.jsx(Ge,{M$:e.resource.value}):r.jsxs(r.Fragment,{children:[e.resource.value," ",r.jsx(D,{name:e.resource.type})]})}),r.jsx("div",{className:S("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":t.transparency,"text-muted-foreground":!t.transparency}),children:"InstantanÃ©"})]}),r.jsx(fn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),r.jsx(fn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),r.jsx(Rs,{})]})},e.resource.id)},Ad=e=>{const t=ie(),n=de(l=>l.quality.animations),a=j.useMemo(()=>Ja(t.day),[t.day]),s=j.useMemo(()=>{var l;return or(((l=t.choiceOptions[0])==null?void 0:l.options())??[],t)},[t.choiceOptions[0]]),o=t.operationInProgress.filter(l=>l!=="choices").length>0,i=t.energy+t.reputation<Tt||t.hand.length>=Be||t.draw.length===0||o;return j.useEffect(()=>{t.choiceOptions.length===0&&t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!1),t.choiceOptions.length>0&&!t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!0)},[t.choiceOptions.length,t.operationInProgress]),r.jsx("div",{id:"actions",className:S("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 pointer-events-none",{"transition-opacity duration-500 ease-in-out":n,"opacity-100 pointer-events-auto":e.show}),children:r.jsxs("div",{className:"space-y-4 group/actions bg-background/80 p-2 rounded-xl relative",children:[r.jsx("h2",{className:S("text-3xl ml-2 select-none",t.choiceOptions.length>0&&s.length<4?"text-left":"text-center"),children:t.playZone.length>0?t.operationInProgress.includes("selectCard")?"Clique sur une carte de la main":t.playZone[t.playZone.length-1].name:t.choiceOptions.length>0?t.choiceOptions[0].header:"Actions"}),t.playZone.length>0?r.jsx("div",{className:"flex justify-center",children:t.playZone.map((l,c)=>r.jsx(Pt,{card:be(l,t),isPlaying:!0},c))}):t.choiceOptions.length===0?r.jsxs(T,{className:S("flex justify-start gap-2",{grayscale:i}),onClick:async()=>{t.setOperationInProgress("infinity-draw",!0),ae.play.play(),await t.addEnergy(-Tt,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.advanceTime(Tt),$t(t)&&await W(2e3),t.setOperationInProgress("infinity-draw",!1)},disabled:i,size:"cta",children:[r.jsx(Ze,{value:Tt,isCost:!0,className:"w-8 h-8",colors:rs(t,Tt)})," ","Piocher une carte"]}):r.jsxs(r.Fragment,{children:[r.jsxs(T,{className:"flex gap-3 absolute right-2 -top-2",disabled:o,onClick:async()=>{await t.skip({reason:"Bouton passer"})},children:[r.jsx(Ze,{value:a&&t.choiceOptions.length===1?10:5,symbol:!0,miniature:!0,colors:"bg-energy"}),"Passer"]}),(s.length===0&&t.dangerouslyUpdate({choiceOptions:t.choiceOptions.slice(1)}),r.jsxs("div",{className:S("flex justify-center",{"grid grid-cols-3":s.length<3}),children:[r.jsx("div",{className:S({hidden:s.length!==1})}),s.map((l,c)=>yt(l)?r.jsx(Md,{resource:l,options:s},c):r.jsx(Pt,{card:l,isChoice:!0,options:s},c))]}))]})]})})},Mr={consumeReputation:r.jsxs(r.Fragment,{children:["Lorsque tu n'as plus d'",r.jsx(D,{name:"energy"}),", tu consommes la ",r.jsx(D,{name:"reputation"}),"."]}),emptyReputation:r.jsxs(r.Fragment,{children:["Si tu n'as plus de ",r.jsx(D,{name:"reputation"}),", tu perds la partie."]}),cantPlay:"Si tu ne peux plus jouer de carte, tu perds la partie.",playedToDiscard:"Quand une carte est jouÃ©e, elle va dans la dÃ©fausse.",supportInterest:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"support"})," sont importantes pour toujours avoir des cartes Ã  jouer."]}),costDollars:r.jsxs(r.Fragment,{children:["Certaines cartes coutent de l'",r.jsx(D,{name:"money"})," pour Ãªtre jouÃ©es."]}),limitedDraw:"Votre pioche est limitÃ©e. Jouez prudemment !",actionGivesResources:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"action"})," donnent souvent des resources"]}),upgradesAreActions:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"upgrade"})," sont considÃ©rÃ©es comme des cartes"," ",r.jsx(D,{name:"action"}),"."]}),ephemeralDestroyed:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"ephemeral",plural:!0})," sont dÃ©truites aprÃ¨s utilisation."]}),recyclageToDraw:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(D,{name:"recyclage"})," retournent dans la pioche."]}),upgradesCumulable:r.jsxs(r.Fragment,{children:["Les effets des ",r.jsx(D,{name:"upgrade",plural:!0})," sont cumulables !"]}),maxHandSize:r.jsxs(r.Fragment,{children:["Tu ne peux pas avoir plus de ",Be," cartes en main."]}),overDraw:"Les cartes piochÃ©es en trop restent dans la pioche.",upgradeCostThreshold:r.jsxs(r.Fragment,{children:["Le prix des cartes d'",r.jsx(D,{name:"upgrade"})," augmente progressivement."]}),winCondition:r.jsxs(r.Fragment,{children:["Si tu obtiens ",r.jsx(Ge,{M$:Wt}),", tu gagnes la partie."]}),sprintsAreWeek:r.jsxs(r.Fragment,{children:["Chaque ",r.jsx(D,{name:"sprint"})," contient une semaine (7"," ",r.jsx(D,{name:"day",plural:!0}),")."]}),sprintReward:r.jsxs(r.Fragment,{children:["A la fin d'un ",r.jsx(D,{name:"sprint"}),", tu ajoutes une carte"," ",r.jsx(D,{name:"upgrade"})," et une carte ",r.jsx(D,{name:"action"})," Ã  ton deck."]}),cardsAdvancesTime:r.jsxs(r.Fragment,{children:["Chaque carte jouÃ©e fait avancer le temps en fonction de son cout en"," ",r.jsx(D,{name:"energy"}),"."]}),rightClicDetail:"Fait un clic droit sur une carte pour avoir plus d'informations.",recycleTarget:r.jsxs(r.Fragment,{children:["Une carte qui ",r.jsx(D,{name:"recycle"})," sort une cible de la dÃ©fausse pour la remettre dans la pioche."]}),dailyReward:r.jsxs(r.Fragment,{children:["Chaque ",r.jsx(D,{name:"day"}),", tu ajoutes une nouvelle carte Ã  ta pioche."]}),permanentSave:"Quittez et revenez quand vous le voulez, tout est sauvegardÃ© !",konamiCode:"Ce jeu a un petit point commun avec les jeux Konami...",inflation:r.jsxs(r.Fragment,{children:["Tous les 28 ",r.jsx(D,{name:"day",plural:!0}),", l'",r.jsx(D,{name:"inflation"})," diminue le ",r.jsx(D,{name:"level"})," des cartes."]})},Id={reputation:["consumeReputation","emptyReputation","winCondition"],mill:["ephemeralDestroyed","limitedDraw","playedToDiscard","cantPlay","supportInterest","recyclageToDraw","recycleTarget","winCondition"],"soft-lock":["costDollars","upgradeCostThreshold","actionGivesResources","inflation","winCondition"],"mill-lock":["overDraw","cardsAdvancesTime","upgradesAreActions","upgradesCumulable","maxHandSize","winCondition"]},Bn=Object.values(Mr),Td=e=>{const t=j.useRef(null),n=ns(t),{animation:a,shadow:s,transparency:o}=de(c=>({animation:c.quality.animations,transparency:c.quality.transparency,shadow:c.quality.shadows})),[i,l]=j.useState(0);return j.useEffect(()=>{const c=setInterval(()=>{n||l((i+1)%Bn.length)},5e3);return()=>clearInterval(c)},[i,n]),r.jsx("div",{ref:t,className:S("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":o,"bg-card":!o,"shadow shadow-black/50":s&&o,"transition-transform duration-500 ease-in-out":a,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>l((i+1)%Bn.length),children:r.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:r.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[r.jsx(Ds,{className:"h-6 cursor-pointer"}),r.jsx("span",{className:"whitespace-nowrap",children:Bn[i]})]})})})},Od=()=>{const[e,t]=j.useState({x:0,y:0});return j.useEffect(()=>{const n=a=>{t({x:a.clientX,y:a.clientY})};return window.addEventListener("mousemove",n),()=>{window.removeEventListener("mousemove",n)}},[]),e},Dd=e=>{const{subjects:t,clear:n}=Pc(),a=de(),s=Od(),[o,i]=j.useState(null);j.useEffect(()=>{t[0]&&i(t[0])},[t]),j.useEffect(()=>{const c=setTimeout(()=>{n()},2e3);return()=>{clearTimeout(c)}},[o]);const l=e.show&&t.length>0;return r.jsx("div",{className:S("pointer-events-none z-50 fixed bg-card p-2 rounded-md shadow-sm shadow-primary max-w-md",{[S("transition-opacity",{"opacity-100 duration-75 ease-[cubic-bezier(0.4, 0, 1, 1)]":l,"opacity-0 duration-1000 ease-[cubic-bezier(0.0, 0, 0.2, 1)]":!l})]:a.quality.transparency,[S("hidden",{block:l})]:!a.quality.transparency}),style:{top:s.y+5,left:s.x+5,zIndex:999999},children:o})};function _t(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const Ld=e=>{const t=de(a=>({animations:a.quality.animations,transparency:a.quality.transparency})),n=ie(a=>({handOverflow:a.hand.length>=Be,almostEmptyDraw:a.draw.length<4&&a.draw.length>0&&Ut(a).length>Be,emptyDraw:a.draw.length===0,almostEmptyReputation:a.reputation<=5}));return e.show?r.jsx("div",{className:S("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none -translate-y-1/2",{"animate-pulse duration-700":t.animations&&t.transparency}),children:r.jsxs("div",{className:S("text-3xl flex flex-col gap-2","*:flex *:items-center *:gap-2",{"transition-[right] ease-in-out duration-1000":t.animations,[S("opacity-0",{"opacity-100":e.show})]:t.transparency,[S("hidden",{flex:e.show})]:!t.transparency}),children:[n.handOverflow&&r.jsxs("div",{children:[r.jsx(_t,{className:"w-10"})," Ta main est pleine !"]}),n.almostEmptyDraw&&r.jsxs("div",{children:[r.jsx(_t,{className:"w-10"})," Ta pioche est presque vide !"]}),n.emptyDraw&&r.jsxs("div",{children:[r.jsx(_t,{className:"w-10"})," Ta pioche est vide !"]}),n.almostEmptyReputation&&r.jsxs("div",{children:[r.jsx(_t,{className:"w-10"})," Ta ",r.jsx(D,{name:"reputation"})," est basse !"]})]})}):null},_d=()=>{const e=ie(),t=e.operationInProgress.length>0;return r.jsxs("div",{className:"group-hover/debug:grid hidden grid-cols-2 gap-1 *:mx-auto",children:[r.jsx(T,{size:"cta",onClick:()=>{throw new Error("Test d'erreur")},children:"DÃ©clencher une erreur"}),r.jsx(T,{size:"cta",onClick:()=>e.addScreenMessage({header:"Test de notif",message:"Une notification",className:"bg-background text-foreground"}),children:"DÃ©clencher une notification"}),r.jsx(T,{size:"cta",disabled:t,onClick:async()=>{const a=Math.round(1/Oe);await e.advanceTime(a)},children:"Ajouter 1 jour"}),r.jsx(T,{size:"cta",disabled:t,onClick:async()=>{const a=Math.round(7/Oe);await e.advanceTime(a)},children:"Ajouter une semaine"}),r.jsx(T,{size:"cta",disabled:t,className:"text-upgrade",onClick:async()=>{e.setOperationInProgress("get all upgrades",!0),e.upgrades=[];for(const n of Ke)await Promise.all(new Array(n.max??10).fill(0).map(async(a,s)=>{await W(100*s),await e.upgrade(n.name)})),await e.removeCard(n.name);e.setOperationInProgress("get all upgrades",!1)},children:"Toutes les amÃ©liorations"}),r.jsx(T,{size:"cta",onClick:async()=>{e.choiceOptions=[],e.operationInProgress=[],e.setOperationInProgress("get all cards",!0);for(const n of Et)e.hand.some(a=>a.name===n.name)||e.draw.some(a=>a.name===n.name)||e.playZone.some(a=>a.name===n.name)||e.discard.some(a=>a.name===n.name)||e.draw.push(be({name:n.name,state:"idle",initialRarity:Qa()},e));e.setOperationInProgress("get all cards",!1)},children:"Toutes les cartes"}),r.jsx(T,{size:"cta",onClick:()=>e.dangerouslyUpdate({inflation:0}),children:"Annuler l'inflation"}),r.jsx(T,{size:"cta",onClick:()=>e.incrementsInflation(),children:"Augmenter l'inflation"}),r.jsx(T,{size:"cta",onClick:async()=>{const n=Et.filter(a=>!a.effect().tags.includes("token")).map(a=>a.name);await e.transformCardsAnimation(n,()=>e.addGlobalCardModifier("level up cards",[n,Nr],{name:"Level up button",body:"Level up button"}))},children:"Level up cards"}),r.jsxs("div",{className:"flex",children:[r.jsx(T,{className:"text-green-500",onClick:()=>e.win(),disabled:t,children:"Win"}),r.jsx(T,{className:"text-red-500",onClick:()=>e.defeat("reputation"),disabled:t,children:"Lose"})]})]})},Fd=()=>{const e=ie(a=>a.operationInProgress),[t,n]=j.useState([]);return j.useEffect(()=>{e.join(" | ")!==t[t.length-1]&&n(a=>[...a,e.join(" | ")].slice(-50))},[e]),r.jsxs(Yt,{className:S("group/debug absolute bottom-0 left-0 opacity-50 hover:opacity-100 z-50"),children:[r.jsxs("div",{className:e.length>0?"bg-red-500":"bg-green-500",children:["Operation in progress:",r.jsx("ul",{children:e.map((a,s)=>r.jsx("li",{children:a},s))})]}),r.jsx("div",{className:"group-hover/debug:block hidden",children:t.map((a,s)=>r.jsxs("div",{className:"whitespace-nowrap text-sm",children:["- ",a]},s))}),r.jsx(_d,{})]})};var Ar={},_s={exports:{}},$d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zd=$d,Bd=zd;function Fs(){}function $s(){}$s.resetWarningCache=Fs;var Gd=function(){function e(a,s,o,i,l,c){if(c!==Bd){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$s,resetWarningCache:Fs};return n.PropTypes=n,n};_s.exports=Gd();var qd=_s.exports,zs=void 0;typeof window<"u"&&(zs=$c);var Wd=zs,Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.noop=function(){};Object.defineProperty(Ar,"__esModule",{value:!0});var Hd=function(){function e(t,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Bs=u,Vd=Gs(Bs),Ud=qd,fe=Gs(Ud),Ca=Wd,$e=Ir;function Gs(e){return e&&e.__esModule?e:{default:e}}function Kd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Zd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tr=function(e){Zd(t,e);function t(n){Kd(this,t);var a=Yd(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.initHowler=a.initHowler.bind(a),a}return Hd(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(a){JSON.stringify(a.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(a)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof Ca.Howl<"u"&&(this.howler=new Ca.Howl({src:a.src,xhr:a.xhr,format:a.format,mute:a.mute,loop:a.loop,preload:a.preload,volume:a.volume,rate:a.rate,onend:a.onEnd,onplay:a.onPlay,onplayerror:a.onPlayError,onpause:a.onPause,onvolume:a.onVolume,onstop:a.onStop,onload:a.onLoad,onseek:a.onSeek,onloaderror:a.onLoadError,html5:a.html5}),a.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(a){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),a.mute!==this.props.mute&&this.mute(this.props.mute),a.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var a=this.howler.playing();a||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;a?this.howler.pause(a):this.howler.pause()}},{key:"rate",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof a=="number"&&(s?this.howler.rate(a,s):this.howler.rate(a))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;a?this.howler.stop(a):this.howler.stop()}},{key:"mute",value:function(){var a;(a=this.howler).mute.apply(a,arguments)}},{key:"volume",value:function(){var a;return(a=this.howler).volume.apply(a,arguments)}},{key:"loop",value:function(){var a;return(a=this.howler).loop.apply(a,arguments)}},{key:"seek",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!a&&a!==0)return this.howler.seek();if(a||a===0)return this.howler.seek(a),a}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return Vd.default.createElement("div",null)}},{key:"howler",set:function(a){a&&(this._howler=a)},get:function(){return this._howler}}]),t}(Bs.Component);Tr.propTypes={src:fe.default.oneOfType([fe.default.string,fe.default.arrayOf(fe.default.string)]).isRequired,format:fe.default.arrayOf(fe.default.string),xhr:fe.default.object,playing:fe.default.bool,mute:fe.default.bool,loop:fe.default.bool,preload:fe.default.bool,volume:fe.default.number,rate:fe.default.number,onEnd:fe.default.func,onPause:fe.default.func,onPlay:fe.default.func,onPlayError:fe.default.func,onVolume:fe.default.func,onStop:fe.default.func,onLoad:fe.default.func,onSeek:fe.default.func,onLoadError:fe.default.func,html5:fe.default.bool};Tr.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:$e.noop,onPause:$e.noop,onPlay:$e.noop,onPlayError:$e.noop,onVolume:$e.noop,onStop:$e.noop,onLoad:$e.noop,onSeek:$e.noop,onLoadError:$e.noop,html5:!1};Ar.default=Tr;var Xd=Ar.default;const Qd=Rc(Xd),mt=.4,Jd=()=>{const e=ie(o=>o.isGameOver),t=je(o=>o.musicVolume),n=je(o=>o.musicMuted),a=je(o=>o.setMusicVolume),s=je(o=>o.isCardGameVisible);return j.useEffect(()=>{let o;return s&&!e&&t<mt?o=setInterval(()=>{a(i=>i<mt?Math.min(mt,i+mt/10):(clearInterval(o),i))},100):(!s||e)&&t>0&&(o=setInterval(()=>{a(i=>i>0?Math.max(0,i-mt/10):(clearInterval(o),i))},100)),()=>clearInterval(o)},[s,e]),r.jsx(Qd,{src:"sounds/music.mp3",volume:Math.min(mt,t),mute:n,loop:!0,playing:!0})},qs=[{name:"Mel Andrew",score:27206,mode:"normal"},{name:"Ghom",score:26138,mode:"normal"},{name:"ð•ºð–“ð–žð–",score:35465,mode:"noob"},{name:"Placeholder",score:1500,mode:"normal"}];function eu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function tu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function nu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),j.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function ru(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8c12.3-2.5 24.1-6.4 35.1-11.5c-2.1-10.8-3.1-21.9-3.1-33.3c0-80.3 53.8-148 127.3-169.2c.5-2.2 .7-4.5 .7-6.8c0-17.7-14.3-32-32-32H32zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm47.9-225c4.3 3.7 5.4 9.9 2.6 14.9L452.4 356H488c5.2 0 9.8 3.3 11.4 8.2s-.1 10.3-4.2 13.4l-96 72c-4.5 3.4-10.8 3.2-15.1-.6s-5.4-9.9-2.6-14.9L411.6 380H376c-5.2 0-9.8-3.3-11.4-8.2s.1-10.3 4.2-13.4l96-72c4.5-3.4 10.8-3.2 15.1 .6z"})))}function au(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j.createElement("g",null,j.createElement("path",{d:"M256 24c-31.466 48-62.932 96-62.932 160 0 56.794 37.144 113.568 45.514 148h34.836c8.37-34.432 45.514-91.206 45.514-148 0-64-31.466-112-62.932-160zM98.637 206c-47.2 0-78.664 32-78.664 80 0 32 22.115 63.526 62.93 64-15.732-16 .002-64 31.468-64 31.89 0 56.58 21.916 69.253 46h33.828c-13.744-47.52-49.108-126-118.813-126zm314.726 0c-69.705 0-105.07 78.48-118.814 126h33.827c12.673-24.084 37.362-46 69.252-46 31.465 0 47.2 48 31.466 64 40.816-.474 62.93-32 62.93-64 0-48-31.464-80-78.663-80zM153.076 350c-38.705 0-54.44 16-54.44 48 0 16 15.734 48 47.2 48 35.4 0 61.948-27 73.01-54h-35.682c-4.657 3.57-11.5 6-21.596 6-15.733 0-31.464-32-8.492-48zm37.694 0c.017.064.03.127.048.19-13.29 2.16-12.694 23.343 1.793 23.79v.02H319.39l-.003-.02c14.486-.447 15.083-21.63 1.792-23.79.017-.063.03-.126.048-.19H190.77zm168.154 0c22.972 16 7.24 48-8.492 48-10.096 0-16.94-2.43-21.596-6h-35.682c11.062 27 37.61 54 73.01 54 31.466 0 47.2-32 47.2-48 0-32-15.735-48-54.44-48zm-118.656 42c-15.733 16-15.734 48-31.467 64l31.468-16c0 16 0 32 15.732 48 15.733-16 15.732-32 15.732-48l31.467 16c-15.734-16-15.735-48-31.468-64h-31.464z",fill:"currentColor",fillOpacity:"1"}))))}function su(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M256 16c-52.5 252.632-210 277.845 0 454.688C466 293.845 308.5 268.63 256 16zM124.75 167.407C98.5 243.197 46 294.117 46 369.907S151 496 229.75 496c-157.5-126.317-105-202.278-105-328.593zm262.5 0c0 126.317 52.5 202.278-105 328.593C361 496 466 445.696 466 369.907c0-75.79-52.5-126.71-78.75-202.5z"})))}var ou="Separator",Na="horizontal",iu=["horizontal","vertical"],Ws=u.forwardRef((e,t)=>{const{decorative:n,orientation:a=Na,...s}=e,o=lu(a)?a:Na,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(Q.div,{"data-orientation":o,...l,...s,ref:t})});Ws.displayName=ou;function lu(e){return iu.includes(e)}var Hs=Ws;const lr=u.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(Hs,{ref:s,decorative:n,orientation:t,className:S("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));lr.displayName=Hs.displayName;const Qt=({iconClassName:e,barClassName:t,value:n,display:a,max:s,color:o,title:i,increaseOnly:l,...c})=>r.jsxs("div",{...c,className:S("flex items-center h-7 w-full",c.className),children:[r.jsx(Ze,{title:i,value:a?a(n/s):n,miniature:!0,colors:o??"bg-primary",className:S("absolute z-50",e)}),r.jsx(En,{barColor:o,className:S(t,"ml-[30px] rounded-l-none"),value:n/s*100,increaseOnly:l})]});function cu(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j.createElement("g",null,j.createElement("path",{d:"M256 18.365L50.14 136 256 253.635 461.86 136 256 18.365zm-154 168L50.14 216 256 333.635 461.86 216 410 186.365l-154 88-154-88zm0 80L50.14 296 256 413.635 461.86 296 410 266.365l-154 88-154-88zm0 80L50.14 376 256 493.635 461.86 376 410 346.365l-154 88-154-88z",fill:"currentColor",fillOpacity:"1"}))))}function du(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j.createElement("g",null,j.createElement("path",{d:"M150.79 479.797l-85.27-185.08c-3.13-6.79-.15-14.862 6.634-17.993l129.163-59.51c6.783-3.12 14.862-.15 17.987 6.646l85.283 185.067c3.13 6.802.15 14.863-6.646 18L168.79 486.43c-6.795 3.144-14.868.15-18-6.633zm26.17-69.31l15.318-44.522 44.522 15.32 7.66-22.253-44.523-15.318 15.325-44.522-22.252-7.66-15.325 44.516-44.515-15.324-7.66 22.258 44.516 15.324-15.324 44.522zm106.07-211.05c47.9-85.625-53.11-105.304-102.586-62.593l-38.9 51.353C105.95 210 97.853 175.98 109.226 158.424l54.106-73.515 97.158-52.146c7.108-5.2 17.838-8.133 32.767-8.445l194.467 1.463.866 112.044-107.304-7.725c1.818 43.394-42.734 53.08-66.683 106.905l-13.813 46.38c-30.217-10.16-41.29-34.367-17.76-83.95zm-129.828-3.077l39.046-51.33c12.434-10.477 29.51-17.675 46.92-17.375-15.264 16.008-20.158 25.557-23.475 39.046-8 19.775-17.74 29.69-30.366 23.296-10.712 10.322-21.412 14.87-32.125 6.364z",fill:"currentColor",fillOpacity:"1"}))))}const uu=e=>{const t=ie(n=>({deck:Ut(n),draw:n.draw,discard:n.discard,hand:n.hand}));return r.jsx(Re,{Icon:e.collection==="deck"?cu:e.collection==="draw"?zc:du,name:e.collection==="deck"?"Deck":e.collection==="draw"?"Pioche":"DÃ©fausse",value:t[e.collection].length,className:"h-5"})},Re=({name:e,Icon:t,value:n,...a})=>r.jsxs("div",{...a,className:S("flex items-center gap-1",a.className),children:[r.jsx(t,{className:"h-full aspect-square w-fit self-center justify-self-start"}),r.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[r.jsxs("span",{children:[e,n!=null?" :":""]})," ",n]})]}),Vs=e=>{const t=ie(),n=de(o=>({shadows:o.quality.shadows,animation:o.quality.animations,transparency:o.quality.transparency})),[a,s]=j.useState("");return r.jsxs(r.Fragment,{children:[e.forHUD&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[r.jsxs("div",{id:"energy",children:[r.jsx(Qt,{title:"Energie",value:t.energy,max:t.energyMax,color:"bg-energy"}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(Re,{Icon:ru,name:"Energie",className:"h-5"})})]}),r.jsxs("div",{id:"reputation",children:[r.jsx(Qt,{title:"RÃ©putation",value:t.reputation,max:Cr,color:"bg-reputation"}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(Re,{Icon:au,name:"RÃ©putation",className:"h-5"})})]}),r.jsxs("div",{id:"day",children:[r.jsx(Qt,{title:"JournÃ©e",display:o=>Math.floor(o*24)%24+"h",value:t.dayFull===null?t.day%1:t.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(Re,{Icon:ha,name:"Jour",value:Math.floor(t.day),className:"h-5"})})]}),r.jsxs("div",{id:"sprint",children:[r.jsx(Qt,{title:"Sprint",display:o=>Math.floor(o*7)+"j",value:Math.floor(t.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(Re,{Icon:Bc,name:"Sprint",value:Math.floor(t.day/7),className:"h-5"})})]})]}),r.jsx(lr,{}),r.jsxs("div",{id:"deck",className:"space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{value:a,onChange:o=>s(o.target.value),placeholder:"Rechercher dans le deck...",className:"flex-grow"}),a.length>0&&r.jsx(kc,{onClick:()=>s(""),className:"cursor-pointer w-3 h-3 absolute top-1/2 right-4 -translate-y-1/2"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"flex justify-end col-span-2",children:jr(t).filter(o=>!a||o.type.includes(a.toLowerCase())||o.name.toLowerCase().includes(a.toLowerCase())||o.effect.tags.some(i=>{var l;return i.includes(a.toLowerCase())||((l=os[i])==null?void 0:l.name.toLowerCase().includes(a.toLowerCase()))})||o.type==="action"&&o.families.some(i=>i.toLowerCase().includes(a.toLowerCase()))||Mc(o.effect.description).toLowerCase().includes(a.toLowerCase())).toSorted((o,i)=>o.type===i.type?o.effect.tags.includes("upgrade")?1:-1:i.type>o.type?1:-1).map((o,i)=>r.jsx(ar,{popover:r.jsx(Ts,{card:o}),children:r.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto cursor-help",onContextMenu:l=>{l.preventDefault(),t.setCardDetail(o)},children:r.jsx(Is,{item:o,className:S("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.tags.includes("upgrade")})})})},i))}),r.jsx(uu,{collection:"deck"})]})]}),r.jsx(lr,{})]}),r.jsxs("div",{className:S("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",n.transparency?"bg-card/60":"bg-card",e.className),children:[r.jsx(Re,{id:"money",Icon:tu,name:"Dollars",value:r.jsxs("span",{children:[r.jsx(Ge,{M$:t.money})," ",e.forHUD&&r.jsxs(r.Fragment,{children:["sur ",r.jsx(Ge,{M$:Wt})]})]})}),r.jsx(Re,{Icon:nu,name:"Score",value:r.jsxs("span",{className:"text-upgrade font-changa",children:[t.score.toLocaleString("fr")," pts"]})}),t.inflation>0&&r.jsx(Re,{Icon:su,name:"Inflation",value:r.jsxs("span",{className:"text-inflation font-changa",children:["-",Math.floor(t.inflation/Nr)," ",r.jsx(D,{name:"level",plural:t.inflation>=4})]})}),!e.forHUD&&r.jsx(Re,{Icon:ha,name:"Jour",value:Math.floor(t.day)}),r.jsx(Re,{Icon:Os,name:"Mode",value:r.jsxs("span",{className:"capitalize",children:[rt[t.difficulty],t.debug&&" [debug]"]})}),t.infinityMode&&r.jsx(Re,{Icon:eu,name:"Mode infini",value:"ActivÃ©"})]})]})},fu=e=>{const t=de(i=>({shadows:i.quality.shadows,animation:i.quality.animations,transparency:i.quality.transparency})),[n,a]=je(i=>[i.setCardGameVisibility,i.toggleSettings]),s=ie(i=>({isGameOver:i.isGameOver,isWon:i.isWon,reason:i.reason,score:i.score,reset:i.reset,continue:i.enableInfinityMode})),o=qs.sort((i,l)=>l.score-i.score).findIndex(({score:i})=>s.score>=i);return j.useEffect(()=>{s.isGameOver&&s.isWon&&t.animation&&e.show&&(ae.victory.play(),fs())},[s.isGameOver,s.isWon,t.animation,e.show]),r.jsx("div",{className:e.show?"block":"hidden",children:s.isGameOver&&r.jsx("div",{className:S("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":t.transparency,"bg-background":!t.transparency}),children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[r.jsxs(kr,{className:"flex flex-col select-none",max:10,reverse:!0,children:[r.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),r.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[s.isWon&&r.jsx("div",{className:"text-green-500",children:"Tu as gagnÃ© !"}),!s.isWon&&r.jsx("div",{className:"text-red-500",children:"Tu as perdu !"})]})]}),s.reason&&r.jsx("p",{className:"text-4xl",children:{reputation:"Tu as utilisÃ© toute ta jauge de rÃ©putation...",mill:"Tu n'as plus de carte...","soft-lock":"Ta main est injouable...","mill-lock":"Tu n'as plus de carte Ã  piocher..."}[s.reason]}),s.isWon?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Vs,{className:"*:h-10 text-3xl"}),r.jsx("div",{className:S("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:o>=0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-3xl",children:["Rank:"," ",r.jsxs("span",{className:S("font-changa text-4xl",sr(o)),children:["# ",o+1]})]}),r.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[r.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contacte-moi"}),r.jsx("br",{}),"pour soumettre ton score !"]})]}):r.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Tu n'es pas classÃ©, ",r.jsx("br",{})," ton score est trop faible."," ",r.jsx("br",{})," Essaye"," ",at.difficulty==="noob"||at.difficulty==="easy"?r.jsxs(r.Fragment,{children:["une difficultÃ© plus Ã©levÃ©e ! ",r.jsx("br",{}),r.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:a,children:"ParamÃ¨tres de difficultÃ©"})]}):"de nouveau !"]})})]}):r.jsx("div",{className:"text-2xl group/helpers",children:s.reason&&Id[s.reason].map((i,l)=>r.jsx("div",{className:S("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":t.animation}),children:r.jsx("p",{className:S("hover:text-foreground",{[S("animate-trigger delay-1000",{"delay-0":l===0,"delay-100":l===1,"delay-200":l===2,"delay-300":l===3,"delay-500":l===4,"delay-700":l===5})]:t.animation}),children:Mr[i]})},l))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(T,{onClick:()=>n(!1),variant:"default",children:"Quitter"}),r.jsx(T,{onClick:()=>s.reset(),variant:s.isWon?"default":"cta",size:s.isWon?"default":"cta",children:s.isWon?"Nouvelle partie":"Recommencer"}),s.isWon&&r.jsx(T,{onClick:()=>s.continue(),popover:r.jsxs("div",{children:[r.jsx("h3",{children:"Mode Infini"}),r.jsx("p",{children:"Si tu veux continuer a t'amuser sur cette partie, c'est possible ! Mais le jeu continueras indÃ©finiment et ton score ne sera pas recevable"})]}),variant:"cta",size:"cta",children:"Mode infini"})]}),s.isWon&&r.jsx(Ls,{animated:!0})]})})})},mu=e=>{const t=ie(a=>a.revivedHand),n=de(({quality:{animations:a}})=>({animations:a}));return r.jsx("div",{id:"hand",className:S("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{"transition-[bottom] ease-in-out duration-1000":n.animations},e.show?"bottom-[-50px]":"-bottom-full"),children:t.map((a,s)=>r.jsx(Pt,{card:a,position:s},s))})},hu=e=>{const t=de(s=>s.quality.animations),n=ie(s=>s.reset),a=je(s=>()=>s.setCardGameVisibility(!1));return r.jsx("div",{className:S("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":t,"-bottom-12":e.show,"delay-500":e.delay&&t}),children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:()=>a(),variant:"default",children:"Revenir Ã  l'accueil"}),r.jsx(T,{onClick:()=>n(),variant:"default",children:"Recommencer"})]})})},Gn=10,pu=e=>{const t=ie(n=>n.logs.toReversed());return r.jsx("div",{id:"logs",className:S("absolute right-0 bottom-0 translate-x-full pointer-events-none min-w-52",{hidden:!e.show}),children:r.jsx("table",{children:r.jsx("tbody",{children:new Array(Gn).fill(0).map((n,a)=>{const s=t.slice()[Gn-1-a];return s?r.jsxs("tr",{style:{opacity:a/Gn},children:[r.jsx("td",{children:r.jsx(As,{item:s.reason})}),r.jsx("td",{className:"pb-1.5",children:r.jsx("span",{className:S("inline-block ring-2",s.value>0?"ring-green-500":"ring-red-500",s.type==="money"?"":"rounded-full"),children:s.type==="money"?r.jsx(ks,{miniature:!0,value:s.value,symbol:!0}):r.jsx(Ze,{miniature:!0,symbol:!0,value:s.value,colors:S({"bg-reputation":s.type==="reputation","bg-energy":s.type==="energy"})})})})]},a):r.jsxs("tr",{children:[r.jsx("td",{className:"pb-1.5",children:r.jsx("span",{className:"inline-block h-7"})}),r.jsx("td",{})]},a)})})})})},gu=e=>{const{shadows:t,animation:n}=de(l=>({shadows:l.quality.shadows,animation:l.quality.animations})),[a,s]=j.useState(!0),[o,i]=j.useState(!1);return j.useEffect(()=>{e.show?(i(!0),s(!1)):(s(!0),i(!1))},[e.show]),r.jsxs("div",{className:S("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"delay-500":o&&n,"translate-x-0":e.show}),children:[r.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":t})}),r.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":t})}),r.jsx(hu,{show:e.show,delay:a}),r.jsx(pu,{show:e.show}),r.jsx(Yt,{className:"space-y-2 w-[400px]",children:r.jsx(Vs,{className:"*:h-6 text-lg",forHUD:!0})})]})};function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Us(e){const t=e+"CollectionProvider",[n,a]=Ae(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:h}=p,x=j.useRef(null),w=j.useRef(new Map).current;return r.jsx(s,{scope:g,itemMap:w,collectionRef:x,children:h})};i.displayName=t;const l=e+"CollectionSlot",c=j.forwardRef((p,g)=>{const{scope:h,children:x}=p,w=o(l,h),b=ce(g,w.collectionRef);return r.jsx(mn,{ref:b,children:x})});c.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=j.forwardRef((p,g)=>{const{scope:h,children:x,...w}=p,b=j.useRef(null),N=ce(g,b),E=o(d,h);return j.useEffect(()=>(E.itemMap.set(b,{ref:b,...w}),()=>void E.itemMap.delete(b))),r.jsx(mn,{[f]:"",ref:N,children:x})});m.displayName=d;function v(p){const g=o(e+"CollectionConsumer",p);return j.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((E,P)=>w.indexOf(E.ref.current)-w.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},v,a]}var we=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},vu=Ac.useId||(()=>{}),xu=0;function Ye(e){const[t,n]=u.useState(vu());return we(()=>{e||n(a=>a??String(xu++))},[e]),e||(t?`radix-${t}`:"")}function _e(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function ot({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,s]=yu({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:a,l=_e(n),c=u.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else s(d)},[o,e,s,l]);return[i,c]}function yu({defaultProp:e,onChange:t}){const n=u.useState(e),[a]=n,s=u.useRef(a),o=_e(t);return u.useEffect(()=>{s.current!==a&&(o(a),s.current=a)},[a,s,o]),n}var wu=u.createContext(void 0);function Pn(e){const t=u.useContext(wu);return e||t||"ltr"}var qn="rovingFocusGroup.onEntryFocus",bu={bubbles:!1,cancelable:!0},Rn="RovingFocusGroup",[cr,Ks,ju]=Us(Rn),[Cu,kn]=Ae(Rn,[ju]),[Nu,Su]=Cu(Rn),Ys=u.forwardRef((e,t)=>r.jsx(cr.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(cr.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Eu,{...e,ref:t})})}));Ys.displayName=Rn;var Eu=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,v=u.useRef(null),p=ce(t,v),g=Pn(o),[h=null,x]=ot({prop:i,defaultProp:l,onChange:c}),[w,b]=u.useState(!1),N=_e(d),E=Ks(n),P=u.useRef(!1),[A,k]=u.useState(0);return u.useEffect(()=>{const M=v.current;if(M)return M.addEventListener(qn,N),()=>M.removeEventListener(qn,N)},[N]),r.jsx(Nu,{scope:n,orientation:a,dir:g,loop:s,currentTabStopId:h,onItemFocus:u.useCallback(M=>x(M),[x]),onItemShiftTab:u.useCallback(()=>b(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(M=>M+1),[]),onFocusableItemRemove:u.useCallback(()=>k(M=>M-1),[]),children:r.jsx(Q.div,{tabIndex:w||A===0?-1:0,"data-orientation":a,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{P.current=!0}),onFocus:te(e.onFocus,M=>{const K=!P.current;if(M.target===M.currentTarget&&K&&!w){const L=new CustomEvent(qn,bu);if(M.currentTarget.dispatchEvent(L),!L.defaultPrevented){const H=E().filter(X=>X.focusable),J=H.find(X=>X.active),ne=H.find(X=>X.id===h),Z=[J,ne,...H].filter(Boolean).map(X=>X.ref.current);Qs(Z,f)}}P.current=!1}),onBlur:te(e.onBlur,()=>b(!1))})})}),Zs="RovingFocusGroupItem",Xs=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:o,...i}=e,l=Ye(),c=o||l,d=Su(Zs,n),f=d.currentTabStopId===c,m=Ks(n),{onFocusableItemAdd:v,onFocusableItemRemove:p}=d;return u.useEffect(()=>{if(a)return v(),()=>p()},[a,v,p]),r.jsx(cr.ItemSlot,{scope:n,id:c,focusable:a,active:s,children:r.jsx(Q.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,g=>{a?d.onItemFocus(c):g.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:te(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const h=ku(g,d.orientation,d.dir);if(h!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=m().filter(b=>b.focusable).map(b=>b.ref.current);if(h==="last")w.reverse();else if(h==="prev"||h==="next"){h==="prev"&&w.reverse();const b=w.indexOf(g.currentTarget);w=d.loop?Mu(w,b+1):w.slice(b+1)}setTimeout(()=>Qs(w))}})})})});Xs.displayName=Zs;var Pu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ru(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ku(e,t,n){const a=Ru(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Pu[a]}function Qs(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function Mu(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var Js=Ys,eo=Xs;function Au(e,t){return u.useReducer((n,a)=>t[n][a]??n,e)}var dt=e=>{const{present:t,children:n}=e,a=Iu(t),s=typeof n=="function"?n({present:a.isPresent}):u.Children.only(n),o=ce(a.ref,Tu(s));return typeof n=="function"||a.isPresent?u.cloneElement(s,{ref:o}):null};dt.displayName="Presence";function Iu(e){const[t,n]=u.useState(),a=u.useRef({}),s=u.useRef(e),o=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Au(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Jt(a.current);o.current=l==="mounted"?d:"none"},[l]),we(()=>{const d=a.current,f=s.current;if(f!==e){const v=o.current,p=Jt(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),we(()=>{if(t){const d=m=>{const p=Jt(a.current).includes(m.animationName);m.target===t&&p&&Kt.flushSync(()=>c("ANIMATION_END"))},f=m=>{m.target===t&&(o.current=Jt(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(a.current=getComputedStyle(d)),n(d)},[])}}function Jt(e){return(e==null?void 0:e.animationName)||"none"}function Tu(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Or="Tabs",[Ou,zp]=Ae(Or,[kn]),to=kn(),[Du,Dr]=Ou(Or),no=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=Pn(l),[m,v]=ot({prop:a,onChange:s,defaultProp:o});return r.jsx(Du,{scope:n,baseId:Ye(),value:m,onValueChange:v,orientation:i,dir:f,activationMode:c,children:r.jsx(Q.div,{dir:f,"data-orientation":i,...d,ref:t})})});no.displayName=Or;var ro="TabsList",ao=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,o=Dr(ro,n),i=to(n);return r.jsx(Js,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:a,children:r.jsx(Q.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});ao.displayName=ro;var so="TabsTrigger",oo=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...o}=e,i=Dr(so,n),l=to(n),c=co(i.baseId,a),d=uo(i.baseId,a),f=a===i.value;return r.jsx(eo,{asChild:!0,...l,focusable:!s,active:f,children:r.jsx(Q.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:te(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?i.onValueChange(a):m.preventDefault()}),onKeyDown:te(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(a)}),onFocus:te(e.onFocus,()=>{const m=i.activationMode!=="manual";!f&&!s&&m&&i.onValueChange(a)})})})});oo.displayName=so;var io="TabsContent",lo=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:o,...i}=e,l=Dr(io,n),c=co(l.baseId,a),d=uo(l.baseId,a),f=a===l.value,m=u.useRef(f);return u.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),r.jsx(dt,{present:s||f,children:({present:v})=>r.jsx(Q.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:v&&o})})});lo.displayName=io;function co(e,t){return`${e}-trigger-${t}`}function uo(e,t){return`${e}-content-${t}`}var Lu=no,fo=ao,mo=oo,ho=lo;const _u=Lu,po=u.forwardRef(({className:e,...t},n)=>r.jsx(fo,{ref:n,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));po.displayName=fo.displayName;const wt=u.forwardRef(({className:e,...t},n)=>r.jsx(mo,{ref:n,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 font-changa ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));wt.displayName=mo.displayName;const bt=u.forwardRef(({className:e,...t},n)=>r.jsx(ho,{ref:n,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bt.displayName=ho.displayName;const Fu=e=>{const[t,n]=j.useState(0);return j.useEffect(()=>{const a=[];let s=!0;function o(){window.requestAnimationFrame(()=>{const i=performance.now();for(;a.length>0&&a[0]<=i-1e3;)a.shift();a.push(i),n(a.length),s&&o()})}return o(),()=>{s=!1}},[]),r.jsxs("span",{...e,children:[t," FPS"]})};function Lr(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function _r(e){const[t,n]=u.useState(void 0);return we(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Fr="Checkbox",[$u,Bp]=Ae(Fr),[zu,Bu]=$u(Fr),go=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,...f}=e,[m,v]=u.useState(null),p=ce(t,N=>v(N)),g=u.useRef(!1),h=m?!!m.closest("form"):!0,[x=!1,w]=ot({prop:s,defaultProp:o,onChange:d}),b=u.useRef(x);return u.useEffect(()=>{const N=m==null?void 0:m.form;if(N){const E=()=>w(b.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[m,w]),r.jsxs(zu,{scope:n,state:x,disabled:l,children:[r.jsx(Q.button,{type:"button",role:"checkbox","aria-checked":st(x)?"mixed":x,"aria-required":i,"data-state":yo(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onKeyDown:te(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:te(e.onClick,N=>{w(E=>st(E)?!0:!E),h&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),h&&r.jsx(Gu,{control:m,bubbles:!g.current,name:a,value:c,checked:x,required:i,disabled:l,style:{transform:"translateX(-100%)"}})]})});go.displayName=Fr;var vo="CheckboxIndicator",xo=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,o=Bu(vo,n);return r.jsx(dt,{present:a||st(o.state)||o.state===!0,children:r.jsx(Q.span,{"data-state":yo(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});xo.displayName=vo;var Gu=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,o=u.useRef(null),i=Lr(n),l=_r(t);return u.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const v=new Event("click",{bubbles:a});c.indeterminate=st(n),m.call(c,st(n)?!1:n),c.dispatchEvent(v)}},[i,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:st(n)?!1:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function st(e){return e==="indeterminate"}function yo(e){return st(e)?"indeterminate":e?"checked":"unchecked"}var wo=go,qu=xo;const bo=u.forwardRef(({className:e,...t},n)=>r.jsx(wo,{ref:n,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(qu,{className:S("flex items-center justify-center text-current"),children:r.jsx(Ns,{className:"h-4 w-4"})})}));bo.displayName=wo.displayName;var $r="Radio",[Wu,jo]=Ae($r),[Hu,Vu]=Wu($r),Co=u.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,...d}=e,[f,m]=u.useState(null),v=ce(t,h=>m(h)),p=u.useRef(!1),g=f?!!f.closest("form"):!0;return r.jsxs(Hu,{scope:n,checked:s,disabled:i,children:[r.jsx(Q.button,{type:"button",role:"radio","aria-checked":s,"data-state":Eo(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:v,onClick:te(e.onClick,h=>{s||c==null||c(),g&&(p.current=h.isPropagationStopped(),p.current||h.stopPropagation())})}),g&&r.jsx(Uu,{control:f,bubbles:!p.current,name:a,value:l,checked:s,required:o,disabled:i,style:{transform:"translateX(-100%)"}})]})});Co.displayName=$r;var No="RadioIndicator",So=u.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...s}=e,o=Vu(No,n);return r.jsx(dt,{present:a||o.checked,children:r.jsx(Q.span,{"data-state":Eo(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});So.displayName=No;var Uu=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,o=u.useRef(null),i=Lr(n),l=_r(t);return u.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const v=new Event("click",{bubbles:a});m.call(c,n),c.dispatchEvent(v)}},[i,n,a]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Eo(e){return e?"checked":"unchecked"}var Ku=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zr="RadioGroup",[Yu,Gp]=Ae(zr,[kn,jo]),Po=kn(),Ro=jo(),[Zu,Xu]=Yu(zr),ko=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:m,...v}=e,p=Po(n),g=Pn(d),[h,x]=ot({prop:o,defaultProp:s,onChange:m});return r.jsx(Zu,{scope:n,name:a,required:i,disabled:l,value:h,onValueChange:x,children:r.jsx(Js,{asChild:!0,...p,orientation:c,dir:g,loop:f,children:r.jsx(Q.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...v,ref:t})})})});ko.displayName=zr;var Mo="RadioGroupItem",Ao=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...s}=e,o=Xu(Mo,n),i=o.disabled||a,l=Po(n),c=Ro(n),d=u.useRef(null),f=ce(t,d),m=o.value===s.value,v=u.useRef(!1);return u.useEffect(()=>{const p=h=>{Ku.includes(h.key)&&(v.current=!0)},g=()=>v.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),r.jsx(eo,{asChild:!0,...l,focusable:!i,active:m,children:r.jsx(Co,{disabled:i,required:o.required,checked:m,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:te(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:te(s.onFocus,()=>{var p;v.current&&((p=d.current)==null||p.click())})})})});Ao.displayName=Mo;var Qu="RadioGroupIndicator",Io=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,s=Ro(n);return r.jsx(So,{...s,...a,ref:t})});Io.displayName=Qu;var To=ko,Oo=Ao,Ju=Io;const ln=u.forwardRef(({className:e,...t},n)=>r.jsx(To,{className:S("grid gap-2",e),...t,ref:n}));ln.displayName=To.displayName;const cn=u.forwardRef(({className:e,...t},n)=>r.jsx(Oo,{ref:n,className:S("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Ju,{className:"flex items-center justify-center",children:r.jsx(pd,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cn.displayName=Oo.displayName;function ef(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e);u.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var tf="DismissableLayer",dr="dismissableLayer.update",nf="dismissableLayer.pointerDownOutside",rf="dismissableLayer.focusOutside",Sa,Do=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Br=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(Do),[f,m]=u.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),g=ce(t,k=>m(k)),h=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=h.indexOf(x),b=f?h.indexOf(f):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,E=b>=w,P=of(k=>{const M=k.target,K=[...d.branches].some(L=>L.contains(M));!E||K||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},v),A=lf(k=>{const M=k.target;[...d.branches].some(L=>L.contains(M))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},v);return ef(k=>{b===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},v),u.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Sa=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Ea(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Sa)}},[f,v,n,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Ea())},[f,d]),u.useEffect(()=>{const k=()=>p({});return document.addEventListener(dr,k),()=>document.removeEventListener(dr,k)},[]),r.jsx(Q.div,{...c,ref:g,style:{pointerEvents:N?E?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,A.onFocusCapture),onBlurCapture:te(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,P.onPointerDownCapture)})});Br.displayName=tf;var af="DismissableLayerBranch",sf=u.forwardRef((e,t)=>{const n=u.useContext(Do),a=u.useRef(null),s=ce(t,a);return u.useEffect(()=>{const o=a.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(Q.div,{...e,ref:s})});sf.displayName=af;function of(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e),a=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!a.current){let c=function(){Lo(nf,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);a.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function lf(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e),a=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!a.current&&Lo(rf,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ea(){const e=new CustomEvent(dr);document.dispatchEvent(e)}function Lo(e,t,n,{discrete:a}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Ic(s,o):s.dispatchEvent(o)}var Wn="focusScope.autoFocusOnMount",Hn="focusScope.autoFocusOnUnmount",Pa={bubbles:!1,cancelable:!0},cf="FocusScope",Gr=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=u.useState(null),d=_e(s),f=_e(o),m=u.useRef(null),v=ce(t,h=>c(h)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(a){let h=function(N){if(p.paused||!l)return;const E=N.target;l.contains(E)?m.current=E:Ue(m.current,{select:!0})},x=function(N){if(p.paused||!l)return;const E=N.relatedTarget;E!==null&&(l.contains(E)||Ue(m.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&Ue(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),b.disconnect()}}},[a,l,p.paused]),u.useEffect(()=>{if(l){ka.add(p);const h=document.activeElement;if(!l.contains(h)){const w=new CustomEvent(Wn,Pa);l.addEventListener(Wn,d),l.dispatchEvent(w),w.defaultPrevented||(df(pf(_o(l)),{select:!0}),document.activeElement===h&&Ue(l))}return()=>{l.removeEventListener(Wn,d),setTimeout(()=>{const w=new CustomEvent(Hn,Pa);l.addEventListener(Hn,f),l.dispatchEvent(w),w.defaultPrevented||Ue(h??document.body,{select:!0}),l.removeEventListener(Hn,f),ka.remove(p)},0)}}},[l,d,f,p]);const g=u.useCallback(h=>{if(!n&&!a||p.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,w=document.activeElement;if(x&&w){const b=h.currentTarget,[N,E]=uf(b);N&&E?!h.shiftKey&&w===E?(h.preventDefault(),n&&Ue(N,{select:!0})):h.shiftKey&&w===N&&(h.preventDefault(),n&&Ue(E,{select:!0})):w===b&&h.preventDefault()}},[n,a,p.paused]);return r.jsx(Q.div,{tabIndex:-1,...i,ref:v,onKeyDown:g})});Gr.displayName=cf;function df(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Ue(a,{select:t}),document.activeElement!==n)return}function uf(e){const t=_o(e),n=Ra(t,e),a=Ra(t.reverse(),e);return[n,a]}function _o(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ra(e,t){for(const n of e)if(!ff(n,{upTo:t}))return n}function ff(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mf(e){return e instanceof HTMLInputElement&&"select"in e}function Ue(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mf(e)&&t&&e.select()}}var ka=hf();function hf(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ma(e,t),e.unshift(t)},remove(t){var n;e=Ma(e,t),(n=e[0])==null||n.resume()}}}function Ma(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function pf(e){return e.filter(t=>t.tagName!=="A")}var gf="Portal",qr=u.forwardRef((e,t)=>{var l;const{container:n,...a}=e,[s,o]=u.useState(!1);we(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Tc.createPortal(r.jsx(Q.div,{...a,ref:t}),i):null});qr.displayName=gf;var Vn=0;function Fo(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Aa()),document.body.insertAdjacentElement("beforeend",e[1]??Aa()),Vn++,()=>{Vn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vn--}},[])}function Aa(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ve=function(){return ve=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ve.apply(this,arguments)};function Wr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function $o(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var Bt="right-scroll-bar-position",Gt="width-before-scroll-bar",vf="with-scroll-bars-hidden",xf="--removed-body-scroll-bar-size";function Un(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yf(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var wf=typeof window<"u"?u.useLayoutEffect:u.useEffect,Ia=new WeakMap;function zo(e,t){var n=yf(null,function(a){return e.forEach(function(s){return Un(s,a)})});return wf(function(){var a=Ia.get(n);if(a){var s=new Set(a),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Un(l,null)}),o.forEach(function(l){s.has(l)||Un(l,i)})}Ia.set(n,e)},[e]),n}function bf(e){return e}function jf(e,t){t===void 0&&(t=bf);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,a);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(a=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){a=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var f=i;i=[],f.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){i.push(f),d()},filter:function(f){return i=i.filter(f),n}}}};return s}function Bo(e){e===void 0&&(e={});var t=jf(null);return t.options=ve({async:!0,ssr:!1},e),t}var Go=function(e){var t=e.sideCar,n=Wr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return u.createElement(a,ve({},n))};Go.isSideCarExport=!0;function qo(e,t){return e.useMedium(t),Go}var Wo=Bo(),Kn=function(){},Mn=u.forwardRef(function(e,t){var n=u.useRef(null),a=u.useState({onScrollCapture:Kn,onWheelCapture:Kn,onTouchMoveCapture:Kn}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,v=e.sideCar,p=e.noIsolation,g=e.inert,h=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,N=Wr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,P=zo([n,t]),A=ve(ve({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(E,{sideCar:Wo,removeScrollBar:d,shards:m,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!h,lockRef:n,gapMode:b}),i?u.cloneElement(u.Children.only(l),ve(ve({},A),{ref:P})):u.createElement(w,ve({},A,{className:c,ref:P}),l))});Mn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mn.classNames={fullWidth:Gt,zeroRight:Bt};var Cf=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cf();return t&&e.setAttribute("nonce",t),e}function Sf(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ef(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pf=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Nf())&&(Sf(t,n),Ef(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rf=function(){var e=Pf();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Hr=function(){var e=Rf(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},kf={left:0,top:0,right:0,gap:0},Yn=function(e){return parseInt(e||"",10)||0},Mf=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Yn(n),Yn(a),Yn(s)]},Af=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kf;var t=Mf(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},If=Hr(),Ct="data-scroll-locked",Tf=function(e,t,n,a){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(vf,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Ct,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bt,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Gt,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Bt," .").concat(Bt,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Gt," .").concat(Gt,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ct,`] {
    `).concat(xf,": ").concat(l,`px;
  }
`)},Ta=function(){var e=parseInt(document.body.getAttribute(Ct)||"0",10);return isFinite(e)?e:0},Of=function(){u.useEffect(function(){return document.body.setAttribute(Ct,(Ta()+1).toString()),function(){var e=Ta()-1;e<=0?document.body.removeAttribute(Ct):document.body.setAttribute(Ct,e.toString())}},[])},Ho=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;Of();var o=u.useMemo(function(){return Af(s)},[s]);return u.createElement(If,{styles:Tf(o,!t,s,n?"":"!important")})},ur=!1;if(typeof window<"u")try{var en=Object.defineProperty({},"passive",{get:function(){return ur=!0,!0}});window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{ur=!1}var ht=ur?{passive:!1}:!1,Df=function(e){return e.tagName==="TEXTAREA"},Vo=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Df(e)&&n[t]==="visible")},Lf=function(e){return Vo(e,"overflowY")},_f=function(e){return Vo(e,"overflowX")},Oa=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=Uo(e,a);if(s){var o=Ko(e,a),i=o[1],l=o[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Ff=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},$f=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},Uo=function(e,t){return e==="v"?Lf(t):_f(t)},Ko=function(e,t){return e==="v"?Ff(t):$f(t)},zf=function(e,t){return e==="h"&&t==="rtl"?-1:1},Bf=function(e,t,n,a,s){var o=zf(e,window.getComputedStyle(t).direction),i=o*a,l=n.target,c=t.contains(l),d=!1,f=i>0,m=0,v=0;do{var p=Ko(e,l),g=p[0],h=p[1],x=p[2],w=h-x-o*g;(g||w)&&Uo(e,l)&&(m+=w,v+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(v)<1||!s))&&(d=!0),d},tn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Da=function(e){return[e.deltaX,e.deltaY]},La=function(e){return e&&"current"in e?e.current:e},Gf=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qf=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wf=0,pt=[];function Hf(e){var t=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(Wf++)[0],o=u.useState(Hr)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=$o([e.lockRef.current],(e.shards||[]).map(La),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(h,x){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var w=tn(h),b=n.current,N="deltaX"in h?h.deltaX:b[0]-w[0],E="deltaY"in h?h.deltaY:b[1]-w[1],P,A=h.target,k=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in h&&k==="h"&&A.type==="range")return!1;var M=Oa(k,A);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=Oa(k,A)),!M)return!1;if(!a.current&&"changedTouches"in h&&(N||E)&&(a.current=P),!P)return!0;var K=a.current||P;return Bf(K,x,h,K==="h"?N:E,!0)},[]),c=u.useCallback(function(h){var x=h;if(!(!pt.length||pt[pt.length-1]!==o)){var w="deltaY"in x?Da(x):tn(x),b=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&Gf(P.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var N=(i.current.shards||[]).map(La).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=N.length>0?l(x,N[0]):!i.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(h,x,w,b){var N={name:h,delta:x,target:w,should:b,shadowParent:Vf(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),f=u.useCallback(function(h){n.current=tn(h),a.current=void 0},[]),m=u.useCallback(function(h){d(h.type,Da(h),h.target,l(h,e.lockRef.current))},[]),v=u.useCallback(function(h){d(h.type,tn(h),h.target,l(h,e.lockRef.current))},[]);u.useEffect(function(){return pt.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,ht),document.addEventListener("touchmove",c,ht),document.addEventListener("touchstart",f,ht),function(){pt=pt.filter(function(h){return h!==o}),document.removeEventListener("wheel",c,ht),document.removeEventListener("touchmove",c,ht),document.removeEventListener("touchstart",f,ht)}},[]);var p=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(o,{styles:qf(s)}):null,p?u.createElement(Ho,{gapMode:e.gapMode}):null)}function Vf(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Uf=qo(Wo,Hf);var Yo=u.forwardRef(function(e,t){return u.createElement(Mn,ve({},e,{ref:t,sideCar:Uf}))});Yo.classNames=Mn.classNames;var Kf=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},gt=new WeakMap,nn=new WeakMap,rn={},Zn=0,Zo=function(e){return e&&(e.host||Zo(e.parentNode))},Yf=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=Zo(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Zf=function(e,t,n,a){var s=Yf(t,Array.isArray(e)?e:[e]);rn[n]||(rn[n]=new WeakMap);var o=rn[n],i=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))f(v);else try{var p=v.getAttribute(a),g=p!==null&&p!=="false",h=(gt.get(v)||0)+1,x=(o.get(v)||0)+1;gt.set(v,h),o.set(v,x),i.push(v),h===1&&g&&nn.set(v,!0),x===1&&v.setAttribute(n,"true"),g||v.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",v,w)}})};return f(t),l.clear(),Zn++,function(){i.forEach(function(m){var v=gt.get(m)-1,p=o.get(m)-1;gt.set(m,v),o.set(m,p),v||(nn.has(m)||m.removeAttribute(a),nn.delete(m)),p||m.removeAttribute(n)}),Zn--,Zn||(gt=new WeakMap,gt=new WeakMap,nn=new WeakMap,rn={})}},Xo=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Kf(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Zf(a,s,n,"aria-hidden")):function(){return null}},Vr="Dialog",[Qo,Jo]=Ae(Vr),[Xf,Ie]=Qo(Vr),ei=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,f]=ot({prop:a,defaultProp:s,onChange:o});return r.jsx(Xf,{scope:t,triggerRef:l,contentRef:c,contentId:Ye(),titleId:Ye(),descriptionId:Ye(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:i,children:n})};ei.displayName=Vr;var ti="DialogTrigger",ni=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Ie(ti,n),o=ce(t,s.triggerRef);return r.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Yr(s.open),...a,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});ni.displayName=ti;var Ur="DialogPortal",[Qf,ri]=Qo(Ur,{forceMount:void 0}),ai=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,o=Ie(Ur,t);return r.jsx(Qf,{scope:t,forceMount:n,children:u.Children.map(a,i=>r.jsx(dt,{present:n||o.open,children:r.jsx(qr,{asChild:!0,container:s,children:i})}))})};ai.displayName=Ur;var yn="DialogOverlay",si=u.forwardRef((e,t)=>{const n=ri(yn,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,o=Ie(yn,e.__scopeDialog);return o.modal?r.jsx(dt,{present:a||o.open,children:r.jsx(Jf,{...s,ref:t})}):null});si.displayName=yn;var Jf=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Ie(yn,n);return r.jsx(Yo,{as:mn,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(Q.div,{"data-state":Yr(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),it="DialogContent",oi=u.forwardRef((e,t)=>{const n=ri(it,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,o=Ie(it,e.__scopeDialog);return r.jsx(dt,{present:a||o.open,children:o.modal?r.jsx(em,{...s,ref:t}):r.jsx(tm,{...s,ref:t})})});oi.displayName=it;var em=u.forwardRef((e,t)=>{const n=Ie(it,e.__scopeDialog),a=u.useRef(null),s=ce(t,n.contentRef,a);return u.useEffect(()=>{const o=a.current;if(o)return Xo(o)},[]),r.jsx(ii,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),tm=u.forwardRef((e,t)=>{const n=Ie(it,e.__scopeDialog),a=u.useRef(!1),s=u.useRef(!1);return r.jsx(ii,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ii=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Ie(it,n),c=u.useRef(null),d=ce(t,c);return Fo(),r.jsxs(r.Fragment,{children:[r.jsx(Gr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:r.jsx(Br,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Yr(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(rm,{titleId:l.titleId}),r.jsx(sm,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Kr="DialogTitle",li=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Ie(Kr,n);return r.jsx(Q.h2,{id:s.titleId,...a,ref:t})});li.displayName=Kr;var ci="DialogDescription",di=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Ie(ci,n);return r.jsx(Q.p,{id:s.descriptionId,...a,ref:t})});di.displayName=ci;var ui="DialogClose",fi=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Ie(ui,n);return r.jsx(Q.button,{type:"button",...a,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});fi.displayName=ui;function Yr(e){return e?"open":"closed"}var mi="DialogTitleWarning",[nm,hi]=Kc(mi,{contentName:it,titleName:Kr,docsSlug:"dialog"}),rm=({titleId:e})=>{const t=hi(mi),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},am="DialogDescriptionWarning",sm=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hi(am).contentName}}.`;return u.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},om=ei,im=ni,lm=ai,cm=si,dm=oi,um=li,fm=di,pi=fi,gi="AlertDialog",[mm,qp]=Ae(gi,[Jo]),He=Jo(),vi=e=>{const{__scopeAlertDialog:t,...n}=e,a=He(t);return r.jsx(om,{...a,...n,modal:!0})};vi.displayName=gi;var hm="AlertDialogTrigger",xi=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(im,{...s,...a,ref:t})});xi.displayName=hm;var pm="AlertDialogPortal",yi=e=>{const{__scopeAlertDialog:t,...n}=e,a=He(t);return r.jsx(lm,{...a,...n})};yi.displayName=pm;var gm="AlertDialogOverlay",wi=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(cm,{...s,...a,ref:t})});wi.displayName=gm;var Nt="AlertDialogContent",[vm,xm]=mm(Nt),bi=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...s}=e,o=He(n),i=u.useRef(null),l=ce(t,i),c=u.useRef(null);return r.jsx(nm,{contentName:Nt,titleName:ji,docsSlug:"alert-dialog",children:r.jsx(vm,{scope:n,cancelRef:c,children:r.jsxs(dm,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:te(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Oc,{children:a}),r.jsx(wm,{contentRef:i})]})})})});bi.displayName=Nt;var ji="AlertDialogTitle",Ci=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(um,{...s,...a,ref:t})});Ci.displayName=ji;var Ni="AlertDialogDescription",Si=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(fm,{...s,...a,ref:t})});Si.displayName=Ni;var ym="AlertDialogAction",Ei=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(pi,{...s,...a,ref:t})});Ei.displayName=ym;var Pi="AlertDialogCancel",Ri=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=xm(Pi,n),o=He(n),i=ce(t,s);return r.jsx(pi,{...o,...a,ref:i})});Ri.displayName=Pi;var wm=({contentRef:e})=>{const t=`\`${Nt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Nt}\` by passing a \`${Ni}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bm=vi,jm=xi,Cm=yi,ki=wi,Mi=bi,Ai=Ei,Ii=Ri,Ti=Ci,Oi=Si;const Nm=bm,Sm=jm,Em=Cm,Di=u.forwardRef(({className:e,...t},n)=>{const a=de(s=>({transparency:s.quality.transparency,animation:s.quality.animations}));return r.jsx(ki,{className:S("fixed inset-0 z-50",{"bg-black/80":a.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":a.animation},e),...t,ref:n})});Di.displayName=ki.displayName;const Li=u.forwardRef(({className:e,...t},n)=>r.jsxs(Em,{children:[r.jsx(Di,{}),r.jsx(Mi,{ref:n,className:S("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Li.displayName=Mi.displayName;const _i=({className:e,...t})=>r.jsx("div",{className:S("flex flex-col space-y-2 text-center sm:text-left",e),...t});_i.displayName="AlertDialogHeader";const Fi=({className:e,...t})=>r.jsx("div",{className:S("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fi.displayName="AlertDialogFooter";const $i=u.forwardRef(({className:e,...t},n)=>r.jsx(Ti,{ref:n,className:S("text-lg font-semibold",e),...t}));$i.displayName=Ti.displayName;const zi=u.forwardRef(({className:e,...t},n)=>r.jsx(Oi,{ref:n,className:S("text-sm text-muted-foreground",e),...t}));zi.displayName=Oi.displayName;const Bi=u.forwardRef(({className:e,...t},n)=>r.jsx(Ai,{ref:n,className:S(Sn({variant:"cta"}),e),...t}));Bi.displayName=Ai.displayName;const Gi=u.forwardRef(({className:e,...t},n)=>r.jsx(Ii,{ref:n,className:S(Sn({variant:"default"}),"mt-2 sm:mt-0",e),...t}));Gi.displayName=Ii.displayName;function Pm(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),j.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),j.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function Rm(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),j.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),j.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}const De=({className:e,...t})=>{const n=de();return r.jsx("div",{...t,className:S("space-y-4 border rounded-xl py-4 px-6",{"bg-card/50":n.quality.transparency,"bg-card":!n.quality.transparency},e)})};function _a(e,[t,n]){return Math.min(n,Math.max(t,e))}const km=["top","right","bottom","left"],Le=Math.min,Ne=Math.max,wn=Math.round,an=Math.floor,Xe=e=>({x:e,y:e}),Mm={left:"right",right:"left",bottom:"top",top:"bottom"},Am={start:"end",end:"start"};function fr(e,t,n){return Ne(e,Le(t,n))}function qe(e,t){return typeof e=="function"?e(t):e}function We(e){return e.split("-")[0]}function Mt(e){return e.split("-")[1]}function Zr(e){return e==="x"?"y":"x"}function Xr(e){return e==="y"?"height":"width"}function Qe(e){return["top","bottom"].includes(We(e))?"y":"x"}function Qr(e){return Zr(Qe(e))}function Im(e,t,n){n===void 0&&(n=!1);const a=Mt(e),s=Qr(e),o=Xr(s);let i=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=bn(i)),[i,bn(i)]}function Tm(e){const t=bn(e);return[mr(e),t,mr(t)]}function mr(e){return e.replace(/start|end/g,t=>Am[t])}function Om(e,t,n){const a=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:a:t?a:s;case"left":case"right":return t?o:i;default:return[]}}function Dm(e,t,n,a){const s=Mt(e);let o=Om(We(e),n==="start",a);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(mr)))),o}function bn(e){return e.replace(/left|right|bottom|top/g,t=>Mm[t])}function Lm(e){return{top:0,right:0,bottom:0,left:0,...e}}function qi(e){return typeof e!="number"?Lm(e):{top:e,right:e,bottom:e,left:e}}function jn(e){const{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function Fa(e,t,n){let{reference:a,floating:s}=e;const o=Qe(t),i=Qr(t),l=Xr(i),c=We(t),d=o==="y",f=a.x+a.width/2-s.width/2,m=a.y+a.height/2-s.height/2,v=a[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:m};break;case"left":p={x:a.x-s.width,y:m};break;default:p={x:a.x,y:a.y}}switch(Mt(t)){case"start":p[i]-=v*(n&&d?-1:1);break;case"end":p[i]+=v*(n&&d?-1:1);break}return p}const _m=async(e,t,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:m}=Fa(d,a,c),v=a,p={},g=0;for(let h=0;h<l.length;h++){const{name:x,fn:w}=l[h],{x:b,y:N,data:E,reset:P}=await w({x:f,y:m,initialPlacement:a,placement:v,strategy:s,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});f=b??f,m=N??m,p={...p,[x]:{...p[x],...E}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:f,y:m}=Fa(d,v,c)),h=-1)}return{x:f,y:m,placement:v,strategy:s,middlewareData:p}};async function Ht(e,t){var n;t===void 0&&(t={});const{x:a,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:p=0}=qe(t,e),g=qi(p),x=l[v?m==="floating"?"reference":"floating":m],w=jn(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),b=m==="floating"?{x:a,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),E=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},P=jn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:N,strategy:c}):b);return{top:(w.top-P.top+g.top)/E.y,bottom:(P.bottom-w.bottom+g.bottom)/E.y,left:(w.left-P.left+g.left)/E.x,right:(P.right-w.right+g.right)/E.x}}const Fm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=qe(e,t)||{};if(d==null)return{};const m=qi(f),v={x:n,y:a},p=Qr(s),g=Xr(p),h=await i.getDimensions(d),x=p==="y",w=x?"top":"left",b=x?"bottom":"right",N=x?"clientHeight":"clientWidth",E=o.reference[g]+o.reference[p]-v[p]-o.floating[g],P=v[p]-o.reference[p],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=A?A[N]:0;(!k||!await(i.isElement==null?void 0:i.isElement(A)))&&(k=l.floating[N]||o.floating[g]);const M=E/2-P/2,K=k/2-h[g]/2-1,L=Le(m[w],K),H=Le(m[b],K),J=L,ne=k-h[g]-H,re=k/2-h[g]/2+M,Z=fr(J,re,ne),X=!c.arrow&&Mt(s)!=null&&re!==Z&&o.reference[g]/2-(re<J?L:H)-h[g]/2<0,F=X?re<J?re-J:re-ne:0;return{[p]:v[p]+F,data:{[p]:Z,centerOffset:re-Z-F,...X&&{alignmentOffset:F}},reset:X}}}),$m=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...x}=qe(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=We(s),b=Qe(l),N=We(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=v||(N||!h?[bn(l)]:Tm(l)),A=g!=="none";!v&&A&&P.push(...Dm(l,h,g,E));const k=[l,...P],M=await Ht(t,x),K=[];let L=((a=o.flip)==null?void 0:a.overflows)||[];if(f&&K.push(M[w]),m){const re=Im(s,i,E);K.push(M[re[0]],M[re[1]])}if(L=[...L,{placement:s,overflows:K}],!K.every(re=>re<=0)){var H,J;const re=(((H=o.flip)==null?void 0:H.index)||0)+1,Z=k[re];if(Z)return{data:{index:re,overflows:L},reset:{placement:Z}};let X=(J=L.filter(F=>F.overflows[0]<=0).sort((F,se)=>F.overflows[1]-se.overflows[1])[0])==null?void 0:J.placement;if(!X)switch(p){case"bestFit":{var ne;const F=(ne=L.filter(se=>{if(A){const le=Qe(se.placement);return le===b||le==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(le=>le>0).reduce((le,C)=>le+C,0)]).sort((se,le)=>se[1]-le[1])[0])==null?void 0:ne[0];F&&(X=F);break}case"initialPlacement":X=l;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function $a(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function za(e){return km.some(t=>e[t]>=0)}const zm=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...s}=qe(e,t);switch(a){case"referenceHidden":{const o=await Ht(t,{...s,elementContext:"reference"}),i=$a(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:za(i)}}}case"escaped":{const o=await Ht(t,{...s,altBoundary:!0}),i=$a(o,n.floating);return{data:{escapedOffsets:i,escaped:za(i)}}}default:return{}}}}};async function Bm(e,t){const{placement:n,platform:a,elements:s}=e,o=await(a.isRTL==null?void 0:a.isRTL(s.floating)),i=We(n),l=Mt(n),c=Qe(n)==="y",d=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,m=qe(t,e);let{mainAxis:v,crossAxis:p,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*f,y:v*d}:{x:v*d,y:p*f}}const Gm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await Bm(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},qm=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y:b}=x;return{x:w,y:b}}},...c}=qe(e,t),d={x:n,y:a},f=await Ht(t,c),m=Qe(We(s)),v=Zr(m);let p=d[v],g=d[m];if(o){const x=v==="y"?"top":"left",w=v==="y"?"bottom":"right",b=p+f[x],N=p-f[w];p=fr(b,p,N)}if(i){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=g+f[x],N=g-f[w];g=fr(b,g,N)}const h=l.fn({...t,[v]:p,[m]:g});return{...h,data:{x:h.x-n,y:h.y-a}}}}},Wm=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qe(e,t),f={x:n,y:a},m=Qe(s),v=Zr(m);let p=f[v],g=f[m];const h=qe(l,t),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const N=v==="y"?"height":"width",E=o.reference[v]-o.floating[N]+x.mainAxis,P=o.reference[v]+o.reference[N]-x.mainAxis;p<E?p=E:p>P&&(p=P)}if(d){var w,b;const N=v==="y"?"width":"height",E=["top","left"].includes(We(s)),P=o.reference[m]-o.floating[N]+(E&&((w=i.offset)==null?void 0:w[m])||0)+(E?0:x.crossAxis),A=o.reference[m]+o.reference[N]+(E?0:((b=i.offset)==null?void 0:b[m])||0)-(E?x.crossAxis:0);g<P?g=P:g>A&&(g=A)}return{[v]:p,[m]:g}}}},Hm=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:a,platform:s,elements:o}=t,{apply:i=()=>{},...l}=qe(e,t),c=await Ht(t,l),d=We(n),f=Mt(n),m=Qe(n)==="y",{width:v,height:p}=a.floating;let g,h;d==="top"||d==="bottom"?(g=d,h=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(h=d,g=f==="end"?"top":"bottom");const x=p-c.top-c.bottom,w=v-c.left-c.right,b=Le(p-c[g],x),N=Le(v-c[h],w),E=!t.middlewareData.shift;let P=b,A=N;if(m?A=f||E?Le(N,w):w:P=f||E?Le(b,x):x,E&&!f){const M=Ne(c.left,0),K=Ne(c.right,0),L=Ne(c.top,0),H=Ne(c.bottom,0);m?A=v-2*(M!==0||K!==0?M+K:Ne(c.left,c.right)):P=p-2*(L!==0||H!==0?L+H:Ne(c.top,c.bottom))}await i({...t,availableWidth:A,availableHeight:P});const k=await s.getDimensions(o.floating);return v!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function At(e){return Wi(e)?(e.nodeName||"").toLowerCase():"#document"}function Se(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ve(e){var t;return(t=(Wi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wi(e){return e instanceof Node||e instanceof Se(e).Node}function ke(e){return e instanceof Element||e instanceof Se(e).Element}function Fe(e){return e instanceof HTMLElement||e instanceof Se(e).HTMLElement}function Ba(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Se(e).ShadowRoot}function Zt(e){const{overflow:t,overflowX:n,overflowY:a,display:s}=Me(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(s)}function Vm(e){return["table","td","th"].includes(At(e))}function An(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Jr(e){const t=ea(),n=ke(e)?Me(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function Um(e){let t=Je(e);for(;Fe(t)&&!Rt(t);){if(Jr(t))return t;if(An(t))return null;t=Je(t)}return null}function ea(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rt(e){return["html","body","#document"].includes(At(e))}function Me(e){return Se(e).getComputedStyle(e)}function In(e){return ke(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Je(e){if(At(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ba(e)&&e.host||Ve(e);return Ba(t)?t.host:t}function Hi(e){const t=Je(e);return Rt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fe(t)&&Zt(t)?t:Hi(t)}function Vt(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Hi(e),o=s===((a=e.ownerDocument)==null?void 0:a.body),i=Se(s);if(o){const l=hr(i);return t.concat(i,i.visualViewport||[],Zt(s)?s:[],l&&n?Vt(l):[])}return t.concat(s,Vt(s,[],n))}function hr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vi(e){const t=Me(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Fe(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:a,l=wn(n)!==o||wn(a)!==i;return l&&(n=o,a=i),{width:n,height:a,$:l}}function ta(e){return ke(e)?e:e.contextElement}function St(e){const t=ta(e);if(!Fe(t))return Xe(1);const n=t.getBoundingClientRect(),{width:a,height:s,$:o}=Vi(t);let i=(o?wn(n.width):n.width)/a,l=(o?wn(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Km=Xe(0);function Ui(e){const t=Se(e);return!ea()||!t.visualViewport?Km:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ym(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Se(e)?!1:t}function lt(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=ta(e);let i=Xe(1);t&&(a?ke(a)&&(i=St(a)):i=St(e));const l=Ym(o,n,a)?Ui(o):Xe(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,f=s.width/i.x,m=s.height/i.y;if(o){const v=Se(o),p=a&&ke(a)?Se(a):a;let g=v,h=hr(g);for(;h&&a&&p!==g;){const x=St(h),w=h.getBoundingClientRect(),b=Me(h),N=w.left+(h.clientLeft+parseFloat(b.paddingLeft))*x.x,E=w.top+(h.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,m*=x.y,c+=N,d+=E,g=Se(h),h=hr(g)}}return jn({width:f,height:m,x:c,y:d})}function Zm(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e;const o=s==="fixed",i=Ve(a),l=t?An(t.floating):!1;if(a===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=Xe(1);const f=Xe(0),m=Fe(a);if((m||!m&&!o)&&((At(a)!=="body"||Zt(i))&&(c=In(a)),Fe(a))){const v=lt(a);d=St(a),f.x=v.x+a.clientLeft,f.y=v.y+a.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x,y:n.y*d.y-c.scrollTop*d.y+f.y}}function Xm(e){return Array.from(e.getClientRects())}function Ki(e){return lt(Ve(e)).left+In(e).scrollLeft}function Qm(e){const t=Ve(e),n=In(e),a=e.ownerDocument.body,s=Ne(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),o=Ne(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let i=-n.scrollLeft+Ki(e);const l=-n.scrollTop;return Me(a).direction==="rtl"&&(i+=Ne(t.clientWidth,a.clientWidth)-s),{width:s,height:o,x:i,y:l}}function Jm(e,t){const n=Se(e),a=Ve(e),s=n.visualViewport;let o=a.clientWidth,i=a.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=ea();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function eh(e,t){const n=lt(e,!0,t==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,o=Fe(e)?St(e):Xe(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,d=a*o.y;return{width:i,height:l,x:c,y:d}}function Ga(e,t,n){let a;if(t==="viewport")a=Jm(e,n);else if(t==="document")a=Qm(Ve(e));else if(ke(t))a=eh(t,n);else{const s=Ui(e);a={...t,x:t.x-s.x,y:t.y-s.y}}return jn(a)}function Yi(e,t){const n=Je(e);return n===t||!ke(n)||Rt(n)?!1:Me(n).position==="fixed"||Yi(n,t)}function th(e,t){const n=t.get(e);if(n)return n;let a=Vt(e,[],!1).filter(l=>ke(l)&&At(l)!=="body"),s=null;const o=Me(e).position==="fixed";let i=o?Je(e):e;for(;ke(i)&&!Rt(i);){const l=Me(i),c=Jr(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Zt(i)&&!c&&Yi(e,i))?a=a.filter(f=>f!==i):s=l,i=Je(i)}return t.set(e,a),a}function nh(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e;const i=[...n==="clippingAncestors"?An(t)?[]:th(t,this._c):[].concat(n),a],l=i[0],c=i.reduce((d,f)=>{const m=Ga(t,f,s);return d.top=Ne(m.top,d.top),d.right=Le(m.right,d.right),d.bottom=Le(m.bottom,d.bottom),d.left=Ne(m.left,d.left),d},Ga(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rh(e){const{width:t,height:n}=Vi(e);return{width:t,height:n}}function ah(e,t,n){const a=Fe(t),s=Ve(t),o=n==="fixed",i=lt(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Xe(0);if(a||!a&&!o)if((At(t)!=="body"||Zt(s))&&(l=In(t)),a){const m=lt(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=Ki(s));const d=i.left+l.scrollLeft-c.x,f=i.top+l.scrollTop-c.y;return{x:d,y:f,width:i.width,height:i.height}}function Xn(e){return Me(e).position==="static"}function qa(e,t){return!Fe(e)||Me(e).position==="fixed"?null:t?t(e):e.offsetParent}function Zi(e,t){const n=Se(e);if(An(e))return n;if(!Fe(e)){let s=Je(e);for(;s&&!Rt(s);){if(ke(s)&&!Xn(s))return s;s=Je(s)}return n}let a=qa(e,t);for(;a&&Vm(a)&&Xn(a);)a=qa(a,t);return a&&Rt(a)&&Xn(a)&&!Jr(a)?n:a||Um(e)||n}const sh=async function(e){const t=this.getOffsetParent||Zi,n=this.getDimensions,a=await n(e.floating);return{reference:ah(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function oh(e){return Me(e).direction==="rtl"}const ih={convertOffsetParentRelativeRectToViewportRelativeRect:Zm,getDocumentElement:Ve,getClippingRect:nh,getOffsetParent:Zi,getElementRects:sh,getClientRects:Xm,getDimensions:rh,getScale:St,isElement:ke,isRTL:oh};function lh(e,t){let n=null,a;const s=Ve(e);function o(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:f,width:m,height:v}=e.getBoundingClientRect();if(l||t(),!m||!v)return;const p=an(f),g=an(s.clientWidth-(d+m)),h=an(s.clientHeight-(f+v)),x=an(d),b={rootMargin:-p+"px "+-g+"px "+-h+"px "+-x+"px",threshold:Ne(0,Le(1,c))||1};let N=!0;function E(P){const A=P[0].intersectionRatio;if(A!==c){if(!N)return i();A?i(!1,A):a=setTimeout(()=>{i(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return i(!0),o}function ch(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=ta(e),f=s||o?[...d?Vt(d):[],...Vt(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const m=d&&l?lh(d,n):null;let v=-1,p=null;i&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=p)==null||N.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let g,h=c?lt(e):null;c&&x();function x(){const w=lt(e);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&n(),h=w,g=requestAnimationFrame(x)}return n(),()=>{var w;f.forEach(b=>{s&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),m==null||m(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const dh=Gm,uh=qm,fh=$m,mh=Hm,hh=zm,Wa=Fm,ph=Wm,gh=(e,t,n)=>{const a=new Map,s={platform:ih,...n},o={...s.platform,_c:a};return _m(e,t,{...s,platform:o})};var dn=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Cn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Cn(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){const o=s[a];if(!(o==="_owner"&&e.$$typeof)&&!Cn(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Xi(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ha(e,t){const n=Xi(e);return Math.round(t*n)/n}function Va(e){const t=u.useRef(e);return dn(()=>{t.current=e}),t}function vh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,p]=u.useState(a);Cn(v,a)||p(a);const[g,h]=u.useState(null),[x,w]=u.useState(null),b=u.useCallback(F=>{F!==A.current&&(A.current=F,h(F))},[]),N=u.useCallback(F=>{F!==k.current&&(k.current=F,w(F))},[]),E=o||g,P=i||x,A=u.useRef(null),k=u.useRef(null),M=u.useRef(f),K=c!=null,L=Va(c),H=Va(s),J=u.useCallback(()=>{if(!A.current||!k.current)return;const F={placement:t,strategy:n,middleware:v};H.current&&(F.platform=H.current),gh(A.current,k.current,F).then(se=>{const le={...se,isPositioned:!0};ne.current&&!Cn(M.current,le)&&(M.current=le,Kt.flushSync(()=>{m(le)}))})},[v,t,n,H]);dn(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const ne=u.useRef(!1);dn(()=>(ne.current=!0,()=>{ne.current=!1}),[]),dn(()=>{if(E&&(A.current=E),P&&(k.current=P),E&&P){if(L.current)return L.current(E,P,J);J()}},[E,P,J,L,K]);const re=u.useMemo(()=>({reference:A,floating:k,setReference:b,setFloating:N}),[b,N]),Z=u.useMemo(()=>({reference:E,floating:P}),[E,P]),X=u.useMemo(()=>{const F={position:n,left:0,top:0};if(!Z.floating)return F;const se=Ha(Z.floating,f.x),le=Ha(Z.floating,f.y);return l?{...F,transform:"translate("+se+"px, "+le+"px)",...Xi(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:le}},[n,l,Z.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:J,refs:re,elements:Z,floatingStyles:X}),[f,J,re,Z,X])}const xh=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?Wa({element:a.current,padding:s}).fn(n):{}:a?Wa({element:a,padding:s}).fn(n):{}}}},yh=(e,t)=>({...dh(e),options:[e,t]}),wh=(e,t)=>({...uh(e),options:[e,t]}),bh=(e,t)=>({...ph(e),options:[e,t]}),jh=(e,t)=>({...fh(e),options:[e,t]}),Ch=(e,t)=>({...mh(e),options:[e,t]}),Nh=(e,t)=>({...hh(e),options:[e,t]}),Sh=(e,t)=>({...xh(e),options:[e,t]});var Eh="Arrow",Qi=u.forwardRef((e,t)=>{const{children:n,width:a=10,height:s=5,...o}=e;return r.jsx(Q.svg,{...o,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qi.displayName=Eh;var Ph=Qi,na="Popper",[Ji,el]=Ae(na),[Rh,tl]=Ji(na),nl=e=>{const{__scopePopper:t,children:n}=e,[a,s]=u.useState(null);return r.jsx(Rh,{scope:t,anchor:a,onAnchorChange:s,children:n})};nl.displayName=na;var rl="PopperAnchor",al=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,o=tl(rl,n),i=u.useRef(null),l=ce(t,i);return u.useEffect(()=>{o.onAnchorChange((a==null?void 0:a.current)||i.current)}),a?null:r.jsx(Q.div,{...s,ref:l})});al.displayName=rl;var ra="PopperContent",[kh,Mh]=Ji(ra),sl=u.forwardRef((e,t)=>{var R,I,Y,B,_,z;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:p="optimized",onPlaced:g,...h}=e,x=tl(ra,n),[w,b]=u.useState(null),N=ce(t,oe=>b(oe)),[E,P]=u.useState(null),A=_r(E),k=(A==null?void 0:A.width)??0,M=(A==null?void 0:A.height)??0,K=a+(o!=="center"?"-"+o:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(d)?d:[d],J=H.length>0,ne={padding:L,boundary:H.filter(Ih),altBoundary:J},{refs:re,floatingStyles:Z,placement:X,isPositioned:F,middlewareData:se}=vh({strategy:"fixed",placement:K,whileElementsMounted:(...oe)=>ch(...oe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[yh({mainAxis:s+M,alignmentAxis:i}),c&&wh({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?bh():void 0,...ne}),c&&jh({...ne}),Ch({...ne,apply:({elements:oe,rects:U,availableWidth:he,availableHeight:pe})=>{const{width:ge,height:Pe}=U.reference,Ee=oe.floating.style;Ee.setProperty("--radix-popper-available-width",`${he}px`),Ee.setProperty("--radix-popper-available-height",`${pe}px`),Ee.setProperty("--radix-popper-anchor-width",`${ge}px`),Ee.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),E&&Sh({element:E,padding:l}),Th({arrowWidth:k,arrowHeight:M}),v&&Nh({strategy:"referenceHidden",...ne})]}),[le,C]=ll(X),y=_e(g);we(()=>{F&&(y==null||y())},[F,y]);const O=(R=se.arrow)==null?void 0:R.x,$=(I=se.arrow)==null?void 0:I.y,G=((Y=se.arrow)==null?void 0:Y.centerOffset)!==0,[q,V]=u.useState();return we(()=>{w&&V(window.getComputedStyle(w).zIndex)},[w]),r.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:F?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(B=se.transformOrigin)==null?void 0:B.x,(_=se.transformOrigin)==null?void 0:_.y].join(" "),...((z=se.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(kh,{scope:n,placedSide:le,onArrowChange:P,arrowX:O,arrowY:$,shouldHideArrow:G,children:r.jsx(Q.div,{"data-side":le,"data-align":C,...h,ref:N,style:{...h.style,animation:F?void 0:"none"}})})})});sl.displayName=ra;var ol="PopperArrow",Ah={top:"bottom",right:"left",bottom:"top",left:"right"},il=u.forwardRef(function(t,n){const{__scopePopper:a,...s}=t,o=Mh(ol,a),i=Ah[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(Ph,{...s,ref:n,style:{...s.style,display:"block"}})})});il.displayName=ol;function Ih(e){return e!==null}var Th=e=>({name:"transformOrigin",options:e,fn(t){var x,w,b;const{placement:n,rects:a,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,f]=ll(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",h="";return d==="bottom"?(g=i?m:`${v}px`,h=`${-c}px`):d==="top"?(g=i?m:`${v}px`,h=`${a.floating.height+c}px`):d==="right"?(g=`${-c}px`,h=i?m:`${p}px`):d==="left"&&(g=`${a.floating.width+c}px`,h=i?m:`${p}px`),{data:{x:g,y:h}}}});function ll(e){const[t,n="center"]=e.split("-");return[t,n]}var Oh=nl,Dh=al,Lh=sl,_h=il,Fh="VisuallyHidden",cl=u.forwardRef((e,t)=>r.jsx(Q.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));cl.displayName=Fh;var dl=Bo(),Qn=function(){},Tn=u.forwardRef(function(e,t){var n=u.useRef(null),a=u.useState({onScrollCapture:Qn,onWheelCapture:Qn,onTouchMoveCapture:Qn}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,v=e.sideCar,p=e.noIsolation,g=e.inert,h=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,N=Wr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,P=zo([n,t]),A=ve(ve({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(E,{sideCar:dl,removeScrollBar:d,shards:m,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!h,lockRef:n,gapMode:b}),i?u.cloneElement(u.Children.only(l),ve(ve({},A),{ref:P})):u.createElement(w,ve({},A,{className:c,ref:P}),l))});Tn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tn.classNames={fullWidth:Gt,zeroRight:Bt};var pr=!1;if(typeof window<"u")try{var sn=Object.defineProperty({},"passive",{get:function(){return pr=!0,!0}});window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{pr=!1}var vt=pr?{passive:!1}:!1,$h=function(e){return e.tagName==="TEXTAREA"},ul=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$h(e)&&n[t]==="visible")},zh=function(e){return ul(e,"overflowY")},Bh=function(e){return ul(e,"overflowX")},Ua=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=fl(e,a);if(s){var o=ml(e,a),i=o[1],l=o[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Gh=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},qh=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},fl=function(e,t){return e==="v"?zh(t):Bh(t)},ml=function(e,t){return e==="v"?Gh(t):qh(t)},Wh=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hh=function(e,t,n,a,s){var o=Wh(e,window.getComputedStyle(t).direction),i=o*a,l=n.target,c=t.contains(l),d=!1,f=i>0,m=0,v=0;do{var p=ml(e,l),g=p[0],h=p[1],x=p[2],w=h-x-o*g;(g||w)&&fl(e,l)&&(m+=w,v+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(v)<1||!s))&&(d=!0),d},on=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ka=function(e){return[e.deltaX,e.deltaY]},Ya=function(e){return e&&"current"in e?e.current:e},Vh=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uh=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Kh=0,xt=[];function Yh(e){var t=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(Kh++)[0],o=u.useState(Hr)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=$o([e.lockRef.current],(e.shards||[]).map(Ya),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(h,x){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var w=on(h),b=n.current,N="deltaX"in h?h.deltaX:b[0]-w[0],E="deltaY"in h?h.deltaY:b[1]-w[1],P,A=h.target,k=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in h&&k==="h"&&A.type==="range")return!1;var M=Ua(k,A);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=Ua(k,A)),!M)return!1;if(!a.current&&"changedTouches"in h&&(N||E)&&(a.current=P),!P)return!0;var K=a.current||P;return Hh(K,x,h,K==="h"?N:E,!0)},[]),c=u.useCallback(function(h){var x=h;if(!(!xt.length||xt[xt.length-1]!==o)){var w="deltaY"in x?Ka(x):on(x),b=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&Vh(P.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var N=(i.current.shards||[]).map(Ya).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=N.length>0?l(x,N[0]):!i.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(h,x,w,b){var N={name:h,delta:x,target:w,should:b,shadowParent:Zh(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),f=u.useCallback(function(h){n.current=on(h),a.current=void 0},[]),m=u.useCallback(function(h){d(h.type,Ka(h),h.target,l(h,e.lockRef.current))},[]),v=u.useCallback(function(h){d(h.type,on(h),h.target,l(h,e.lockRef.current))},[]);u.useEffect(function(){return xt.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,vt),document.addEventListener("touchmove",c,vt),document.addEventListener("touchstart",f,vt),function(){xt=xt.filter(function(h){return h!==o}),document.removeEventListener("wheel",c,vt),document.removeEventListener("touchmove",c,vt),document.removeEventListener("touchstart",f,vt)}},[]);var p=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(o,{styles:Uh(s)}):null,p?u.createElement(Ho,{gapMode:e.gapMode}):null)}function Zh(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Xh=qo(dl,Yh);var hl=u.forwardRef(function(e,t){return u.createElement(Tn,ve({},e,{ref:t,sideCar:Xh}))});hl.classNames=Tn.classNames;var Qh=[" ","Enter","ArrowUp","ArrowDown"],Jh=[" ","Enter"],Xt="Select",[On,Dn,ep]=Us(Xt),[It,Wp]=Ae(Xt,[ep,el]),Ln=el(),[tp,et]=It(Xt),[np,rp]=It(Xt),pl=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:v,required:p}=e,g=Ln(t),[h,x]=u.useState(null),[w,b]=u.useState(null),[N,E]=u.useState(!1),P=Pn(d),[A=!1,k]=ot({prop:a,defaultProp:s,onChange:o}),[M,K]=ot({prop:i,defaultProp:l,onChange:c}),L=u.useRef(null),H=h?!!h.closest("form"):!0,[J,ne]=u.useState(new Set),re=Array.from(J).map(Z=>Z.props.value).join(";");return r.jsx(Oh,{...g,children:r.jsxs(tp,{required:p,scope:t,trigger:h,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Ye(),value:M,onValueChange:K,open:A,onOpenChange:k,dir:P,triggerPointerDownPosRef:L,disabled:v,children:[r.jsx(On.Provider,{scope:t,children:r.jsx(np,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(Z=>{ne(X=>new Set(X).add(Z))},[]),onNativeOptionRemove:u.useCallback(Z=>{ne(X=>{const F=new Set(X);return F.delete(Z),F})},[]),children:n})}),H?r.jsxs(zl,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:m,value:M,onChange:Z=>K(Z.target.value),disabled:v,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(J)]},re):null]})})};pl.displayName=Xt;var gl="SelectTrigger",vl=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,o=Ln(n),i=et(gl,n),l=i.disabled||a,c=ce(t,i.onTriggerChange),d=Dn(n),[f,m,v]=Bl(g=>{const h=d().filter(b=>!b.disabled),x=h.find(b=>b.value===i.value),w=Gl(h,g,x);w!==void 0&&i.onValueChange(w.value)}),p=()=>{l||(i.onOpenChange(!0),v())};return r.jsx(Dh,{asChild:!0,...o,children:r.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":$l(i.value)?"":void 0,...s,ref:c,onClick:te(s.onClick,g=>{g.currentTarget.focus()}),onPointerDown:te(s.onPointerDown,g=>{const h=g.target;h.hasPointerCapture(g.pointerId)&&h.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(p(),i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:te(s.onKeyDown,g=>{const h=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(h&&g.key===" ")&&Qh.includes(g.key)&&(p(),g.preventDefault())})})})});vl.displayName=gl;var xl="SelectValue",yl=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:o,placeholder:i="",...l}=e,c=et(xl,n),{onValueNodeHasChildrenChange:d}=c,f=o!==void 0,m=ce(t,c.onValueNodeChange);return we(()=>{d(f)},[d,f]),r.jsx(Q.span,{...l,ref:m,style:{pointerEvents:"none"},children:$l(c.value)?r.jsx(r.Fragment,{children:i}):o})});yl.displayName=xl;var ap="SelectIcon",wl=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return r.jsx(Q.span,{"aria-hidden":!0,...s,ref:t,children:a||"â–¼"})});wl.displayName=ap;var sp="SelectPortal",bl=e=>r.jsx(qr,{asChild:!0,...e});bl.displayName=sp;var ct="SelectContent",jl=u.forwardRef((e,t)=>{const n=et(ct,e.__scopeSelect),[a,s]=u.useState();if(we(()=>{s(new DocumentFragment)},[]),!n.open){const o=a;return o?Kt.createPortal(r.jsx(Cl,{scope:e.__scopeSelect,children:r.jsx(On.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx(Nl,{...e,ref:t})});jl.displayName=ct;var ze=10,[Cl,tt]=It(ct),op="SelectContentImpl",Nl=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:p,sticky:g,hideWhenDetached:h,avoidCollisions:x,...w}=e,b=et(ct,n),[N,E]=u.useState(null),[P,A]=u.useState(null),k=ce(t,R=>E(R)),[M,K]=u.useState(null),[L,H]=u.useState(null),J=Dn(n),[ne,re]=u.useState(!1),Z=u.useRef(!1);u.useEffect(()=>{if(N)return Xo(N)},[N]),Fo();const X=u.useCallback(R=>{const[I,...Y]=J().map(z=>z.ref.current),[B]=Y.slice(-1),_=document.activeElement;for(const z of R)if(z===_||(z==null||z.scrollIntoView({block:"nearest"}),z===I&&P&&(P.scrollTop=0),z===B&&P&&(P.scrollTop=P.scrollHeight),z==null||z.focus(),document.activeElement!==_))return},[J,P]),F=u.useCallback(()=>X([M,N]),[X,M,N]);u.useEffect(()=>{ne&&F()},[ne,F]);const{onOpenChange:se,triggerPointerDownPosRef:le}=b;u.useEffect(()=>{if(N){let R={x:0,y:0};const I=B=>{var _,z;R={x:Math.abs(Math.round(B.pageX)-(((_=le.current)==null?void 0:_.x)??0)),y:Math.abs(Math.round(B.pageY)-(((z=le.current)==null?void 0:z.y)??0))}},Y=B=>{R.x<=10&&R.y<=10?B.preventDefault():N.contains(B.target)||se(!1),document.removeEventListener("pointermove",I),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y,{capture:!0})}}},[N,se,le]),u.useEffect(()=>{const R=()=>se(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[se]);const[C,y]=Bl(R=>{const I=J().filter(_=>!_.disabled),Y=I.find(_=>_.ref.current===document.activeElement),B=Gl(I,R,Y);B&&setTimeout(()=>B.ref.current.focus())}),O=u.useCallback((R,I,Y)=>{const B=!Z.current&&!Y;(b.value!==void 0&&b.value===I||B)&&(K(R),B&&(Z.current=!0))},[b.value]),$=u.useCallback(()=>N==null?void 0:N.focus(),[N]),G=u.useCallback((R,I,Y)=>{const B=!Z.current&&!Y;(b.value!==void 0&&b.value===I||B)&&H(R)},[b.value]),q=a==="popper"?gr:Sl,V=q===gr?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:p,sticky:g,hideWhenDetached:h,avoidCollisions:x}:{};return r.jsx(Cl,{scope:n,content:N,viewport:P,onViewportChange:A,itemRefCallback:O,selectedItem:M,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:F,selectedItemText:L,position:a,isPositioned:ne,searchRef:C,children:r.jsx(hl,{as:mn,allowPinchZoom:!0,children:r.jsx(Gr,{asChild:!0,trapped:b.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:te(s,R=>{var I;(I=b.trigger)==null||I.focus({preventScroll:!0}),R.preventDefault()}),children:r.jsx(Br,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:r.jsx(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:R=>R.preventDefault(),...w,...V,onPlaced:()=>re(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:te(w.onKeyDown,R=>{const I=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!I&&R.key.length===1&&y(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let B=J().filter(_=>!_.disabled).map(_=>_.ref.current);if(["ArrowUp","End"].includes(R.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const _=R.target,z=B.indexOf(_);B=B.slice(z+1)}setTimeout(()=>X(B)),R.preventDefault()}})})})})})})});Nl.displayName=op;var ip="SelectItemAlignedPosition",Sl=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,o=et(ct,n),i=tt(ct,n),[l,c]=u.useState(null),[d,f]=u.useState(null),m=ce(t,k=>f(k)),v=Dn(n),p=u.useRef(!1),g=u.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:w,focusSelectedItem:b}=i,N=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&h&&x&&w){const k=o.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),K=o.valueNode.getBoundingClientRect(),L=w.getBoundingClientRect();if(o.dir!=="rtl"){const _=L.left-M.left,z=K.left-_,oe=k.left-z,U=k.width+oe,he=Math.max(U,M.width),pe=window.innerWidth-ze,ge=_a(z,[ze,pe-he]);l.style.minWidth=U+"px",l.style.left=ge+"px"}else{const _=M.right-L.right,z=window.innerWidth-K.right-_,oe=window.innerWidth-k.right-z,U=k.width+oe,he=Math.max(U,M.width),pe=window.innerWidth-ze,ge=_a(z,[ze,pe-he]);l.style.minWidth=U+"px",l.style.right=ge+"px"}const H=v(),J=window.innerHeight-ze*2,ne=h.scrollHeight,re=window.getComputedStyle(d),Z=parseInt(re.borderTopWidth,10),X=parseInt(re.paddingTop,10),F=parseInt(re.borderBottomWidth,10),se=parseInt(re.paddingBottom,10),le=Z+X+ne+se+F,C=Math.min(x.offsetHeight*5,le),y=window.getComputedStyle(h),O=parseInt(y.paddingTop,10),$=parseInt(y.paddingBottom,10),G=k.top+k.height/2-ze,q=J-G,V=x.offsetHeight/2,R=x.offsetTop+V,I=Z+X+R,Y=le-I;if(I<=G){const _=x===H[H.length-1].ref.current;l.style.bottom="0px";const z=d.clientHeight-h.offsetTop-h.offsetHeight,oe=Math.max(q,V+(_?$:0)+z+F),U=I+oe;l.style.height=U+"px"}else{const _=x===H[0].ref.current;l.style.top="0px";const oe=Math.max(G,Z+h.offsetTop+(_?O:0)+V)+Y;l.style.height=oe+"px",h.scrollTop=I-G+h.offsetTop}l.style.margin=`${ze}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=J+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[v,o.trigger,o.valueNode,l,d,h,x,w,o.dir,a]);we(()=>N(),[N]);const[E,P]=u.useState();we(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const A=u.useCallback(k=>{k&&g.current===!0&&(N(),b==null||b(),g.current=!1)},[N,b]);return r.jsx(cp,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:r.jsx(Q.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Sl.displayName=ip;var lp="SelectPopperPosition",gr=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=ze,...o}=e,i=Ln(n);return r.jsx(Lh,{...i,...o,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gr.displayName=lp;var[cp,aa]=It(ct,{}),vr="SelectViewport",El=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...s}=e,o=tt(vr,n),i=aa(vr,n),l=ce(t,o.onViewportChange),c=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(On.Slot,{scope:n,children:r.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:te(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=i;if(v!=null&&v.current&&m){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-ze*2,h=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),w=Math.max(h,x);if(w<g){const b=w+p,N=Math.min(g,b),E=b-N;m.style.height=N+"px",m.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});El.displayName=vr;var Pl="SelectGroup",[dp,up]=It(Pl),fp=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Ye();return r.jsx(dp,{scope:n,id:s,children:r.jsx(Q.div,{role:"group","aria-labelledby":s,...a,ref:t})})});fp.displayName=Pl;var Rl="SelectLabel",kl=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=up(Rl,n);return r.jsx(Q.div,{id:s.id,...a,ref:t})});kl.displayName=Rl;var Nn="SelectItem",[mp,Ml]=It(Nn),Al=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:o,...i}=e,l=et(Nn,n),c=tt(Nn,n),d=l.value===a,[f,m]=u.useState(o??""),[v,p]=u.useState(!1),g=ce(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,a,s)}),h=Ye(),x=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(mp,{scope:n,value:a,disabled:s,textId:h,isSelected:d,onItemTextChange:u.useCallback(w=>{m(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:r.jsx(On.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:r.jsx(Q.div,{role:"option","aria-labelledby":h,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:te(i.onFocus,()=>p(!0)),onBlur:te(i.onBlur,()=>p(!1)),onPointerUp:te(i.onPointerUp,x),onPointerMove:te(i.onPointerMove,w=>{var b;s?(b=c.onItemLeave)==null||b.call(c):w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:te(i.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(Jh.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Al.displayName=Nn;var Ft="SelectItemText",Il=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...o}=e,i=et(Ft,n),l=tt(Ft,n),c=Ml(Ft,n),d=rp(Ft,n),[f,m]=u.useState(null),v=ce(t,w=>m(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=u.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=d;return we(()=>(h(g),()=>x(g)),[h,x,g]),r.jsxs(r.Fragment,{children:[r.jsx(Q.span,{id:c.textId,...o,ref:v}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Kt.createPortal(o.children,i.valueNode):null]})});Il.displayName=Ft;var Tl="SelectItemIndicator",Ol=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return Ml(Tl,n).isSelected?r.jsx(Q.span,{"aria-hidden":!0,...a,ref:t}):null});Ol.displayName=Tl;var xr="SelectScrollUpButton",Dl=u.forwardRef((e,t)=>{const n=tt(xr,e.__scopeSelect),a=aa(xr,e.__scopeSelect),[s,o]=u.useState(!1),i=ce(t,a.onScrollButtonChange);return we(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(_l,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Dl.displayName=xr;var yr="SelectScrollDownButton",Ll=u.forwardRef((e,t)=>{const n=tt(yr,e.__scopeSelect),a=aa(yr,e.__scopeSelect),[s,o]=u.useState(!1),i=ce(t,a.onScrollButtonChange);return we(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(_l,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ll.displayName=yr;var _l=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,o=tt("SelectScrollButton",n),i=u.useRef(null),l=Dn(n),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),we(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),r.jsx(Q.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:te(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:te(s.onPointerLeave,()=>{c()})})}),hp="SelectSeparator",Fl=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return r.jsx(Q.div,{"aria-hidden":!0,...a,ref:t})});Fl.displayName=hp;var wr="SelectArrow",pp=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Ln(n),o=et(wr,n),i=tt(wr,n);return o.open&&i.position==="popper"?r.jsx(_h,{...s,...a,ref:t}):null});pp.displayName=wr;function $l(e){return e===""||e===void 0}var zl=u.forwardRef((e,t)=>{const{value:n,...a}=e,s=u.useRef(null),o=ce(t,s),i=Lr(n);return u.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&f){const m=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(m)}},[i,n]),r.jsx(cl,{asChild:!0,children:r.jsx("select",{...a,ref:o,defaultValue:n})})});zl.displayName="BubbleSelect";function Bl(e){const t=_e(e),n=u.useRef(""),a=u.useRef(0),s=u.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=u.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,o]}function Gl(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=gp(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function gp(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var vp=pl,ql=vl,xp=yl,yp=wl,wp=bl,Wl=jl,bp=El,Hl=kl,Vl=Al,jp=Il,Cp=Ol,Ul=Dl,Kl=Ll,Yl=Fl;const Np=vp,Sp=xp,Zl=u.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(ql,{ref:a,className:S("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(yp,{asChild:!0,children:r.jsx(Ss,{className:"h-4 w-4 opacity-50"})})]}));Zl.displayName=ql.displayName;const Xl=u.forwardRef(({className:e,...t},n)=>r.jsx(Ul,{ref:n,className:S("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(hd,{className:"h-4 w-4"})}));Xl.displayName=Ul.displayName;const Ql=u.forwardRef(({className:e,...t},n)=>r.jsx(Kl,{ref:n,className:S("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Ss,{className:"h-4 w-4"})}));Ql.displayName=Kl.displayName;const Jl=u.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(wp,{children:r.jsxs(Wl,{ref:s,className:S("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(Xl,{}),r.jsx(bp,{className:S("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Ql,{})]})}));Jl.displayName=Wl.displayName;const Ep=u.forwardRef(({className:e,...t},n)=>r.jsx(Hl,{ref:n,className:S("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ep.displayName=Hl.displayName;const br=u.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(Vl,{ref:a,className:S("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Cp,{children:r.jsx(Ns,{className:"h-4 w-4"})})}),r.jsx(jp,{children:t})]}));br.displayName=Vl.displayName;const Pp=u.forwardRef(({className:e,...t},n)=>r.jsx(Yl,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",e),...t}));Pp.displayName=Yl.displayName;const Rp=e=>{const[t,n]=ie(f=>[f.score,f.difficulty]),{toggleSettings:a,toggleMuted:s,muted:o}=je(f=>({toggleSettings:f.toggleSettings,toggleMuted:f.toggleMusicMuted,muted:f.musicMuted})),i=de(),[l,c]=j.useMemo(()=>[n!==i.difficulty,i.quality.animations!==at.quality.animations],[n,i.quality.animations,i.difficulty]),d=j.useCallback(()=>{c?window.location.search="?game":a()},[c,a]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative flex justify-between items-baseline",children:[r.jsx("h2",{className:"text-3xl absolute top-0 left-0 w-full text-center mt-1",children:"Settings"}),e.show&&r.jsx(Fu,{className:"text-2xl font-mono ml-2"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(T,{onClick:s,variant:"icon",size:"icon",children:o?r.jsx(Pm,{}):r.jsx(Rm,{})})})]}),r.jsxs("div",{className:"flex gap-5",children:[r.jsxs(De,{children:[r.jsx("h3",{children:"DifficultÃ©"}),r.jsx(ln,{className:"space-y-0 gap-0",value:i.difficulty,onValueChange:f=>{i.updateDifficulty(f)},children:Object.keys(Dc).map(f=>r.jsxs(Lt,{className:"flex items-center gap-2 py-2",children:[r.jsx(cn,{value:f}),rt[f]]},f))})]}),r.jsxs(De,{className:"relative",children:[r.jsx("h3",{children:"QualitÃ©"}),r.jsxs(Np,{defaultValue:i.quality.preset,onValueChange:f=>{i.updateQuality({preset:f,...f==="custom"?{}:Object.fromEntries(Object.entries(nr(i.quality,"preset")).map(([m])=>[m,fa[f].includes(m)]))})},children:[r.jsx(Zl,{className:"w-36 text-xl absolute right-2 -top-2",children:r.jsx(Sp,{placeholder:"Preset"})}),r.jsxs(Jl,{children:[r.jsx(br,{value:"custom",children:rt.custom}),Object.entries(fa).map(([f])=>r.jsx(br,{value:f,children:rt[f]},f))]})]}),r.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(nr(at.quality,"preset")).map(f=>r.jsxs(Lt,{className:S("flex items-center gap-2 py-2 select-none odd:pr-5",i.quality.preset!=="custom"&&"cursor-not-allowed"),children:[r.jsx(bo,{disabled:i.quality.preset!=="custom",defaultChecked:i.quality[f],checked:i.quality[f],onCheckedChange:m=>i.updateQuality({[f]:m})}),rt[f]]},f))})]}),r.jsxs(De,{children:[r.jsx("h3",{children:"ThÃªme"}),r.jsx(ln,{className:"space-y-0 gap-0",defaultValue:at.theme,onValueChange:f=>{const m=document.body,v=Array.from(m.classList.values()).find(p=>p.startsWith("theme-"));v&&m.classList.remove(v),m.classList.add(`theme-${f}`),i.updateTheme(f)},children:Lc.map(f=>r.jsxs(Lt,{className:"flex items-center gap-2 py-2",children:[r.jsx(cn,{value:f[0]}),f[0]]},f[0]))})]}),r.jsxs(De,{children:[r.jsx("h3",{children:"Vitesse"}),r.jsx(ln,{className:"space-y-0 gap-0",value:i.speed,onValueChange:f=>i.updateSpeed(f),children:Object.values(_c).map(f=>r.jsxs(Lt,{className:"flex items-center gap-2 py-2",children:[r.jsx(cn,{value:f}),rt[f]]},f))})]})]}),r.jsxs("div",{className:"flex gap-5",children:[l&&r.jsx(T,{variant:"default",onClick:()=>{i.updateDifficulty(at.difficulty),a()},children:"Annuler"}),t>0&&l?r.jsxs(Nm,{children:[r.jsx(Sm,{children:r.jsx(T,{variant:l?"cta":"default",disabled:!l,children:"Appliquer"})}),r.jsxs(Li,{className:"w-fit",children:[r.jsxs(_i,{children:[r.jsx($i,{className:"text-2xl",children:"Une partie est en cours !"}),r.jsxs(zi,{className:"text-xl leading-5",children:["Le nouveau mode de difficultÃ© sera ",r.jsx("br",{}),"appliquÃ© Ã  la prochaine partie."]})]}),r.jsxs(Fi,{children:[r.jsx(Gi,{children:"Annuler"}),r.jsx(Bi,{onClick:d,children:"Continuer"})]})]})]}):r.jsx(T,{variant:c?"cta":"default",onClick:d,children:"Appliquer"}),(c||l)&&r.jsxs("div",{className:"flex-grow border rounded-lg flex items-center gap-3 px-3",children:[r.jsx(_t,{className:"w-5"})," ",c?"Un rechargement peut Ãªtre nÃ©cessaire.":"Le mode de difficultÃ© sera appliquÃ© Ã  la prochaine partie."]})]})]})},kp=()=>{const e=ie();return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Statistiques"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs(De,{children:[r.jsx("h3",{className:"font-changa",children:"GÃ©nÃ©ral"}),r.jsx("table",{children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Score moyen"}),r.jsxs("td",{className:"font-changa text-upgrade",children:[e.scoreAverage," pts"]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Argent total"}),r.jsx("td",{children:r.jsx(Ge,{M$:e.totalMoney})})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Parties gagnÃ©es"}),r.jsx("td",{children:e.wonGames})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Parties jouÃ©es"}),r.jsx("td",{children:e.playedGames})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Cartes dÃ©couvertes"}),r.jsxs("td",{children:[e.discoveries.length," / ",Et.length]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"SuccÃ¨s obtenus"}),r.jsxs("td",{children:[e.achievements.length," / ",ir.length]})]})]})})]}),r.jsxs(De,{className:"col-span-3",children:[r.jsx("h3",{className:"font-changa",children:"Cartes dÃ©couvertes"}),r.jsx(Fc,{children:e.discoveries.length>0?e.discoveries.map((t,n)=>r.jsx(ar,{popover:r.jsx(Ts,{card:be(t,e)}),children:r.jsx("li",{children:r.jsx(ma,{children:t})})},n)):"Aucune dÃ©couverte"})]})]}),r.jsxs(De,{children:[r.jsx("h3",{className:"font-changa",children:"SuccÃ¨s"}),r.jsx("ul",{className:"flex flex-wrap gap-x-2",children:e.achievements.length>0?e.achievements.map((t,n)=>r.jsx(ar,{popover:r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mb-2",children:t}),r.jsx("p",{children:ir.find(a=>a.name===t).description})]}),children:r.jsx("li",{children:r.jsx(ma,{children:t})})},n)):"Aucun succÃ¨s"})]})]})},Mp=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Aide"}),r.jsx(De,{children:r.jsx("div",{className:"max-h-[60vh] overflow-y-scroll gap-y-1 gap-x-4 xl:grid grid-cols-2",children:Object.values(Mr).map((e,t)=>r.jsx("div",{className:"whitespace-nowrap",children:e},t))})})]}),Ap=()=>{const[e,t]=j.useState(0);return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Taux de conversion"}),r.jsx(De,{children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-right",children:r.jsxs(Lt,{htmlFor:"energy-input",children:["En ",r.jsx(D,{name:"energy"})," :"]})}),r.jsx("th",{children:r.jsx(ls,{id:"energy-input",min:0,type:"number",value:e,onChange:n=>t(+n.target.value),placeholder:"Entre une valeur en Ã©nergie",className:"w-fit h-6 pb-0 pt-1 px-1"})})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"text-right",children:"En dollars :"}),r.jsx("td",{children:r.jsx(Ge,{M$:e*tr})})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"text-right",children:["En ",r.jsx(D,{name:"reputation"})," :"]}),r.jsx("td",{children:(e/ts).toFixed(2)})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"text-right",children:["En ",r.jsx(D,{name:"day"})," :"]}),r.jsxs("td",{children:[e*Oe>1?`${Math.floor(e*Oe)} jours`:" ",e*Oe%1>0&&e*Oe>1?" et ":" ",Math.floor(e*Oe%1*24)," heures et"," ",Math.floor(e*Oe%1*24%1*60)," ","minutes"]})]})]})]})})]})};function Ip(e){return j.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},j.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},j.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const Tp=()=>r.jsxs("div",{className:"space-y-2 pointer-events-auto flex flex-col items-center",children:[r.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),r.jsx(De,{children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Rank"}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Score"}),r.jsx("th",{children:"Mode"})]})}),r.jsx("tbody",{children:qs.sort((e,t)=>t.score-e.score).map((e,t)=>r.jsxs("tr",{className:S("*:whitespace-nowrap",sr(t)),children:[r.jsx("td",{children:t<3?r.jsx(Ip,{className:S("w-4",sr(t))}):""}),r.jsxs("th",{children:["# ",t+1]}),r.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:e.name}),r.jsxs("td",{children:[e.score.toLocaleString()," pts"]}),r.jsx("td",{children:rt[e.mode]})]},t))})]})}),r.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si tu as un meilleur score, tu peux me le soumettre ",r.jsx("br",{}),"en me contactant sur"," ",r.jsx("a",{href:"https://discord.gg/3vC2XWK",target:"_blank",className:"font-bold",children:"Discord"})," ","ou"," ",r.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"font-bold",children:"LinkedIn"})," ","!"]})]}),Op=e=>{const t=je(a=>a.toggleSettings),n=de();return r.jsxs("div",{className:S("absolute inset-0 z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":n.quality.animations,"opacity-0 bg-background/80":n.quality.transparency,hidden:!n.quality.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[r.jsx("div",{onClick:t,className:S("absolute inset-0",e.show?"pointer-events-auto":"pointer-events-none")}),r.jsx(Yt,{className:"z-40 max-w-[1500px]",children:r.jsxs(_u,{defaultValue:"settings",children:[r.jsxs(po,{className:"w-full -translate-y-2",children:[r.jsx(wt,{value:"settings",children:"ParamÃ¨tres"}),r.jsx(wt,{value:"stats",children:"Statistiques"}),r.jsx(wt,{value:"scores",children:"Scoreboard"}),r.jsx(wt,{value:"help",children:"Aide"}),r.jsx(wt,{value:"tools",children:"Outils"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(bt,{value:"settings",children:r.jsx(Rp,{show:e.show})}),r.jsx(bt,{value:"stats",children:r.jsx(kp,{})}),r.jsx(bt,{value:"scores",children:r.jsx(Tp,{})}),r.jsx(bt,{value:"help",children:r.jsx(Mp,{})}),r.jsx(bt,{value:"tools",children:r.jsx(Ap,{})})]})]})})]})};let Jn=0;const Dp=3;function ec(){document.documentElement.style.setProperty("--rainbow",`${Jn} 100% 50%`),Jn=(Jn+Dp)%360,requestAnimationFrame(ec)}ec();const Hp=()=>{Vc(),Uc();const[e,t]=ie(o=>[o.debug,o.handleError]),[n,a]=je(o=>[o.isCardGameVisible,o.settingsVisible]),s=j.useCallback(o=>{"error"in o?t(o.error):t(o.reason)},[t]);return j.useEffect(()=>(window.addEventListener("error",s),window.addEventListener("unhandledrejection",s),()=>{window.removeEventListener("error",s),window.removeEventListener("unhandledrejection",s)}),[s]),r.jsx(sd,{steps:od,opaqueStyle:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:r.jsxs(ld,{children:[r.jsx(Jd,{}),r.jsx(Td,{show:n}),r.jsx(Ld,{show:n}),r.jsx(gu,{show:n}),r.jsx(fu,{show:n}),r.jsx(Ad,{show:n}),r.jsx(Pd,{show:n}),r.jsx(kd,{show:n}),r.jsx(Nd,{show:n}),r.jsx(mu,{show:n}),r.jsx(jd,{show:n}),r.jsx(dd,{show:n}),r.jsx(Sd,{show:n}),r.jsx(Op,{show:n&&a}),r.jsx(Dd,{show:n}),e&&r.jsx(Fd,{})]})})};export{Hp as Game};
