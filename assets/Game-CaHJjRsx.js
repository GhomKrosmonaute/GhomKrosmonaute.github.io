import{R as E,c as P,a as se,u as Te,j as u,B as Pe,E as G,G as xn,s as fe,M as Ge,d as jr,e as ut,f as Ht,I as Qe,g as Wt,U as Mi,h as it,i as Ni,k as yt,l as Ti,C as mt,m as Ir,n as Qn,r as y,S as Rt,o as _n,p as le,q as Ri,t as Zt,v as un,w as ki,x as Oi,y as ji,z as Dr,T as Ii,A as Di}from"./index-DbwdxbuW.js";function Li(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),E.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),E.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function $i(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),E.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),E.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function Lr(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}const Fi=e=>{const[n,t]=se(c=>[c.animations,c.transparency]),{toggleSettings:r,toggleMuted:o,muted:i}=Te(c=>({toggleSettings:c.toggleSettings,toggleMuted:c.toggleMusicMuted,muted:c.musicMuted}));return u.jsxs("div",{className:P("absolute flex top-4 right-16 z-50 gap-2","translate-x-full pointer-events-none",{hidden:!t,"opacity-0":t,"transition-all duration-500 ease-in-out":n,"translate-x-0 opacity-100 pointer-events-auto":e.show}),children:[u.jsx(Pe,{onClick:r,variant:"icon",size:"icon",children:u.jsx(Lr,{})}),u.jsx(Pe,{onClick:()=>o(),variant:"icon",size:"icon",children:i?u.jsx($i,{}):u.jsx(Li,{})})]})},Gi={"upgrade cost threshold":()=>({condition:e=>!!e.effect.upgrade,use:(e,n)=>e.effect.upgrade?{...e,effect:{...e.effect,cost:Bi(n,e)}}:e}),"lowers price of hand cards":(e,n)=>({once:!0,condition:t=>e.includes(t.name),use:t=>({...t,effect:{...t.effect,cost:(typeof t.effect.cost=="string"?String:Number)(Math.max(0,Number(t.effect.cost)-n*(typeof t.effect.cost=="string"?G:1)))}})}),"next money card cost energy":()=>({once:!0,condition:e=>typeof e.effect.cost=="string"&&Number(e.effect.cost)>0,use:e=>({...e,effect:{...e.effect,cost:Math.min(20,Math.ceil(Number(e.effect.cost)/G))}})}),"next card half cost":()=>({once:!0,condition:e=>Number(e.effect.cost)>1,use:e=>({...e,effect:{...e.effect,cost:typeof e.effect.cost=="number"?Math.ceil(e.effect.cost/2):String(Math.ceil(Number(e.effect.cost)/2))}})})},C=xn[fe.difficulty],ct=[{description:`Gagne ${(2+C)*G}M$`,onPlayed:async(e,n,t)=>await e.addMoney((2+C)*G,{skipGameOverPause:!0,reason:t}),type:"action",cost:2},{description:`Gagne ${(4+C)*G}M$`,onPlayed:async(e,n,t)=>await e.addMoney((4+C)*G,{skipGameOverPause:!0,reason:t}),type:"action",cost:4},{description:`Le matin, gagne ${C*G}M$. L'après-midi, gagne ${C} @energy${C>1?"s":""}`,onPlayed:async(e,n,t)=>{e.day%1<.5?await e.addMoney(C*G,{skipGameOverPause:!0,reason:t}):await e.addEnergy(C,{skipGameOverPause:!0,reason:t})},type:"action",cost:0},{description:`Gagne ${(2+C)*G}M$ fois le nombre de cartes @action en main en comptant celle-ci`,onPlayed:async(e,n,t)=>{await e.addMoney((2+C)*G*e.hand.filter(r=>r.effect.type==="action").length,{skipGameOverPause:!0,reason:t})},type:"action",cost:4},{description:`Si le dark mode est activé, gagne ${(4+C)*G}M$`,onPlayed:async(e,n,t)=>await e.addMoney((4+C)*G,{skipGameOverPause:!0,reason:t}),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Si la @reputation est inférieur à 5, gagne ${(4+C)*G}M$`,onPlayed:async(e,n,t)=>await e.addMoney((4+C)*G,{skipGameOverPause:!0,reason:t}),condition:e=>e.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${C>4?` et gagne ${C-4} @energy${C-4>1?"s":""}`:""}`,onPlayed:async(e,n,t)=>{await e.playCard(e.hand[e.hand.length-1],{free:!0,skipGameOverPause:!0,reason:t}),C>4&&await e.addEnergy(C-4,{skipGameOverPause:!0,reason:t})},condition:(e,n)=>{const t=e.hand[e.hand.length-1];return t&&t.name!==n.name&&(!t.effect.condition||t.effect.condition(e,e.hand[e.hand.length-1]))},type:"action",cost:Math.max(0,4-C),waitBeforePlay:!0},{description:"Défausse la carte la plus à droite de ta main, gagne son coût en @energy",onPlayed:async(e,n,t)=>{const r=e.hand[e.hand.length-1];await e.discardCard({filter:i=>i.name===r.name,reason:t});const o=typeof r.effect.cost=="string"?Math.ceil(Number(r.effect.cost)/G):r.effect.cost;await e.addEnergy(o,{skipGameOverPause:!0,reason:t})},condition:(e,n)=>e.hand.length>=1&&e.hand.indexOf(n)!==e.hand.length-1,type:"action",cost:0},{description:`Pioche ${1+C} carte${C>0?"s":""}`,onPlayed:async(e,n,t)=>await e.drawCard(1+C,{skipGameOverPause:!0,reason:t}),condition:e=>e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${C>2?2+(C-2):2} cartes`,onPlayed:async(e,n,t)=>await e.drawCard(C>2?2+(C-2):2,{skipGameOverPause:!0,reason:t}),condition:e=>e.draw.length>=1,type:"support",cost:Math.max(0,2-C),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+C} cartes`,onPlayed:async(e,n,t)=>await e.drawCard(2+C,{skipGameOverPause:!0,reason:t}),condition:e=>e.hand.length<5&&e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${C>=4?1+Math.floor((C-2)/2):1} carte${C>=4?"s":""} @action${C>=2&&C%2!==0?` et gagne ${C%2} @energy${C%2>0?"s":""}`:""}`,onPlayed:async(e,n,t)=>{await e.drawCard(C>=2?1+Math.floor((C-2)/2):1,{filter:r=>r.effect.type==="action",skipGameOverPause:!0,reason:t}),C>=2&&C%2!==0&&await e.addEnergy(C%2,{skipGameOverPause:!0,reason:t})},condition:e=>e.draw.some(n=>n.effect.type==="action"),type:"support",cost:Math.max(0,2-C),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(C/2)} carte${C>=2?"s":""} @action${C%2!==0?` et gagne ${C%2*G}M$`:""}`,onPlayed:async(e,n,t)=>{await e.drawCard(1,{filter:r=>r.effect.type==="action",skipGameOverPause:!0,reason:t}),C%2!==0&&await e.addMoney(C%2*G,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.every(n=>n.effect.type!=="action")&&e.draw.some(n=>n.effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${C>=1?2:"une"} carte${C>1?"s":""} et gagne ${(2+C-1)*G}M$`,onPlayed:async(e,n,t)=>{await e.discardCard({random:!0,reason:t}),await e.drawCard(C>=1?2:1,{skipGameOverPause:!0,reason:t}),await e.addMoney((2+C-1)*G,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.length>=2&&e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${C>=1?1+C:"une"} carte${C>=1?"s":""}`,onPlayed:async(e,n,t)=>{await e.discardCard({toDraw:!0,random:!0,reason:t}),await e.drawCard(C>=1?1+C:1,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+C} cartes`,onPlayed:async(e,n,t)=>{await e.discardCard({reason:t}),await e.drawCard(5+C,{skipGameOverPause:!0,reason:t})},condition:e=>e.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${C>5?5+(C-5):5} cartes`,onPlayed:async(e,n,t)=>{await e.discardCard({toDraw:!0,reason:t}),await e.drawCard(C>5?5+(C-5):5,{skipGameOverPause:!0,reason:t})},type:"support",cost:Math.max(0,5-C),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${C>3?` et gagne ${(C-3)*G}M$`:""}`,onPlayed:async(e,n,t)=>{await e.drawCard(e.upgrades.length,{skipGameOverPause:!0,reason:t}),C>3&&await e.addMoney((C-3)*G,{skipGameOverPause:!0,reason:t})},condition:e=>e.upgrades.length>0&&e.draw.length>=1,type:"support",cost:Math.max(0,3-C),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${C>0?` et gagne ${C*G}M$`:""}`,onPlayed:async(e,n,t)=>{await e.discardCard({filter:r=>r.effect.type==="support",reason:t}),await e.drawCard(2,{filter:r=>r.effect.type==="action",skipGameOverPause:!0,reason:t}),C>0&&await e.addMoney(C*G,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.filter(n=>n.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+C} cartes`,onPlayed:async(e,n,t)=>{await e.discardCard({filter:r=>r.effect.type==="action",reason:t}),await e.drawCard(3+C,{skipGameOverPause:!0,reason:t})},condition:e=>e.hand.some(n=>n.effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${C>4?` et gagne ${C-4} @energy${C-4>1?"s":""}`:""}`,onPlayed:async(e,n,t)=>{await e.drawCard(2,{filter:r=>typeof r.effect.cost=="number",skipGameOverPause:!0,reason:t}),C>4&&await e.addEnergy(C-4,{skipGameOverPause:!0,reason:t})},condition:e=>e.draw.some(n=>typeof n.effect.cost=="number"),type:"support",cost:Math.max(0,4-C),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${C>3?`, gagne ${C-3} @energy${C-3>1?"s":""}`:""}`,onPlayed:async(e,n,t)=>{e.addCardModifier("next card half cost",[]),C>3&&await e.addEnergy(C-3,{skipGameOverPause:!0,reason:t})},type:"support",cost:Math.max(0,3-C)},{description:"La prochaine carte qui coûte de l'argent coûte maintenant de l'@energy",onPlayed:async e=>{e.addCardModifier("next money card cost energy",[])},type:"support",cost:0},{description:`Baisse le prix de toutes les cartes en main de ${1+C} @energys ou de ${1+C*G}M$`,onPlayed:async(e,n)=>{const t=e.hand.filter(r=>r.name!==n.name&&Number(n.effect.cost)>0).map(r=>r.name);e.addCardModifier("lowers price of hand cards",[t,1+C])},condition:e=>e.hand.some(n=>Number(n.effect.cost)>0),type:"support",cost:Math.max(0,Ge-C),ephemeral:!0},{description:`${C>4?`Ajoute ${C-4} @energy${C>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async(e,n,t)=>{C>4&&await e.addEnergy(C-4,{skipGameOverPause:!0,reason:t}),await e.addEnergy(e.energy,{skipGameOverPause:!0,reason:t})},type:"action",cost:String(Math.max(0,4-C)*G)},{description:`Ajoute ${4+C} @energys`,onPlayed:async(e,n,t)=>await e.addEnergy(4+C,{skipGameOverPause:!0,reason:t}),type:"action",cost:String(4*G)},{description:`Si la @reputation est inférieur à 5, ajoute ${C>3?5+C-3:5} @energys`,onPlayed:async(e,n,t)=>await e.addEnergy(C>3?5+C-3:5,{skipGameOverPause:!0,reason:t}),condition:e=>e.reputation<5,type:"action",cost:String(Math.max(0,3-C)*G)},{description:"Remplis la jauge de @reputation",onPlayed:async(e,n,t)=>await e.addReputation(10,{skipGameOverPause:!0,reason:t}),type:"action",cost:String(Math.max(0,5*jr-C)*G),ephemeral:!0}].map((e,n)=>({...e,index:n})),De=xn[fe.difficulty],dt=[{name:"Starbucks",triggerEvent:"onPlay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<ut,onTrigger:async(e,n,t)=>{await e.addEnergy(n.cumul,{skipGameOverPause:!0,reason:t})},max:3,cost:String(Math.max(0,20-De)*G)},{name:"Méditation",triggerEvent:"onPlay",description:"Pioche @cumul carte@s tant que votre main n'est pas pleine",image:"meditation.png",condition:e=>e.draw.length>0&&e.hand.length<Ge,onTrigger:async(e,n,t)=>{await e.drawCard(Math.min(n.cumul,Ge-e.hand.length),{skipGameOverPause:!0,reason:t})},max:3,cost:String(Math.max(0,20-De)*G)},{name:"Bourse",triggerEvent:"daily",description:"Gagne @cumul fois 10% de votre capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,n,t)=>{await e.addMoney(Math.ceil(n.cumul*(e.money/10)),{skipGameOverPause:!0,reason:t})},max:5,cost:String(Math.max(0,10-De)*G)},{name:"Recyclage",triggerEvent:"onDraw",description:"Place @cumul carte@s aléatoire@s de la défausse dans le deck",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,n,t)=>{await e.recycleCard(n.cumul,{reason:t})},max:3,cost:String(Math.max(0,20-De)*G)},{name:"I.A",triggerEvent:"onDraw",description:"Gagne @cumulM$ fois le nombre de carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,n,t)=>{await e.addMoney(n.cumul*e.discard.length,{skipGameOverPause:!0,reason:t})},cost:String(Math.max(0,80-De)*G)},{name:"Sport",triggerEvent:"daily",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<Ht,onTrigger:async(e,n,t)=>{await e.addReputation(n.cumul,{skipGameOverPause:!0,reason:t})},max:5,cost:Math.max(0,20-De)},{name:"PC Puissant",triggerEvent:"onDraw",description:"Gagne @cumulM$ fois le nombre d'@energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,n,t)=>{await e.addMoney(n.cumul*e.energy,{skipGameOverPause:!0,reason:t})},max:2,cost:String(Math.max(0,40-De)*G)},{name:"Stagiaire",triggerEvent:"onDraw",description:"Gagne @cumulM$ fois le nombre de cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,n,t)=>{await e.addMoney(n.cumul*e.hand.length,{skipGameOverPause:!0,reason:t})},max:5,cost:String(Math.max(0,20-De)*G)}],er=ct.filter(e=>e.type==="support"),tr=ct.filter(e=>e.type==="action");function $r(e,n){return e.energy>=n?"bg-energy":e.energy>0?["bg-energy","bg-reputation"]:"bg-reputation"}function lt(e){return e.reputation===0?"reputation":e.draw.length===0&&e.hand.length===0?"mill":e.hand.every(n=>n.effect.condition&&!n.effect.condition(e,n)?!0:!bn(e,n).canBeBuy)&&(e.reputation+e.energy<Qe||e.hand.length>=Ge||e.draw.length===0)?"soft-lock":!1}function dn(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function Bi(e,n){const t=e.upgrades.length,r=Mi[typeof n.effect.cost][t]??1/0;return(typeof n.effect.cost=="string"?String:Number)(Math.min(Number(r),Number(n.effect.cost)))}function Hi(e){return JSON.parse(JSON.stringify(e,(n,t)=>typeof t=="function"?void 0:t))}function Wi(e,n){const t=Hi(n);return e.cardModifiers.slice().reduce((o,i)=>{const c=Gr(i);return!c.condition||c.condition(o.card,e)?{card:c.use(o.card,e),appliedModifiers:[...o.appliedModifiers,i]}:o},{card:t,appliedModifiers:[]})}function bn(e,n){const{card:t,appliedModifiers:r}=Wi(e,n),o=typeof t.effect.cost=="number"?"energy":"money",i=Number(t.effect.cost),c=o==="money"?e[o]>=i:e[o]+e.reputation>=i;return{needs:o,cost:i,canBeBuy:c,appliedModifiers:r}}function zi(e,n){if(n.effect.ephemeral)return!0;if(n.effect.upgrade){const t=dt.find(r=>r.name===n.name);if(t.max){if(t.max===1)return!0;const r=e.upgrades.find(o=>o.name===n.name);return r&&r.cumul>=r.max-1}}return!1}function Fe(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(Wt)).replace(/MAX_HAND_SIZE/g,String(Ge)).replace(/@action([^\s.:,]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@sprint([^\s.:,]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Sprint$1</span>').replace(/@support([^\s.:,]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/@day([^\s.:,]*)/g,'<span style="color: hsl(var(--day)); transform: translateZ(5px); font-weight: bold;">Jour$1</span>').replace(/((?:\d+|<span[^>]*>\d+<\/span>)M\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function Fr(e,n){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${n}</span>`).replace(/@s/g,n>1?"s":"")}async function ie(e=250){return new Promise(n=>setTimeout(n,e))}function st(e,n=1){for(let t=0;t<n;t++)e.sort(()=>Math.random()-.5);return e}function nr(e,n,t,r,o,i=!1){const c=(e-n)/(t-n)*(o-r)+r;return i?r<o?Math.max(Math.min(c,o),r):Math.max(Math.min(c,r),o):c}function Kt(e){return e.type==="action"}function Gr(e){return Gi[e[0]](...e[1])}function Vi(e){return JSON.parse(e,(n,t)=>{if(typeof t=="object")switch(n){case"discard":case"draw":case"hand":return t.map(r=>{var o,i,c;return{...r,state:"idle",effect:{...r.effect,template:(o=ct[r.effect.index])==null?void 0:o.template,onPlayed:r.effect.upgrade?async d=>await d.upgrade(r.name):(i=ct[r.effect.index])==null?void 0:i.onPlayed,condition:(c=ct[r.effect.index])==null?void 0:c.condition}}});case"upgrades":return t.map(r=>{var o,i;return{...r,state:"idle",onTrigger:(o=dt.find(c=>c.name===r.name))==null?void 0:o.onTrigger,condition:(i=dt.find(c=>c.name===r.name))==null?void 0:i.condition}});case"operationInProgress":return[]}return n==="isOperationInProgress"?!1:t})}const Ui=["text-energy-foreground","text-reputation-foreground","text-day-foreground","text-upgrade-foreground"],ht=({isCost:e,miniature:n,colors:t,value:r,symbol:o,...i})=>{const c=se(({perspective:d,shadows:p})=>({perspective:d,shadows:p}));return e&&r===0?null:u.jsxs("div",{...i,className:P("relative aspect-square rounded-full text-changa",typeof t=="string"?t:t[0],{"w-8 h-8 text-sm":n,"w-10 h-10":!n,"shadow shadow-black":c.shadows},Ui.find(d=>d.includes((typeof t=="string"?t:t[0]).replace("bg-",""))),i.className),style:{transformStyle:c.perspective?"preserve-3d":"flat",transform:c.perspective?"translateZ(5px)":"",...i.style},children:[Array.isArray(t)&&u.jsx("div",{className:P("absolute w-1/2 h-full origin-right rotate-[-22.5deg] rounded-l-full",t[1])}),u.jsxs("div",{className:"absolute top-1/2 left-1/2 font-changa",style:{transform:`translate(-50%, -50%) ${c.perspective?"translateZ(5px)":""}`},children:[n&&o&&typeof r=="number"&&r>0?"+":"",r]})]})};var de={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var n=function(){this.init()};n.prototype={init:function(){var a=this||t;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var s=this||t;if(a=parseFloat(a),s.ctx||w(),typeof a<"u"&&a>=0&&a<=1){if(s._volume=a,s._muted)return s;s.usingWebAudio&&s.masterGain.gain.setValueAtTime(a,t.ctx.currentTime);for(var l=0;l<s._howls.length;l++)if(!s._howls[l]._webAudio)for(var f=s._howls[l]._getSoundIds(),h=0;h<f.length;h++){var v=s._howls[l]._soundById(f[h]);v&&v._node&&(v._node.volume=v._volume*a)}return s}return s._volume},mute:function(a){var s=this||t;s.ctx||w(),s._muted=a,s.usingWebAudio&&s.masterGain.gain.setValueAtTime(a?0:s._volume,t.ctx.currentTime);for(var l=0;l<s._howls.length;l++)if(!s._howls[l]._webAudio)for(var f=s._howls[l]._getSoundIds(),h=0;h<f.length;h++){var v=s._howls[l]._soundById(f[h]);v&&v._node&&(v._node.muted=a?!0:v._muted)}return s},stop:function(){for(var a=this||t,s=0;s<a._howls.length;s++)a._howls[s].stop();return a},unload:function(){for(var a=this||t,s=a._howls.length-1;s>=0;s--)a._howls[s].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,w()),a},codecs:function(a){return(this||t)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||t;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var s=new Audio;typeof s.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var s=new Audio;s.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||t,s=null;try{s=typeof Audio<"u"?new Audio:null}catch{return a}if(!s||typeof s.canPlayType!="function")return a;var l=s.canPlayType("audio/mpeg;").replace(/^no$/,""),f=a._navigator?a._navigator.userAgent:"",h=f.match(/OPR\/(\d+)/g),v=h&&parseInt(h[0].split("/")[1],10)<33,g=f.indexOf("Safari")!==-1&&f.indexOf("Chrome")===-1,_=f.match(/Version\/(.*?) /),A=g&&_&&parseInt(_[1],10)<15;return a._codecs={mp3:!!(!v&&(l||s.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!l,opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(s.canPlayType('audio/wav; codecs="1"')||s.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!s.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(s.canPlayType("audio/x-m4b;")||s.canPlayType("audio/m4b;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!s.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(s.canPlayType("audio/x-flac;")||s.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||t;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var s=function(l){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var f=new Audio;f._unlocked=!0,a._releaseHtml5Audio(f)}catch{a.noAudio=!0;break}for(var h=0;h<a._howls.length;h++)if(!a._howls[h]._webAudio)for(var v=a._howls[h]._getSoundIds(),g=0;g<v.length;g++){var _=a._howls[h]._soundById(v[g]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}a._autoResume();var A=a.ctx.createBufferSource();A.buffer=a._scratchBuffer,A.connect(a.ctx.destination),typeof A.start>"u"?A.noteOn(0):A.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),A.onended=function(){A.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0),document.removeEventListener("keydown",s,!0);for(var S=0;S<a._howls.length;S++)a._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),document.addEventListener("keydown",s,!0),a}},_obtainHtml5Audio:function(){var a=this||t;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var s=new Audio().play();return s&&typeof Promise<"u"&&(s instanceof Promise||typeof s.then=="function")&&s.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var s=this||t;return a._unlocked&&s._html5AudioPool.push(a),s},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!t.usingWebAudio)){for(var s=0;s<a._howls.length;s++)if(a._howls[s]._webAudio){for(var l=0;l<a._howls[s]._sounds.length;l++)if(!a._howls[s]._sounds[l]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var f=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(f,f)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!t.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var s=0;s<a._howls.length;s++)a._howls[s]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var t=new n,r=function(a){var s=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}s.init(a)};r.prototype={init:function(a){var s=this;return t.ctx||w(),s._autoplay=a.autoplay||!1,s._format=typeof a.format!="string"?a.format:[a.format],s._html5=a.html5||!1,s._muted=a.mute||!1,s._loop=a.loop||!1,s._pool=a.pool||5,s._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,s._rate=a.rate||1,s._sprite=a.sprite||{},s._src=typeof a.src!="string"?a.src:[a.src],s._volume=a.volume!==void 0?a.volume:1,s._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},s._duration=0,s._state="unloaded",s._sounds=[],s._endTimers={},s._queue=[],s._playLock=!1,s._onend=a.onend?[{fn:a.onend}]:[],s._onfade=a.onfade?[{fn:a.onfade}]:[],s._onload=a.onload?[{fn:a.onload}]:[],s._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],s._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],s._onpause=a.onpause?[{fn:a.onpause}]:[],s._onplay=a.onplay?[{fn:a.onplay}]:[],s._onstop=a.onstop?[{fn:a.onstop}]:[],s._onmute=a.onmute?[{fn:a.onmute}]:[],s._onvolume=a.onvolume?[{fn:a.onvolume}]:[],s._onrate=a.onrate?[{fn:a.onrate}]:[],s._onseek=a.onseek?[{fn:a.onseek}]:[],s._onunlock=a.onunlock?[{fn:a.onunlock}]:[],s._onresume=[],s._webAudio=t.usingWebAudio&&!s._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(s),s._autoplay&&s._queue.push({event:"play",action:function(){s.play()}}),s._preload&&s._preload!=="none"&&s.load(),s},load:function(){var a=this,s=null;if(t.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var l=0;l<a._src.length;l++){var f,h;if(a._format&&a._format[l])f=a._format[l];else{if(h=a._src[l],typeof h!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}f=/^data:audio\/([^;,]+);/i.exec(h),f||(f=/\.([^.]+)$/.exec(h.split("?",1)[0])),f&&(f=f[1].toLowerCase())}if(f||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),f&&t.codecs(f)){s=a._src[l];break}}if(!s){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=s,a._state="loading",window.location.protocol==="https:"&&s.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new o(a),a._webAudio&&c(a),a},play:function(a,s){var l=this,f=null;if(typeof a=="number")f=a,a=null;else{if(typeof a=="string"&&l._state==="loaded"&&!l._sprite[a])return null;if(typeof a>"u"&&(a="__default",!l._playLock)){for(var h=0,v=0;v<l._sounds.length;v++)l._sounds[v]._paused&&!l._sounds[v]._ended&&(h++,f=l._sounds[v]._id);h===1?a=null:f=null}}var g=f?l._soundById(f):l._inactiveSound();if(!g)return null;if(f&&!a&&(a=g._sprite||"__default"),l._state!=="loaded"){g._sprite=a,g._ended=!1;var _=g._id;return l._queue.push({event:"play",action:function(){l.play(_)}}),_}if(f&&!g._paused)return s||l._loadQueue("play"),g._id;l._webAudio&&t._autoResume();var A=Math.max(0,g._seek>0?g._seek:l._sprite[a][0]/1e3),S=Math.max(0,(l._sprite[a][0]+l._sprite[a][1])/1e3-A),M=S*1e3/Math.abs(g._rate),T=l._sprite[a][0]/1e3,N=(l._sprite[a][0]+l._sprite[a][1])/1e3;g._sprite=a,g._ended=!1;var O=function(){g._paused=!1,g._seek=A,g._start=T,g._stop=N,g._loop=!!(g._loop||l._sprite[a][2])};if(A>=N){l._ended(g);return}var R=g._node;if(l._webAudio){var z=function(){l._playLock=!1,O(),l._refreshBuffer(g);var W=g._muted||l._muted?0:g._volume;R.gain.setValueAtTime(W,t.ctx.currentTime),g._playStart=t.ctx.currentTime,typeof R.bufferSource.start>"u"?g._loop?R.bufferSource.noteGrainOn(0,A,86400):R.bufferSource.noteGrainOn(0,A,S):g._loop?R.bufferSource.start(0,A,86400):R.bufferSource.start(0,A,S),M!==1/0&&(l._endTimers[g._id]=setTimeout(l._ended.bind(l,g),M)),s||setTimeout(function(){l._emit("play",g._id),l._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?z():(l._playLock=!0,l.once("resume",z),l._clearTimer(g._id))}else{var J=function(){R.currentTime=A,R.muted=g._muted||l._muted||t._muted||R.muted,R.volume=g._volume*t.volume(),R.playbackRate=g._rate;try{var W=R.play();if(W&&typeof Promise<"u"&&(W instanceof Promise||typeof W.then=="function")?(l._playLock=!0,O(),W.then(function(){l._playLock=!1,R._unlocked=!0,s?l._loadQueue():l._emit("play",g._id)}).catch(function(){l._playLock=!1,l._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):s||(l._playLock=!1,O(),l._emit("play",g._id)),R.playbackRate=g._rate,R.paused){l._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||g._loop?l._endTimers[g._id]=setTimeout(l._ended.bind(l,g),M):(l._endTimers[g._id]=function(){l._ended(g),R.removeEventListener("ended",l._endTimers[g._id],!1)},R.addEventListener("ended",l._endTimers[g._id],!1))}catch(X){l._emit("playerror",g._id,X)}};R.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(R.src=l._src,R.load());var re=window&&window.ejecta||!R.readyState&&t._navigator.isCocoonJS;if(R.readyState>=3||re)J();else{l._playLock=!0,l._state="loading";var ae=function(){l._state="loaded",J(),R.removeEventListener(t._canPlayEvent,ae,!1)};R.addEventListener(t._canPlayEvent,ae,!1),l._clearTimer(g._id)}}return g._id},pause:function(a){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"pause",action:function(){s.pause(a)}}),s;for(var l=s._getSoundIds(a),f=0;f<l.length;f++){s._clearTimer(l[f]);var h=s._soundById(l[f]);if(h&&!h._paused&&(h._seek=s.seek(l[f]),h._rateSeek=0,h._paused=!0,s._stopFade(l[f]),h._node))if(s._webAudio){if(!h._node.bufferSource)continue;typeof h._node.bufferSource.stop>"u"?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0),s._cleanBuffer(h._node)}else(!isNaN(h._node.duration)||h._node.duration===1/0)&&h._node.pause();arguments[1]||s._emit("pause",h?h._id:null)}return s},stop:function(a,s){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(a)}}),l;for(var f=l._getSoundIds(a),h=0;h<f.length;h++){l._clearTimer(f[h]);var v=l._soundById(f[h]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,l._stopFade(f[h]),v._node&&(l._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),l._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&l._clearSound(v._node))),s||l._emit("stop",v._id))}return l},mute:function(a,s){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"mute",action:function(){l.mute(a,s)}}),l;if(typeof s>"u")if(typeof a=="boolean")l._muted=a;else return l._muted;for(var f=l._getSoundIds(s),h=0;h<f.length;h++){var v=l._soundById(f[h]);v&&(v._muted=a,v._interval&&l._stopFade(v._id),l._webAudio&&v._node?v._node.gain.setValueAtTime(a?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:a),l._emit("mute",v._id))}return l},volume:function(){var a=this,s=arguments,l,f;if(s.length===0)return a._volume;if(s.length===1||s.length===2&&typeof s[1]>"u"){var h=a._getSoundIds(),v=h.indexOf(s[0]);v>=0?f=parseInt(s[0],10):l=parseFloat(s[0])}else s.length>=2&&(l=parseFloat(s[0]),f=parseInt(s[1],10));var g;if(typeof l<"u"&&l>=0&&l<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,s)}}),a;typeof f>"u"&&(a._volume=l),f=a._getSoundIds(f);for(var _=0;_<f.length;_++)g=a._soundById(f[_]),g&&(g._volume=l,s[2]||a._stopFade(f[_]),a._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(l,t.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=l*t.volume()),a._emit("volume",g._id))}else return g=f?a._soundById(f):a._sounds[0],g?g._volume:0;return a},fade:function(a,s,l,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"fade",action:function(){h.fade(a,s,l,f)}}),h;a=Math.min(Math.max(0,parseFloat(a)),1),s=Math.min(Math.max(0,parseFloat(s)),1),l=parseFloat(l),h.volume(a,f);for(var v=h._getSoundIds(f),g=0;g<v.length;g++){var _=h._soundById(v[g]);if(_){if(f||h._stopFade(v[g]),h._webAudio&&!_._muted){var A=t.ctx.currentTime,S=A+l/1e3;_._volume=a,_._node.gain.setValueAtTime(a,A),_._node.gain.linearRampToValueAtTime(s,S)}h._startFadeInterval(_,a,s,l,v[g],typeof f>"u")}}return h},_startFadeInterval:function(a,s,l,f,h,v){var g=this,_=s,A=l-s,S=Math.abs(A/.01),M=Math.max(4,S>0?f/S:f),T=Date.now();a._fadeTo=l,a._interval=setInterval(function(){var N=(Date.now()-T)/f;T=Date.now(),_+=A*N,_=Math.round(_*100)/100,A<0?_=Math.max(l,_):_=Math.min(l,_),g._webAudio?a._volume=_:g.volume(_,a._id,!0),v&&(g._volume=_),(l<s&&_<=l||l>s&&_>=l)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,g.volume(l,a._id),g._emit("fade",a._id))},M)},_stopFade:function(a){var s=this,l=s._soundById(a);return l&&l._interval&&(s._webAudio&&l._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(l._interval),l._interval=null,s.volume(l._fadeTo,a),l._fadeTo=null,s._emit("fade",a)),s},loop:function(){var a=this,s=arguments,l,f,h;if(s.length===0)return a._loop;if(s.length===1)if(typeof s[0]=="boolean")l=s[0],a._loop=l;else return h=a._soundById(parseInt(s[0],10)),h?h._loop:!1;else s.length===2&&(l=s[0],f=parseInt(s[1],10));for(var v=a._getSoundIds(f),g=0;g<v.length;g++)h=a._soundById(v[g]),h&&(h._loop=l,a._webAudio&&h._node&&h._node.bufferSource&&(h._node.bufferSource.loop=l,l&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop,a.playing(v[g])&&(a.pause(v[g],!0),a.play(v[g],!0)))));return a},rate:function(){var a=this,s=arguments,l,f;if(s.length===0)f=a._sounds[0]._id;else if(s.length===1){var h=a._getSoundIds(),v=h.indexOf(s[0]);v>=0?f=parseInt(s[0],10):l=parseFloat(s[0])}else s.length===2&&(l=parseFloat(s[0]),f=parseInt(s[1],10));var g;if(typeof l=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,s)}}),a;typeof f>"u"&&(a._rate=l),f=a._getSoundIds(f);for(var _=0;_<f.length;_++)if(g=a._soundById(f[_]),g){a.playing(f[_])&&(g._rateSeek=a.seek(f[_]),g._playStart=a._webAudio?t.ctx.currentTime:g._playStart),g._rate=l,a._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(l,t.ctx.currentTime):g._node&&(g._node.playbackRate=l);var A=a.seek(f[_]),S=(a._sprite[g._sprite][0]+a._sprite[g._sprite][1])/1e3-A,M=S*1e3/Math.abs(g._rate);(a._endTimers[f[_]]||!g._paused)&&(a._clearTimer(f[_]),a._endTimers[f[_]]=setTimeout(a._ended.bind(a,g),M)),a._emit("rate",g._id)}}else return g=a._soundById(f),g?g._rate:a._rate;return a},seek:function(){var a=this,s=arguments,l,f;if(s.length===0)a._sounds.length&&(f=a._sounds[0]._id);else if(s.length===1){var h=a._getSoundIds(),v=h.indexOf(s[0]);v>=0?f=parseInt(s[0],10):a._sounds.length&&(f=a._sounds[0]._id,l=parseFloat(s[0]))}else s.length===2&&(l=parseFloat(s[0]),f=parseInt(s[1],10));if(typeof f>"u")return 0;if(typeof l=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,s)}}),a;var g=a._soundById(f);if(g)if(typeof l=="number"&&l>=0){var _=a.playing(f);_&&a.pause(f,!0),g._seek=l,g._ended=!1,a._clearTimer(f),!a._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=l);var A=function(){_&&a.play(f,!0),a._emit("seek",f)};if(_&&!a._webAudio){var S=function(){a._playLock?setTimeout(S,0):A()};setTimeout(S,0)}else A()}else if(a._webAudio){var M=a.playing(f)?t.ctx.currentTime-g._playStart:0,T=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(T+M*Math.abs(g._rate))}else return g._node.currentTime;return a},playing:function(a){var s=this;if(typeof a=="number"){var l=s._soundById(a);return l?!l._paused:!1}for(var f=0;f<s._sounds.length;f++)if(!s._sounds[f]._paused)return!0;return!1},duration:function(a){var s=this,l=s._duration,f=s._soundById(a);return f&&(l=s._sprite[f._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var a=this,s=a._sounds,l=0;l<s.length;l++)s[l]._paused||a.stop(s[l]._id),a._webAudio||(a._clearSound(s[l]._node),s[l]._node.removeEventListener("error",s[l]._errorFn,!1),s[l]._node.removeEventListener(t._canPlayEvent,s[l]._loadFn,!1),s[l]._node.removeEventListener("ended",s[l]._endFn,!1),t._releaseHtml5Audio(s[l]._node)),delete s[l]._node,a._clearTimer(s[l]._id);var f=t._howls.indexOf(a);f>=0&&t._howls.splice(f,1);var h=!0;for(l=0;l<t._howls.length;l++)if(t._howls[l]._src===a._src||a._src.indexOf(t._howls[l]._src)>=0){h=!1;break}return i&&h&&delete i[a._src],t.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,s,l,f){var h=this,v=h["_on"+a];return typeof s=="function"&&v.push(f?{id:l,fn:s,once:f}:{id:l,fn:s}),h},off:function(a,s,l){var f=this,h=f["_on"+a],v=0;if(typeof s=="number"&&(l=s,s=null),s||l)for(v=0;v<h.length;v++){var g=l===h[v].id;if(s===h[v].fn&&g||!s&&g){h.splice(v,1);break}}else if(a)f["_on"+a]=[];else{var _=Object.keys(f);for(v=0;v<_.length;v++)_[v].indexOf("_on")===0&&Array.isArray(f[_[v]])&&(f[_[v]]=[])}return f},once:function(a,s,l){var f=this;return f.on(a,s,l,1),f},_emit:function(a,s,l){for(var f=this,h=f["_on"+a],v=h.length-1;v>=0;v--)(!h[v].id||h[v].id===s||a==="load")&&(setTimeout((function(g){g.call(this,s,l)}).bind(f,h[v].fn),0),h[v].once&&f.off(a,h[v].fn,h[v].id));return f._loadQueue(a),f},_loadQueue:function(a){var s=this;if(s._queue.length>0){var l=s._queue[0];l.event===a&&(s._queue.shift(),s._loadQueue()),a||l.action()}return s},_ended:function(a){var s=this,l=a._sprite;if(!s._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(s._ended.bind(s,a),100),s;var f=!!(a._loop||s._sprite[l][2]);if(s._emit("end",a._id),!s._webAudio&&f&&s.stop(a._id,!0).play(a._id),s._webAudio&&f){s._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=t.ctx.currentTime;var h=(a._stop-a._start)*1e3/Math.abs(a._rate);s._endTimers[a._id]=setTimeout(s._ended.bind(s,a),h)}return s._webAudio&&!f&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,s._clearTimer(a._id),s._cleanBuffer(a._node),t._autoSuspend()),!s._webAudio&&!f&&s.stop(a._id,!0),s},_clearTimer:function(a){var s=this;if(s._endTimers[a]){if(typeof s._endTimers[a]!="function")clearTimeout(s._endTimers[a]);else{var l=s._soundById(a);l&&l._node&&l._node.removeEventListener("ended",s._endTimers[a],!1)}delete s._endTimers[a]}return s},_soundById:function(a){for(var s=this,l=0;l<s._sounds.length;l++)if(a===s._sounds[l]._id)return s._sounds[l];return null},_inactiveSound:function(){var a=this;a._drain();for(var s=0;s<a._sounds.length;s++)if(a._sounds[s]._ended)return a._sounds[s].reset();return new o(a)},_drain:function(){var a=this,s=a._pool,l=0,f=0;if(!(a._sounds.length<s)){for(f=0;f<a._sounds.length;f++)a._sounds[f]._ended&&l++;for(f=a._sounds.length-1;f>=0;f--){if(l<=s)return;a._sounds[f]._ended&&(a._webAudio&&a._sounds[f]._node&&a._sounds[f]._node.disconnect(0),a._sounds.splice(f,1),l--)}}},_getSoundIds:function(a){var s=this;if(typeof a>"u"){for(var l=[],f=0;f<s._sounds.length;f++)l.push(s._sounds[f]._id);return l}else return[a]},_refreshBuffer:function(a){var s=this;return a._node.bufferSource=t.ctx.createBufferSource(),a._node.bufferSource.buffer=i[s._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,t.ctx.currentTime),s},_cleanBuffer:function(a){var s=this,l=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return s;if(t._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),l))try{a.bufferSource.buffer=t._scratchBuffer}catch{}return a.bufferSource=null,s},_clearSound:function(a){var s=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);s||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(a){this._parent=a,this.init()};o.prototype={init:function(){var a=this,s=a._parent;return a._muted=s._muted,a._loop=s._loop,a._volume=s._volume,a._rate=s._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,s._sounds.push(a),a.create(),a},create:function(){var a=this,s=a._parent,l=t._muted||a._muted||a._parent._muted?0:a._volume;return s._webAudio?(a._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),a._node.gain.setValueAtTime(l,t.ctx.currentTime),a._node.paused=!0,a._node.connect(t.masterGain)):t.noAudio||(a._node=t._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(t._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=s._src,a._node.preload=s._preload===!0?"auto":s._preload,a._node.volume=l*t.volume(),a._node.load()),a},reset:function(){var a=this,s=a._parent;return a._muted=s._muted,a._loop=s._loop,a._volume=s._volume,a._rate=s._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++t._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,s=a._parent;s._duration=Math.ceil(a._node.duration*10)/10,Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue()),a._node.removeEventListener(t._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,s=a._parent;s._duration===1/0&&(s._duration=Math.ceil(a._node.duration*10)/10,s._sprite.__default[1]===1/0&&(s._sprite.__default[1]=s._duration*1e3),s._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var i={},c=function(a){var s=a._src;if(i[s]){a._duration=i[s].duration,m(a);return}if(/^data:[^;]+;base64,/.test(s)){for(var l=atob(s.split(",")[1]),f=new Uint8Array(l.length),h=0;h<l.length;++h)f[h]=l.charCodeAt(h);p(f.buffer,a)}else{var v=new XMLHttpRequest;v.open(a._xhr.method,s,!0),v.withCredentials=a._xhr.withCredentials,v.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(g){v.setRequestHeader(g,a._xhr.headers[g])}),v.onload=function(){var g=(v.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}p(v.response,a)},v.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete i[s],a.load())},d(v)}},d=function(a){try{a.send()}catch{a.onerror()}},p=function(a,s){var l=function(){s._emit("loaderror",null,"Decoding audio data failed.")},f=function(h){h&&s._sounds.length>0?(i[s._src]=h,m(s,h)):l()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(a).then(f).catch(l):t.ctx.decodeAudioData(a,f,l)},m=function(a,s){s&&!a._duration&&(a._duration=s.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},w=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),s=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l=s?parseInt(s[1],10):null;if(a&&l&&l<9){var f=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!f&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=r,typeof it<"u"?(it.HowlerGlobal=n,it.Howler=t,it.Howl=r,it.Sound=o):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,o=typeof o!="number"?i._pos[2]:o,typeof t=="number")i._pos=[t,r,o],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(t,r,o,i,c,d){var p=this;if(!p.ctx||!p.ctx.listener)return p;var m=p._orientation;if(r=typeof r!="number"?m[1]:r,o=typeof o!="number"?m[2]:o,i=typeof i!="number"?m[3]:i,c=typeof c!="number"?m[4]:c,d=typeof d!="number"?m[5]:d,typeof t=="number")p._orientation=[t,r,o,i,c,d],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(t,r,o,i,c,d);else return m;return p},Howl.prototype.init=function(t){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,r)}}),o;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var c=o._getSoundIds(r),d=0;d<c.length;d++){var p=o._soundById(c[d]);if(p)if(typeof t=="number")p._stereo=t,p._pos=[t,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&n(p,i),i==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(t,0,0):p._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",p._id);else return p._stereo}return o},Howl.prototype.pos=function(t,r,o,i){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(t,r,o,i)}}),c;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof i>"u")if(typeof t=="number")c._pos=[t,r,o];else return c._pos;for(var d=c._getSoundIds(i),p=0;p<d.length;p++){var m=c._soundById(d[p]);if(m)if(typeof t=="number")m._pos=[t,r,o],m._node&&((!m._panner||m._panner.pan)&&n(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setPosition(t,r,o)),c._emit("pos",m._id);else return m._pos}return c},Howl.prototype.orientation=function(t,r,o,i){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(t,r,o,i)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,o=typeof o!="number"?c._orientation[2]:o,typeof i>"u")if(typeof t=="number")c._orientation=[t,r,o];else return c._orientation;for(var d=c._getSoundIds(i),p=0;p<d.length;p++){var m=c._soundById(d[p]);if(m)if(typeof t=="number")m._orientation=[t,r,o],m._node&&(m._panner||(m._pos||(m._pos=c._pos||[0,0,-.5]),n(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):m._panner.setOrientation(t,r,o)),c._emit("orientation",m._id);else return m._orientation}return c},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,o,i,c;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof i>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return c=t._soundById(parseInt(r[0],10)),c?c._pannerAttr:t._pannerAttr;else r.length===2&&(o=r[0],i=parseInt(r[1],10));for(var d=t._getSoundIds(i),p=0;p<d.length;p++)if(c=t._soundById(d[p]),c){var m=c._pannerAttr;m={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:m.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:m.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:m.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:m.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:m.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:m.panningModel};var w=c._panner;w||(c._pos||(c._pos=t._pos||[0,0,-.5]),n(c,"spatial"),w=c._panner),w.coneInnerAngle=m.coneInnerAngle,w.coneOuterAngle=m.coneOuterAngle,w.coneOuterGain=m.coneOuterGain,w.distanceModel=m.distanceModel,w.maxDistance=m.maxDistance,w.refDistance=m.refDistance,w.rolloffFactor=m.rolloffFactor,w.panningModel=m.panningModel}return t},Sound.prototype.init=function(t){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,t.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var n=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(de);const ce={unauthorized:new de.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),play:new de.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new de.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new de.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new de.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),remove:new de.Howl({src:["sounds/remove.mp3"],volume:.7,preload:!0}),recycle:new de.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new de.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new de.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new de.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new de.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new de.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new de.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0}),bell:new de.Howl({src:["sounds/bell.mp3"],volume:.5,preload:!0})},rr=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Vous pouvez utiliser cette lib pour construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"}],ar=[{name:"TypeScript",image:"ts.png"},{name:"React",image:"react.webp"},{name:"Tailwind CSS",image:"tailwind.png"},{name:"NodeJS",image:"node.png"},{name:"Vercel",image:"vercel.png"},{name:"Next.js",image:"nextjs.webp"},{name:"PostgreSQL",image:"pgsql.png"},{name:"Docker",image:"docker.webp"},{name:"PixiJS",image:"pixi.png"},{name:"Three.js",image:"three.png"},{name:"Gulp",image:"gulp.webp"},{name:"Knex",image:"knex.png"},{name:"Git",image:"git.png"},{name:"Processing",image:"processing.webp"},{name:"p5.js",image:"p5.png"},{name:"Strapi",image:"strapi.png"},{name:"Windows",image:"windows.png"},{name:"MacOS",image:"macos.png"},{name:"Linux",image:"linux.png"},{name:"Jetbrains",image:"jetbrains.webp"},{name:"Ruby",image:"ruby.png"}],or={version:"1.0.11"};function Br(){const e=localStorage.getItem("card-game-metadata"),n=localStorage.getItem("card-game-difficulty")??"normal",t=localStorage.getItem("card-game");if(t&&JSON.stringify(or)===e&&fe.difficulty===n)return Vi(t);localStorage.setItem("card-game-metadata",JSON.stringify(or)),localStorage.setItem("card-game-difficulty",fe.difficulty);const r=ar.map((d,p)=>{const m=nr(p,0,ar.length,0,er.length,!0),w=er[Math.floor(m)];return{...d,type:"support",image:`images/techno/${d.image}`,state:"idle",effect:{...w,description:Fe(w.description)}}}),o=rr.map((d,p)=>{const m=nr(p,0,rr.length,0,tr.length,!0),w=tr[Math.floor(m)];return{...d,type:"action",image:`images/projects/${d.image}`,state:"idle",effect:{...w,description:Fe(w.description)}}}),i=dt.map(d=>({type:"action",name:d.name,image:`images/upgrades/${d.image}`,state:"idle",effect:{index:-1,upgrade:!0,ephemeral:d.max===1,description:Fe(`@upgrade <br/> ${Fr(d.description,1)}`),onPlayed:async p=>await p.upgrade(d.name),type:"action",cost:d.cost,waitBeforePlay:!1}})),c=st([...r,...o,...i],3);return{masks:[],logs:[],operationInProgress:[],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,draw:c.slice(7),hand:c.slice(0,7),discard:[],upgrades:[],cardModifiers:[["upgrade cost threshold",[]]],day:1,dayFull:!1,sprintFull:!1,energy:ut,reputation:Ht,money:0}}function qi(e,n){return{advanceTime:async t=>{const r=p=>parseFloat(p.toFixed(2));if(t<0)return;const o=n();o.setOperationInProgress("advanceTime",!0);const i=r(Math.max(yt,t*yt));if(i<yt)throw new Error("Not enough energy to advance time");let c=Math.floor(o.day);const d=r(o.day+i);for(let p=o.day;p<d;p=r(p+yt))c!==Math.floor(p)&&(c=Math.floor(p),e({day:r(p),dayFull:!0}),ce.bell.play(),await ie(1e3),await o.triggerEvent("daily"),e({dayFull:!1}),await ie(1e3));e({day:d,dayFull:null}),o.setOperationInProgress("advanceTime",!1)},addLog:t=>{e(r=>({logs:[...r.logs,t]}))},dangerouslyUpdate:t=>e(t),setOperationInProgress:(t,r)=>{e(o=>({operationInProgress:r?[...o.operationInProgress,t]:o.operationInProgress.filter(i=>i!==t)}))},updateScore:()=>{const t=n(),r=1,o=jr,i=1/G,c=t.energy*r,d=t.reputation*o,p=t.money*i;let m=0;t.upgrades.forEach(f=>{m+=(typeof f.cost=="string"?Number(f.cost)/G:f.cost)*f.cumul});let w=1;t.day<=28?w=2:t.day<=56&&(w=1.5);const a=1+(Ti[fe.difficulty]-3)*.2,l=(c+d+p+m)*w*a;e({score:Math.round(l)})},addEnergy:async(t,r)=>{const o=n();if(o.setOperationInProgress("energy",!0),t>0){const i=Math.min(t,ut-o.energy);i>0&&(ce.gain.play(),o.addLog({value:i,type:"energy",reason:r.reason}),await ie()),e(c=>({energy:Math.max(0,Math.min(ut,c.energy+t))}))}else if(t<0){const i=n(),c=Math.abs(t)-i.energy,d=Math.min(Math.abs(t),i.energy);d>0&&i.addLog({value:-d,type:"energy",reason:r.reason}),c>0?(e({energy:0}),await i.addReputation(-c,r)):e(p=>({energy:p.energy+t}))}o.setOperationInProgress("energy",!1)},addReputation:async(t,r)=>{const o=n();o.setOperationInProgress("reputation",!0),t===10?ce.powerUp.play():t>0?ce.gain.play():ce.loss.play(),t!==0&&o.addLog({value:t,type:"reputation",reason:r.reason}),e(i=>({reputation:Math.max(0,Math.min(Ht,i.reputation+t))})),await ie(),t<0&&await o.triggerEvent("onReputationDeclines"),!(r!=null&&r.skipGameOverPause)&&lt(o)&&await ie(2e3),o.setOperationInProgress("reputation",!1)},addMoney:async(t,r)=>{let o=n();o.setOperationInProgress("money",!0),t!==0&&o.addLog({value:t,type:"money",reason:r==null?void 0:r.reason}),t>0&&(ce.cashing.play(),await ie()),e(i=>({money:i.money+t})),o=n(),!(r!=null&&r.skipGameOverPause)&&o.money>=Wt&&await ie(2e3),o.setOperationInProgress("money",!1)},upgrade:async t=>{const r=n();r.setOperationInProgress(`upgrade ${t}`,!0);const o=dt.find(i=>i.name===t);ce.upgrade.play(),r.upgrades.find(i=>i.name===t)?e(i=>({upgrades:i.upgrades.map(c=>c.name===t?{...c,cumul:c.cumul+1}:c)})):e(i=>({upgrades:[...i.upgrades,{...o,type:"upgrade",state:"appear",cumul:1,max:o.max??1/0}]})),await ie(),e(i=>({upgrades:i.upgrades.map(c=>c.name===t?{...c,state:"idle"}:c)})),r.setOperationInProgress(`upgrade ${t}`,!1)},triggerUpgrade:async(t,r)=>{const o=n(),i=o.upgrades.find(c=>c.name===t);(!i.condition||i.condition(n(),i))&&(o.setOperationInProgress(`triggerUpgrade ${t}`,!0),e({upgrades:o.upgrades.map(c=>c.name===i.name?{...c,state:"triggered"}:c)}),await ie(),await i.onTrigger(n(),i,(r==null?void 0:r.reason)??i),e(c=>({upgrades:c.upgrades.map(d=>d.name===i.name?{...d,state:"idle"}:d)})),o.setOperationInProgress(`triggerUpgrade ${t}`,!1))},triggerEvent:async t=>{const r=n();r.setOperationInProgress(`triggerUpgradeEvent ${t}`,!0);const o=r.upgrades.filter(i=>i.triggerEvent===t);for(const i of o)await r.triggerUpgrade(i.name,{reason:i});r.setOperationInProgress(`triggerUpgradeEvent ${t}`,!1)},addCardModifier:async(t,r,o)=>{ce.powerUp.play();const i=[t,r];e(c=>({cardModifiers:o!=null&&o.before?[i,...c.cardModifiers]:[...c.cardModifiers,i]}))},drawCard:async(t=1,r)=>{let o=n();o.setOperationInProgress("draw",!0);const i=r!=null&&r.fromDiscardPile?"discard":"draw",c=o.hand.slice(),d=o.discard.slice(),p=o[i].slice().filter(s=>r!=null&&r.filter?r.filter(s):!0),m=[];let w=!1,a=!1;for(let s=0;s<t&&p.length!==0;s++){const l=p.pop();l.state="drawn",m.push(l.name),c.length>=Ge?(d.push(l),a=!0):(c.push(l),w=!0)}w?ce.draw.play():a&&ce.drop.play(),e({hand:c,discard:d,[i]:st(o[i].filter(s=>!m.includes(s.name)),2)}),await ie(),e(s=>({hand:s.hand.map(l=>({...l,state:"idle"}))})),await o.triggerEvent("onDraw"),o=n(),!(r!=null&&r.skipGameOverPause)&&lt(o)&&await ie(2e3),o.setOperationInProgress("draw",!1)},discardCard:async t=>{const r=t!=null&&t.toDraw?"draw":"discard";ce.drop.play();const o=n();o.setOperationInProgress("discard",!0);const i=o.hand.slice().filter(d=>d.state!=="played"&&(!(t!=null&&t.filter)||t.filter(d))),c=t!=null&&t.random?[i[Math.floor(Math.random()*o.hand.length)]]:i;e({hand:o.hand.map(d=>c.some(p=>p.name===d.name)?{...d,state:"dropped"}:d)}),await ie(),e(d=>({[r]:st([...d.hand.filter(p=>c.some(m=>m.name===p.name)).map(p=>({...p,state:null})),...d[r]],2),hand:d.hand.filter(p=>!c.some(m=>m.name===p.name))})),o.setOperationInProgress("discard",!1)},removeCard:async t=>{const r=n();r.setOperationInProgress(`removeCard ${t}`,!0),r.hand.some(i=>i.name===t)&&(e({hand:r.hand.map(i=>i.name===t?{...i,state:"removed"}:i)}),ce.remove.play(),await ie(1e3));const o=["discard","draw","hand"];e(i=>({...o.reduce((c,d)=>({...c,[d]:i[d].filter(p=>p.name!==t)}),{})})),r.setOperationInProgress(`removeCard ${t}`,!1)},recycleCard:async(t=1)=>{if(t<=0)return;const r=n();if(r.discard.length===0)return;r.setOperationInProgress("recycle",!0),ce.recycle.play();const o=r.discard.slice(),i=r.draw.slice(),c=[];for(let d=0;d<t&&o.length!==0;d++){const p=o.pop();c.push(p.name),i.push(p)}await ie(),e({draw:st(i),discard:r.discard.filter(d=>!c.includes(d.name))}),r.setOperationInProgress("recycle",!1)},playCard:async(t,r)=>{const o=!!(r!=null&&r.free);let i=n();const c=(r==null?void 0:r.reason)??t,d=async()=>{ce.unauthorized.play(),e({hand:i.hand.map(f=>f.name===t.name?{...f,state:"unauthorized"}:f)}),await ie(),e({hand:i.hand.map(f=>f.name===t.name?{...f,state:"idle"}:f)})};if(t.effect.condition&&!t.effect.condition(i,t)){await d();return}const{needs:p,cost:m,appliedModifiers:w}=bn(i,t);if(o||Number(t.effect.cost)===0||(p==="money"?i.money>=m:i.reputation+i.energy>=m))i.setOperationInProgress(`play ${t.name}`,!0),e(f=>({hand:f.hand.map(h=>h.name===t.name?{...h,state:"selected"}:h)})),o||await Promise.all([i.advanceTime(p==="money"?m/G:m),p==="money"?i.addMoney(-m,{skipGameOverPause:!0,reason:c}):i.addEnergy(-m,{skipGameOverPause:!0,reason:c})]);else{await d();return}ce.play.play();const a=zi(i,t);a&&ie(200).then(()=>ce.remove.play());const s=async()=>{e(f=>({hand:f.hand.map(h=>h.name===t.name?{...h,state:a?"removed":"played"}:h)})),await ie(a?1e3:void 0),e(f=>({discard:a?f.discard:st([{...t,state:null},...f.discard],3),hand:f.hand.filter(h=>h.name!==t.name),cardModifiers:f.cardModifiers.filter(h=>!Gr(h).once||!w.some(g=>g.toString()===h.toString()))}))},l=async()=>{t.effect.waitBeforePlay&&await ie(),await t.effect.onPlayed(i,t,c)};await Promise.all([s(),l()]),await i.triggerEvent("onPlay"),i=n(),i.hand.length===0&&(await i.triggerEvent("onEmptyHand"),await i.drawCard(1,{reason:c})),!(r!=null&&r.skipGameOverPause)&&lt(n())&&await ie(2e3),i.setOperationInProgress(`play ${t.name}`,!1)},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:t=>{ce.defeat.play(),e({isGameOver:!0,isWon:!1,reason:t})},reset:()=>{localStorage.removeItem("card-game-metadata"),localStorage.removeItem("card-game-difficulty"),localStorage.removeItem("card-game"),e(Br())},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const ve=Ni((e,n)=>({...Br(),...qi(e,n)}));ve.subscribe((e,n)=>{if((e.reputation!==n.reputation||e.money!==n.money||e.upgrades!==n.upgrades||e.energy!==n.energy||e.day!==n.day)&&e.updateScore(),localStorage.setItem("card-game",JSON.stringify(e,(t,r)=>{if(!(typeof r=="function"&&!(t in e)))return r})),e.operationInProgress.join(",")!==n.operationInProgress.join("")&&e.operationInProgress.length===0){if(!e.infinityMode&&!e.isWon&&e.money>=Wt)e.win();else if(!e.isGameOver){const t=lt(e);t&&e.defeat(t)}}});const Xi=e=>{const n=ve(),t=se(i=>i.animations),r=n.operationInProgress.length>0,o=n.energy+n.reputation<Qe||n.hand.length>=Ge||n.draw.length===0||r;return u.jsx("div",{className:P("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0",{"transition-opacity duration-500 ease-in-out":t,"opacity-100":e.show,"pointer-events-none":!e.show}),children:u.jsxs(mt,{className:"space-y-4",children:[u.jsx("h2",{className:"text-3xl text-center",children:"Actions"}),u.jsxs(Pe,{className:P("flex justify-start gap-2",{grayscale:o}),onClick:async()=>{n.setOperationInProgress("infinity-draw",!0),ce.play.play(),await n.addEnergy(-Qe,{skipGameOverPause:!0,reason:"Bouton pioche"}),await n.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await n.advanceTime(Qe),lt(n)&&await ie(2e3),n.setOperationInProgress("infinity-draw",!1)},disabled:o,size:"cta",children:[u.jsx(ht,{value:Qe,isCost:!0,className:"w-8 h-8",colors:$r(n,Qe)})," ","Piocher une carte"]}),!1]})})};function Hr(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const Yi=e=>{const n=se(r=>({animations:r.animations,transparency:r.transparency})),t=ve(r=>({handOverflow:r.hand.length>=Ge}));return e.show?u.jsx("div",{className:P("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none",{"animate-pulse duration-700":n.animations&&n.transparency}),children:u.jsx("div",{className:P("text-3xl flex items-center gap-2",{"transition-[right] ease-in-out duration-1000":n.animations,[P("opacity-0",{"opacity-100":e.show})]:n.transparency,[P("hidden",{flex:e.show})]:!n.transparency}),children:t.handOverflow&&u.jsxs(u.Fragment,{children:[u.jsx(Hr,{className:"w-10"})," Votre main est pleine !"]})})}):null};function ir(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},E.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},E.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"0"})),E.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},E.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"0"})),E.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},E.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"0"}))))}function Zi(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Ki(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const Wr=e=>e.value==="0"?u.jsx(u.Fragment,{}):u.jsx("div",{className:P("text-2xl font-bold border border-white px-1 bg-money text-money-foreground w-fit",{"text-md":e.miniature},e.className),style:e.style,children:u.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.miniature?`${Number(e.value)>0?"+":""}${e.value}`:e.value,"M$"]})}),zr=E.createContext({degX:0,degY:0,isHovered:!1}),sr={transformStyle:"preserve-3d"},Vr=({max:e=20,reverse:n=!1,scale:t=1,perspective:r=1e3,className:o="",children:i,style:c})=>{const d=se(_=>_.tilt&&_.animations),p=E.useRef(null),m=Ir(p),[w,a]=E.useState({}),[s,l]=E.useState(0),[f,h]=E.useState(0),v=E.useCallback(_=>{if(p.current){const A=p.current.getBoundingClientRect(),S=_.clientX-A.left,M=_.clientY-A.top,T=A.width/2,N=A.height/2,O=(M-N)/N*e,R=(S-T)/T*e;l(n?O:-O),h(n?-R:R),a({...sr,transform:`
            perspective(${r}px)
            rotateX(${n?O:-O}deg)
            rotateY(${n?-R:R}deg)
            scale(${t})
          `})}},[e,r,n,t]),g=E.useCallback(()=>{l(0),h(0),a({...sr,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return E.useEffect(()=>{const _=p.current;return m?_&&(_.addEventListener("mousemove",v),_.addEventListener("mouseleave",g)):g(),()=>{_&&(_.removeEventListener("mousemove",v),_.removeEventListener("mouseleave",g)),g()}},[e,n,t,r,m]),d?u.jsx("div",{ref:p,className:P("will-change-transform",o),style:{...w,...c},children:u.jsx(zr.Provider,{value:{degX:s,degY:f,isHovered:m},children:i})}):u.jsx("div",{className:o,style:c,children:i})},Ji=()=>{const e=E.useContext(zr);return se(t=>t.foil)?u.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[u.jsx("div",{className:P("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),u.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):u.jsx(u.Fragment,{})},Qi=e=>{const{shadows:n,perspective:t,animation:r,transparency:o,tilt:i}=se(f=>({blur:f.blur,shadows:f.shadows,perspective:f.perspective,animation:f.animations,transparency:f.transparency,tilt:f.tilt})),{handSize:c,operationInProgress:d,isGameOver:p,play:m,canTriggerEffect:w,parsedCost:a,energyColor:s}=ve(f=>{const h=bn(f,e.card),v=$r(f,h.cost);return{handSize:f.hand.length,operationInProgress:f.operationInProgress,play:f.playCard,isGameOver:f.isGameOver,parsedCost:h,energyColor:v,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(f,e.card)}}),l=e.position-(c-1)/2;return u.jsx("div",{className:P("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removed",[P("transition-transform",e.card.state)]:r,grayscale:p||!a.canBeBuy||!w,"cursor-not-allowed":d.length>0}),onClick:async()=>{d.length===0&&!p&&await m(e.card,{reason:e.card})},onContextMenu:f=>{f.preventDefault(),Kt(e.card)&&e.card.url&&window.open(e.card.url,"_blank")},style:{marginBottom:`${20-Math.abs(l)*5}px`,rotate:`${l*2}deg`,transitionDuration:r?"0.3s":"0",transitionTimingFunction:r?"ease-in-out":"linear"},children:e.card.state==="removed"&&r?u.jsx("div",{className:"relative",children:Math.random()<.5?u.jsx(ir,{className:P("absolute scale-x-[-1]",{"text-card/60":o,"text-card":!o}),style:{maskClip:"fill-box"}}):u.jsx(ir,{className:P("absolute",{"text-card/60":o,"text-card":!o}),style:{maskClip:"fill-box"}})}):u.jsxs(Vr,{scale:1.1,className:P("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[P({"bg-card/60":o,"bg-card":!o})]:e.card.effect.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":n,"shadow-glow-20 shadow-primary":e.card.state==="selected"}),children:[Kt(e.card)&&e.card.detail&&u.jsxs("div",{className:P("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":n,"transition-opacity duration-200 ease-in-out delay-1000":r,"opacity-0 group-hover/game-card:opacity-100 flex":o,"hidden group-hover/game-card:flex":!o}),children:[u.jsx(Zi,{className:"w-10"}),u.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),u.jsx(Ki,{className:"w-10 self-end"})]}),t&&i&&u.jsx("div",{className:P("absolute w-full h-full rounded-xl",{"bg-card/60":o,"bg-card":!o}),style:{transform:"translateZ(-20px)"}}),u.jsxs("div",{className:P("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[P({"bg-support/50":o,"bg-support":!o})]:e.card.effect.type==="support"}),style:{transformStyle:t?"preserve-3d":"flat"},children:[u.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t?"translateZ(5px)":""} translateX(${a.needs==="money"?"-15px":"-8px"})`,transformStyle:t?"preserve-3d":"flat"},children:a.needs==="energy"?u.jsx(ht,{isCost:!0,value:a.cost,colors:s,style:{transform:t?"translateZ(5px)":"none",transformStyle:t?"preserve-3d":"flat"}}):u.jsx(Wr,{value:String(a.cost),style:{transform:`${t?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:t?"preserve-3d":"flat"}})}),u.jsx("h2",{className:P("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[P({"left-3 text-lg":a.needs==="money"&&e.card.name.length>7,"left-7":a.needs==="money"&&a.cost>99,"text-md":e.card.name.length>11})]:a.cost>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:t?"translateZ(5px)":"none"},children:e.card.name})]}),Kt(e.card)?u.jsx(es,{card:e.card}):u.jsx(ns,{card:e.card}),u.jsxs("div",{className:P("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/60":o,"bg-card":!o}),style:{transformStyle:t?"preserve-3d":"flat"},children:[u.jsx("p",{className:"py-[10px] px-[15px] text-center",style:{transform:t?"translateZ(10px)":"none",transformStyle:t?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&u.jsx("div",{className:P("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":o,"text-muted-foreground":!o}),children:"Éphémère"})]}),u.jsx(Qn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),u.jsx(Qn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),u.jsx(Ji,{})]})})},es=e=>{const{shadows:n,perspective:t,transparency:r,animation:o}=se(i=>({shadows:i.shadows,perspective:i.perspective,transparency:i.transparency,animation:i.animations}));return u.jsxs("div",{className:"group/image relative pointer-events-auto",style:{transformStyle:t?"preserve-3d":"flat"},children:[u.jsx("div",{className:P({"inset-shadow":n},"relative flex justify-center items-center"),style:{transformStyle:t?"preserve-3d":"flat"},children:u.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:t?"translateZ(-15px)":"none"}})}),e.card.description&&u.jsx("div",{className:P("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":r}),style:{transform:t?"translateZ(-5px)":"none"},children:u.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},ts=["React","Knex"],ns=e=>{const{perspective:n,animation:t}=se(r=>({perspective:r.perspective,animation:r.animations}));return u.jsx(u.Fragment,{children:u.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:n?"translateZ(15px)":"none"},children:u.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:P("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":t&&ts.includes(e.card.name)})})})})},rs=e=>{const n=se(({animations:r})=>({animations:r})),t=ve(({hand:r})=>({hand:r}));return u.jsx("div",{className:P("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{" transition-[bottom] ease-in-out duration-1000":n.animations},e.show?"bottom-[-50px]":"-bottom-full"),children:t.hand.sort((r,o)=>{const i=r.effect.type==="action"?1:0,c=o.effect.type==="action"?1:0,d=typeof r.effect.cost=="string"?1:0,p=typeof o.effect.cost=="string"?1:0,m=Number(r.effect.cost),w=Number(o.effect.cost),a=r.effect.description.localeCompare(o.effect.description);return i-c||d-p||m-w||a}).map((r,o)=>u.jsx(Qi,{card:r,position:o},o))})},Ur=[{name:"Placeholder 1",score:3e3,mode:"hard"},{name:"Placeholder 2",score:2500,mode:"hard"},{name:"Placeholder 3",score:2e3,mode:"hard"},{name:"Placeholder 4",score:1500,mode:"hard"},{name:"Placeholder 5",score:1e3,mode:"normal"}],Pt=["Si vous n'avez plus de @reputation, vous perdez la partie.","Quand une carte est jouée, elle va dans la défausse.","Si vous ne pouvez plus jouer de carte, vous perdez la partie.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Chaque carte @action jouée ajoute un jour à la partie.","Les cartes @action ont une bannière bleue.","Lorsque vous n'avez plus d'@energy, vous consommez la @reputation.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Vous ne pouvez pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop sont défaussées à la place.","Le prix des cartes d'@upgrade augmente progressivement.","Si vous obtenez MONEY_TO_REACHM$, vous gagnez la partie.","Chaque @sprint contient une semaine (7 @days).","A la fin d'un @sprint, vous recevez une récompense.","Chaque carte jouée fait avancer le temps."];function cr(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"}),E.createElement("path",{d:"m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"})))}function as(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),E.createElement("path",{fill:"none",d:"M337.46 240 312 214.54l-56 56-56-56L174.54 240l56 56-56 56L200 377.46l56-56 56 56L337.46 352l-56-56 56-56z"}),E.createElement("path",{d:"m64 160 29.74 282.51A24 24 0 0 0 117.61 464h276.78a24 24 0 0 0 23.87-21.49L448 160zm248 217.46-56-56-56 56L174.54 352l56-56-56-56L200 214.54l56 56 56-56L337.46 240l-56 56 56 56z"}),E.createElement("rect",{width:"448",height:"80",x:"32",y:"48",rx:"12",ry:"12"})))}function os(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function is(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function ss(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),E.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function cs(e,n){const t=y.createContext(n);function r(i){const{children:c,...d}=i,p=y.useMemo(()=>d,Object.values(d));return u.jsx(t.Provider,{value:p,children:c})}function o(i){const c=y.useContext(t);if(c)return c;if(n!==void 0)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function Me(e,n=[]){let t=[];function r(i,c){const d=y.createContext(c),p=t.length;t=[...t,c];function m(a){const{scope:s,children:l,...f}=a,h=(s==null?void 0:s[e][p])||d,v=y.useMemo(()=>f,Object.values(f));return u.jsx(h.Provider,{value:v,children:l})}function w(a,s){const l=(s==null?void 0:s[e][p])||d,f=y.useContext(l);if(f)return f;if(c!==void 0)return c;throw new Error(`\`${a}\` must be used within \`${i}\``)}return m.displayName=i+"Provider",[m,w]}const o=()=>{const i=t.map(c=>y.createContext(c));return function(d){const p=(d==null?void 0:d[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...d,[e]:p}}),[d,p])}};return o.scopeName=e,[r,ls(o,...n)]}function ls(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const c=r.reduce((d,{useScope:p,scopeName:m})=>{const a=p(i)[`__scope${m}`];return{...d,...a}},{});return y.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return t.scopeName=n.scopeName,t}var us=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Q=us.reduce((e,n)=>{const t=y.forwardRef((r,o)=>{const{asChild:i,...c}=r,d=i?Rt:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:o})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function ds(e,n){e&&_n.flushSync(()=>e.dispatchEvent(n))}var An="Progress",Cn=100,[fs,Gd]=Me(An),[ps,ms]=fs(An),qr=y.forwardRef((e,n)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:i=hs,...c}=e;(o||o===0)&&!lr(o)&&console.error(gs(`${o}`,"Progress"));const d=lr(o)?o:Cn;r!==null&&!ur(r,d)&&console.error(vs(`${r}`,"Progress"));const p=ur(r,d)?r:null,m=kt(p)?i(p,d):void 0;return u.jsx(ps,{scope:t,value:p,max:d,children:u.jsx(Q.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":kt(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":Zr(p,d),"data-value":p??void 0,"data-max":d,...c,ref:n})})});qr.displayName=An;var Xr="ProgressIndicator",Yr=y.forwardRef((e,n)=>{const{__scopeProgress:t,...r}=e,o=ms(Xr,t);return u.jsx(Q.div,{"data-state":Zr(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:n})});Yr.displayName=Xr;function hs(e,n){return`${Math.round(e/n*100)}%`}function Zr(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function kt(e){return typeof e=="number"}function lr(e){return kt(e)&&!isNaN(e)&&e>0}function ur(e,n){return kt(e)&&!isNaN(e)&&e<=n&&e>=0}function gs(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Cn}\`.`}function vs(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Cn} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kr=qr,ys=Yr;function ws(e){const[n,t]=E.useState([]);return E.useEffect(()=>{e!==n[1]&&t(r=>[r[1],e])},[e]),n[0]}const Sn=y.forwardRef(({barColor:e,className:n,value:t,increaseOnly:r,...o},i)=>{const c=ws(t);return e==="bg-green-500"&&console.log(t),u.jsx(Kr,{ref:i,className:P("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...o,value:t,children:u.jsx(ys,{className:P("h-full w-full flex-1",e??"bg-primary",{[P("transition-transform duration-200 ease-out",{"duration-500":typeof t=="number"&&c===0&&t>90})]:r?typeof t!="number"||typeof c!="number"||t>c:!0}),style:{transform:`translateX(-${100-(t||0)}%)`}})})});Sn.displayName=Kr.displayName;const wt=({iconClassName:e,barClassName:n,value:t,display:r,max:o,color:i,title:c,increaseOnly:d,...p})=>u.jsxs("div",{...p,className:P("flex items-center h-7 w-full",p.className),children:[u.jsx(ht,{title:c,value:r?r(t/o):t,miniature:!0,colors:i??"bg-primary",className:P("absolute z-50",e)}),u.jsx(Sn,{barColor:i,className:n,value:t/o*100,increaseOnly:d})]}),xs=e=>{var n;return u.jsxs("span",{className:P("inline-flex items-center h-7 w-full rounded-full",typeof e.item=="string"?"":{"bg-action text-action-foreground":e.item.type==="action","bg-support text-support-foreground":e.item.type==="support","bg-upgrade text-upgrade-foreground":e.item.type==="upgrade"}),children:[typeof e.item=="object"&&u.jsx(Jr,{item:e.item}),u.jsx("div",{className:"px-2",children:typeof e.item=="object"?(n=e.item)==null?void 0:n.name:e.item})]})},Jr=({item:e,...n})=>u.jsx("img",{...n,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:P("aspect-square rounded-full h-full",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},n.className)});function U(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Re(e){const n=y.useRef(e);return y.useEffect(()=>{n.current=e}),y.useMemo(()=>(...t)=>{var r;return(r=n.current)==null?void 0:r.call(n,...t)},[])}function gt({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=_s({defaultProp:n,onChange:t}),i=e!==void 0,c=i?e:r,d=Re(t),p=y.useCallback(m=>{if(i){const a=typeof m=="function"?m(e):m;a!==e&&d(a)}else o(m)},[i,e,o,d]);return[c,p]}function _s({defaultProp:e,onChange:n}){const t=y.useState(e),[r]=t,o=y.useRef(r),i=Re(n);return y.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),t}const bs=["top","right","bottom","left"],Se=Math.min,he=Math.max,Ot=Math.round,xt=Math.floor,Be=e=>({x:e,y:e}),As={left:"right",right:"left",bottom:"top",top:"bottom"},Cs={start:"end",end:"start"};function fn(e,n,t){return he(e,Se(n,t))}function ke(e,n){return typeof e=="function"?e(n):e}function Oe(e){return e.split("-")[0]}function at(e){return e.split("-")[1]}function Pn(e){return e==="x"?"y":"x"}function En(e){return e==="y"?"height":"width"}function He(e){return["top","bottom"].includes(Oe(e))?"y":"x"}function Mn(e){return Pn(He(e))}function Ss(e,n,t){t===void 0&&(t=!1);const r=at(e),o=Mn(e),i=En(o);let c=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(c=jt(c)),[c,jt(c)]}function Ps(e){const n=jt(e);return[pn(e),n,pn(n)]}function pn(e){return e.replace(/start|end/g,n=>Cs[n])}function Es(e,n,t){const r=["left","right"],o=["right","left"],i=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return t?n?o:r:n?r:o;case"left":case"right":return n?i:c;default:return[]}}function Ms(e,n,t,r){const o=at(e);let i=Es(Oe(e),t==="start",r);return o&&(i=i.map(c=>c+"-"+o),n&&(i=i.concat(i.map(pn)))),i}function jt(e){return e.replace(/left|right|bottom|top/g,n=>As[n])}function Ns(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qr(e){return typeof e!="number"?Ns(e):{top:e,right:e,bottom:e,left:e}}function It(e){const{x:n,y:t,width:r,height:o}=e;return{width:r,height:o,top:t,left:n,right:n+r,bottom:t+o,x:n,y:t}}function dr(e,n,t){let{reference:r,floating:o}=e;const i=He(n),c=Mn(n),d=En(c),p=Oe(n),m=i==="y",w=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,s=r[d]/2-o[d]/2;let l;switch(p){case"top":l={x:w,y:r.y-o.height};break;case"bottom":l={x:w,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:a};break;case"left":l={x:r.x-o.width,y:a};break;default:l={x:r.x,y:r.y}}switch(at(n)){case"start":l[c]-=s*(t&&m?-1:1);break;case"end":l[c]+=s*(t&&m?-1:1);break}return l}const Ts=async(e,n,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:c}=t,d=i.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(n));let m=await c.getElementRects({reference:e,floating:n,strategy:o}),{x:w,y:a}=dr(m,r,p),s=r,l={},f=0;for(let h=0;h<d.length;h++){const{name:v,fn:g}=d[h],{x:_,y:A,data:S,reset:M}=await g({x:w,y:a,initialPlacement:r,placement:s,strategy:o,middlewareData:l,rects:m,platform:c,elements:{reference:e,floating:n}});w=_??w,a=A??a,l={...l,[v]:{...l[v],...S}},M&&f<=50&&(f++,typeof M=="object"&&(M.placement&&(s=M.placement),M.rects&&(m=M.rects===!0?await c.getElementRects({reference:e,floating:n,strategy:o}):M.rects),{x:w,y:a}=dr(m,s,p)),h=-1)}return{x:w,y:a,placement:s,strategy:o,middlewareData:l}};async function ft(e,n){var t;n===void 0&&(n={});const{x:r,y:o,platform:i,rects:c,elements:d,strategy:p}=e,{boundary:m="clippingAncestors",rootBoundary:w="viewport",elementContext:a="floating",altBoundary:s=!1,padding:l=0}=ke(n,e),f=Qr(l),v=d[s?a==="floating"?"reference":"floating":a],g=It(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(v)))==null||t?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:m,rootBoundary:w,strategy:p})),_=a==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),S=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},M=It(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:A,strategy:p}):_);return{top:(g.top-M.top+f.top)/S.y,bottom:(M.bottom-g.bottom+f.bottom)/S.y,left:(g.left-M.left+f.left)/S.x,right:(M.right-g.right+f.right)/S.x}}const Rs=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:o,rects:i,platform:c,elements:d,middlewareData:p}=n,{element:m,padding:w=0}=ke(e,n)||{};if(m==null)return{};const a=Qr(w),s={x:t,y:r},l=Mn(o),f=En(l),h=await c.getDimensions(m),v=l==="y",g=v?"top":"left",_=v?"bottom":"right",A=v?"clientHeight":"clientWidth",S=i.reference[f]+i.reference[l]-s[l]-i.floating[f],M=s[l]-i.reference[l],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let N=T?T[A]:0;(!N||!await(c.isElement==null?void 0:c.isElement(T)))&&(N=d.floating[A]||i.floating[f]);const O=S/2-M/2,R=N/2-h[f]/2-1,z=Se(a[g],R),J=Se(a[_],R),re=z,ae=N-h[f]-J,W=N/2-h[f]/2+O,X=fn(re,W,ae),Y=!p.arrow&&at(o)!=null&&W!==X&&i.reference[f]/2-(W<re?z:J)-h[f]/2<0,H=Y?W<re?W-re:W-ae:0;return{[l]:s[l]+H,data:{[l]:X,centerOffset:W-X-H,...Y&&{alignmentOffset:H}},reset:Y}}}),ks=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:o,middlewareData:i,rects:c,initialPlacement:d,platform:p,elements:m}=n,{mainAxis:w=!0,crossAxis:a=!0,fallbackPlacements:s,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:h=!0,...v}=ke(e,n);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const g=Oe(o),_=He(d),A=Oe(d)===d,S=await(p.isRTL==null?void 0:p.isRTL(m.floating)),M=s||(A||!h?[jt(d)]:Ps(d)),T=f!=="none";!s&&T&&M.push(...Ms(d,h,f,S));const N=[d,...M],O=await ft(n,v),R=[];let z=((r=i.flip)==null?void 0:r.overflows)||[];if(w&&R.push(O[g]),a){const W=Ss(o,c,S);R.push(O[W[0]],O[W[1]])}if(z=[...z,{placement:o,overflows:R}],!R.every(W=>W<=0)){var J,re;const W=(((J=i.flip)==null?void 0:J.index)||0)+1,X=N[W];if(X)return{data:{index:W,overflows:z},reset:{placement:X}};let Y=(re=z.filter(H=>H.overflows[0]<=0).sort((H,ne)=>H.overflows[1]-ne.overflows[1])[0])==null?void 0:re.placement;if(!Y)switch(l){case"bestFit":{var ae;const H=(ae=z.filter(ne=>{if(T){const oe=He(ne.placement);return oe===_||oe==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(oe=>oe>0).reduce((oe,b)=>oe+b,0)]).sort((ne,oe)=>ne[1]-oe[1])[0])==null?void 0:ae[0];H&&(Y=H);break}case"initialPlacement":Y=d;break}if(o!==Y)return{reset:{placement:Y}}}return{}}}};function fr(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function pr(e){return bs.some(n=>e[n]>=0)}const Os=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:t}=n,{strategy:r="referenceHidden",...o}=ke(e,n);switch(r){case"referenceHidden":{const i=await ft(n,{...o,elementContext:"reference"}),c=fr(i,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:pr(c)}}}case"escaped":{const i=await ft(n,{...o,altBoundary:!0}),c=fr(i,t.floating);return{data:{escapedOffsets:c,escaped:pr(c)}}}default:return{}}}}};async function js(e,n){const{placement:t,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Oe(t),d=at(t),p=He(t)==="y",m=["left","top"].includes(c)?-1:1,w=i&&p?-1:1,a=ke(n,e);let{mainAxis:s,crossAxis:l,alignmentAxis:f}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return d&&typeof f=="number"&&(l=d==="end"?f*-1:f),p?{x:l*w,y:s*m}:{x:s*m,y:l*w}}const Is=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:o,y:i,placement:c,middlewareData:d}=n,p=await js(n,e);return c===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:i+p.y,data:{...p,placement:c}}}}},Ds=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:r,placement:o}=n,{mainAxis:i=!0,crossAxis:c=!1,limiter:d={fn:v=>{let{x:g,y:_}=v;return{x:g,y:_}}},...p}=ke(e,n),m={x:t,y:r},w=await ft(n,p),a=He(Oe(o)),s=Pn(a);let l=m[s],f=m[a];if(i){const v=s==="y"?"top":"left",g=s==="y"?"bottom":"right",_=l+w[v],A=l-w[g];l=fn(_,l,A)}if(c){const v=a==="y"?"top":"left",g=a==="y"?"bottom":"right",_=f+w[v],A=f-w[g];f=fn(_,f,A)}const h=d.fn({...n,[s]:l,[a]:f});return{...h,data:{x:h.x-t,y:h.y-r}}}}},Ls=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:t,y:r,placement:o,rects:i,middlewareData:c}=n,{offset:d=0,mainAxis:p=!0,crossAxis:m=!0}=ke(e,n),w={x:t,y:r},a=He(o),s=Pn(a);let l=w[s],f=w[a];const h=ke(d,n),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(p){const A=s==="y"?"height":"width",S=i.reference[s]-i.floating[A]+v.mainAxis,M=i.reference[s]+i.reference[A]-v.mainAxis;l<S?l=S:l>M&&(l=M)}if(m){var g,_;const A=s==="y"?"width":"height",S=["top","left"].includes(Oe(o)),M=i.reference[a]-i.floating[A]+(S&&((g=c.offset)==null?void 0:g[a])||0)+(S?0:v.crossAxis),T=i.reference[a]+i.reference[A]+(S?0:((_=c.offset)==null?void 0:_[a])||0)-(S?v.crossAxis:0);f<M?f=M:f>T&&(f=T)}return{[s]:l,[a]:f}}}},$s=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){const{placement:t,rects:r,platform:o,elements:i}=n,{apply:c=()=>{},...d}=ke(e,n),p=await ft(n,d),m=Oe(t),w=at(t),a=He(t)==="y",{width:s,height:l}=r.floating;let f,h;m==="top"||m==="bottom"?(f=m,h=w===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(h=m,f=w==="end"?"top":"bottom");const v=l-p.top-p.bottom,g=s-p.left-p.right,_=Se(l-p[f],v),A=Se(s-p[h],g),S=!n.middlewareData.shift;let M=_,T=A;if(a?T=w||S?Se(A,g):g:M=w||S?Se(_,v):v,S&&!w){const O=he(p.left,0),R=he(p.right,0),z=he(p.top,0),J=he(p.bottom,0);a?T=s-2*(O!==0||R!==0?O+R:he(p.left,p.right)):M=l-2*(z!==0||J!==0?z+J:he(p.top,p.bottom))}await c({...n,availableWidth:T,availableHeight:M});const N=await o.getDimensions(i.floating);return s!==N.width||l!==N.height?{reset:{rects:!0}}:{}}}};function ot(e){return ea(e)?(e.nodeName||"").toLowerCase():"#document"}function ge(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function je(e){var n;return(n=(ea(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function ea(e){return e instanceof Node||e instanceof ge(e).Node}function xe(e){return e instanceof Element||e instanceof ge(e).Element}function Ee(e){return e instanceof HTMLElement||e instanceof ge(e).HTMLElement}function mr(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ge(e).ShadowRoot}function vt(e){const{overflow:n,overflowX:t,overflowY:r,display:o}=_e(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!["inline","contents"].includes(o)}function Fs(e){return["table","td","th"].includes(ot(e))}function zt(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function Nn(e){const n=Tn(),t=xe(e)?_e(e):e;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Gs(e){let n=We(e);for(;Ee(n)&&!rt(n);){if(Nn(n))return n;if(zt(n))return null;n=We(n)}return null}function Tn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rt(e){return["html","body","#document"].includes(ot(e))}function _e(e){return ge(e).getComputedStyle(e)}function Vt(e){return xe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function We(e){if(ot(e)==="html")return e;const n=e.assignedSlot||e.parentNode||mr(e)&&e.host||je(e);return mr(n)?n.host:n}function ta(e){const n=We(e);return rt(n)?e.ownerDocument?e.ownerDocument.body:e.body:Ee(n)&&vt(n)?n:ta(n)}function pt(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const o=ta(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),c=ge(o);if(i){const d=mn(c);return n.concat(c,c.visualViewport||[],vt(o)?o:[],d&&t?pt(d):[])}return n.concat(o,pt(o,[],t))}function mn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function na(e){const n=_e(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const o=Ee(e),i=o?e.offsetWidth:t,c=o?e.offsetHeight:r,d=Ot(t)!==i||Ot(r)!==c;return d&&(t=i,r=c),{width:t,height:r,$:d}}function Rn(e){return xe(e)?e:e.contextElement}function et(e){const n=Rn(e);if(!Ee(n))return Be(1);const t=n.getBoundingClientRect(),{width:r,height:o,$:i}=na(n);let c=(i?Ot(t.width):t.width)/r,d=(i?Ot(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const Bs=Be(0);function ra(e){const n=ge(e);return!Tn()||!n.visualViewport?Bs:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Hs(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==ge(e)?!1:n}function Ve(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const o=e.getBoundingClientRect(),i=Rn(e);let c=Be(1);n&&(r?xe(r)&&(c=et(r)):c=et(e));const d=Hs(i,t,r)?ra(i):Be(0);let p=(o.left+d.x)/c.x,m=(o.top+d.y)/c.y,w=o.width/c.x,a=o.height/c.y;if(i){const s=ge(i),l=r&&xe(r)?ge(r):r;let f=s,h=mn(f);for(;h&&r&&l!==f;){const v=et(h),g=h.getBoundingClientRect(),_=_e(h),A=g.left+(h.clientLeft+parseFloat(_.paddingLeft))*v.x,S=g.top+(h.clientTop+parseFloat(_.paddingTop))*v.y;p*=v.x,m*=v.y,w*=v.x,a*=v.y,p+=A,m+=S,f=ge(h),h=mn(f)}}return It({width:w,height:a,x:p,y:m})}function Ws(e){let{elements:n,rect:t,offsetParent:r,strategy:o}=e;const i=o==="fixed",c=je(r),d=n?zt(n.floating):!1;if(r===c||d&&i)return t;let p={scrollLeft:0,scrollTop:0},m=Be(1);const w=Be(0),a=Ee(r);if((a||!a&&!i)&&((ot(r)!=="body"||vt(c))&&(p=Vt(r)),Ee(r))){const s=Ve(r);m=et(r),w.x=s.x+r.clientLeft,w.y=s.y+r.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+w.x,y:t.y*m.y-p.scrollTop*m.y+w.y}}function zs(e){return Array.from(e.getClientRects())}function aa(e){return Ve(je(e)).left+Vt(e).scrollLeft}function Vs(e){const n=je(e),t=Vt(e),r=e.ownerDocument.body,o=he(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),i=he(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+aa(e);const d=-t.scrollTop;return _e(r).direction==="rtl"&&(c+=he(n.clientWidth,r.clientWidth)-o),{width:o,height:i,x:c,y:d}}function Us(e,n){const t=ge(e),r=je(e),o=t.visualViewport;let i=r.clientWidth,c=r.clientHeight,d=0,p=0;if(o){i=o.width,c=o.height;const m=Tn();(!m||m&&n==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:i,height:c,x:d,y:p}}function qs(e,n){const t=Ve(e,!0,n==="fixed"),r=t.top+e.clientTop,o=t.left+e.clientLeft,i=Ee(e)?et(e):Be(1),c=e.clientWidth*i.x,d=e.clientHeight*i.y,p=o*i.x,m=r*i.y;return{width:c,height:d,x:p,y:m}}function hr(e,n,t){let r;if(n==="viewport")r=Us(e,t);else if(n==="document")r=Vs(je(e));else if(xe(n))r=qs(n,t);else{const o=ra(e);r={...n,x:n.x-o.x,y:n.y-o.y}}return It(r)}function oa(e,n){const t=We(e);return t===n||!xe(t)||rt(t)?!1:_e(t).position==="fixed"||oa(t,n)}function Xs(e,n){const t=n.get(e);if(t)return t;let r=pt(e,[],!1).filter(d=>xe(d)&&ot(d)!=="body"),o=null;const i=_e(e).position==="fixed";let c=i?We(e):e;for(;xe(c)&&!rt(c);){const d=_e(c),p=Nn(c);!p&&d.position==="fixed"&&(o=null),(i?!p&&!o:!p&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||vt(c)&&!p&&oa(e,c))?r=r.filter(w=>w!==c):o=d,c=We(c)}return n.set(e,r),r}function Ys(e){let{element:n,boundary:t,rootBoundary:r,strategy:o}=e;const c=[...t==="clippingAncestors"?zt(n)?[]:Xs(n,this._c):[].concat(t),r],d=c[0],p=c.reduce((m,w)=>{const a=hr(n,w,o);return m.top=he(a.top,m.top),m.right=Se(a.right,m.right),m.bottom=Se(a.bottom,m.bottom),m.left=he(a.left,m.left),m},hr(n,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Zs(e){const{width:n,height:t}=na(e);return{width:n,height:t}}function Ks(e,n,t){const r=Ee(n),o=je(n),i=t==="fixed",c=Ve(e,!0,i,n);let d={scrollLeft:0,scrollTop:0};const p=Be(0);if(r||!r&&!i)if((ot(n)!=="body"||vt(o))&&(d=Vt(n)),r){const a=Ve(n,!0,i,n);p.x=a.x+n.clientLeft,p.y=a.y+n.clientTop}else o&&(p.x=aa(o));const m=c.left+d.scrollLeft-p.x,w=c.top+d.scrollTop-p.y;return{x:m,y:w,width:c.width,height:c.height}}function Jt(e){return _e(e).position==="static"}function gr(e,n){return!Ee(e)||_e(e).position==="fixed"?null:n?n(e):e.offsetParent}function ia(e,n){const t=ge(e);if(zt(e))return t;if(!Ee(e)){let o=We(e);for(;o&&!rt(o);){if(xe(o)&&!Jt(o))return o;o=We(o)}return t}let r=gr(e,n);for(;r&&Fs(r)&&Jt(r);)r=gr(r,n);return r&&rt(r)&&Jt(r)&&!Nn(r)?t:r||Gs(e)||t}const Js=async function(e){const n=this.getOffsetParent||ia,t=this.getDimensions,r=await t(e.floating);return{reference:Ks(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Qs(e){return _e(e).direction==="rtl"}const ec={convertOffsetParentRelativeRectToViewportRelativeRect:Ws,getDocumentElement:je,getClippingRect:Ys,getOffsetParent:ia,getElementRects:Js,getClientRects:zs,getDimensions:Zs,getScale:et,isElement:xe,isRTL:Qs};function tc(e,n){let t=null,r;const o=je(e);function i(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),i();const{left:m,top:w,width:a,height:s}=e.getBoundingClientRect();if(d||n(),!a||!s)return;const l=xt(w),f=xt(o.clientWidth-(m+a)),h=xt(o.clientHeight-(w+s)),v=xt(m),_={rootMargin:-l+"px "+-f+"px "+-h+"px "+-v+"px",threshold:he(0,Se(1,p))||1};let A=!0;function S(M){const T=M[0].intersectionRatio;if(T!==p){if(!A)return c();T?c(!1,T):r=setTimeout(()=>{c(!1,1e-7)},1e3)}A=!1}try{t=new IntersectionObserver(S,{..._,root:o.ownerDocument})}catch{t=new IntersectionObserver(S,_)}t.observe(e)}return c(!0),i}function nc(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=Rn(e),w=o||i?[...m?pt(m):[],...pt(n)]:[];w.forEach(g=>{o&&g.addEventListener("scroll",t,{passive:!0}),i&&g.addEventListener("resize",t)});const a=m&&d?tc(m,t):null;let s=-1,l=null;c&&(l=new ResizeObserver(g=>{let[_]=g;_&&_.target===m&&l&&(l.unobserve(n),cancelAnimationFrame(s),s=requestAnimationFrame(()=>{var A;(A=l)==null||A.observe(n)})),t()}),m&&!p&&l.observe(m),l.observe(n));let f,h=p?Ve(e):null;p&&v();function v(){const g=Ve(e);h&&(g.x!==h.x||g.y!==h.y||g.width!==h.width||g.height!==h.height)&&t(),h=g,f=requestAnimationFrame(v)}return t(),()=>{var g;w.forEach(_=>{o&&_.removeEventListener("scroll",t),i&&_.removeEventListener("resize",t)}),a==null||a(),(g=l)==null||g.disconnect(),l=null,p&&cancelAnimationFrame(f)}}const rc=Is,ac=Ds,oc=ks,ic=$s,sc=Os,vr=Rs,cc=Ls,lc=(e,n,t)=>{const r=new Map,o={platform:ec,...t},i={...o.platform,_c:r};return Ts(e,n,{...o,platform:i})};var Et=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Dt(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,o;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Dt(e[r],n[r]))return!1;return!0}if(o=Object.keys(e),t=o.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,o[r]))return!1;for(r=t;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Dt(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function sa(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yr(e,n){const t=sa(e);return Math.round(n*t)/t}function wr(e){const n=y.useRef(e);return Et(()=>{n.current=e}),n}function uc(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:c}={},transform:d=!0,whileElementsMounted:p,open:m}=e,[w,a]=y.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[s,l]=y.useState(r);Dt(s,r)||l(r);const[f,h]=y.useState(null),[v,g]=y.useState(null),_=y.useCallback(H=>{H!==T.current&&(T.current=H,h(H))},[]),A=y.useCallback(H=>{H!==N.current&&(N.current=H,g(H))},[]),S=i||f,M=c||v,T=y.useRef(null),N=y.useRef(null),O=y.useRef(w),R=p!=null,z=wr(p),J=wr(o),re=y.useCallback(()=>{if(!T.current||!N.current)return;const H={placement:n,strategy:t,middleware:s};J.current&&(H.platform=J.current),lc(T.current,N.current,H).then(ne=>{const oe={...ne,isPositioned:!0};ae.current&&!Dt(O.current,oe)&&(O.current=oe,_n.flushSync(()=>{a(oe)}))})},[s,n,t,J]);Et(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,a(H=>({...H,isPositioned:!1})))},[m]);const ae=y.useRef(!1);Et(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Et(()=>{if(S&&(T.current=S),M&&(N.current=M),S&&M){if(z.current)return z.current(S,M,re);re()}},[S,M,re,z,R]);const W=y.useMemo(()=>({reference:T,floating:N,setReference:_,setFloating:A}),[_,A]),X=y.useMemo(()=>({reference:S,floating:M}),[S,M]),Y=y.useMemo(()=>{const H={position:t,left:0,top:0};if(!X.floating)return H;const ne=yr(X.floating,w.x),oe=yr(X.floating,w.y);return d?{...H,transform:"translate("+ne+"px, "+oe+"px)",...sa(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:oe}},[t,d,X.floating,w.x,w.y]);return y.useMemo(()=>({...w,update:re,refs:W,elements:X,floatingStyles:Y}),[w,re,W,X,Y])}const dc=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:o}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?vr({element:r.current,padding:o}).fn(t):{}:r?vr({element:r,padding:o}).fn(t):{}}}},fc=(e,n)=>({...rc(e),options:[e,n]}),pc=(e,n)=>({...ac(e),options:[e,n]}),mc=(e,n)=>({...cc(e),options:[e,n]}),hc=(e,n)=>({...oc(e),options:[e,n]}),gc=(e,n)=>({...ic(e),options:[e,n]}),vc=(e,n)=>({...sc(e),options:[e,n]}),yc=(e,n)=>({...dc(e),options:[e,n]});var wc="Arrow",ca=y.forwardRef((e,n)=>{const{children:t,width:r=10,height:o=5,...i}=e;return u.jsx(Q.svg,{...i,ref:n,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});ca.displayName=wc;var xc=ca,Ue=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function kn(e){const[n,t]=y.useState(void 0);return Ue(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let c,d;if("borderBoxSize"in i){const p=i.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;t({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else t(void 0)},[e]),n}var On="Popper",[la,ua]=Me(On),[_c,da]=la(On),fa=e=>{const{__scopePopper:n,children:t}=e,[r,o]=y.useState(null);return u.jsx(_c,{scope:n,anchor:r,onAnchorChange:o,children:t})};fa.displayName=On;var pa="PopperAnchor",ma=y.forwardRef((e,n)=>{const{__scopePopper:t,virtualRef:r,...o}=e,i=da(pa,t),c=y.useRef(null),d=le(n,c);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:u.jsx(Q.div,{...o,ref:d})});ma.displayName=pa;var jn="PopperContent",[bc,Ac]=la(jn),ha=y.forwardRef((e,n)=>{var j,$,V,Z,q,K;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:w=0,sticky:a="partial",hideWhenDetached:s=!1,updatePositionStrategy:l="optimized",onPlaced:f,...h}=e,v=da(jn,t),[g,_]=y.useState(null),A=le(n,ee=>_(ee)),[S,M]=y.useState(null),T=kn(S),N=(T==null?void 0:T.width)??0,O=(T==null?void 0:T.height)??0,R=r+(i!=="center"?"-"+i:""),z=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},J=Array.isArray(m)?m:[m],re=J.length>0,ae={padding:z,boundary:J.filter(Sc),altBoundary:re},{refs:W,floatingStyles:X,placement:Y,isPositioned:H,middlewareData:ne}=uc({strategy:"fixed",placement:R,whileElementsMounted:(...ee)=>nc(...ee,{animationFrame:l==="always"}),elements:{reference:v.anchor},middleware:[fc({mainAxis:o+O,alignmentAxis:c}),p&&pc({mainAxis:!0,crossAxis:!1,limiter:a==="partial"?mc():void 0,...ae}),p&&hc({...ae}),gc({...ae,apply:({elements:ee,rects:B,availableWidth:ue,availableHeight:pe})=>{const{width:me,height:we}=B.reference,ye=ee.floating.style;ye.setProperty("--radix-popper-available-width",`${ue}px`),ye.setProperty("--radix-popper-available-height",`${pe}px`),ye.setProperty("--radix-popper-anchor-width",`${me}px`),ye.setProperty("--radix-popper-anchor-height",`${we}px`)}}),S&&yc({element:S,padding:d}),Pc({arrowWidth:N,arrowHeight:O}),s&&vc({strategy:"referenceHidden",...ae})]}),[oe,b]=ya(Y),x=Re(f);Ue(()=>{H&&(x==null||x())},[H,x]);const k=(j=ne.arrow)==null?void 0:j.x,I=($=ne.arrow)==null?void 0:$.y,D=((V=ne.arrow)==null?void 0:V.centerOffset)!==0,[L,F]=y.useState();return Ue(()=>{g&&F(window.getComputedStyle(g).zIndex)},[g]),u.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:H?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L,"--radix-popper-transform-origin":[(Z=ne.transformOrigin)==null?void 0:Z.x,(q=ne.transformOrigin)==null?void 0:q.y].join(" "),...((K=ne.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(bc,{scope:t,placedSide:oe,onArrowChange:M,arrowX:k,arrowY:I,shouldHideArrow:D,children:u.jsx(Q.div,{"data-side":oe,"data-align":b,...h,ref:A,style:{...h.style,animation:H?void 0:"none"}})})})});ha.displayName=jn;var ga="PopperArrow",Cc={top:"bottom",right:"left",bottom:"top",left:"right"},va=y.forwardRef(function(n,t){const{__scopePopper:r,...o}=n,i=Ac(ga,r),c=Cc[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(xc,{...o,ref:t,style:{...o.style,display:"block"}})})});va.displayName=ga;function Sc(e){return e!==null}var Pc=e=>({name:"transformOrigin",options:e,fn(n){var v,g,_;const{placement:t,rects:r,middlewareData:o}=n,c=((v=o.arrow)==null?void 0:v.centerOffset)!==0,d=c?0:e.arrowWidth,p=c?0:e.arrowHeight,[m,w]=ya(t),a={start:"0%",center:"50%",end:"100%"}[w],s=(((g=o.arrow)==null?void 0:g.x)??0)+d/2,l=(((_=o.arrow)==null?void 0:_.y)??0)+p/2;let f="",h="";return m==="bottom"?(f=c?a:`${s}px`,h=`${-p}px`):m==="top"?(f=c?a:`${s}px`,h=`${r.floating.height+p}px`):m==="right"?(f=`${-p}px`,h=c?a:`${l}px`):m==="left"&&(f=`${r.floating.width+p}px`,h=c?a:`${l}px`),{data:{x:f,y:h}}}});function ya(e){const[n,t="center"]=e.split("-");return[n,t]}var Ec=fa,Mc=ma,Nc=ha,Tc=va,Rc="Portal",wa=y.forwardRef((e,n)=>{var d;const{container:t,...r}=e,[o,i]=y.useState(!1);Ue(()=>i(!0),[]);const c=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?Ri.createPortal(u.jsx(Q.div,{...r,ref:n}),c):null});wa.displayName=Rc;function kc(e,n){return y.useReducer((t,r)=>n[t][r]??t,e)}var Xe=e=>{const{present:n,children:t}=e,r=Oc(n),o=typeof t=="function"?t({present:r.isPresent}):y.Children.only(t),i=le(r.ref,jc(o));return typeof t=="function"||r.isPresent?y.cloneElement(o,{ref:i}):null};Xe.displayName="Presence";function Oc(e){const[n,t]=y.useState(),r=y.useRef({}),o=y.useRef(e),i=y.useRef("none"),c=e?"mounted":"unmounted",[d,p]=kc(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=_t(r.current);i.current=d==="mounted"?m:"none"},[d]),Ue(()=>{const m=r.current,w=o.current;if(w!==e){const s=i.current,l=_t(m);e?p("MOUNT"):l==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(w&&s!==l?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),Ue(()=>{if(n){const m=a=>{const l=_t(r.current).includes(a.animationName);a.target===n&&l&&_n.flushSync(()=>p("ANIMATION_END"))},w=a=>{a.target===n&&(i.current=_t(r.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",m),n.addEventListener("animationend",m),()=>{n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",m),n.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(m=>{m&&(r.current=getComputedStyle(m)),t(m)},[])}}function _t(e){return(e==null?void 0:e.animationName)||"none"}function jc(e){var r,o;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function Ic(e,n=globalThis==null?void 0:globalThis.document){const t=Re(e);y.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[t,n])}var Dc="DismissableLayer",hn="dismissableLayer.update",Lc="dismissableLayer.pointerDownOutside",$c="dismissableLayer.focusOutside",xr,xa=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),In=y.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:c,onDismiss:d,...p}=e,m=y.useContext(xa),[w,a]=y.useState(null),s=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,l]=y.useState({}),f=le(n,N=>a(N)),h=Array.from(m.layers),[v]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(v),_=w?h.indexOf(w):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,S=_>=g,M=Bc(N=>{const O=N.target,R=[...m.branches].some(z=>z.contains(O));!S||R||(o==null||o(N),c==null||c(N),N.defaultPrevented||d==null||d())},s),T=Hc(N=>{const O=N.target;[...m.branches].some(z=>z.contains(O))||(i==null||i(N),c==null||c(N),N.defaultPrevented||d==null||d())},s);return Ic(N=>{_===m.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&d&&(N.preventDefault(),d()))},s),y.useEffect(()=>{if(w)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(xr=s.body.style.pointerEvents,s.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(w)),m.layers.add(w),_r(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(s.body.style.pointerEvents=xr)}},[w,s,t,m]),y.useEffect(()=>()=>{w&&(m.layers.delete(w),m.layersWithOutsidePointerEventsDisabled.delete(w),_r())},[w,m]),y.useEffect(()=>{const N=()=>l({});return document.addEventListener(hn,N),()=>document.removeEventListener(hn,N)},[]),u.jsx(Q.div,{...p,ref:f,style:{pointerEvents:A?S?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,T.onFocusCapture),onBlurCapture:U(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,M.onPointerDownCapture)})});In.displayName=Dc;var Fc="DismissableLayerBranch",Gc=y.forwardRef((e,n)=>{const t=y.useContext(xa),r=y.useRef(null),o=le(n,r);return y.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),u.jsx(Q.div,{...e,ref:o})});Gc.displayName=Fc;function Bc(e,n=globalThis==null?void 0:globalThis.document){const t=Re(e),r=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const i=d=>{if(d.target&&!r.current){let p=function(){_a(Lc,t,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=p,n.addEventListener("click",o.current,{once:!0})):p()}else n.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",i),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function Hc(e,n=globalThis==null?void 0:globalThis.document){const t=Re(e),r=y.useRef(!1);return y.useEffect(()=>{const o=i=>{i.target&&!r.current&&_a($c,t,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _r(){const e=new CustomEvent(hn);document.dispatchEvent(e)}function _a(e,n,t,{discrete:r}){const o=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?ds(o,i):o.dispatchEvent(i)}var Qt,Dn="HoverCard",[ba,Bd]=Me(Dn,[ua]),Ut=ua(),[Wc,Ln]=ba(Dn),Aa=e=>{const{__scopeHoverCard:n,children:t,open:r,defaultOpen:o,onOpenChange:i,openDelay:c=700,closeDelay:d=300}=e,p=Ut(n),m=y.useRef(0),w=y.useRef(0),a=y.useRef(!1),s=y.useRef(!1),[l=!1,f]=gt({prop:r,defaultProp:o,onChange:i}),h=y.useCallback(()=>{clearTimeout(w.current),m.current=window.setTimeout(()=>f(!0),c)},[c,f]),v=y.useCallback(()=>{clearTimeout(m.current),!a.current&&!s.current&&(w.current=window.setTimeout(()=>f(!1),d))},[d,f]),g=y.useCallback(()=>f(!1),[f]);return y.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(w.current)},[]),u.jsx(Wc,{scope:n,open:l,onOpenChange:f,onOpen:h,onClose:v,onDismiss:g,hasSelectionRef:a,isPointerDownOnContentRef:s,children:u.jsx(Ec,{...p,children:t})})};Aa.displayName=Dn;var Ca="HoverCardTrigger",Sa=y.forwardRef((e,n)=>{const{__scopeHoverCard:t,...r}=e,o=Ln(Ca,t),i=Ut(t);return u.jsx(Mc,{asChild:!0,...i,children:u.jsx(Q.a,{"data-state":o.open?"open":"closed",...r,ref:n,onPointerEnter:U(e.onPointerEnter,$t(o.onOpen)),onPointerLeave:U(e.onPointerLeave,$t(o.onClose)),onFocus:U(e.onFocus,o.onOpen),onBlur:U(e.onBlur,o.onClose),onTouchStart:U(e.onTouchStart,c=>c.preventDefault())})})});Sa.displayName=Ca;var zc="HoverCardPortal",[Hd,Vc]=ba(zc,{forceMount:void 0}),Lt="HoverCardContent",Pa=y.forwardRef((e,n)=>{const t=Vc(Lt,e.__scopeHoverCard),{forceMount:r=t.forceMount,...o}=e,i=Ln(Lt,e.__scopeHoverCard);return u.jsx(Xe,{present:r||i.open,children:u.jsx(Uc,{"data-state":i.open?"open":"closed",...o,onPointerEnter:U(e.onPointerEnter,$t(i.onOpen)),onPointerLeave:U(e.onPointerLeave,$t(i.onClose)),ref:n})})});Pa.displayName=Lt;var Uc=y.forwardRef((e,n)=>{const{__scopeHoverCard:t,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:c,...d}=e,p=Ln(Lt,t),m=Ut(t),w=y.useRef(null),a=le(n,w),[s,l]=y.useState(!1);return y.useEffect(()=>{if(s){const f=document.body;return Qt=f.style.userSelect||f.style.webkitUserSelect,f.style.userSelect="none",f.style.webkitUserSelect="none",()=>{f.style.userSelect=Qt,f.style.webkitUserSelect=Qt}}},[s]),y.useEffect(()=>{if(w.current){const f=()=>{l(!1),p.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var v;((v=document.getSelection())==null?void 0:v.toString())!==""&&(p.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",f),()=>{document.removeEventListener("pointerup",f),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!1}}},[p.isPointerDownOnContentRef,p.hasSelectionRef]),y.useEffect(()=>{w.current&&Yc(w.current).forEach(h=>h.setAttribute("tabindex","-1"))}),u.jsx(In,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:U(i,f=>{f.preventDefault()}),onDismiss:p.onDismiss,children:u.jsx(Nc,{...m,...d,onPointerDown:U(d.onPointerDown,f=>{f.currentTarget.contains(f.target)&&l(!0),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!0}),ref:a,style:{...d.style,userSelect:s?"text":void 0,WebkitUserSelect:s?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),qc="HoverCardArrow",Xc=y.forwardRef((e,n)=>{const{__scopeHoverCard:t,...r}=e,o=Ut(t);return u.jsx(Tc,{...o,...r,ref:n})});Xc.displayName=qc;function $t(e){return n=>n.pointerType==="touch"?void 0:e()}function Yc(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)n.push(t.currentNode);return n}var Zc=Aa,Kc=Sa,Ea=Pa;const Jc=Zc,Qc=Kc,Ma=y.forwardRef(({className:e,align:n="center",sideOffset:t=4,...r},o)=>u.jsx(Ea,{ref:o,align:n,sideOffset:t,className:P("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ma.displayName=Ea.displayName;var el="Separator",br="horizontal",tl=["horizontal","vertical"],Na=y.forwardRef((e,n)=>{const{decorative:t,orientation:r=br,...o}=e,i=nl(r)?r:br,d=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Q.div,{"data-orientation":i,...d,...o,ref:n})});Na.displayName=el;function nl(e){return tl.includes(e)}var Ta=Na;const gn=y.forwardRef(({className:e,orientation:n="horizontal",decorative:t=!0,...r},o)=>u.jsx(Ta,{ref:o,decorative:t,orientation:n,className:P("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));gn.displayName=Ta.displayName;const Le=e=>u.jsxs("div",{className:P("flex items-center gap-1",e.className),children:[u.jsx(e.icon,{className:"h-full aspect-square w-fit self-center justify-self-start"}),u.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[u.jsxs("span",{children:[e.name," :"]})," ",e.value]})]}),Ra=e=>{const n=ve(r=>({money:r.money,score:r.score,energy:r.energy,reputation:r.reputation,draw:r.draw,discard:r.discard,infinity:r.infinityMode,day:r.day,dayFull:r.dayFull})),t=se(r=>({shadows:r.shadows,animation:r.animations,transparency:r.transparency}));return u.jsxs(u.Fragment,{children:[e.forHUD&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[u.jsxs("div",{children:[u.jsx(wt,{title:"Energie",value:n.energy,max:ut,color:"bg-energy"}),u.jsx("div",{className:"capitalize last:col-span-1",children:"énergie"})]}),u.jsxs("div",{children:[u.jsx(wt,{title:"Réputation",value:n.reputation,max:Ht,color:"bg-reputation"}),u.jsx("div",{className:"last:col-span-1",children:"Réputation"})]}),u.jsxs("div",{children:[u.jsx(wt,{title:"Journée",display:r=>Math.floor(r*24)%24+"h",value:n.dayFull===null?n.day%1:n.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),u.jsx(Le,{icon:Zt,name:"Jour",value:Math.floor(n.day),className:"last:col-span-1 h-5"})]}),u.jsxs("div",{children:[u.jsx(wt,{title:"Sprint",display:r=>Math.floor(r*7)+"j",value:Math.floor(n.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),u.jsx(Le,{icon:Zt,name:"Sprint",value:Math.floor(n.day/7),className:"last:col-span-1 h-5"})]})]}),u.jsx(gn,{}),u.jsx("div",{className:"grid grid-cols-3 w-full gap-x-2",children:["deck","draw","discard"].map(r=>u.jsxs("div",{className:"grid grid-cols-subgrid col-span-3 space-y-1",children:[u.jsx("div",{className:"flex justify-end col-span-2",children:(r==="deck"?[...n.draw,...n.discard]:n[r]).toSorted((o,i)=>o.type===i.type?o.effect.upgrade?1:-1:i.type>o.type?1:-1).map((o,i)=>u.jsxs(Jc,{openDelay:0,closeDelay:0,children:[u.jsx(Qc,{asChild:!0,children:u.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto",children:u.jsx(Jr,{item:o,className:P("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.upgrade})})})}),u.jsx(Ma,{className:"pointer-events-none",dangerouslySetInnerHTML:{__html:`<h2>${o.name}</h2><br />${o.effect.description}`}})]},i))}),u.jsx(Le,{icon:r==="deck"||r==="draw"?cr:as,name:r==="deck"?"Deck":r==="draw"?"Pioche":"Défausse",value:r==="deck"?n.draw.length+n.discard.length:n[r].length,className:"h-5"})]},r))}),u.jsx(gn,{})]}),u.jsxs("div",{className:P("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",t.transparency?"bg-card/60":"bg-card",e.className),children:[u.jsx(Le,{icon:is,name:"Dollars",value:u.jsx("span",{dangerouslySetInnerHTML:{__html:Fe(`${n.money}M$ ${e.forHUD?`sur ${Wt}M$`:""}`)}})}),u.jsx(Le,{icon:ss,name:"Score",value:u.jsxs("span",{className:"text-upgrade font-changa",children:[n.score.toLocaleString("fr")," pts"]})}),!e.forHUD&&u.jsx(Le,{icon:Zt,name:"Jour",value:Math.floor(n.day)}),u.jsx(Le,{icon:Lr,name:"Mode",value:u.jsx("span",{className:"capitalize",children:un[fe.difficulty]})}),n.infinity&&u.jsx(Le,{icon:os,name:"Mode infini",value:"Activé"})]})]})};var $n={};(function e(n,t,r,o){var i=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!n.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),x=b.getContext("2d");x.fillRect(0,0,1,1);var k=b.transferToImageBitmap();try{x.createPattern(k,"no-repeat")}catch{return!1}return!0}();function p(){}function m(b){var x=t.exports.Promise,k=x!==void 0?x:n.Promise;return typeof k=="function"?new k(b):(b(p,p),null)}var w=function(b,x){return{transform:function(k){if(b)return k;if(x.has(k))return x.get(k);var I=new OffscreenCanvas(k.width,k.height),D=I.getContext("2d");return D.drawImage(k,0,0),x.set(k,I),I},clear:function(){x.clear()}}}(d,new Map),a=function(){var b=Math.floor(16.666666666666668),x,k,I={},D=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(L){var F=Math.random();return I[F]=requestAnimationFrame(function j($){D===$||D+b-1<$?(D=$,delete I[F],L()):I[F]=requestAnimationFrame(j)}),F},k=function(L){I[L]&&cancelAnimationFrame(I[L])}):(x=function(L){return setTimeout(L,b)},k=function(L){return clearTimeout(L)}),{frame:x,cancel:k}}(),s=function(){var b,x,k={};function I(D){function L(F,j){D.postMessage({options:F||{},callback:j})}D.init=function(j){var $=j.transferControlToOffscreen();D.postMessage({canvas:$},[$])},D.fire=function(j,$,V){if(x)return L(j,null),x;var Z=Math.random().toString(36).slice(2);return x=m(function(q){function K(ee){ee.data.callback===Z&&(delete k[Z],D.removeEventListener("message",K),x=null,w.clear(),V(),q())}D.addEventListener("message",K),L(j,Z),k[Z]=K.bind(null,{data:{callback:Z}})}),x},D.reset=function(){D.postMessage({reset:!0});for(var j in k)k[j](),delete k[j]}}return function(){if(b)return b;if(!r&&i){var D=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([D])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",L),null}I(b)}return b}}(),l={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(b,x){return x?x(b):b}function h(b){return b!=null}function v(b,x,k){return f(b&&h(b[x])?b[x]:l[x],k)}function g(b){return b<0?0:Math.floor(b)}function _(b,x){return Math.floor(Math.random()*(x-b))+b}function A(b){return parseInt(b,16)}function S(b){return b.map(M)}function M(b){var x=String(b).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:A(x.substring(0,2)),g:A(x.substring(2,4)),b:A(x.substring(4,6))}}function T(b){var x=v(b,"origin",Object);return x.x=v(x,"x",Number),x.y=v(x,"y",Number),x}function N(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function O(b){var x=b.getBoundingClientRect();b.width=x.width,b.height=x.height}function R(b){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=b,x}function z(b,x,k,I,D,L,F,j,$){b.save(),b.translate(x,k),b.rotate(L),b.scale(I,D),b.arc(0,0,1,F,j,$),b.restore()}function J(b){var x=b.angle*(Math.PI/180),k=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-x+(.5*k-Math.random()*k),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function re(b,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var k=x.tick++/x.totalTicks,I=x.x+x.random*x.tiltCos,D=x.y+x.random*x.tiltSin,L=x.wobbleX+x.random*x.tiltCos,F=x.wobbleY+x.random*x.tiltSin;if(b.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-k)+")",b.beginPath(),c&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))b.fill(H(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(L-I)*.1,Math.abs(F-D)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var j=Math.PI/10*x.wobble,$=Math.abs(L-I)*.1,V=Math.abs(F-D)*.1,Z=x.shape.bitmap.width*x.scalar,q=x.shape.bitmap.height*x.scalar,K=new DOMMatrix([Math.cos(j)*$,Math.sin(j)*$,-Math.sin(j)*V,Math.cos(j)*V,x.x,x.y]);K.multiplySelf(new DOMMatrix(x.shape.matrix));var ee=b.createPattern(w.transform(x.shape.bitmap),"no-repeat");ee.setTransform(K),b.globalAlpha=1-k,b.fillStyle=ee,b.fillRect(x.x-Z/2,x.y-q/2,Z,q),b.globalAlpha=1}else if(x.shape==="circle")b.ellipse?b.ellipse(x.x,x.y,Math.abs(L-I)*x.ovalScalar,Math.abs(F-D)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):z(b,x.x,x.y,Math.abs(L-I)*x.ovalScalar,Math.abs(F-D)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var B=Math.PI/2*3,ue=4*x.scalar,pe=8*x.scalar,me=x.x,we=x.y,ye=5,Ae=Math.PI/ye;ye--;)me=x.x+Math.cos(B)*pe,we=x.y+Math.sin(B)*pe,b.lineTo(me,we),B+=Ae,me=x.x+Math.cos(B)*ue,we=x.y+Math.sin(B)*ue,b.lineTo(me,we),B+=Ae;else b.moveTo(Math.floor(x.x),Math.floor(x.y)),b.lineTo(Math.floor(x.wobbleX),Math.floor(D)),b.lineTo(Math.floor(L),Math.floor(F)),b.lineTo(Math.floor(I),Math.floor(x.wobbleY));return b.closePath(),b.fill(),x.tick<x.totalTicks}function ae(b,x,k,I,D){var L=x.slice(),F=b.getContext("2d"),j,$,V=m(function(Z){function q(){j=$=null,F.clearRect(0,0,I.width,I.height),w.clear(),D(),Z()}function K(){r&&!(I.width===o.width&&I.height===o.height)&&(I.width=b.width=o.width,I.height=b.height=o.height),!I.width&&!I.height&&(k(b),I.width=b.width,I.height=b.height),F.clearRect(0,0,I.width,I.height),L=L.filter(function(ee){return re(F,ee)}),L.length?j=a.frame(K):q()}j=a.frame(K),$=q});return{addFettis:function(Z){return L=L.concat(Z),V},canvas:b,promise:V,reset:function(){j&&a.cancel(j),$&&$()}}}function W(b,x){var k=!b,I=!!v(x||{},"resize"),D=!1,L=v(x,"disableForReducedMotion",Boolean),F=i&&!!v(x||{},"useWorker"),j=F?s():null,$=k?N:O,V=b&&j?!!b.__confetti_initialized:!1,Z=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,q;function K(B,ue,pe){for(var me=v(B,"particleCount",g),we=v(B,"angle",Number),ye=v(B,"spread",Number),Ae=v(B,"startVelocity",Number),xi=v(B,"decay",Number),_i=v(B,"gravity",Number),bi=v(B,"drift",Number),Yn=v(B,"colors",S),Ai=v(B,"ticks",Number),Zn=v(B,"shapes"),Ci=v(B,"scalar"),Si=!!v(B,"flat"),Kn=T(B),Jn=me,Yt=[],Pi=b.width*Kn.x,Ei=b.height*Kn.y;Jn--;)Yt.push(J({x:Pi,y:Ei,angle:we,spread:ye,startVelocity:Ae,color:Yn[Jn%Yn.length],shape:Zn[_(0,Zn.length)],ticks:Ai,decay:xi,gravity:_i,drift:bi,scalar:Ci,flat:Si}));return q?q.addFettis(Yt):(q=ae(b,Yt,$,ue,pe),q.promise)}function ee(B){var ue=L||v(B,"disableForReducedMotion",Boolean),pe=v(B,"zIndex",Number);if(ue&&Z)return m(function(Ae){Ae()});k&&q?b=q.canvas:k&&!b&&(b=R(pe),document.body.appendChild(b)),I&&!V&&$(b);var me={width:b.width,height:b.height};j&&!V&&j.init(b),V=!0,j&&(b.__confetti_initialized=!0);function we(){if(j){var Ae={getBoundingClientRect:function(){if(!k)return b.getBoundingClientRect()}};$(Ae),j.postMessage({resize:{width:Ae.width,height:Ae.height}});return}me.width=me.height=null}function ye(){q=null,I&&(D=!1,n.removeEventListener("resize",we)),k&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,V=!1)}return I&&!D&&(D=!0,n.addEventListener("resize",we,!1)),j?j.fire(B,me,ye):K(B,me,ye)}return ee.reset=function(){j&&j.reset(),q&&q.reset()},ee}var X;function Y(){return X||(X=W(null,{useWorker:!0,resize:!0})),X}function H(b,x,k,I,D,L,F){var j=new Path2D(b),$=new Path2D;$.addPath(j,new DOMMatrix(x));var V=new Path2D;return V.addPath($,new DOMMatrix([Math.cos(F)*D,Math.sin(F)*D,-Math.sin(F)*L,Math.cos(F)*L,k,I])),V}function ne(b){if(!c)throw new Error("path confetti are not supported in this browser");var x,k;typeof b=="string"?x=b:(x=b.path,k=b.matrix);var I=new Path2D(x),D=document.createElement("canvas"),L=D.getContext("2d");if(!k){for(var F=1e3,j=F,$=F,V=0,Z=0,q,K,ee=0;ee<F;ee+=2)for(var B=0;B<F;B+=2)L.isPointInPath(I,ee,B,"nonzero")&&(j=Math.min(j,ee),$=Math.min($,B),V=Math.max(V,ee),Z=Math.max(Z,B));q=V-j,K=Z-$;var ue=10,pe=Math.min(ue/q,ue/K);k=[pe,0,0,pe,-Math.round(q/2+j)*pe,-Math.round(K/2+$)*pe]}return{type:"path",path:x,matrix:k}}function oe(b){var x,k=1,I="#000000",D='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?x=b:(x=b.text,k="scalar"in b?b.scalar:k,D="fontFamily"in b?b.fontFamily:D,I="color"in b?b.color:I);var L=10*k,F=""+L+"px "+D,j=new OffscreenCanvas(L,L),$=j.getContext("2d");$.font=F;var V=$.measureText(x),Z=Math.ceil(V.actualBoundingBoxRight+V.actualBoundingBoxLeft),q=Math.ceil(V.actualBoundingBoxAscent+V.actualBoundingBoxDescent),K=2,ee=V.actualBoundingBoxLeft+K,B=V.actualBoundingBoxAscent+K;Z+=K+K,q+=K+K,j=new OffscreenCanvas(Z,q),$=j.getContext("2d"),$.font=F,$.fillStyle=I,$.fillText(x,ee,B);var ue=1/k;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[ue,0,0,ue,-Z*ue/2,-q*ue/2]}}t.exports=function(){return Y().apply(this,arguments)},t.exports.reset=function(){Y().reset()},t.exports.create=W,t.exports.shapeFromPath=ne,t.exports.shapeFromText=oe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),$n,!1);const Ft=$n.exports;$n.exports.create;const Gt=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?Ft.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):Ft)({...e})};Gt.shapeFromPath=e=>Ft.shapeFromPath({...e});Gt.shapeFromText=e=>Ft.shapeFromText({...e});const rl=()=>{const n=Date.now()+5e3,t={startVelocity:30,spread:360,ticks:60,zIndex:0},r=(i,c)=>Math.random()*(c-i)+i,o=window.setInterval(()=>{const i=n-Date.now();if(i<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((d,p)=>{p>0&&d.remove()}),clearInterval(o);const c=50*(i/5e3);Gt({...t,particleCount:c,zIndex:50,origin:{x:r(.1,.3),y:Math.random()-.2}}),Gt({...t,particleCount:c,zIndex:50,origin:{x:r(.7,.9),y:Math.random()-.2}})},250)},al=e=>{const n=se(c=>({shadows:c.shadows,animation:c.animations,transparency:c.transparency})),[t,r]=Te(c=>[c.setCardGameVisibility,c.toggleSettings]),o=ve(c=>({isGameOver:c.isGameOver,isWon:c.isWon,reason:c.reason,score:c.score,reset:c.reset,continue:c.enableInfinityMode})),i=Ur.sort((c,d)=>d.score-c.score).findIndex(({score:c})=>o.score>=c);return E.useEffect(()=>{o.isGameOver&&o.isWon&&n.animation&&e.show&&(ce.victory.play(),rl())},[o.isGameOver,o.isWon,n.animation,e.show]),u.jsx("div",{className:e.show?"block":"hidden",children:o.isGameOver&&u.jsx("div",{className:P("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":n.transparency,"bg-background":!n.transparency}),children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[u.jsxs(Vr,{className:"flex flex-col select-none",max:10,reverse:!0,children:[u.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),u.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[o.isWon&&u.jsx("div",{className:"text-green-500",children:"Vous avez gagné !"}),!o.isWon&&u.jsx("div",{className:"text-red-500",children:"Vous avez perdu !"})]})]}),o.reason&&u.jsx("p",{className:"text-4xl",children:{reputation:"Vous avez utilisé toute votre jauge de réputation...",mill:"Vous n'avez plus de carte...","soft-lock":"Votre main est injouable..."}[o.reason]}),o.isWon?u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Ra,{className:"*:h-10 text-3xl"}),u.jsx("div",{className:P("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":n.shadows&&n.transparency,"bg-card/50":n.transparency,"bg-card":!n.transparency}),children:i>=0?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-3xl",children:["Rank:"," ",u.jsxs("span",{className:P("font-changa text-4xl",dn(i)),children:["# ",i+1]})]}),u.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[u.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contactez-moi"})," ","pour ",u.jsx("br",{})," soumettre votre score !"]})]}):u.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Vous n'êtes pas classé, ",u.jsx("br",{})," votre score est trop faible. ",u.jsx("br",{})," Essayez"," ",fe.difficulty==="noob"||fe.difficulty==="easy"?u.jsxs(u.Fragment,{children:["une difficulté plus élevée ! ",u.jsx("br",{}),u.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:r,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):u.jsx("div",{className:"text-2xl group/helpers",children:Pt.filter(c=>{switch(o.reason){case"reputation":return c.includes("@reputation")||c.includes("gagnez la partie");case"mill":return c.includes("plus jouer")||c.includes("défausse")||c.includes("limitée")||c.includes("gagnez la partie");case"soft-lock":return c.includes("plus jouer")||c.includes("progressivement")||c.includes("cartes à jouer")||c.includes("gagnez la partie");default:return!1}}).map((c,d)=>u.jsx("div",{className:P("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":n.animation}),children:u.jsx("p",{className:P("hover:text-foreground",{[P("animate-trigger",{"delay-0":d===0,"delay-100":d===1,"delay-200":d===2,"delay-300":d===3,"delay-500":d===4,"delay-700":d===5})]:n.animation}),dangerouslySetInnerHTML:{__html:Fe(c)}})},d))}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Pe,{onClick:()=>t(!1),variant:"default",children:"Quitter"}),u.jsx(Pe,{onClick:()=>o.reset(),variant:o.isWon?"default":"cta",size:o.isWon?"default":"cta",children:o.isWon?"Nouvelle partie":"Recommencer"}),o.isWon&&u.jsx(Pe,{onClick:()=>o.continue(),variant:"cta",size:"cta",children:"Mode infini"})]}),o.isWon&&u.jsx("div",{className:P({"animate-bounce w-full hover:duration-500":n.animation}),children:u.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:P("text-xl block mx-auto w-[300px] text-center border-2 border-upgrade rounded-xl py-3",{"transition-colors duration-500 ease-in-out":n.animation,"bg-card/50 hover:bg-card":n.transparency,"bg-card":!n.transparency}),children:"Buy me a coffee ☕️"})})]})})})},ol=e=>{const n=se(o=>o.animations),t=ve(o=>o.reset),r=Te(o=>()=>o.setCardGameVisibility(!1));return u.jsx("div",{className:P("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":n,"-bottom-12":e.show,"delay-500":e.delay&&n}),children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Pe,{onClick:()=>r(),variant:"default",children:"Revenir à l'accueil"}),u.jsx(Pe,{onClick:()=>t(),variant:"default",children:"Recommencer"})]})})},en=10,il=e=>{const n=ve(t=>t.logs.toReversed());return u.jsx("div",{className:P("absolute right-0 bottom-0 translate-x-full pointer-events-none",{hidden:!e.show}),children:u.jsx("table",{children:u.jsx("tbody",{children:new Array(en).fill(0).map((t,r)=>{const o=n.slice()[en-1-r];return o?u.jsxs("tr",{style:{opacity:r/en},children:[u.jsx("td",{children:u.jsx(xs,{item:o.reason})}),u.jsx("td",{className:"pb-1.5",children:u.jsx("span",{className:P("inline-block ring-2",o.value>0?"ring-green-500":"ring-red-500",o.type==="money"?"":"rounded-full"),children:o.type==="money"?u.jsx(Wr,{miniature:!0,value:String(o.value)}):u.jsx(ht,{miniature:!0,symbol:!0,value:o.value,colors:P({"bg-reputation":o.type==="reputation","bg-energy":o.type==="energy"})})})})]},r):u.jsxs("tr",{children:[u.jsx("td",{className:"pb-1.5",children:u.jsx("span",{className:"inline-block h-7"})}),u.jsx("td",{})]},r)})})})})},sl=e=>{const{shadows:n,animation:t}=se(d=>({shadows:d.shadows,animation:d.animations})),[r,o]=E.useState(!0),[i,c]=E.useState(!1);return E.useEffect(()=>{e.show?(c(!0),o(!1)):(o(!0),c(!1))},[e.show]),u.jsxs("div",{className:P("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"delay-500":i&&t,"translate-x-0":e.show}),children:[u.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":n})}),u.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":n})}),u.jsx(ol,{show:e.show,delay:r}),u.jsx(il,{show:e.show}),u.jsx(mt,{className:"space-y-2 w-[400px]",children:u.jsx(Ra,{className:"*:h-6 text-lg",forHUD:!0})})]})};function cl(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const ll=e=>{const n=E.useRef(null),t=Ir(n),{animation:r,shadow:o,transparency:i}=se(p=>({animation:p.animations,transparency:p.transparency,shadow:p.shadows})),[c,d]=E.useState(0);return E.useEffect(()=>{const p=setInterval(()=>{t||d((c+1)%Pt.length)},5e3);return()=>clearInterval(p)},[c,t]),u.jsx("div",{ref:n,className:P("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":i,"bg-card":!i,"shadow shadow-black/50":o&&i,"transition-transform duration-500 ease-in-out":r,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>d((c+1)%Pt.length),children:u.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:u.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[u.jsx(cl,{className:"h-6 cursor-pointer"}),u.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:Fe(Pt[c])}})]})})})},ul=e=>{const n=ve(({masks:o})=>o),t=se(({transparency:o,animations:i})=>o&&i),r=E.useMemo(()=>{const i=`<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">${n.map(c=>`<rect x="${c.x}" y="${c.y}" width="${c.width}" height="${c.height}" fill="white" />`).join("")}</svg>`;return`data:image/svg+xml;base64,${btoa(i)}`},[n]);return!t&&e.show?null:u.jsx("div",{style:{mask:`url(${r})`,WebkitMask:`url(${r})`},className:P("absolute inset-0 bg-black/50 pointer-events-none opacity-0 transition-opacity duration-100",{"opacity-100":n.length>0})})};function dl(e){return E.createElement("div",{...e,className:P("w-full h-full aspect-square text-foreground",e.className),style:e.style},E.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const fl=e=>{const{shadows:n,animation:t,transparency:r}=se(o=>({shadows:o.shadows,animation:o.animations,transparency:o.transparency}));return u.jsxs("div",{className:P("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":t,"translate-x-0":e.show}),children:[u.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":n})}),u.jsx("div",{className:P("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":n})}),u.jsx(mt,{children:u.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[u.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),u.jsx("div",{className:P("rounded-xl p-5",{"bg-card/40":r,"bg-card":!r}),children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{}),u.jsx("th",{children:"Rank"}),u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Score"}),u.jsx("th",{children:"Mode"})]})}),u.jsx("tbody",{children:Ur.sort((o,i)=>i.score-o.score).map((o,i)=>u.jsxs("tr",{className:P("*:whitespace-nowrap",dn(i)),children:[u.jsx("td",{children:i<3?u.jsx(dl,{className:P("w-4",dn(i))}):""}),u.jsxs("th",{children:["# ",i+1]}),u.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:o.name}),u.jsxs("td",{children:[o.score.toLocaleString()," pts"]}),u.jsx("td",{children:o.mode})]},i))})]})}),u.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si vous avez un meilleur score, vous pouvez me le ",u.jsx("br",{}),"soumettre en me contactant sur Discord ou LinkedIn !"]})]})})]})};var pl="Label",ka=y.forwardRef((e,n)=>u.jsx(Q.label,{...e,ref:n,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ka.displayName=pl;var Oa=ka;const ml=ki("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vn=y.forwardRef(({className:e,...n},t)=>u.jsx(Oa,{ref:t,className:P(ml(),e),...n}));vn.displayName=Oa.displayName;function ja(e){const n=y.useRef({value:e,previous:e});return y.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var Fn="Checkbox",[hl,Wd]=Me(Fn),[gl,vl]=hl(Fn),Ia=y.forwardRef((e,n)=>{const{__scopeCheckbox:t,name:r,checked:o,defaultChecked:i,required:c,disabled:d,value:p="on",onCheckedChange:m,...w}=e,[a,s]=y.useState(null),l=le(n,A=>s(A)),f=y.useRef(!1),h=a?!!a.closest("form"):!0,[v=!1,g]=gt({prop:o,defaultProp:i,onChange:m}),_=y.useRef(v);return y.useEffect(()=>{const A=a==null?void 0:a.form;if(A){const S=()=>g(_.current);return A.addEventListener("reset",S),()=>A.removeEventListener("reset",S)}},[a,g]),u.jsxs(gl,{scope:t,state:v,disabled:d,children:[u.jsx(Q.button,{type:"button",role:"checkbox","aria-checked":ze(v)?"mixed":v,"aria-required":c,"data-state":$a(v),"data-disabled":d?"":void 0,disabled:d,value:p,...w,ref:l,onKeyDown:U(e.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:U(e.onClick,A=>{g(S=>ze(S)?!0:!S),h&&(f.current=A.isPropagationStopped(),f.current||A.stopPropagation())})}),h&&u.jsx(yl,{control:a,bubbles:!f.current,name:r,value:p,checked:v,required:c,disabled:d,style:{transform:"translateX(-100%)"}})]})});Ia.displayName=Fn;var Da="CheckboxIndicator",La=y.forwardRef((e,n)=>{const{__scopeCheckbox:t,forceMount:r,...o}=e,i=vl(Da,t);return u.jsx(Xe,{present:r||ze(i.state)||i.state===!0,children:u.jsx(Q.span,{"data-state":$a(i.state),"data-disabled":i.disabled?"":void 0,...o,ref:n,style:{pointerEvents:"none",...e.style}})})});La.displayName=Da;var yl=e=>{const{control:n,checked:t,bubbles:r=!0,...o}=e,i=y.useRef(null),c=ja(t),d=kn(n);return y.useEffect(()=>{const p=i.current,m=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==t&&a){const s=new Event("click",{bubbles:r});p.indeterminate=ze(t),a.call(p,ze(t)?!1:t),p.dispatchEvent(s)}},[c,t,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:ze(t)?!1:t,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ze(e){return e==="indeterminate"}function $a(e){return ze(e)?"indeterminate":e?"checked":"unchecked"}var Fa=Ia,wl=La;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ga=(...e)=>e.filter((n,t,r)=>!!n&&r.indexOf(n)===t).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=y.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:c,...d},p)=>y.createElement("svg",{ref:p,..._l,width:n,height:n,stroke:e,strokeWidth:r?Number(t)*24/Number(n):t,className:Ga("lucide",o),...d},[...c.map(([m,w])=>y.createElement(m,w)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=(e,n)=>{const t=y.forwardRef(({className:r,...o},i)=>y.createElement(bl,{ref:i,iconNode:n,className:Ga(`lucide-${xl(e)}`,r),...o}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ba("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ba("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ha=y.forwardRef(({className:e,...n},t)=>u.jsx(Fa,{ref:t,className:P("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:u.jsx(wl,{className:P("flex items-center justify-center text-current"),children:u.jsx(Al,{className:"h-4 w-4"})})}));Ha.displayName=Fa.displayName;function Sl(e){const n=e+"CollectionProvider",[t,r]=Me(n),[o,i]=t(n,{collectionRef:{current:null},itemMap:new Map}),c=l=>{const{scope:f,children:h}=l,v=E.useRef(null),g=E.useRef(new Map).current;return u.jsx(o,{scope:f,itemMap:g,collectionRef:v,children:h})};c.displayName=n;const d=e+"CollectionSlot",p=E.forwardRef((l,f)=>{const{scope:h,children:v}=l,g=i(d,h),_=le(f,g.collectionRef);return u.jsx(Rt,{ref:_,children:v})});p.displayName=d;const m=e+"CollectionItemSlot",w="data-radix-collection-item",a=E.forwardRef((l,f)=>{const{scope:h,children:v,...g}=l,_=E.useRef(null),A=le(f,_),S=i(m,h);return E.useEffect(()=>(S.itemMap.set(_,{ref:_,...g}),()=>void S.itemMap.delete(_))),u.jsx(Rt,{[w]:"",ref:A,children:v})});a.displayName=m;function s(l){const f=i(e+"CollectionConsumer",l);return E.useCallback(()=>{const v=f.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${w}]`));return Array.from(f.itemMap.values()).sort((S,M)=>g.indexOf(S.ref.current)-g.indexOf(M.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:c,Slot:p,ItemSlot:a},s,r]}var Pl=Oi.useId||(()=>{}),El=0;function Mt(e){const[n,t]=y.useState(Pl());return Ue(()=>{t(r=>r??String(El++))},[e]),n?`radix-${n}`:""}var Ml=y.createContext(void 0);function Wa(e){const n=y.useContext(Ml);return e||n||"ltr"}var tn="rovingFocusGroup.onEntryFocus",Nl={bubbles:!1,cancelable:!0},qt="RovingFocusGroup",[yn,za,Tl]=Sl(qt),[Rl,Va]=Me(qt,[Tl]),[kl,Ol]=Rl(qt),Ua=y.forwardRef((e,n)=>u.jsx(yn.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(yn.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(jl,{...e,ref:n})})}));Ua.displayName=qt;var jl=y.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:w=!1,...a}=e,s=y.useRef(null),l=le(n,s),f=Wa(i),[h=null,v]=gt({prop:c,defaultProp:d,onChange:p}),[g,_]=y.useState(!1),A=Re(m),S=za(t),M=y.useRef(!1),[T,N]=y.useState(0);return y.useEffect(()=>{const O=s.current;if(O)return O.addEventListener(tn,A),()=>O.removeEventListener(tn,A)},[A]),u.jsx(kl,{scope:t,orientation:r,dir:f,loop:o,currentTabStopId:h,onItemFocus:y.useCallback(O=>v(O),[v]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>N(O=>O+1),[]),onFocusableItemRemove:y.useCallback(()=>N(O=>O-1),[]),children:u.jsx(Q.div,{tabIndex:g||T===0?-1:0,"data-orientation":r,...a,ref:l,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{M.current=!0}),onFocus:U(e.onFocus,O=>{const R=!M.current;if(O.target===O.currentTarget&&R&&!g){const z=new CustomEvent(tn,Nl);if(O.currentTarget.dispatchEvent(z),!z.defaultPrevented){const J=S().filter(Y=>Y.focusable),re=J.find(Y=>Y.active),ae=J.find(Y=>Y.id===h),X=[re,ae,...J].filter(Boolean).map(Y=>Y.ref.current);Ya(X,w)}}M.current=!1}),onBlur:U(e.onBlur,()=>_(!1))})})}),qa="RovingFocusGroupItem",Xa=y.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:i,...c}=e,d=Mt(),p=i||d,m=Ol(qa,t),w=m.currentTabStopId===p,a=za(t),{onFocusableItemAdd:s,onFocusableItemRemove:l}=m;return y.useEffect(()=>{if(r)return s(),()=>l()},[r,s,l]),u.jsx(yn.ItemSlot,{scope:t,id:p,focusable:r,active:o,children:u.jsx(Q.span,{tabIndex:w?0:-1,"data-orientation":m.orientation,...c,ref:n,onMouseDown:U(e.onMouseDown,f=>{r?m.onItemFocus(p):f.preventDefault()}),onFocus:U(e.onFocus,()=>m.onItemFocus(p)),onKeyDown:U(e.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){m.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const h=Ll(f,m.orientation,m.dir);if(h!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let g=a().filter(_=>_.focusable).map(_=>_.ref.current);if(h==="last")g.reverse();else if(h==="prev"||h==="next"){h==="prev"&&g.reverse();const _=g.indexOf(f.currentTarget);g=m.loop?$l(g,_+1):g.slice(_+1)}setTimeout(()=>Ya(g))}})})})});Xa.displayName=qa;var Il={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dl(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ll(e,n,t){const r=Dl(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Il[r]}function Ya(e,n=!1){const t=document.activeElement;for(const r of e)if(r===t||(r.focus({preventScroll:n}),document.activeElement!==t))return}function $l(e,n){return e.map((t,r)=>e[(n+r)%e.length])}var Fl=Ua,Gl=Xa,Gn="Radio",[Bl,Za]=Me(Gn),[Hl,Wl]=Bl(Gn),Ka=y.forwardRef((e,n)=>{const{__scopeRadio:t,name:r,checked:o=!1,required:i,disabled:c,value:d="on",onCheck:p,...m}=e,[w,a]=y.useState(null),s=le(n,h=>a(h)),l=y.useRef(!1),f=w?!!w.closest("form"):!0;return u.jsxs(Hl,{scope:t,checked:o,disabled:c,children:[u.jsx(Q.button,{type:"button",role:"radio","aria-checked":o,"data-state":eo(o),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:s,onClick:U(e.onClick,h=>{o||p==null||p(),f&&(l.current=h.isPropagationStopped(),l.current||h.stopPropagation())})}),f&&u.jsx(zl,{control:w,bubbles:!l.current,name:r,value:d,checked:o,required:i,disabled:c,style:{transform:"translateX(-100%)"}})]})});Ka.displayName=Gn;var Ja="RadioIndicator",Qa=y.forwardRef((e,n)=>{const{__scopeRadio:t,forceMount:r,...o}=e,i=Wl(Ja,t);return u.jsx(Xe,{present:r||i.checked,children:u.jsx(Q.span,{"data-state":eo(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:n})})});Qa.displayName=Ja;var zl=e=>{const{control:n,checked:t,bubbles:r=!0,...o}=e,i=y.useRef(null),c=ja(t),d=kn(n);return y.useEffect(()=>{const p=i.current,m=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==t&&a){const s=new Event("click",{bubbles:r});a.call(p,t),p.dispatchEvent(s)}},[c,t,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eo(e){return e?"checked":"unchecked"}var Vl=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bn="RadioGroup",[Ul,zd]=Me(Bn,[Va,Za]),to=Va(),no=Za(),[ql,Xl]=Ul(Bn),ro=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,name:r,defaultValue:o,value:i,required:c=!1,disabled:d=!1,orientation:p,dir:m,loop:w=!0,onValueChange:a,...s}=e,l=to(t),f=Wa(m),[h,v]=gt({prop:i,defaultProp:o,onChange:a});return u.jsx(ql,{scope:t,name:r,required:c,disabled:d,value:h,onValueChange:v,children:u.jsx(Fl,{asChild:!0,...l,orientation:p,dir:f,loop:w,children:u.jsx(Q.div,{role:"radiogroup","aria-required":c,"aria-orientation":p,"data-disabled":d?"":void 0,dir:f,...s,ref:n})})})});ro.displayName=Bn;var ao="RadioGroupItem",oo=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,disabled:r,...o}=e,i=Xl(ao,t),c=i.disabled||r,d=to(t),p=no(t),m=y.useRef(null),w=le(n,m),a=i.value===o.value,s=y.useRef(!1);return y.useEffect(()=>{const l=h=>{Vl.includes(h.key)&&(s.current=!0)},f=()=>s.current=!1;return document.addEventListener("keydown",l),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",f)}},[]),u.jsx(Gl,{asChild:!0,...d,focusable:!c,active:a,children:u.jsx(Ka,{disabled:c,required:i.required,checked:a,...p,...o,name:i.name,ref:w,onCheck:()=>i.onValueChange(o.value),onKeyDown:U(l=>{l.key==="Enter"&&l.preventDefault()}),onFocus:U(o.onFocus,()=>{var l;s.current&&((l=m.current)==null||l.click())})})})});oo.displayName=ao;var Yl="RadioGroupIndicator",io=y.forwardRef((e,n)=>{const{__scopeRadioGroup:t,...r}=e,o=no(t);return u.jsx(Qa,{...o,...r,ref:n})});io.displayName=Yl;var so=ro,co=oo,Zl=io;const lo=y.forwardRef(({className:e,...n},t)=>u.jsx(so,{className:P("grid gap-2",e),...n,ref:t}));lo.displayName=so.displayName;const uo=y.forwardRef(({className:e,...n},t)=>u.jsx(co,{ref:t,className:P("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:u.jsx(Zl,{className:"flex items-center justify-center",children:u.jsx(Cl,{className:"h-2.5 w-2.5 fill-current text-current"})})}));uo.displayName=co.displayName;var nn="focusScope.autoFocusOnMount",rn="focusScope.autoFocusOnUnmount",Ar={bubbles:!1,cancelable:!0},Kl="FocusScope",fo=y.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...c}=e,[d,p]=y.useState(null),m=Re(o),w=Re(i),a=y.useRef(null),s=le(n,h=>p(h)),l=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let h=function(A){if(l.paused||!d)return;const S=A.target;d.contains(S)?a.current=S:$e(a.current,{select:!0})},v=function(A){if(l.paused||!d)return;const S=A.relatedTarget;S!==null&&(d.contains(S)||$e(a.current,{select:!0}))},g=function(A){if(document.activeElement===document.body)for(const M of A)M.removedNodes.length>0&&$e(d)};document.addEventListener("focusin",h),document.addEventListener("focusout",v);const _=new MutationObserver(g);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",v),_.disconnect()}}},[r,d,l.paused]),y.useEffect(()=>{if(d){Sr.add(l);const h=document.activeElement;if(!d.contains(h)){const g=new CustomEvent(nn,Ar);d.addEventListener(nn,m),d.dispatchEvent(g),g.defaultPrevented||(Jl(ru(po(d)),{select:!0}),document.activeElement===h&&$e(d))}return()=>{d.removeEventListener(nn,m),setTimeout(()=>{const g=new CustomEvent(rn,Ar);d.addEventListener(rn,w),d.dispatchEvent(g),g.defaultPrevented||$e(h??document.body,{select:!0}),d.removeEventListener(rn,w),Sr.remove(l)},0)}}},[d,m,w,l]);const f=y.useCallback(h=>{if(!t&&!r||l.paused)return;const v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(v&&g){const _=h.currentTarget,[A,S]=Ql(_);A&&S?!h.shiftKey&&g===S?(h.preventDefault(),t&&$e(A,{select:!0})):h.shiftKey&&g===A&&(h.preventDefault(),t&&$e(S,{select:!0})):g===_&&h.preventDefault()}},[t,r,l.paused]);return u.jsx(Q.div,{tabIndex:-1,...c,ref:s,onKeyDown:f})});fo.displayName=Kl;function Jl(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if($e(r,{select:n}),document.activeElement!==t)return}function Ql(e){const n=po(e),t=Cr(n,e),r=Cr(n.reverse(),e);return[t,r]}function po(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Cr(e,n){for(const t of e)if(!eu(t,{upTo:n}))return t}function eu(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tu(e){return e instanceof HTMLInputElement&&"select"in e}function $e(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&tu(e)&&n&&e.select()}}var Sr=nu();function nu(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Pr(e,n),e.unshift(n)},remove(n){var t;e=Pr(e,n),(t=e[0])==null||t.resume()}}}function Pr(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function ru(e){return e.filter(n=>n.tagName!=="A")}var an=0;function au(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Er()),document.body.insertAdjacentElement("beforeend",e[1]??Er()),an++,()=>{an===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),an--}},[])}function Er(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ce=function(){return Ce=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ce.apply(this,arguments)};function mo(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function ou(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,i;r<o;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return e.concat(i||Array.prototype.slice.call(n))}var Nt="right-scroll-bar-position",Tt="width-before-scroll-bar",iu="with-scroll-bars-hidden",su="--removed-body-scroll-bar-size";function on(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function cu(e,n){var t=y.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var lu=typeof window<"u"?y.useLayoutEffect:y.useEffect,Mr=new WeakMap;function uu(e,n){var t=cu(null,function(r){return e.forEach(function(o){return on(o,r)})});return lu(function(){var r=Mr.get(t);if(r){var o=new Set(r),i=new Set(e),c=t.current;o.forEach(function(d){i.has(d)||on(d,null)}),i.forEach(function(d){o.has(d)||on(d,c)})}Mr.set(t,e)},[e]),t}function du(e){return e}function fu(e,n){n===void 0&&(n=du);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var c=n(i,r);return t.push(c),function(){t=t.filter(function(d){return d!==c})}},assignSyncMedium:function(i){for(r=!0;t.length;){var c=t;t=[],c.forEach(i)}t={push:function(d){return i(d)},filter:function(){return t}}},assignMedium:function(i){r=!0;var c=[];if(t.length){var d=t;t=[],d.forEach(i),c=t}var p=function(){var w=c;c=[],w.forEach(i)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(w){c.push(w),m()},filter:function(w){return c=c.filter(w),t}}}};return o}function pu(e){e===void 0&&(e={});var n=fu(null);return n.options=Ce({async:!0,ssr:!1},e),n}var ho=function(e){var n=e.sideCar,t=mo(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Ce({},t))};ho.isSideCarExport=!0;function mu(e,n){return e.useMedium(n),ho}var go=pu(),sn=function(){},Xt=y.forwardRef(function(e,n){var t=y.useRef(null),r=y.useState({onScrollCapture:sn,onWheelCapture:sn,onTouchMoveCapture:sn}),o=r[0],i=r[1],c=e.forwardProps,d=e.children,p=e.className,m=e.removeScrollBar,w=e.enabled,a=e.shards,s=e.sideCar,l=e.noIsolation,f=e.inert,h=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,_=e.gapMode,A=mo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=s,M=uu([t,n]),T=Ce(Ce({},A),o);return y.createElement(y.Fragment,null,w&&y.createElement(S,{sideCar:go,removeScrollBar:m,shards:a,noIsolation:l,inert:f,setCallbacks:i,allowPinchZoom:!!h,lockRef:t,gapMode:_}),c?y.cloneElement(y.Children.only(d),Ce(Ce({},T),{ref:M})):y.createElement(g,Ce({},T,{className:p,ref:M}),d))});Xt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xt.classNames={fullWidth:Tt,zeroRight:Nt};var hu=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=hu();return n&&e.setAttribute("nonce",n),e}function vu(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function yu(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var wu=function(){var e=0,n=null;return{add:function(t){e==0&&(n=gu())&&(vu(n,t),yu(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},xu=function(){var e=wu();return function(n,t){y.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},vo=function(){var e=xu(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},_u={left:0,top:0,right:0,gap:0},cn=function(e){return parseInt(e||"",10)||0},bu=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[cn(t),cn(r),cn(o)]},Au=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _u;var n=bu(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},Cu=vo(),tt="data-scroll-locked",Su=function(e,n,t,r){var o=e.left,i=e.top,c=e.right,d=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(iu,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(tt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nt,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Tt,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Nt," .").concat(Nt,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tt," .").concat(Tt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tt,`] {
    `).concat(su,": ").concat(d,`px;
  }
`)},Nr=function(){var e=parseInt(document.body.getAttribute(tt)||"0",10);return isFinite(e)?e:0},Pu=function(){y.useEffect(function(){return document.body.setAttribute(tt,(Nr()+1).toString()),function(){var e=Nr()-1;e<=0?document.body.removeAttribute(tt):document.body.setAttribute(tt,e.toString())}},[])},Eu=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Pu();var i=y.useMemo(function(){return Au(o)},[o]);return y.createElement(Cu,{styles:Su(i,!n,o,t?"":"!important")})},wn=!1;if(typeof window<"u")try{var bt=Object.defineProperty({},"passive",{get:function(){return wn=!0,!0}});window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{wn=!1}var Ye=wn?{passive:!1}:!1,Mu=function(e){return e.tagName==="TEXTAREA"},yo=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!Mu(e)&&t[n]==="visible")},Nu=function(e){return yo(e,"overflowY")},Tu=function(e){return yo(e,"overflowX")},Tr=function(e,n){var t=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=wo(e,r);if(o){var i=xo(e,r),c=i[1],d=i[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Ru=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},ku=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},wo=function(e,n){return e==="v"?Nu(n):Tu(n)},xo=function(e,n){return e==="v"?Ru(n):ku(n)},Ou=function(e,n){return e==="h"&&n==="rtl"?-1:1},ju=function(e,n,t,r,o){var i=Ou(e,window.getComputedStyle(n).direction),c=i*r,d=t.target,p=n.contains(d),m=!1,w=c>0,a=0,s=0;do{var l=xo(e,d),f=l[0],h=l[1],v=l[2],g=h-v-i*f;(f||g)&&wo(e,d)&&(a+=g,s+=f),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!p&&d!==document.body||p&&(n.contains(d)||n===d));return(w&&(Math.abs(a)<1||!o)||!w&&(Math.abs(s)<1||!o))&&(m=!0),m},At=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rr=function(e){return[e.deltaX,e.deltaY]},kr=function(e){return e&&"current"in e?e.current:e},Iu=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Du=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lu=0,Ze=[];function $u(e){var n=y.useRef([]),t=y.useRef([0,0]),r=y.useRef(),o=y.useState(Lu++)[0],i=y.useState(vo)[0],c=y.useRef(e);y.useEffect(function(){c.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=ou([e.lockRef.current],(e.shards||[]).map(kr),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=y.useCallback(function(h,v){if("touches"in h&&h.touches.length===2)return!c.current.allowPinchZoom;var g=At(h),_=t.current,A="deltaX"in h?h.deltaX:_[0]-g[0],S="deltaY"in h?h.deltaY:_[1]-g[1],M,T=h.target,N=Math.abs(A)>Math.abs(S)?"h":"v";if("touches"in h&&N==="h"&&T.type==="range")return!1;var O=Tr(N,T);if(!O)return!0;if(O?M=N:(M=N==="v"?"h":"v",O=Tr(N,T)),!O)return!1;if(!r.current&&"changedTouches"in h&&(A||S)&&(r.current=M),!M)return!0;var R=r.current||M;return ju(R,v,h,R==="h"?A:S,!0)},[]),p=y.useCallback(function(h){var v=h;if(!(!Ze.length||Ze[Ze.length-1]!==i)){var g="deltaY"in v?Rr(v):At(v),_=n.current.filter(function(M){return M.name===v.type&&(M.target===v.target||v.target===M.shadowParent)&&Iu(M.delta,g)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var A=(c.current.shards||[]).map(kr).filter(Boolean).filter(function(M){return M.contains(v.target)}),S=A.length>0?d(v,A[0]):!c.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),m=y.useCallback(function(h,v,g,_){var A={name:h,delta:v,target:g,should:_,shadowParent:Fu(g)};n.current.push(A),setTimeout(function(){n.current=n.current.filter(function(S){return S!==A})},1)},[]),w=y.useCallback(function(h){t.current=At(h),r.current=void 0},[]),a=y.useCallback(function(h){m(h.type,Rr(h),h.target,d(h,e.lockRef.current))},[]),s=y.useCallback(function(h){m(h.type,At(h),h.target,d(h,e.lockRef.current))},[]);y.useEffect(function(){return Ze.push(i),e.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:s}),document.addEventListener("wheel",p,Ye),document.addEventListener("touchmove",p,Ye),document.addEventListener("touchstart",w,Ye),function(){Ze=Ze.filter(function(h){return h!==i}),document.removeEventListener("wheel",p,Ye),document.removeEventListener("touchmove",p,Ye),document.removeEventListener("touchstart",w,Ye)}},[]);var l=e.removeScrollBar,f=e.inert;return y.createElement(y.Fragment,null,f?y.createElement(i,{styles:Du(o)}):null,l?y.createElement(Eu,{gapMode:e.gapMode}):null)}function Fu(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const Gu=mu(go,$u);var _o=y.forwardRef(function(e,n){return y.createElement(Xt,Ce({},e,{ref:n,sideCar:Gu}))});_o.classNames=Xt.classNames;var Bu=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Ke=new WeakMap,Ct=new WeakMap,St={},ln=0,bo=function(e){return e&&(e.host||bo(e.parentNode))},Hu=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=bo(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Wu=function(e,n,t,r){var o=Hu(n,Array.isArray(e)?e:[e]);St[t]||(St[t]=new WeakMap);var i=St[t],c=[],d=new Set,p=new Set(o),m=function(a){!a||d.has(a)||(d.add(a),m(a.parentNode))};o.forEach(m);var w=function(a){!a||p.has(a)||Array.prototype.forEach.call(a.children,function(s){if(d.has(s))w(s);else try{var l=s.getAttribute(r),f=l!==null&&l!=="false",h=(Ke.get(s)||0)+1,v=(i.get(s)||0)+1;Ke.set(s,h),i.set(s,v),c.push(s),h===1&&f&&Ct.set(s,!0),v===1&&s.setAttribute(t,"true"),f||s.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",s,g)}})};return w(n),d.clear(),ln++,function(){c.forEach(function(a){var s=Ke.get(a)-1,l=i.get(a)-1;Ke.set(a,s),i.set(a,l),s||(Ct.has(a)||a.removeAttribute(r),Ct.delete(a)),l||a.removeAttribute(t)}),ln--,ln||(Ke=new WeakMap,Ke=new WeakMap,Ct=new WeakMap,St={})}},zu=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Bu(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Wu(r,o,t,"aria-hidden")):function(){return null}},Hn="Dialog",[Ao,Co]=Me(Hn),[Vu,be]=Ao(Hn),So=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,d=y.useRef(null),p=y.useRef(null),[m=!1,w]=gt({prop:r,defaultProp:o,onChange:i});return u.jsx(Vu,{scope:n,triggerRef:d,contentRef:p,contentId:Mt(),titleId:Mt(),descriptionId:Mt(),open:m,onOpenChange:w,onOpenToggle:y.useCallback(()=>w(a=>!a),[w]),modal:c,children:t})};So.displayName=Hn;var Po="DialogTrigger",Eo=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=be(Po,t),i=le(n,o.triggerRef);return u.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Vn(o.open),...r,ref:i,onClick:U(e.onClick,o.onOpenToggle)})});Eo.displayName=Po;var Wn="DialogPortal",[Uu,Mo]=Ao(Wn,{forceMount:void 0}),No=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:o}=e,i=be(Wn,n);return u.jsx(Uu,{scope:n,forceMount:t,children:y.Children.map(r,c=>u.jsx(Xe,{present:t||i.open,children:u.jsx(wa,{asChild:!0,container:o,children:c})}))})};No.displayName=Wn;var Bt="DialogOverlay",To=y.forwardRef((e,n)=>{const t=Mo(Bt,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,i=be(Bt,e.__scopeDialog);return i.modal?u.jsx(Xe,{present:r||i.open,children:u.jsx(qu,{...o,ref:n})}):null});To.displayName=Bt;var qu=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=be(Bt,t);return u.jsx(_o,{as:Rt,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(Q.div,{"data-state":Vn(o.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),qe="DialogContent",Ro=y.forwardRef((e,n)=>{const t=Mo(qe,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,i=be(qe,e.__scopeDialog);return u.jsx(Xe,{present:r||i.open,children:i.modal?u.jsx(Xu,{...o,ref:n}):u.jsx(Yu,{...o,ref:n})})});Ro.displayName=qe;var Xu=y.forwardRef((e,n)=>{const t=be(qe,e.__scopeDialog),r=y.useRef(null),o=le(n,t.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return zu(i)},[]),u.jsx(ko,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:U(e.onFocusOutside,i=>i.preventDefault())})}),Yu=y.forwardRef((e,n)=>{const t=be(qe,e.__scopeDialog),r=y.useRef(!1),o=y.useRef(!1);return u.jsx(ko,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(r.current||(d=t.triggerRef.current)==null||d.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=i.target;((m=t.triggerRef.current)==null?void 0:m.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),ko=y.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...c}=e,d=be(qe,t),p=y.useRef(null),m=le(n,p);return au(),u.jsxs(u.Fragment,{children:[u.jsx(fo,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(In,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Vn(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Ku,{titleId:d.titleId}),u.jsx(Qu,{contentRef:p,descriptionId:d.descriptionId})]})]})}),zn="DialogTitle",Oo=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=be(zn,t);return u.jsx(Q.h2,{id:o.titleId,...r,ref:n})});Oo.displayName=zn;var jo="DialogDescription",Io=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=be(jo,t);return u.jsx(Q.p,{id:o.descriptionId,...r,ref:n})});Io.displayName=jo;var Do="DialogClose",Lo=y.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=be(Do,t);return u.jsx(Q.button,{type:"button",...r,ref:n,onClick:U(e.onClick,()=>o.onOpenChange(!1))})});Lo.displayName=Do;function Vn(e){return e?"open":"closed"}var $o="DialogTitleWarning",[Zu,Fo]=cs($o,{contentName:qe,titleName:zn,docsSlug:"dialog"}),Ku=({titleId:e})=>{const n=Fo($o),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Ju="DialogDescriptionWarning",Qu=({contentRef:e,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fo(Ju).contentName}}.`;return y.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(r))},[r,e,n]),null},ed=So,td=Eo,nd=No,rd=To,ad=Ro,od=Oo,id=Io,Go=Lo,Bo="AlertDialog",[sd,Vd]=Me(Bo,[Co]),Ie=Co(),Ho=e=>{const{__scopeAlertDialog:n,...t}=e,r=Ie(n);return u.jsx(ed,{...r,...t,modal:!0})};Ho.displayName=Bo;var cd="AlertDialogTrigger",Wo=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ie(t);return u.jsx(td,{...o,...r,ref:n})});Wo.displayName=cd;var ld="AlertDialogPortal",zo=e=>{const{__scopeAlertDialog:n,...t}=e,r=Ie(n);return u.jsx(nd,{...r,...t})};zo.displayName=ld;var ud="AlertDialogOverlay",Vo=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ie(t);return u.jsx(rd,{...o,...r,ref:n})});Vo.displayName=ud;var nt="AlertDialogContent",[dd,fd]=sd(nt),Uo=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,children:r,...o}=e,i=Ie(t),c=y.useRef(null),d=le(n,c),p=y.useRef(null);return u.jsx(Zu,{contentName:nt,titleName:qo,docsSlug:"alert-dialog",children:u.jsx(dd,{scope:t,cancelRef:p,children:u.jsxs(ad,{role:"alertdialog",...i,...o,ref:d,onOpenAutoFocus:U(o.onOpenAutoFocus,m=>{var w;m.preventDefault(),(w=p.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[u.jsx(ji,{children:r}),u.jsx(md,{contentRef:c})]})})})});Uo.displayName=nt;var qo="AlertDialogTitle",Xo=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ie(t);return u.jsx(od,{...o,...r,ref:n})});Xo.displayName=qo;var Yo="AlertDialogDescription",Zo=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ie(t);return u.jsx(id,{...o,...r,ref:n})});Zo.displayName=Yo;var pd="AlertDialogAction",Ko=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,o=Ie(t);return u.jsx(Go,{...o,...r,ref:n})});Ko.displayName=pd;var Jo="AlertDialogCancel",Qo=y.forwardRef((e,n)=>{const{__scopeAlertDialog:t,...r}=e,{cancelRef:o}=fd(Jo,t),i=Ie(t),c=le(n,o);return u.jsx(Go,{...i,...r,ref:c})});Qo.displayName=Jo;var md=({contentRef:e})=>{const n=`\`${nt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nt}\` by passing a \`${Yo}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},hd=Ho,gd=Wo,vd=zo,ei=Vo,ti=Uo,ni=Ko,ri=Qo,ai=Xo,oi=Zo;const yd=hd,wd=gd,xd=vd,ii=y.forwardRef(({className:e,...n},t)=>{const r=se(o=>({transparency:o.transparency,animation:o.animations}));return u.jsx(ei,{className:P("fixed inset-0 z-50",{"bg-black/80":r.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":r.animation},e),...n,ref:t})});ii.displayName=ei.displayName;const si=y.forwardRef(({className:e,...n},t)=>u.jsxs(xd,{children:[u.jsx(ii,{}),u.jsx(ti,{ref:t,className:P("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n})]}));si.displayName=ti.displayName;const ci=({className:e,...n})=>u.jsx("div",{className:P("flex flex-col space-y-2 text-center sm:text-left",e),...n});ci.displayName="AlertDialogHeader";const li=({className:e,...n})=>u.jsx("div",{className:P("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});li.displayName="AlertDialogFooter";const ui=y.forwardRef(({className:e,...n},t)=>u.jsx(ai,{ref:t,className:P("text-lg font-semibold",e),...n}));ui.displayName=ai.displayName;const di=y.forwardRef(({className:e,...n},t)=>u.jsx(oi,{ref:t,className:P("text-sm text-muted-foreground",e),...n}));di.displayName=oi.displayName;const fi=y.forwardRef(({className:e,...n},t)=>u.jsx(ni,{ref:t,className:P(Dr({variant:"cta"}),e),...n}));fi.displayName=ni.displayName;const pi=y.forwardRef(({className:e,...n},t)=>u.jsx(ri,{ref:t,className:P(Dr({variant:"default"}),"mt-2 sm:mt-0",e),...n}));pi.displayName=ri.displayName;const _d=e=>{const[n,t]=E.useState(0);return E.useEffect(()=>{const r=[];let o=!0;function i(){window.requestAnimationFrame(()=>{const c=performance.now();for(;r.length>0&&r[0]<=c-1e3;)r.shift();r.push(c),t(r.length),o&&i()})}return i(),()=>{o=!1}},[]),u.jsxs("span",{...e,children:[n," FPS"]})},bd=e=>{const n=ve(m=>m.score),t=Te(m=>m.toggleSettings),r=se(),[o,i]=E.useState(fe.difficulty),c=y.useMemo(()=>o!==fe.difficulty,[o]),d=y.useMemo(()=>r.animations!==fe.quality.animations||o!==fe.difficulty,[r,o]),p=E.useCallback(()=>{localStorage.setItem("settings",JSON.stringify({difficulty:o,quality:JSON.parse(localStorage.getItem("settings")??JSON.stringify(fe)).quality})),d?window.location.reload():t()},[o,d,t]);return u.jsxs("div",{className:P("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":r.animations,"opacity-0 bg-background/80":r.transparency,hidden:!r.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[u.jsx("div",{onClick:t,className:P("absolute w-full h-full left-0 top-0",{"pointer-events-auto":e.show,"pointer-events-none":!e.show})}),u.jsxs(mt,{className:"space-y-4 z-40",children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("h2",{className:"text-3xl",children:"Settings"}),e.show&&u.jsx(_d,{className:"text-2xl font-mono"})]}),u.jsxs("div",{className:P("flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",{"*:bg-card/30":r.transparency,"*:bg-card":!r.transparency}),children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl",children:"Difficulté"}),u.jsx(lo,{className:"space-y-0 gap-0",defaultValue:o,onValueChange:m=>{i(m)},children:Object.keys(xn).map(m=>u.jsxs(vn,{className:"flex items-center gap-2 py-2",children:[u.jsx(uo,{value:m}),un[m]]},m))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl",children:"Qualité"}),u.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(fe.quality).map(m=>u.jsxs(vn,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[u.jsx(Ha,{defaultChecked:r[m],onCheckedChange:w=>r.update({[m]:w})}),un[m]]},m))})]})]}),u.jsxs("div",{className:"flex gap-5",children:[n>0&&d?u.jsxs(yd,{children:[u.jsx(wd,{children:u.jsx(Pe,{variant:c?"cta":"default",disabled:!c,children:"Appliquer"})}),u.jsxs(si,{className:"w-fit",children:[u.jsxs(ci,{children:[u.jsx(ui,{className:"text-2xl",children:"Une partie est en cours !"}),u.jsxs(di,{children:["Cette action va réinitialiser votre partie. ",u.jsx("br",{}),"Êtes-vous sûr de vouloir continuer ?"]})]}),u.jsxs(li,{children:[u.jsx(pi,{children:"Cancel"}),u.jsx(fi,{onClick:p,children:"Continue"})]})]})]}):u.jsx(Pe,{variant:c?"cta":"default",disabled:!c,onClick:p,children:"Appliquer"}),d&&u.jsxs("div",{className:"flex-grow border rounded-xl flex items-center gap-3 px-3",children:[u.jsx(Hr,{className:"w-5"})," Un rechargement peut être nécessaire."]})]})]})]})},Ad=e=>{const n=se(r=>({shadows:r.shadows,animation:r.animations,transparency:r})),t=ve(r=>r.upgrades);return u.jsx("div",{className:P("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":n.animation,"top-0":e.show&&t.length>0}),children:u.jsx("div",{className:P("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":t.length>5,"-translate-y-[25%]":t.length>10,"shadow shadow-black/50":n.shadows&&n.transparency,"bg-card/50":n.transparency,"bg-card":!n.transparency}),children:u.jsx("div",{className:P("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":t.length>5,"translate-y-[25%]":t.length>10}),children:t.map((r,o)=>{const{icon:i,name:c}=Ii[r.triggerEvent];return u.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[u.jsx("img",{src:`images/upgrades/${r.image}`,alt:r.name,className:P("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":r.state==="triggered"&&n.animation,"ring-foreground":r.state==="triggered"&&!n.animation})}),u.jsx("div",{className:"h-6 relative",children:u.jsxs("div",{className:"relative",children:[r.max!==1/0&&u.jsx(Sn,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:r.cumul/r.max*100}),u.jsx(ht,{value:r.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),u.jsxs(mt,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[u.jsxs("h3",{className:"text-xl font-changa",children:[r.name," ",u.jsxs("span",{className:"text-upgrade font-bold",children:[r.cumul,r.max!==1/0&&r.max!==null?`/${r.max}`:""]})]}),u.jsx("p",{dangerouslySetInnerHTML:{__html:Fe(Fr(r.description,r.cumul))}}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(i,{className:"w-6 h-6"}),u.jsx("span",{className:"font-zain",dangerouslySetInnerHTML:{__html:Fe(c)}})]})]})]},o)})})})})};var Un={},mi={exports:{}},Cd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sd=Cd,Pd=Sd;function hi(){}function gi(){}gi.resetWarningCache=hi;var Ed=function(){function e(r,o,i,c,d,p){if(p!==Pd){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:gi,resetWarningCache:hi};return t.PropTypes=t,t};mi.exports=Ed();var Md=mi.exports,vi=void 0;typeof window<"u"&&(vi=de);var Nd=vi,qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.noop=function(){};Object.defineProperty(Un,"__esModule",{value:!0});var Td=function(){function e(n,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),yi=y,Rd=wi(yi),kd=Md,te=wi(kd),Or=Nd,Ne=qn;function wi(e){return e&&e.__esModule?e:{default:e}}function Od(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jd(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Id(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Xn=function(e){Id(n,e);function n(t){Od(this,n);var r=jd(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.initHowler=r.initHowler.bind(r),r}return Td(n,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(r){JSON.stringify(r.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(r)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof Or.Howl<"u"&&(this.howler=new Or.Howl({src:r.src,xhr:r.xhr,format:r.format,mute:r.mute,loop:r.loop,preload:r.preload,volume:r.volume,rate:r.rate,onend:r.onEnd,onplay:r.onPlay,onplayerror:r.onPlayError,onpause:r.onPause,onvolume:r.onVolume,onstop:r.onStop,onload:r.onLoad,onseek:r.onSeek,onloaderror:r.onLoadError,html5:r.html5}),r.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(r){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),r.mute!==this.props.mute&&this.mute(this.props.mute),r.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var r=this.howler.playing();r||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.pause(r):this.howler.pause()}},{key:"rate",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof r=="number"&&(o?this.howler.rate(r,o):this.howler.rate(r))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.stop(r):this.howler.stop()}},{key:"mute",value:function(){var r;(r=this.howler).mute.apply(r,arguments)}},{key:"volume",value:function(){var r;return(r=this.howler).volume.apply(r,arguments)}},{key:"loop",value:function(){var r;return(r=this.howler).loop.apply(r,arguments)}},{key:"seek",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!r&&r!==0)return this.howler.seek();if(r||r===0)return this.howler.seek(r),r}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return Rd.default.createElement("div",null)}},{key:"howler",set:function(r){r&&(this._howler=r)},get:function(){return this._howler}}]),n}(yi.Component);Xn.propTypes={src:te.default.oneOfType([te.default.string,te.default.arrayOf(te.default.string)]).isRequired,format:te.default.arrayOf(te.default.string),xhr:te.default.object,playing:te.default.bool,mute:te.default.bool,loop:te.default.bool,preload:te.default.bool,volume:te.default.number,rate:te.default.number,onEnd:te.default.func,onPause:te.default.func,onPlay:te.default.func,onPlayError:te.default.func,onVolume:te.default.func,onStop:te.default.func,onLoad:te.default.func,onSeek:te.default.func,onLoadError:te.default.func,html5:te.default.bool};Xn.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:Ne.noop,onPause:Ne.noop,onPlay:Ne.noop,onPlayError:Ne.noop,onVolume:Ne.noop,onStop:Ne.noop,onLoad:Ne.noop,onSeek:Ne.noop,onLoadError:Ne.noop,html5:!1};Un.default=Xn;var Dd=Un.default;const Ld=Di(Dd),Je=.4,$d=()=>{const e=ve(i=>i.isGameOver),n=Te(i=>i.musicVolume),t=Te(i=>i.musicMuted),r=Te(i=>i.setMusicVolume),o=Te(i=>i.isCardGameVisible);return E.useEffect(()=>{let i;return o&&!e&&n<Je?i=setInterval(()=>{r(c=>c<Je?Math.min(Je,c+Je/10):(clearInterval(i),c))},100):(!o||e)&&n>0&&(i=setInterval(()=>{r(c=>c>0?Math.max(0,c-Je/10):(clearInterval(i),c))},100)),()=>clearInterval(i)},[o,e]),u.jsx(Ld,{src:"sounds/music.mp3",volume:Math.min(Je,n),mute:t,loop:!0,playing:!0})},Ud=()=>{const[e,n]=Te(t=>[t.isCardGameVisible,t.settingsVisible]);return u.jsxs(u.Fragment,{children:[u.jsx($d,{}),u.jsx(ll,{show:e}),u.jsx(Yi,{show:e}),u.jsx(fl,{show:e}),u.jsx(sl,{show:e}),u.jsx(al,{show:e}),u.jsx(Xi,{show:e}),u.jsx(Ad,{show:e}),u.jsx(Fi,{show:e}),u.jsx(bd,{show:e&&n}),u.jsx(rs,{show:e}),u.jsx(ul,{show:e}),!1]})};export{Ud as Game};
