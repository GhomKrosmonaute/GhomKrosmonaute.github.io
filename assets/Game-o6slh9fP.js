import{j as r,T as O,M as Be,a as Ge,f as Qa,R as fn,d as qt,g as Sr,e as fc,h as fe,i as Ut,k as fa,l as mc,s as hc,m as Ct,p as pc,I as gc,n as Ja,o as ma,q as es,t as ha,v as Er,w as ts,A as Pr,x as vc,E as De,y as W,z as xc,B as Wt,C as Bn,D as yc,F as ht,G as ee,H as xe,J as st,K as pt,L as ns,N as rr,O as wc,P as jt,Q as rs,S as ar,U as bc,V as it,W as b,u as Ne,X as Kt,r as u,Y as Q,c as S,Z as ue,$ as T,a0 as jc,a1 as sr,a2 as Cc,a3 as as,a4 as ss,a5 as os,a6 as Rr,a7 as mn,a8 as Nc,a9 as is,aa as hn,ab as Sc,ac as Yt,ad as Pn,ae as Ec,af as Pc,ag as Ot,ah as Rc,ai as ls,aj as kc,ak as cs,al as ds,am as Mc,an as us,ao as Ac,ap as Ic,aq as or,ar as ot,as as ir,at as de,au as pn,av as Tc,aw as Oc,ax as Dc,ay as Lc,az as _c,aA as _t,aB as pa,aC as Fc,aD as $c,aE as zc,aF as ga}from"./index-DItraZX0.js";import{u as Ze,c as Rt,b as se,G as Qe,e as Rn,h as Bc,S as Gc,a as va,d as qc}from"./cards-yPnQUF7M.js";import{reviveCard as je,revivedState as gn,isGameOver as zt,generateChoiceOptions as Gn,reviveUpgrade as Nt,toSortedCards as lr,willBeRemoved as Wc,getGlobalCardModifierLogs as Hc}from"./game-utils-BSre6TdV.js";const cr=[{name:"Première victoire",description:"Gagne une partie",unlockCondition:e=>e.wonGames>=1},{name:"Conquérant",description:"Gagne 5 parties",unlockCondition:e=>e.wonGames>=5},{name:"Try harder",description:"Gagne 25 parties",unlockCondition:e=>e.wonGames>=10},{name:"Maître du jeu",description:"Utilise 5 améliorations différentes en une partie",unlockCondition:e=>e.upgrades.length>=5},{name:"Enutrof",description:"Utilise toutes les améliorations économiques en une partie",unlockCondition:e=>Ze.filter(t=>t.tags.includes("money")).every(t=>e.upgrades.some(n=>n.name===t.name))},{name:"Eliatrop",description:"Utilise toutes les améliorations énergétiques en une partie",unlockCondition:e=>Ze.filter(t=>t.tags.includes("energy")||t.tags.includes("reputation")).every(t=>e.upgrades.some(n=>n.name===t.name))},{name:"Ecaflip",description:r.jsxs(r.Fragment,{children:[r.jsx(O,{name:"coinFlip"})," 20 fois en une partie"]}),unlockCondition:e=>e.coinFlips>=20},{name:"Xelor",description:`Ai ${Be} cartes en main qui coutent zéro en même temps`,unlockCondition:e=>e.hand.filter(t=>je(t,e).effect.cost.value<=0).length>=5},{name:"Sadida",description:r.jsxs(r.Fragment,{children:[r.jsx(O,{name:"recycle"})," 150 cartes en une partie"]}),unlockCondition:e=>e.recycledCards>=150},{name:"Sacrieur",description:r.jsxs(r.Fragment,{children:[r.jsx(O,{name:"discard"})," 50 cartes en une partie"]}),unlockCondition:e=>e.discardedCards>=50},{name:"Trader",description:r.jsxs(r.Fragment,{children:["Ai 7 cartes ",r.jsx(O,{name:"action"})," en main en même temps"]}),unlockCondition:e=>e.hand.filter(t=>je(t,e).type==="action").length>=7},{name:"Milliardaire",description:r.jsxs(r.Fragment,{children:["Gagne ",r.jsx(Ge,{M$:1e3})," en une partie"]}),unlockCondition:e=>e.money>=1e3},{name:"Collectionneur",description:"Découvre 30 cartes différentes",unlockCondition:e=>e.discoveries.length>=30},{name:"Perfectionniste",description:r.jsxs(r.Fragment,{children:["Découvrir toutes les cartes ",r.jsx(O,{name:"upgrade"})]}),unlockCondition:e=>Ze.every(t=>e.discoveries.includes(t.name))},{name:"Complétionniste",description:"Découvre toutes les cartes",unlockCondition:e=>e.discoveries.length===Rt.length},{name:"Retro gamer",description:"Utilise le Konami code",unlockCondition:e=>e.debug},{name:"Changer de thême",description:"Change le thême du jeu",unlockCondition:()=>Qa().theme!=="default"},{name:"Procrastinateur",description:r.jsxs(r.Fragment,{children:["Faire durer la partie plus de 90 ",r.jsx(O,{name:"day",plural:!0})]}),unlockCondition:e=>e.day>=90},{name:"Sélectif",description:r.jsxs(r.Fragment,{children:["Passer 20 ",r.jsx(O,{name:"pick",children:"choix de carte"})," en une partie"]}),unlockCondition:e=>e.skippedChoices>=20},{name:"Jour, nuit, jour, nuit...",description:"Passe du thème clair au thème sombre 2 fois",unlockCondition:()=>+(localStorage.getItem("Jour, nuit, jour, nuit...")??0)>=4},{name:"Le temps c'est de l'argent",description:r.jsxs(r.Fragment,{children:["Gagne ",r.jsx(Ge,{M$:100})," avant le deuxième ",r.jsx(O,{name:"day"})]}),unlockCondition:e=>e.money>=100&&e.day<=1},{name:"Ultra badass",description:r.jsxs(r.Fragment,{children:["Obtient une carte de ",r.jsx(O,{name:"level"})," ",r.jsx(fn,{advantage:qt.singularity})," ou plus"]}),unlockCondition:e=>Sr(e).some(t=>t.rarity>=qt.singularity)}],dr={version:"1.1.2"};function fs(){const e=localStorage.getItem("globals");return e?JSON.parse(e):{debug:!1,scoreAverage:0,totalMoney:0,wonGames:0,playedGames:0,discoveries:[],achievements:[]}}function Vc(e,t){const n=()=>{const a=t();localStorage.setItem("globals",JSON.stringify({debug:a.debug,wonGames:a.wonGames,achievements:a.achievements,playedGames:a.playedGames,discoveries:a.discoveries,scoreAverage:a.scoreAverage,totalMoney:a.totalMoney}))};return{setDebug:a=>{e({debug:a}),n()},checkAchievements:async()=>{await fe(t,async()=>{const a=t();for(const s of cr)a.achievements.includes(s.name)||s.unlockCondition(t())&&(a.setOperationInProgress("checkAchievements",!0),await a.addAchievement(s.name));a.setOperationInProgress("checkAchievements",!1)})},checkDiscoveries:()=>{Ct(t,()=>{const a=t();a.addDiscovery(...Ut(a).map(s=>s.name))})},addDiscovery:(...a)=>{Ct(t,()=>{e(s=>({discoveries:Array.from(new Set([...s.discoveries,...a]))})),n()})},addAchievement:async a=>{await fe(t,async()=>{e(s=>({achievements:Array.from(new Set([...s.achievements,a]))})),se.achievement.play(),await t().addScreenMessage({header:"Succès déverrouillé",message:a,className:"bg-primary text-primary-foreground text-center"}),n()})},addWonGame:()=>{Ct(t,()=>{const a=t();e({wonGames:a.wonGames+1,scoreAverage:a.scoreAverage+(a.score-a.scoreAverage)/(a.wonGames+1),totalMoney:a.totalMoney+a.money,playedGames:a.playedGames+1}),n()})},addPlayedGame:()=>{Ct(t,()=>{const a=t();e({playedGames:a.playedGames+1,totalMoney:a.totalMoney+a.money}),n()})}}}function ms(){const e=Qa().difficulty,t=localStorage.getItem("metadata"),n=localStorage.getItem("save");if(n&&JSON.stringify(dr)===t)return pc(n);localStorage.setItem("metadata",JSON.stringify(dr));const a=["Prettier","Knex","Jest","Processing"],s=[];for(let o=0;o<gc;o++){const i=Ja(Rt.filter(l=>s.every(c=>c.options().every(d=>d.name!==l.name))&&a.every(c=>c!==l.name)&&!l.effect().tags.includes("upgrade")),5).slice(0,ma).map(l=>({name:l.name,state:"idle",initialRarity:es()}));s.push({header:"Choisis une carte",options:()=>i})}return{detail:null,selectedCard:null,coinFlips:0,recycledCards:0,discardedCards:0,skippedChoices:0,difficulty:e,error:null,choiceOptions:s,choiceOptionCount:ma,logs:[],screenMessageQueue:[],operationInProgress:["choices"],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,requestedCancel:!1,draw:a.slice(Be-2).map(o=>({name:o,state:"idle",initialRarity:qt.common})),hand:a.slice(0,Be-2).map(o=>({name:o,state:"idle",initialRarity:qt.common})),revivedHand:[],revivedDraw:[],revivedDiscard:[],playZone:[],discard:[],upgrades:[],globalCardModifiers:[{name:"upgrade cost threshold",params:[],reason:{name:"Promotion temporaire",body:"Promotion temporaire"}},{name:"all card inflation",params:[],reason:{name:"Inflation",body:r.jsx(O,{name:"inflation"})}}],day:0,dayFull:!1,sprintFull:!1,energy:ha,energyMax:ha,reputation:Er,money:0,inflation:0}}function Uc(e,t){return{setDetail:n=>{e({detail:n})},skip:async n=>{await fe(t,async()=>{se.play.play();const a=t();await a.addEnergy(ts(a.day)&&a.choiceOptions.length===1?10:5,{reason:n.reason,skipGameOverPause:!0}),e(s=>({choiceOptions:s.choiceOptions.slice(1)})),await a.increments("skippedChoices")})},increments:async(n,a)=>{const s=t();typeof s[n]=="number"&&(e({[n]:s[n]+(a??1)}),await s.checkAchievements())},incrementsInflation:()=>{const a=t().inflation+Pr;e({inflation:a})},handleError:n=>(n instanceof Error?e({error:n}):e({error:new Error(String(n))}),n),coinFlip:async n=>{await fe(t,async()=>{se.coinFlip.play();const a=t();a.setOperationInProgress("coinFlip",!0);const o=Math.random()>.5?"head":"tail",i=n[o].message;await Promise.all([await a.addScreenMessage({message:i,className:"bg-background text-foreground"}),await n[o].onTrigger(a,n.card,n.reason)]),await a.increments("coinFlips"),a.setOperationInProgress("coinFlip",!1)})},advanceTime:async n=>{await fe(t,async()=>{if(n<0)return;const a=t();a.setOperationInProgress("advanceTime",!0);const s=a.upgrades.length/Ze.length,o=Ut(a).length/Rt.length,i=vc(.5*o+.5*s,0,1,De,De*.3),l=Math.max(i,n*i);if(l<i)throw a.handleError(new Error(`Not enough energy to advance time: ${n}`));let c=Math.floor(a.day);const d=a.day+l,f=Math.floor(d);for(c;c<f;c++){const m=c!==0&&(c+1)%7===0,v=m&&(c+1)%28===0;if(e({day:c+1,dayFull:!0,sprintFull:m}),se.bell.play(),m&&se.upgrade.play(),await a.addScreenMessage({message:m?`Sprint ${Math.floor((c+1)/7)}`:`Jour ${c+1}`,className:m?"bg-upgrade text-upgrade-foreground":"bg-day text-day-foreground"}),await a.triggerEvent("daily"),e(g=>({dayFull:!1,choiceOptions:m?g.choiceOptions:[...g.choiceOptions,Gn(t(),{header:"Choisis une carte",filter:p=>!p.effect().tags.includes("upgrade")})]})),m){await a.triggerEvent("weekly");const g=t();e(p=>({sprintFull:!1,choiceOptions:[...p.choiceOptions,Gn(g,{noResource:!0,header:r.jsxs(r.Fragment,{children:["Choisis une carte ",r.jsx(O,{name:"action"})]}),filter:h=>!h.effect().tags.includes("upgrade")&&h.type==="action"}),Gn(g,{noResource:!0,header:r.jsxs(r.Fragment,{children:["Choisis une carte ",r.jsx(O,{name:"upgrade"})]}),filter:h=>!!h.effect().tags.includes("upgrade")})]})),v&&(await a.addScreenMessage({header:"L'inflation augmente",message:`Mois ${Math.floor((c+1)/7)}`,className:"bg-inflation text-inflation-foreground"}),a.incrementsInflation(),await a.triggerEvent("monthly"))}await W(1e3)}e({day:d,dayFull:null,sprintFull:null}),a.setOperationInProgress("advanceTime",!1)})},addLog:n=>{e(a=>({logs:[...a.logs,n]}))},addScreenMessage:async n=>{await fe(t,async()=>{const a=t(),s=a.screenMessageQueue.length===0;s&&a.setOperationInProgress("screenMessage",!0),e({screenMessageQueue:[...a.screenMessageQueue,{...n,id:Math.random()}]}),await xc(()=>t().screenMessageQueue.length===0),s&&a.setOperationInProgress("screenMessage",!1)})},dangerouslyUpdate:n=>e(n),setOperationInProgress:(n,a)=>{Ct(t,()=>{e(s=>({operationInProgress:a?Array.from(new Set([...s.operationInProgress,n])):s.operationInProgress.filter(o=>o!==n)}))})},updateScore:()=>{Ct(t,()=>{const n=t(),a=1,s=rs,o=1/ar,i=n.energy*a,l=n.reputation*s,c=n.money*o;let d=0;n.upgrades.forEach(h=>{const x=Nt(h);d+=(x.cost.type==="money"?x.cost.value/ar:x.cost.value)*x.cumul});let f=1;n.day<=28?f=2:n.day<=56&&(f=1.5);const m=1+(bc[it.difficulty]-3)*.2,g=(i+l+c+d)*f*m,p=n.money/Wt;e({score:Math.round(g*p*10)})})},addEnergy:async(n,a)=>{await fe(t,async()=>{const s=t();if(s.setOperationInProgress("energy",!0),n>0){const o=Math.min(n,s.energyMax-s.energy);o>0&&s.addLog({value:o,type:"energy",reason:a.reason}),e(i=>({energy:Math.max(0,Math.min(i.energyMax,i.energy+n))})),se.gain.play(),await W()}else if(n<0){const o=t(),i=Math.abs(n)-o.energy,l=Math.min(Math.abs(n),o.energy);l>0&&o.addLog({value:-l,type:"energy",reason:a.reason}),i>0?(e({energy:0}),await o.addReputation(-i,a)):e(c=>({energy:c.energy+n}))}s.setOperationInProgress("energy",!1)})},addMaxEnergy:async(n,a)=>{await fe(t,async()=>{if(n===0)return;const s=t();s.setOperationInProgress("maxEnergy",!0),e(o=>({energyMax:Math.max(0,o.energyMax+n)})),n>0?(se.powerUp.play(),await W(),await s.addEnergy(n,a)):(se.loss.play(),await W(),s.energy>s.energyMax&&await s.addEnergy(s.energyMax-s.energy,a)),s.setOperationInProgress("maxEnergy",!1)})},addReputation:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress("reputation",!0),n===10?se.powerUp.play():n>0?se.gain.play():se.loss.play(),n!==0&&s.addLog({value:n,type:"reputation",reason:a.reason}),e(o=>({reputation:Math.max(0,Math.min(Er,o.reputation+n))})),await W(),n<0&&await s.triggerEvent("onReputationDeclines"),!(a!=null&&a.skipGameOverPause)&&zt(s)&&await W(2e3),s.setOperationInProgress("reputation",!1)})},addMoney:async(n,a)=>{await fe(t,async()=>{let s=t();s.setOperationInProgress("money",!0),n!==0&&s.addLog({value:n,type:"money",reason:a==null?void 0:a.reason}),n>0&&(se.cashing.play(),await W()),e(o=>({money:o.money+n})),s=t(),!(a!=null&&a.skipGameOverPause)&&s.money>=Wt&&await W(2e3),s.setOperationInProgress("money",!1)})},upgrade:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`upgrade ${n}`,!0);const s=Ze.find(o=>o.name===n);se.upgrade.play(),a.upgrades.find(o=>o.name===n)?e(o=>({upgrades:o.upgrades.map(i=>i.name===n?{...i,cumul:i.cumul+1}:i)})):e(o=>({upgrades:[...o.upgrades,{name:s.name,cumul:1,state:"appear"}]})),await W(),e(o=>({upgrades:Bn(o.upgrades,n,"idle")})),s.eventName==="onUpgradeThis"&&await a.triggerUpgrade(n,{}),await a.checkAchievements(),a.setOperationInProgress(`upgrade ${n}`,!1)})},triggerUpgrade:async(n,a)=>{await fe(t,async()=>{const s=t(),o=s.upgrades.find(l=>l.name===n),i=Nt(o);(!i.condition||i.condition(t(),i))&&(s.setOperationInProgress(`triggerUpgrade ${n}`,!0),e({upgrades:Bn(s.upgrades,n,"triggered")}),await W(),await i.onTrigger(t(),i,(a==null?void 0:a.reason)??o),e(l=>({upgrades:Bn(l.upgrades,n,"idle")})),s.setOperationInProgress(`triggerUpgrade ${n}`,!1))})},triggerEvent:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`triggerUpgradeEvent ${n}`,!0);const s=a.upgrades.map(o=>Nt(o)).filter(o=>o.eventName===n);for(const o of s)await a.triggerUpgrade(o.name,{reason:yc(o)});a.setOperationInProgress(`triggerUpgradeEvent ${n}`,!1)})},addGlobalCardModifier:async(n,a,s)=>{await fe(t,async()=>{se.powerUp.play();const o={name:n,params:a,reason:s};e(i=>({globalCardModifiers:[...i.globalCardModifiers,o]})),await W()})},transformCardsAnimation:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress("transformCards",!0);const o=ht(),i=Sr(s).filter(l=>n.includes(l.name));e(l=>({hand:ee(l.hand,n,"transforming"),draw:ee(l.draw,n,"transforming"),discard:ee(l.discard,n,"transforming")})),await W(o/2),await a(i),await W(o/2),e(l=>({hand:ee(l.hand,n,"idle"),draw:ee(l.draw,n,"idle"),discard:ee(l.discard,n,"idle")})),s.setOperationInProgress("transformCards",!1)})},shuffleStack:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`shuffleStack ${n}`,!0),se.shuffle.play();const s=ht()/2;await W(s),e(o=>{const i=n==="draw"?"revivedDraw":"revivedDiscard",l=Ja(o[i],3);return{[n]:l.map(c=>xe(c)),[i]:l}}),await W(s),a.setOperationInProgress(`shuffleStack ${n}`,!1)})},riseToTheStackSurface:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress(`shuffleStack ${n}`,!0),se.shuffle.play();const o=ht()/2;await W(o),e(i=>{const l=i[n].map(m=>je(m,i)),c=l.filter(a),d=l.filter(m=>!a(m)),f=[...c,...d];return{[n]:f.map(m=>xe(m)),[n==="draw"?"revivedDraw":"revivedDiscard"]:f}}),await W(o),s.setOperationInProgress(`shuffleStack ${n}`,!1)})},drawCard:async(n=1,a)=>{await fe(t,async()=>{let s=t();const o=a!=null&&a.fromDiscardPile?"discard":"draw",i=s[o].toReversed().filter(c=>{if(!a.filter)return!0;const d=je(c,s);return a.filter(d)}).slice(0,Math.min(n,Be-s.hand.length,s[o].length));if(i.length===0)return;s.setOperationInProgress("draw",!0),a.filter&&await s.riseToTheStackSurface(o,a.filter);const l=async c=>{e(d=>({[o]:ee(d[o],c.name,"playing")})),await W(),e(d=>({[o]:st(d[o],c.name),hand:lr(pt(d.hand,ee([c],"landing"),!0),d).map(f=>xe(f))})),o==="draw"?se.draw.play():se.recycle.play(),await W(),e(d=>({hand:ee(d.hand,c.name,"idle")}))};if(i.length>3){const c=ht();await Promise.all(i.map(async(d,f)=>{await W(c/2*f+f),await l(d)}))}else for(const c of i)await l(c);await s.triggerEvent("onDraw"),s=t(),!(a!=null&&a.skipGameOverPause)&&zt(s)&&await W(2e3),s.setOperationInProgress("draw",!1)})},discardCard:async n=>{await fe(t,async()=>{const a=n!=null&&n.toDraw?"draw":"discard";se.drop.play();const s=t();s.setOperationInProgress("discard",!0);const o=s.hand.filter(c=>!(n!=null&&n.filter)||n.filter(je(c,s))),i=n!=null&&n.random?[o[Math.floor(Math.random()*s.hand.length)]]:o,l=async c=>{e(d=>({hand:ee(d.hand,c.name,"discarding")})),await W(),e(d=>({hand:st(d.hand,c.name),[a]:pt(d[a],ee([c],"landing"),!0)})),await W(),e(d=>({[a]:ee(d[a],c.name,"idle")}))};if(i.length===s.hand.length){const c=ht();await Promise.all(i.map(async(d,f)=>{await W(c/2*f+f),await l(d)}))}else for(const c of i)await l(c);a==="draw"&&await s.shuffleStack("draw"),await s.increments("discardedCards",i.length),s.setOperationInProgress("discard",!1)})},removeCard:async n=>{await fe(t,async()=>{const a=t();a.setOperationInProgress(`removeCard ${n}`,!0),a.hand.some(o=>o.name===n)&&(e({hand:ee(a.hand,n,"removing"),discard:ee(a.discard,n,"removing"),draw:ee(a.draw,n,"removing")}),se.remove.play(),await W(),e({hand:ee(a.hand,n,"idle"),discard:ee(a.discard,n,"idle"),draw:ee(a.draw,n,"idle")}));const s=["discard","draw","hand"];e(o=>({...s.reduce((i,l)=>({...i,[l]:o[l].filter(c=>c.name!==n)}),{})})),a.setOperationInProgress(`removeCard ${n}`,!1)})},recycleCard:async n=>{await fe(t,async()=>{if(n.count===void 0&&(n.count=1/0),n.count<=0)return;let a=t();if(a.discard.length===0)return;a.setOperationInProgress("recycle",!0),a.discard.length>1&&(n.filter?(await a.riseToTheStackSurface("discard",n.filter),a=t()):n.shuffleBefore&&(await a.shuffleStack("discard"),a=t()));const s=a.discard.toReversed().filter(i=>!n.filter||n.filter(je(i,a))).slice(0,n.count),o=async i=>{se.recycle.play(),e(l=>({discard:ee(l.discard,i.name,"playing")})),await W(),e(l=>({discard:st(l.discard,i.name),draw:pt(l.draw,[{...i,state:"landing"}],!0)})),await W(),e(l=>({draw:ee(l.draw,i.name,"idle")}))};if(s.length>3){const i=ht();await Promise.all(s.map(async(l,c)=>{await W(i/2*c+c),await o(l)}))}else for(const i of s)await o(i);await a.increments("recycledCards",s.length),a.setOperationInProgress("recycle",!1)})},selectCard:n=>{e({selectedCard:n})},waitCardSelection:async n=>{const a=n.from.map(l=>Array.isArray(l)?l[0]:l.name);e(l=>({requestedCancel:!1,selectedCard:null,hand:ee(l.hand,a,"selected")}));const s=t();s.setOperationInProgress("selectCard",!0);let o;const i=await new Promise(l=>{const c=()=>{e(m=>({hand:ee(m.hand,a,"idle")}))},d=m=>{l(je(m,s)),clearInterval(o),e({selectedCard:null}),c()},f=()=>{l(null),clearInterval(o),e({requestedCancel:!1}),c()};o=setInterval(()=>{const m=t();if(m.requestedCancel)return f();m.selectedCard&&(n.from.some(v=>(Array.isArray(v)?v[0]:v.name)===m.selectedCard)?d(m.selectedCard):f())},100),setTimeout(()=>{f()},n.timeout??1e4)});return await W(),s.setOperationInProgress("selectCard",!1),i},playCard:async(n,a)=>{await fe(t,async()=>{const s=!!(a!=null&&a.free);let o=t();const i=(a==null?void 0:a.reason)??n,l=async()=>{se.unauthorized.play(),e({hand:ee(o.hand,n.name,"unauthorized")}),await W(),e({hand:ee(o.hand,n.name,"idle")})};if(n.effect.condition&&!n.effect.condition(o,n)){await l();return}if(s||n.effect.cost.value<=0||ns(n,o))o.setOperationInProgress(`play ${n.name}`,!0);else{await l();return}let c=[];if((n.effect.prePlay||n.effect.needsPlayZone)&&(e(p=>({hand:ee(p.hand,n.name,"playing")})),await W(),e(p=>({playZone:ee([...p.playZone,xe(n)],n.name,"landing"),hand:st(p.hand,n.name)})),await W(),e(p=>({playZone:ee(p.playZone,n.name,"idle")})),n.effect.prePlay)){const p=await n.effect.prePlay(o,n);if(p==="cancel"){e(h=>({playZone:ee(h.playZone,n.name,"discarding")})),await W(),e(h=>({playZone:st(h.playZone,n.name),hand:ee([...h.hand,xe(n)],n.name,"landing")})),await W(),e(h=>({hand:ee(h.hand,n.name,"idle")})),o.setOperationInProgress(`play ${n.name}`,!1);return}else c=p}if(!s){const p=rr(n.effect.cost,o);await(n.effect.cost.type==="money"?o.addMoney(-p,{skipGameOverPause:!0,reason:i}):o.addEnergy(-p,{skipGameOverPause:!0,reason:i}))}se.play.play(),je(xe(n),o,{clean:!0});const d=Wc(t(),n),f=n.effect.tags.includes("recyclage"),m=d?"removing":"playing";!n.effect.needsPlayZone&&!n.effect.prePlay&&e(p=>({hand:ee(p.hand,n.name,m)}));const v=async()=>{f&&se.recycle.play(),d&&se.remove.play(),n.effect.needsPlayZone&&(e(h=>({playZone:ee(h.playZone,n.name,m)})),await W()),e(h=>({discard:d||f?h.discard:pt(h.discard,[xe(n,"landing")],!0),draw:f?pt(h.draw,[xe(n,"landing")],!0):h.draw,hand:st(h.hand,n.name),playZone:st(h.playZone,n.name)})),await W(),e(h=>({discard:ee(h.discard,n.name,"idle"),draw:ee(h.draw,n.name,"idle")}));const p=t();(f||n.effect.tags.includes("recycle"))&&p.draw.length>1&&await p.shuffleStack("draw"),!d&&!f&&p.discard.length>1&&await p.shuffleStack("discard")},g=async()=>{await n.effect.onPlayed(t(),n,i,...c)};n.effect.waitBeforePlay?(await W(),await v(),await g()):n.effect.needsPlayZone||n.effect.prePlay?(await g(),await v()):await Promise.all([W().then(()=>v()),g()]),await o.triggerEvent("onPlay"),o=t(),o.hand.length===0&&(await o.triggerEvent("onEmptyHand"),await o.drawCard(1,{reason:i})),await o.advanceTime(rr({type:"energy",value:wc(n.effect.cost)},o)),!(a!=null&&a.skipGameOverPause)&&zt(t())&&await W(2e3),o.setOperationInProgress(`play ${n.name}`,!1)})},pickOption:async(n,a)=>{await fe(t,async()=>{const s=t();s.setOperationInProgress(`pick ${jt(n)?n.id:n.name}`,!0);const o=s.choiceOptions[0];if(se.gain.play(),e({choiceOptions:[{...o,options:()=>a.map(i=>(jt(i)?i.id:i.name)===(jt(n)?n.id:n.name)?{...i,state:"playing"}:{...i,state:"discarding"})},...s.choiceOptions.slice(1)]}),jt(n)){switch(n.type){case"money":await s.addMoney(n.value,{reason:"Ressource",skipGameOverPause:!0});break;case"reputation":await s.addReputation(n.value,{reason:"Ressource",skipGameOverPause:!0});break;case"energy":await s.addEnergy(n.value,{reason:"Ressource",skipGameOverPause:!0});break}await W(),e(i=>({choiceOptions:[{...o,options:()=>ee(a,null)},...i.choiceOptions.slice(1)]})),e(i=>({choiceOptions:i.choiceOptions.slice(1)}))}else await W(),e(i=>({choiceOptions:[{...o,options:()=>ee(a,null)},...i.choiceOptions.slice(1)]})),e(i=>{const l=i.hand.length<Be?"hand":"draw",c=l==="draw"?pt(i.draw,[xe(n,"landing")],!0):lr([...i.hand,xe(n,"landing")],i).map(d=>xe(d));return{choiceOptions:i.choiceOptions.slice(1),[l]:c}}),await W(),e(i=>({hand:ee(i.hand,n.name,"idle"),draw:ee(i.draw,n.name,"idle")})),s.checkDiscoveries();s.setOperationInProgress(`pick ${jt(n)?n.id:n.name}`,!1)})},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:n=>{se.defeat.play(),e({isGameOver:!0,isWon:!1,reason:n})},reset:()=>{localStorage.removeItem("metadata"),localStorage.removeItem("save"),e({...ms(),...fs()});const n=t();e(gn(n))},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const re=fc((e,t)=>{const n={...ms(),...Uc(e,t),...fs(),...Vc(e,t)};return n.discoveries=Array.from(new Set([...n.discoveries,...Ut(n).map(a=>a.name)])),{...n,...gn(n)}});re.subscribe(async(e,t)=>{await fe(()=>e,async()=>{if(!e.error)if((e.reputation!==t.reputation||e.money!==t.money||e.upgrades!==t.upgrades||e.energy!==t.energy||e.day!==t.day)&&e.updateScore(),e.operationInProgress.join(",")!==t.operationInProgress.join("")&&e.operationInProgress.length===0){if(e.dangerouslyUpdate(gn(e,!0)),fa(e)&&await e.addAchievement("Première victoire"),e.checkDiscoveries(),await e.checkAchievements(),mc(e,Ze),fa(e))e.win(),e.addWonGame();else if(!e.isGameOver){const n=zt(e);n&&(e.defeat(n),e.addPlayedGame())}hc(e)}else(e.hand.map(n=>n.name+n.state).join(",")!==t.hand.map(n=>n.name+n.state).join(",")||e.draw.map(n=>n.name+n.state).join(",")!==t.draw.map(n=>n.name+n.state).join(",")||e.discard.map(n=>n.name+n.state).join(",")!==t.discard.map(n=>n.name+n.state).join(",")||e.inflation!==t.inflation||e.globalCardModifiers.map(n=>n.name).join(",")!==t.globalCardModifiers.map(n=>n.name).join(","))&&e.dangerouslyUpdate(gn(e))})});const xa=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],Kc=()=>{const[e,t]=re(i=>[i.debug,i.setDebug]),[n,a]=b.useState(0),[s,o]=b.useState(null);b.useEffect(()=>{const i=l=>{s&&clearTimeout(s),l.key===xa[n]?a(c=>c+1):a(0),n===xa.length-1&&(a(0),t(!e)),o(setTimeout(()=>{a(0)},1e3))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[n,s,e,t])},Yc=()=>{const e=Ne(s=>s.isCardGameVisible),t=re(s=>s.operationInProgress.length>0),n=re(s=>s.checkAchievements),a=re(s=>s.checkDiscoveries);b.useEffect(()=>{const s=setInterval(()=>{e&&!t&&(a(),n().then())},1e3);return()=>clearInterval(s)},[e,t,n])};var kr={};(function e(t,n,a,s){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),y=C.getContext("2d");y.fillRect(0,0,1,1);var D=C.transferToImageBitmap();try{y.createPattern(D,"no-repeat")}catch{return!1}return!0}();function c(){}function d(C){var y=n.exports.Promise,D=y!==void 0?y:t.Promise;return typeof D=="function"?new D(C):(C(c,c),null)}var f=function(C,y){return{transform:function(D){if(C)return D;if(y.has(D))return y.get(D);var $=new OffscreenCanvas(D.width,D.height),G=$.getContext("2d");return G.drawImage(D,0,0),y.set(D,$),$},clear:function(){y.clear()}}}(l,new Map),m=function(){var C=Math.floor(16.666666666666668),y,D,$={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(q){var V=Math.random();return $[V]=requestAnimationFrame(function R(I){G===I||G+C-1<I?(G=I,delete $[V],q()):$[V]=requestAnimationFrame(R)}),V},D=function(q){$[q]&&cancelAnimationFrame($[q])}):(y=function(q){return setTimeout(q,C)},D=function(q){return clearTimeout(q)}),{frame:y,cancel:D}}(),v=function(){var C,y,D={};function $(G){function q(V,R){G.postMessage({options:V||{},callback:R})}G.init=function(R){var I=R.transferControlToOffscreen();G.postMessage({canvas:I},[I])},G.fire=function(R,I,Y){if(y)return q(R,null),y;var B=Math.random().toString(36).slice(2);return y=d(function(_){function z(ie){ie.data.callback===B&&(delete D[B],G.removeEventListener("message",z),y=null,f.clear(),Y(),_())}G.addEventListener("message",z),q(R,B),D[B]=z.bind(null,{data:{callback:B}})}),y},G.reset=function(){G.postMessage({reset:!0});for(var R in D)D[R](),delete D[R]}}return function(){if(C)return C;if(!a&&o){var G=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([G])))}catch(q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",q),null}$(C)}return C}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(C,y){return y?y(C):C}function h(C){return C!=null}function x(C,y,D){return p(C&&h(C[y])?C[y]:g[y],D)}function w(C){return C<0?0:Math.floor(C)}function j(C,y){return Math.floor(Math.random()*(y-C))+C}function N(C){return parseInt(C,16)}function E(C){return C.map(P)}function P(C){var y=String(C).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:N(y.substring(0,2)),g:N(y.substring(2,4)),b:N(y.substring(4,6))}}function A(C){var y=x(C,"origin",Object);return y.x=x(y,"x",Number),y.y=x(y,"y",Number),y}function k(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function M(C){var y=C.getBoundingClientRect();C.width=y.width,C.height=y.height}function K(C){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=C,y}function L(C,y,D,$,G,q,V,R,I){C.save(),C.translate(y,D),C.rotate(q),C.scale($,G),C.arc(0,0,1,V,R,I),C.restore()}function H(C){var y=C.angle*(Math.PI/180),D=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-y+(.5*D-Math.random()*D),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function J(C,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.velocity*=y.decay,y.flat?(y.wobble=0,y.wobbleX=y.x+10*y.scalar,y.wobbleY=y.y+10*y.scalar,y.tiltSin=0,y.tiltCos=0,y.random=1):(y.wobble+=y.wobbleSpeed,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble),y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2);var D=y.tick++/y.totalTicks,$=y.x+y.random*y.tiltCos,G=y.y+y.random*y.tiltSin,q=y.wobbleX+y.random*y.tiltCos,V=y.wobbleY+y.random*y.tiltSin;if(C.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-D)+")",C.beginPath(),i&&y.shape.type==="path"&&typeof y.shape.path=="string"&&Array.isArray(y.shape.matrix))C.fill(F(y.shape.path,y.shape.matrix,y.x,y.y,Math.abs(q-$)*.1,Math.abs(V-G)*.1,Math.PI/10*y.wobble));else if(y.shape.type==="bitmap"){var R=Math.PI/10*y.wobble,I=Math.abs(q-$)*.1,Y=Math.abs(V-G)*.1,B=y.shape.bitmap.width*y.scalar,_=y.shape.bitmap.height*y.scalar,z=new DOMMatrix([Math.cos(R)*I,Math.sin(R)*I,-Math.sin(R)*Y,Math.cos(R)*Y,y.x,y.y]);z.multiplySelf(new DOMMatrix(y.shape.matrix));var ie=C.createPattern(f.transform(y.shape.bitmap),"no-repeat");ie.setTransform(z),C.globalAlpha=1-D,C.fillStyle=ie,C.fillRect(y.x-B/2,y.y-_/2,B,_),C.globalAlpha=1}else if(y.shape==="circle")C.ellipse?C.ellipse(y.x,y.y,Math.abs(q-$)*y.ovalScalar,Math.abs(V-G)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):L(C,y.x,y.y,Math.abs(q-$)*y.ovalScalar,Math.abs(V-G)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI);else if(y.shape==="star")for(var U=Math.PI/2*3,pe=4*y.scalar,ge=8*y.scalar,ve=y.x,Re=y.y,Pe=5,Oe=Math.PI/Pe;Pe--;)ve=y.x+Math.cos(U)*ge,Re=y.y+Math.sin(U)*ge,C.lineTo(ve,Re),U+=Oe,ve=y.x+Math.cos(U)*pe,Re=y.y+Math.sin(U)*pe,C.lineTo(ve,Re),U+=Oe;else C.moveTo(Math.floor(y.x),Math.floor(y.y)),C.lineTo(Math.floor(y.wobbleX),Math.floor(G)),C.lineTo(Math.floor(q),Math.floor(V)),C.lineTo(Math.floor($),Math.floor(y.wobbleY));return C.closePath(),C.fill(),y.tick<y.totalTicks}function ne(C,y,D,$,G){var q=y.slice(),V=C.getContext("2d"),R,I,Y=d(function(B){function _(){R=I=null,V.clearRect(0,0,$.width,$.height),f.clear(),G(),B()}function z(){a&&!($.width===s.width&&$.height===s.height)&&($.width=C.width=s.width,$.height=C.height=s.height),!$.width&&!$.height&&(D(C),$.width=C.width,$.height=C.height),V.clearRect(0,0,$.width,$.height),q=q.filter(function(ie){return J(V,ie)}),q.length?R=m.frame(z):_()}R=m.frame(z),I=_});return{addFettis:function(B){return q=q.concat(B),Y},canvas:C,promise:Y,reset:function(){R&&m.cancel(R),I&&I()}}}function ae(C,y){var D=!C,$=!!x(y||{},"resize"),G=!1,q=x(y,"disableForReducedMotion",Boolean),V=o&&!!x(y||{},"useWorker"),R=V?v():null,I=D?k:M,Y=C&&R?!!C.__confetti_initialized:!1,B=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_;function z(U,pe,ge){for(var ve=x(U,"particleCount",w),Re=x(U,"angle",Number),Pe=x(U,"spread",Number),Oe=x(U,"startVelocity",Number),ac=x(U,"decay",Number),sc=x(U,"gravity",Number),oc=x(U,"drift",Number),la=x(U,"colors",E),ic=x(U,"ticks",Number),ca=x(U,"shapes"),lc=x(U,"scalar"),cc=!!x(U,"flat"),da=A(U),ua=ve,zn=[],dc=C.width*da.x,uc=C.height*da.y;ua--;)zn.push(H({x:dc,y:uc,angle:Re,spread:Pe,startVelocity:Oe,color:la[ua%la.length],shape:ca[j(0,ca.length)],ticks:ic,decay:ac,gravity:sc,drift:oc,scalar:lc,flat:cc}));return _?_.addFettis(zn):(_=ne(C,zn,I,pe,ge),_.promise)}function ie(U){var pe=q||x(U,"disableForReducedMotion",Boolean),ge=x(U,"zIndex",Number);if(pe&&B)return d(function(Oe){Oe()});D&&_?C=_.canvas:D&&!C&&(C=K(ge),document.body.appendChild(C)),$&&!Y&&I(C);var ve={width:C.width,height:C.height};R&&!Y&&R.init(C),Y=!0,R&&(C.__confetti_initialized=!0);function Re(){if(R){var Oe={getBoundingClientRect:function(){if(!D)return C.getBoundingClientRect()}};I(Oe),R.postMessage({resize:{width:Oe.width,height:Oe.height}});return}ve.width=ve.height=null}function Pe(){_=null,$&&(G=!1,t.removeEventListener("resize",Re)),D&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,Y=!1)}return $&&!G&&(G=!0,t.addEventListener("resize",Re,!1)),R?R.fire(U,ve,Pe):z(U,ve,Pe)}return ie.reset=function(){R&&R.reset(),_&&_.reset()},ie}var Z;function X(){return Z||(Z=ae(null,{useWorker:!0,resize:!0})),Z}function F(C,y,D,$,G,q,V){var R=new Path2D(C),I=new Path2D;I.addPath(R,new DOMMatrix(y));var Y=new Path2D;return Y.addPath(I,new DOMMatrix([Math.cos(V)*G,Math.sin(V)*G,-Math.sin(V)*q,Math.cos(V)*q,D,$])),Y}function oe(C){if(!i)throw new Error("path confetti are not supported in this browser");var y,D;typeof C=="string"?y=C:(y=C.path,D=C.matrix);var $=new Path2D(y),G=document.createElement("canvas"),q=G.getContext("2d");if(!D){for(var V=1e3,R=V,I=V,Y=0,B=0,_,z,ie=0;ie<V;ie+=2)for(var U=0;U<V;U+=2)q.isPointInPath($,ie,U,"nonzero")&&(R=Math.min(R,ie),I=Math.min(I,U),Y=Math.max(Y,ie),B=Math.max(B,U));_=Y-R,z=B-I;var pe=10,ge=Math.min(pe/_,pe/z);D=[ge,0,0,ge,-Math.round(_/2+R)*ge,-Math.round(z/2+I)*ge]}return{type:"path",path:y,matrix:D}}function le(C){var y,D=1,$="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?y=C:(y=C.text,D="scalar"in C?C.scalar:D,G="fontFamily"in C?C.fontFamily:G,$="color"in C?C.color:$);var q=10*D,V=""+q+"px "+G,R=new OffscreenCanvas(q,q),I=R.getContext("2d");I.font=V;var Y=I.measureText(y),B=Math.ceil(Y.actualBoundingBoxRight+Y.actualBoundingBoxLeft),_=Math.ceil(Y.actualBoundingBoxAscent+Y.actualBoundingBoxDescent),z=2,ie=Y.actualBoundingBoxLeft+z,U=Y.actualBoundingBoxAscent+z;B+=z+z,_+=z+z,R=new OffscreenCanvas(B,_),I=R.getContext("2d"),I.font=V,I.fillStyle=$,I.fillText(y,ie,U);var pe=1/D;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[pe,0,0,pe,-B*pe/2,-_*pe/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=ae,n.exports.shapeFromPath=oe,n.exports.shapeFromText=le})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),kr,!1);const vn=kr.exports;kr.exports.create;const xn=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?vn.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):vn)({...e})};xn.shapeFromPath=e=>vn.shapeFromPath({...e});xn.shapeFromText=e=>vn.shapeFromText({...e});const hs=()=>{const t=Date.now()+5e3,n={startVelocity:30,spread:360,ticks:60,zIndex:0},a=(o,i)=>Math.random()*(i-o)+o,s=window.setInterval(()=>{const o=t-Date.now();if(o<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((l,c)=>{c>0&&l.remove()}),clearInterval(s);const i=50*(o/5e3);xn({...n,particleCount:i,zIndex:999999,origin:{x:a(.1,.3),y:Math.random()-.2}}),xn({...n,particleCount:i,zIndex:999999,origin:{x:a(.7,.9),y:Math.random()-.2}})},250)},he=5,Dt={position:"fixed",zIndex:10010,backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden"},Lt={transition:"all 0.3s linear"},qn=({children:e,style:t})=>{const{position:n,highlight:a}=Cs(),s=window.document.documentElement.getBoundingClientRect();return!n||!a?r.jsx("div",{className:"top-0 left-0 w-screen h-svh",style:{...Dt,...t},children:e}):Kt.createPortal(r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"top-0 left-0",style:{width:n.left-he,height:n.bottom+he,...Lt,...Dt,...t}}),r.jsx("div",{className:"top-0",style:{left:n.left-he,width:s.width-(n.left-he),height:n.top-he,...Lt,...Dt,...t}}),r.jsx("div",{style:{top:n.top-he,left:n.right+he,width:s.width-(n.right+he),height:s.height-(n.top-he),...Lt,...Dt,...t}}),r.jsx("div",{className:"left-0",style:{top:n.bottom+he,width:n.right+he,height:s.height-(n.bottom+he),...Lt,...Dt,...t}}),r.jsx("div",{style:{position:"fixed",top:n.top-he,left:n.left-he,width:n.width+he*2,height:n.height+he*2,zIndex:10015,backgroundColor:"transparent",outline:"2px solid hsl(var(--upgrade))",borderRadius:"0.2rem",...Lt}}),r.jsx("div",{style:{position:"fixed",zIndex:10020},children:e})]}),document.body)};function Zc(e,t){const n=u.createContext(t);function a(o){const{children:i,...l}=o,c=u.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:i})}function s(o){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,s]}function Ie(e,t=[]){let n=[];function a(o,i){const l=u.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:v,children:g,...p}=m,h=(v==null?void 0:v[e][c])||l,x=u.useMemo(()=>p,Object.values(p));return r.jsx(h.Provider,{value:x,children:g})}function f(m,v){const g=(v==null?void 0:v[e][c])||l,p=u.useContext(g);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const s=()=>{const o=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Xc(s,...t)]}function Xc(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=a.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Mr="Progress",Ar=100,[Qc,Up]=Ie(Mr),[Jc,ed]=Qc(Mr),ps=u.forwardRef((e,t)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:o=td,...i}=e;(s||s===0)&&!ya(s)&&console.error(nd(`${s}`,"Progress"));const l=ya(s)?s:Ar;a!==null&&!wa(a,l)&&console.error(rd(`${a}`,"Progress"));const c=wa(a,l)?a:null,d=yn(c)?o(c,l):void 0;return r.jsx(Jc,{scope:n,value:c,max:l,children:r.jsx(Q.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":yn(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":xs(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});ps.displayName=Mr;var gs="ProgressIndicator",vs=u.forwardRef((e,t)=>{const{__scopeProgress:n,...a}=e,s=ed(gs,n);return r.jsx(Q.div,{"data-state":xs(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});vs.displayName=gs;function td(e,t){return`${Math.round(e/t*100)}%`}function xs(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function yn(e){return typeof e=="number"}function ya(e){return yn(e)&&!isNaN(e)&&e>0}function wa(e,t){return yn(e)&&!isNaN(e)&&e<=t&&e>=0}function nd(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ar}\`.`}function rd(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ar} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ys=ps,ad=vs;function sd(e){const[t,n]=b.useState([]);return b.useEffect(()=>{e!==t[1]&&n(a=>[a[1],e])},[e]),t[0]}const kn=u.forwardRef(({barColor:e,className:t,value:n,increaseOnly:a,...s},o)=>{const i=sd(n);return r.jsx(ys,{ref:o,className:S("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:r.jsx(ad,{className:S("h-full w-full flex-1",e??"bg-primary",{[S("transition-transform duration-200 ease-out",{"duration-500":typeof n=="number"&&i===0&&n>90})]:!a||typeof n!="number"||typeof i!="number"||n>i}),style:{transform:`translateX(-${100-(n||0)}%)`}})})});kn.displayName=ys.displayName;function od(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"})))}const ws=b.createContext(null),bs=b.createContext(null),id=({steps:e,children:t,opaqueStyle:n})=>{var K;const a=Ne(L=>L.isCardGameVisible),[s,o]=ue(L=>[L.tutorial,L.updateTutorial]),[i,l]=b.useState(null),[c,d]=b.useState(null),[f,m]=b.useState(null),[v,g]=b.useState(!1),[p,h]=b.useState(!1),x=L=>{g(!0),A(L),m(e[L]||null),l(L)},w=()=>{x(0)},j=()=>{se.bell.play(),l(null),m(null),d(null),o(!1)},N=()=>{if(i!==null){if(i>=e.length-1)return j();se.gain.play(),x(i+1)}},E=()=>{if(i!==null){if(i-1<0)return j();se.play.play(),x(i-1)}},P=L=>()=>{let H=0,J=-1;e.forEach(ne=>{ne.id===L&&(J=H),H++}),!(J<0)&&x(J)},A=L=>{var ne;if(L===null||((ne=e[L])==null?void 0:ne.id.charAt(0))==="_")return;const H=document.body;new MutationObserver((ae,Z)=>{var oe;const X=document.querySelector(((oe=e[L])==null?void 0:oe.id)||"");if(!X)return;const F=X.getBoundingClientRect();F&&(d({left:F.left,top:F.top,right:F.right,bottom:F.bottom,width:F.width,height:F.height,x:F.x,y:F.y}),Z.disconnect())}).observe(H,{childList:!0,subtree:!0})},k=()=>{var J,ne;if(i===null||((J=e[i])==null?void 0:J.id.charAt(0))==="_")return;const L=document.querySelector(((ne=e[i])==null?void 0:ne.id)||"");if(!L)return;const H=L.getBoundingClientRect();H&&d({left:H.left,top:H.top,right:H.right,bottom:H.bottom,width:H.width,height:H.height,x:H.x,y:H.y})};b.useEffect(()=>{!a||!s?(l(null),m(null),d(null)):w()},[s,a]),b.useEffect(()=>(window.addEventListener("resize",k),window.addEventListener("scroll",k,{capture:!0}),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k)}),[i]);let M=null;return f&&!c&&(M=r.jsx(qn,{style:n,children:null})),f&&c&&(M=r.jsx(qn,{style:n,children:(f==null?void 0:f.render({position:c,next:N,back:E,finish:j,goTo:P}))||null})),i!==null&&((K=e[i])==null?void 0:K.id.charAt(0))==="_"&&(M=r.jsx(qn,{style:n,children:(f==null?void 0:f.render({position:void 0,next:N,back:E,finish:j,goTo:P}))||null})),r.jsx(ws.Provider,{value:{start:w},children:r.jsxs(bs.Provider,{value:{position:c,isLoading:v,highlight:p,setLoading:g,setHighlight:h},children:[t,M,f&&r.jsxs("div",{className:"fixed w-fit right-2 bottom-2",style:{zIndex:999998},children:[i!==null&&r.jsxs("div",{className:"text-xl font-mono text-center text-white bg-black bg-opacity-50 p-1 rounded-md",children:[i+1," / ",e.length]}),r.jsxs(T,{variant:"cta",size:"cta",className:"my-2",onClick:j,children:["Passer le didacticiel ",r.jsx(od,{className:"ml-2 h-5"})]}),r.jsx(kn,{value:((i??0)+1)/e.length*100})]})]})})},js=()=>{const e=b.useContext(ws);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},Cs=()=>{const e=b.useContext(bs);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},we=({location:e,highlight:t,children:n,style:a,...s})=>{const{position:o,isLoading:i,setLoading:l,setHighlight:c}=Cs(),d=b.useRef(null),[f,m]=b.useState(null);return b.useEffect(()=>{c(!!t)},[t]),b.useEffect(()=>{const v=o,g={};switch(e){case"right":case"left":case"top":case"bottom":if(!v)throw Error("Not position exists")}switch(e){case"right":case"left":g.top=v.top-he+"px",e==="left"?(g.left=v.left-he+"px",g.transform="translate(-100%, 0)"):g.left=v.right+he+"px";break;case"top":case"bottom":g.left=v.left+v.width/2+"px",e==="top"?(g.top=v.top-he+"px",g.transform="translate(-50%, -100%)"):(g.top=v.bottom+he+"px",g.transform="translate(-50%, 0)");break;case"center":g.left="50%",g.top="50%",g.transform="translate(-50%, -50%)";break}m(g),l(!1)},[o,i]),i?null:r.jsx("div",{...s,ref:d,className:"space-y-4 leading-6 *:whitespace-nowrap",style:{position:"fixed",visibility:"visible",zIndex:"10010",borderRadius:"3px",fontSize:"1.5rem",...f,...a},children:n})},be={backgroundColor:"hsl(var(--card))",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 4rem 0 rgba(255,255,255, 0.3)"},ld=[{id:"_welcome",render:({next:e,finish:t})=>r.jsxs(we,{style:be,location:"center",children:[r.jsx("h2",{children:"Bienvenue sur mon jeu de cartes !"}),r.jsxs("p",{children:["Je vais te guider rapidement à travers les bases du jeu. ",r.jsx("br",{}),"J'espère qu'il te plaira !"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Quitter le tutoriel"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"C'est parti !"})]}),r.jsx("img",{src:"images/tutorial/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})},{id:"#energy",render:({next:e,back:t})=>r.jsx(r.Fragment,{children:r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["L'",r.jsx(O,{name:"energy"})]}),r.jsxs("p",{children:["L'",r.jsx(O,{name:"energy"})," est la ressource principale du jeu. ",r.jsx("br",{}),"Elle te permet de jouer des cartes."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#reputation",render:({next:e,back:t})=>r.jsx(r.Fragment,{children:r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["La ",r.jsx(O,{name:"reputation"})]}),r.jsx("p",{children:"Cette jauge est importante !"}),r.jsxs("p",{children:["Elle te permet d'utiliser des cartes lorsque tu n'as plus assez d'",r.jsx(O,{name:"energy"}),". ",r.jsx("br",{}),"Cependant, si cette jauge est vide, tu perds la partie."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#day",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["La ",r.jsx(O,{name:"day",children:"journée"})]}),r.jsxs("p",{children:["La ",r.jsx(O,{name:"day",children:"journée"})," avance à chaque carte jouée. ",r.jsx("br",{}),"Certains évènements se déclencheront à la fin de chaque"," ",r.jsx(O,{name:"day"}),"."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#sprint",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["Le ",r.jsx(O,{name:"sprint"})]}),r.jsxs("p",{children:["Le sprint est un cycle de 7 ",r.jsx(O,{name:"day",plural:!0}),", une semaine donc."]}),r.jsxs("p",{children:["À la fin de chaque ",r.jsx(O,{name:"sprint"}),", tu pourras choisir ",r.jsx("br",{})," ","une ",r.jsx(O,{name:"upgrade"})," à ajouter à ton deck."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#deck",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsx("h2",{children:"Le deck"}),r.jsxs("p",{children:["Comme dans la plupart des jeux de cartes, ton deck représente ",r.jsx("br",{}),"toutes les cartes que tu possèdes."]}),r.jsxs("p",{children:["Ici, tu peux voir toutes les cartes de ton deck triées par ",r.jsx("br",{}),"type de carte. Si tu cherches une carte en particulier, ",r.jsx("br",{}),"tu peux utiliser la barre de recherche."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#money",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsxs("h2",{children:["L'",r.jsx(O,{name:"money"})]}),r.jsx("p",{children:"Il te permet de jouer certaines cartes"}),r.jsxs("p",{children:["Si tu atteins ",r.jsx(Ge,{M$:Wt}),", tu gagnes la partie."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#corner-icons",render:({next:e,back:t})=>r.jsxs(we,{location:"left",style:be,highlight:!0,children:[r.jsx("h2",{children:"Les paramètres"}),r.jsx("p",{children:"En haut à droite, tu peux accéder aux paramètres du jeu."}),r.jsxs("p",{children:["Tu pourras y arrêter la musique, y régler la qualité graphique, ",r.jsx("br",{}),"y consulter les taux de conversion et les règles du jeu ",r.jsx("br",{}),"ou encore y ajuster le niveau de difficulté."]}),r.jsxs("p",{children:["On y trouve également le classement des meilleurs scores, ",r.jsx("br",{}),"les cartes découvertes et les succès déverrouillés ainsi ",r.jsx("br",{}),"que quelques statistiques sur tes parties précédentes. ",r.jsx("br",{})]}),r.jsx("p",{children:"Si tu as besoin d'aide, tu peux consulter le tutoriel à tout moment."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#hand",render:({next:e,back:t})=>r.jsxs(we,{location:"top",style:be,highlight:!0,children:[r.jsx("h2",{children:"La main"}),r.jsxs("p",{children:["Ta main est l'ensemble des cartes que tu peux jouer. ",r.jsx("br",{}),"Tu peux en jouer tant que tu as les ressources nécessaires ",r.jsx("br",{}),"et que leurs effets sont activables."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#card-stacks",render:({next:e,back:t})=>r.jsxs(we,{location:"left",style:be,highlight:!0,children:[r.jsx("h2",{children:"La pioche et la défausse"}),r.jsx("p",{children:"A droite, tu trouveras la pioche et la défausse."}),r.jsxs("p",{children:["La pioche contient les cartes que tu pourras piocher. ",r.jsx("br",{}),"La défausse contient les cartes que tu viens de jouer."]}),r.jsxs("p",{children:["En cliquant sur l'une des deux piles, tu pourras voir ",r.jsx("br",{}),"les cartes qu'elles contiennent."]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#upgrades",render:({next:e,back:t})=>r.jsxs(we,{location:"bottom",style:be,highlight:!0,children:[r.jsxs("h2",{children:["Les ",r.jsx(O,{name:"upgrade",plural:!0})]}),r.jsxs("p",{children:["Sur le haut de l'écran, tu verras apparaitre des"," ",r.jsx(O,{name:"upgrade",plural:!0}),". ",r.jsx("br",{}),"Elles s'activeront automatiquement lors de certains évènements"]}),r.jsx("img",{src:"images/tutorial/upgrades.png",alt:"upgrades"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#logs",render:({next:e,back:t})=>r.jsxs(we,{location:"right",style:be,highlight:!0,children:[r.jsx("h2",{children:"Les logs"}),r.jsxs("p",{children:["Ici, tu pourras voir les effets des cartes que tu as jouées. ",r.jsx("br",{}),"Les logs sont triés par ordre chronologique."]}),r.jsx("img",{src:"images/tutorial/logs.png",alt:"logs"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#actions",render:({next:e,back:t})=>r.jsxs(we,{location:"top",style:be,highlight:!0,children:[r.jsx("h2",{children:"Les actions"}),r.jsxs("p",{children:["Au milieu de l'écran, tu trouveras des actions ",r.jsx("br",{}),"a effectuer au cours de la partie."]}),r.jsxs("p",{children:["Par exemple, choisir une carte à ajouter à ton deck ",r.jsx("br",{}),"ou même piocher une carte si tu ne peux pas jouer"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"_detail",render:({next:e,back:t})=>r.jsxs(we,{style:be,location:"center",children:[r.jsx("h2",{children:"Informations d'une carte"}),r.jsxs("p",{children:["Si tu veux plus d'informations sur une carte, ",r.jsx("br",{}),"tu peux faire un clic droit dessus."]}),r.jsxs("p",{children:["Une popup s'ouvrira avec les formes alternatives ",r.jsx("br",{}),"de la carte et plein d'autres informations utiles !"]}),r.jsx("img",{src:"images/tutorial/detail.png",alt:"card detail",className:"w-[500px]"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:t,children:"Retour"}),r.jsx(T,{variant:"cta",size:"cta",onClick:()=>{se.victory.play(),hs(),e()},children:"Suivant"})]})]})},{id:"_end",render:({finish:e})=>r.jsxs(we,{style:be,location:"center",children:[r.jsx("h2",{children:"Fin du tutoriel"}),r.jsxs("p",{children:["Tu as maintenant toutes les clés en main. ",r.jsx("br",{}),"N'hésite pas à consulter les règles du jeu si tu as besoin d'aide."]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(T,{variant:"cta",size:"cta",onClick:e,children:"Lancer une partie"})}),r.jsx("img",{src:"images/tutorial/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})}],Ns=b.createContext(null);function cd(){const e=b.useContext(Ns);if(!e)throw new Error("useCrashReport must be used within a CrashReportProvider");return e}const dd=({children:e})=>{const[t,n,a]=re(m=>[m.error,m.dangerouslyUpdate,()=>m]),[s,o]=b.useState(null),[i,l]=b.useState(null),[c,d]=b.useState(null);b.useEffect(()=>{t&&f(t,a())},[t]);const f=b.useCallback((m,v)=>{se.error.play(),o(m),l(jc(v)),console.error(m);const g=JSON.stringify(sr(v,"revivedHand","revivedDraw","revivedDiscard"));W(500).then(()=>navigator.clipboard.writeText(g).catch(()=>{d(g)}).then(()=>alert("L'état du jeu a été copié dans le presse-papier")))},[]);return r.jsx(Ns.Provider,{value:{gameState:i,crashReport:s,addCrashReport:f,gameStringState:c,resetCrashReport:()=>{o(null),l(null),n({error:null})}},children:s?r.jsx(ud,{}):e})},ud=()=>{const e=re(d=>d.reset),{resetCrashReport:t,crashReport:n,gameState:a,gameStringState:s}=cd(),[o,i]=b.useState(!1),[l,c]=b.useState(!1);return!n||!a?null:r.jsxs("div",{className:"absolute inset-0 bg-background/50 flex justify-center items-center",children:[r.jsxs("div",{className:"bg-background/90 ring ring-red-600 p-4 rounded-lg space-y-4 max-w-xl",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Une erreur à été interceptée !"}),r.jsx("p",{children:"Si tu le souhaites, tu peux envoyer le rapport d'erreur à Ghom pour qu'il puisse corriger le problème. Tu peux continuer ta partie, mais si tu rencontres des problèmes, il est conseillé de recharger la page. Si le bug persiste, il est possible que ta sauvegarde soit corrompue, dans ce cas tu devrais recommencer une nouvelle partie, désolé pour la gêne occasionnée."}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 w-fit mx-auto",children:[r.jsx(T,{onClick:()=>{t(),e()},size:"cta",className:"text-red-600",children:"Recommencer une partie"}),r.jsx(T,{onClick:()=>{t(),window.location.reload()},size:"cta",children:"Rafraichir le navigateur"}),r.jsx(T,{onClick:()=>{!s||l?window.open(`mailto:${Cc.email}?subject=${encodeURI(`Rapport d'erreur: ${n.message}`)}&body=${encodeURI(`
${n.stack}

Game state:
< colle ici le contenu de ton presse-papier >`)}`):i(!0)},variant:"cta",size:"cta",children:"Envoyer le rapport"}),r.jsx(T,{onClick:()=>t(),variant:"cta",size:"cta",children:"Continuer la partie"})]})]}),o&&r.jsxs("div",{className:"absolute left-1/2 top-1/2 bg-background ring ring-red-600 p-4 rounded-lg max-w-xl space-y-4 -translate-y-1/2 -translate-x-1/2",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Avant d'envoyer le rapport"}),r.jsx("p",{className:"text-xl leading-5",children:"Merci de copier ta sauvegarde dans le presse-papier afin de me la transmettre lors de ton rapport."}),r.jsx("h2",{className:"text-2xl",children:"Sauvegarde"}),r.jsx("code",{className:"text-sm whitespace-normal overflow-scroll w-full h-52",children:s}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(T,{onClick:()=>i(!1),children:"Retour"}),r.jsx(T,{onClick:()=>{navigator.clipboard.writeText(s).then(()=>{alert("La sauvegarde a été copiée dans le presse-papier"),i(!1),c(!0)}).catch(()=>{alert(`Impossible de copier la sauvegarde...
Essaye de la copier à la main, merci d'avance !`)})},variant:"cta",size:"cta",children:"Copier la sauvegarde"})]})]})]})},fd=e=>{const[t,n]=re(a=>[a.screenMessageQueue[0],()=>{a.dangerouslyUpdate({screenMessageQueue:a.screenMessageQueue.slice(1)})}]);return b.useEffect(()=>{if(!t)return;const a=setTimeout(()=>{n()},2e3);return()=>clearTimeout(a)},[t,n]),!e.show||!t?null:r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full z-50 flex justify-center items-center",children:[r.jsx("div",{className:S(t.className,"absolute animate-to-right duration-[2s] rounded-r-full rounded-bl-full w-full h-[120px] opacity-50")}),r.jsx("div",{className:S(t.className,"absolute animate-to-left duration-[2s] rounded-l-full rounded-tr-full w-full h-[120px] opacity-50")}),r.jsxs("div",{className:S(t.className,"bg-transparent font-changa italic animate-notification duration-[2s] w-fit h-fit text-center"),children:[t.header&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-3xl",children:t.header}),r.jsx("br",{})]}),r.jsx("span",{className:"text-6xl",children:t.message})]})]},t.id)};function Ss(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},b.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},b.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"2"})),b.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},b.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"2"})),b.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},b.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"2"}))))}const Es=b.createContext({degX:0,degY:0,isHovered:!1}),ba={transformStyle:"preserve-3d"},Ir=({max:e=20,reverse:t=!1,scale:n=1,perspective:a=1e3,className:s="",children:o,style:i,disabled:l=!1})=>{const c=ue(N=>N.quality.tilt&&N.quality.animations),d=b.useRef(null),f=as(d),[m,v]=b.useState({}),[g,p]=b.useState(0),[h,x]=b.useState(0),w=b.useCallback(N=>{if(!l&&d.current){const E=d.current.getBoundingClientRect(),P=N.clientX-E.left,A=N.clientY-E.top,k=E.width/2,M=E.height/2,K=(A-M)/M*e,L=(P-k)/k*e;p(t?K:-K),x(t?-L:L),v({...ba,transform:`
            perspective(${a}px)
            rotateX(${t?K:-K}deg)
            rotateY(${t?-L:L}deg)
            scale(${n})
          `})}},[e,a,t,n]),j=b.useCallback(()=>{p(0),x(0),v({...ba,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return b.useEffect(()=>{const N=d.current;return f?N&&(N.addEventListener("mousemove",w),N.addEventListener("mouseleave",j)):j(),()=>{N&&(N.removeEventListener("mousemove",w),N.removeEventListener("mouseleave",j)),j()}},[e,t,n,a,f]),c?r.jsx("div",{ref:d,className:S("will-change-transform",s),style:{...m,...i},children:r.jsx(Es.Provider,{value:{degX:g,degY:h,isHovered:f},children:o})}):r.jsx("div",{className:s,style:i,children:o})},Ps=()=>{const e=b.useContext(Es);return ue(n=>n.quality.foil)?r.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[r.jsx("div",{className:S("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),r.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):r.jsx(r.Fragment,{})},Rs=e=>e.value<=0&&e.isCost?r.jsx(r.Fragment,{}):r.jsx("div",{className:S("text-2xl font-changa text-money w-fit h-fit bg-card flex justify-center px-1 shadow-lg",{"text-md px-0":e.miniature},e.className),style:e.style,children:r.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.symbol?`${e.value>0?"+":""}${e.value}`:e.value,"M$"]})}),wn=e=>{const t=re(),n=ue(),a=rr(e.cost,t);return a<=0?r.jsxs("div",{className:S("flex gap-1 bg-pink-500 text-white pl-2 pr-3 py-1 rounded-sm rounded-r-xl text-md font-changa h-6",{"inline-flex px-1 py-0 rounded-sm h-5 w-fit":e.miniature}),style:{transform:`${n.quality.perspective?"translateZ(10px)":""} ${e.miniature?"":"translateX(-16px) translateY(4px) rotateX(10deg) rotateY(10deg) rotateZ(-10deg)"}`,transformStyle:n.quality.perspective?"preserve-3d":"flat"},children:[r.jsx("span",{children:"Free"}),!e.miniature&&r.jsx("span",{className:"inline-block translate-x-full",children:"·"})]}):e.cost.type==="money"?r.jsx(Rs,{isCost:!0,miniature:e.miniature,value:a,style:{display:e.miniature?"inline-block":"block",transform:`${n.quality.perspective?"translateZ(10px)":""} ${e.miniature?"":"rotate(-10deg)"}`,transformStyle:n.quality.perspective?"preserve-3d":"flat"}}):r.jsx(Qe,{isCost:!0,miniature:e.miniature,value:a,colors:ss(t,e.cost.value),style:{display:e.miniature?"inline-block":"block",transform:n.quality.perspective?"translateZ(5px)":"none",transformStyle:n.quality.perspective?"preserve-3d":"flat"},className:e.miniature?"w-5 h-5":""})},ks=e=>{const t=ue(),n=os(e.card.effect);return n.length===0?null:r.jsx("div",{className:S("text-center text-2xl font-bold",{"text-muted-foreground/50":t.quality.transparency,"text-muted-foreground":!t.quality.transparency}),children:n.map(a=>r.jsx("div",{children:r.jsx(O,{name:a})},a))})},Je=e=>{const t=ue(i=>({blur:i.quality.blur,shadows:i.quality.shadows,perspective:i.quality.perspective,animation:i.quality.animations,transparency:i.quality.transparency,tilt:i.quality.tilt})),n=re(i=>({...i,canBeBuy:ns(e.card,i),canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(i,e.card),selectionInProgress:i.operationInProgress.some(l=>l.startsWith("selectCard"))})),a=typeof e.position=="number"?e.position-(n.hand.length-1)/2:0,s=e.isChoice?n.operationInProgress.filter(i=>i!=="choices").length>0:n.operationInProgress.length>0,o=Rr(e.card.rarity);return r.jsx("div",{className:S("game-card relative",mn,"-mx-3.5 z-10 hover:z-30 cursor-pointer select-none",{"cursor-not-allowed":e.isStack||n.selectionInProgress&&e.card.state!=="selected"||!n.selectionInProgress&&(s||e.isPlaying||!e.isChoice&&n.choiceOptions.length>0),[S("transition-transform",e.card.state)]:t.animation,[S({"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removing",grayscale:n.selectionInProgress&&e.card.state!=="selected"||!n.selectionInProgress&&(n.choiceOptions.length>0||n.isGameOver||!n.canBeBuy||!n.canTriggerEffect)})]:!e.isStack&&!e.isChoice&&!e.isPlaying&&!e.withoutDetail}),onClick:async()=>{if(!e.withoutDetail&&!e.isPlaying){if(e.isStack){n.setDetail(e.isStack);return}e.isChoice?n.choiceOptions.length>0&&!s&&await n.pickOption(e.card,e.options):n.selectionInProgress?n.selectCard(e.card.name):n.choiceOptions.length===0&&!s&&!n.isGameOver&&await n.playCard(e.card,{reason:xe(e.card)})}},onContextMenu:i=>{i.preventDefault(),!e.withoutDetail&&n.setDetail(xe(e.card))},style:{marginBottom:`${20-Math.abs(a)*5}px`,rotate:`${a*2}deg`,transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear",scale:e.card.state==="highlighted"?"1.1":"1"},children:e.card.state==="removing"&&t.animation?r.jsx("div",{className:"relative",children:r.jsx(Ss,{className:S("absolute",Math.random()<.5?"scale-x-[-1]":"",{"text-card/60":t.transparency,"text-card":!t.transparency,[S({"stroke-common":o==="common","stroke-rare":o==="rare","stroke-epic":o==="epic","stroke-legendary":o==="legendary","stroke-cosmic":o==="cosmic","stroke-singularity":o==="singularity"})]:!e.card.effect.tags.includes("token")}),style:{maskClip:"fill-box"}})}):e.card.state==="removed"?r.jsx(r.Fragment,{}):r.jsx(Ir,{disabled:!!e.isStack,scale:1.1,className:S("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[S({"bg-card/60":t.transparency,"bg-card":!t.transparency})]:e.card.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,[S("ring-2",{"ring-common shadow-common":o==="common","ring-rare shadow-rare":o==="rare","ring-epic shadow-epic":o==="epic","ring-legendary shadow-legendary":o==="legendary","ring-cosmic shadow-cosmic":o==="cosmic","ring-singularity shadow-singularity":o==="singularity"})]:!e.card.effect.tags.includes("token")}),children:r.jsxs(r.Fragment,{children:[t.perspective&&t.tilt&&r.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),!n.discoveries.includes(e.card.name)&&r.jsx("div",{className:"absolute left-1/2 -top-1 -translate-y-full -translate-x-1/2 animate-pulse",children:r.jsx(Nc,{})}),r.jsxs("div",{className:S("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.type==="action","bg-support":e.card.type==="support","bg-upgrade":e.card.effect.tags.includes("upgrade")}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t.perspective?"translateZ(5px)":""} translateX(${e.card.effect.cost.type==="money"?"-15px":"-8px"})`,transformStyle:t.perspective?"preserve-3d":"flat"},children:r.jsx(wn,{cost:e.card.effect.cost})}),r.jsx("h2",{className:S("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[S({"left-3 text-lg":e.card.effect.cost.type==="money"&&e.card.name.length>7,"left-7":e.card.effect.cost.type==="money"&&e.card.effect.cost.value>99,"text-md":e.card.name.length>11})]:e.card.effect.cost.value>0,"text-action-foreground":e.card.type==="action","text-support-foreground":e.card.type==="support","text-upgrade-foreground":e.card.effect.tags.includes("upgrade")}),style:{transformStyle:t.perspective?"preserve-3d":"flat",transform:t.perspective?"translateZ(5px)":"none"},children:e.card.name}),r.jsxs("div",{className:S("absolute bottom-0 left-0 translate-y-full flex","*:px-2 *:py-0 *:rounded-br-md *:text-sm *:font-mono",{"transition-opacity duration-1000 group-hover/game-card:opacity-0":t.transparency&&t.animation}),children:[!e.card.effect.tags.includes("token")&&r.jsx(fn,{advantage:e.card.rarity}),e.card.effect.tags.includes("upgrade")&&r.jsx("div",{className:"bg-upgrade",children:(()=>{const i=Ze.find(l=>l.name===e.card.name);return i.max===void 0?"cumul infini: ∞":`cumul max: ${i.max}`})()})]})]}),is(e.card)?r.jsx(md,{card:e.card}):r.jsx(pd,{card:e.card}),r.jsxs("div",{className:S("flex-grow rounded-b-xl",e.card.type==="action"&&{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"py-[12px] px-[10px] text-center",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},children:e.card.effect.description}),r.jsx(ks,{card:e.card})]}),r.jsx(hn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),r.jsx(hn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),r.jsx(Ps,{})]})})})},md=e=>{const{shadows:t,perspective:n}=ue(a=>({shadows:a.quality.shadows,perspective:a.quality.perspective}));return r.jsx("div",{className:"group/image relative",style:{transformStyle:n?"preserve-3d":"flat"},children:r.jsx("div",{className:S({"inset-shadow":t},"relative flex justify-center items-center"),style:{transformStyle:n?"preserve-3d":"flat"},children:r.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:n?"translateZ(-15px)":"none"}})})})},hd=["React","Knex"],pd=e=>{const{perspective:t,animation:n}=ue(a=>({perspective:a.quality.perspective,animation:a.quality.animations}));return r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex justify-center items-center mt-7 mb-3",style:{transform:t?"translateZ(15px)":"none"},children:r.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:S("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":n&&hd.includes(e.card.name)})})})})},ja=e=>{const t=b.useRef(null),n=Sc(t),a=re(i=>i[e.revivedKey]),s=re(i=>i.operationInProgress.includes(`shuffleStack ${e.revivedKey.replace("revived","").toLowerCase()}`)),o=n?2:1;return r.jsxs("div",{ref:t,className:"space-y-4",style:{zIndex:e.zIndex??1},children:[r.jsx("div",{className:S(mn,"relative overflow-visible"),children:a.map((i,l,c)=>r.jsx("div",{className:S(mn,"absolute top-1/2 left-1/2 flex justify-center items-center transition-transform",(s||l<c.length-2)&&"border-l bg-card"),style:{transform:`translateY(calc(-50% - ${l*o}px)) translateX(calc(-50% + ${l*o}px)) ${s?`rotate(${l%2?-10:10}deg)`:""}`,borderColor:`hsl(var(--${Rr(i.rarity)}))`},children:!s&&l>=c.length-2&&r.jsx("div",{style:{transform:"translateY(10px)"},children:r.jsx(Je,{card:i,isStack:e.revivedKey})})},l))}),r.jsxs("div",{className:"text-center",children:[e.name," (",a.length,")"]})]})},gd=e=>r.jsxs("div",{id:"card-stacks",className:S("flex gap-10 transition-opacity duration-1000 opacity-0 pointer-events-none","fixed top-36 right-20",(e==null?void 0:e.show)&&"opacity-100 pointer-events-auto"),children:[r.jsx(ja,{name:"Pioche",revivedKey:"revivedDraw",zIndex:2}),r.jsx(ja,{name:"Défausse",revivedKey:"revivedDiscard"})]}),vd=e=>{const{start:t}=js(),n=Ne(({tutorial:a})=>a);return b.useEffect(()=>{e.show&&n&&t()},[e.show,n]),null},xd=e=>{const t=Rn[e.eventName];return r.jsxs("div",{className:S("inline-flex justify-center items-center gap-1 mx-auto",e.className),children:[r.jsx(Ms,{name:e.eventName}),r.jsx("span",{className:"font-zain test-sm",children:t.name})]})},Ms=e=>{const t=Rn[e.name];return r.jsx(Qe,{value:r.jsx(t.icon,{className:S("h-5",e.className)}),colors:"colors"in t?t.colors:"bg-background",miniature:!0,className:S("block h-6 w-6",e.backgroundClassName)})},yd=e=>{const t=ue(s=>({shadows:s.quality.shadows,animation:s.quality.animations,transparency:s})),n=re(s=>s.setDetail),a=re(s=>s.upgrades);return r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"upgrades",className:"pointer-events-none fixed w-[300px] h-24 top-2 left-1/2 -translate-x-1/2"}),r.jsx("div",{className:S("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":t.animation,"top-0":e.show&&a.length>0}),children:r.jsx("div",{className:S("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":a.length>5,"-translate-y-[25%]":a.length>10,"shadow shadow-black/50":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:r.jsx("div",{className:S("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":a.length>5,"translate-y-[25%]":a.length>10}),children:a.map((s,o)=>{const i=Nt(s),l=Rn[i.eventName];return r.jsxs("div",{className:"group/upgrade shrink-0 relative cursor-help",onClick:()=>{n(s)},onContextMenu:c=>{c.preventDefault(),n(s)},children:[r.jsx("img",{src:`images/upgrades/${i.image}`,alt:i.name,className:S("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto mx-auto ring-upgrade ring-4",{"animate-trigger":i.state==="triggered"&&t.animation,"ring-foreground":i.state==="triggered"&&!t.animation})}),r.jsx("div",{className:"h-6 relative",children:r.jsxs("div",{className:"relative",children:[i.max!==1/0&&r.jsx(kn,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:i.cumul/i.max*100}),r.jsx(Qe,{value:r.jsx(l.icon,{className:"h-5"}),colors:"colors"in l?l.colors:"bg-background",miniature:!0,className:"absolute h-6 w-6",style:{top:"-15px",left:"-15px",transform:"translate(0, -50%)"}}),r.jsx(Qe,{value:i.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),r.jsxs(Yt,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[r.jsxs("h3",{className:"text-xl font-changa",children:[i.name," ",r.jsxs("span",{className:"text-upgrade font-bold",children:[i.cumul,i.max!==1/0&&i.max!==null?`/${i.max}`:""]})]}),r.jsx("p",{children:i.description(i.cumul)}),r.jsx(xd,{eventName:i.eventName})]})]},o)})})})})]})};function As(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function Is(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}function Ca(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M221.97 54.406c-40.375 0-77.013 8.01-104.345 21.563C90.293 89.52 70.937 109.51 70.937 134c0 2.57.213 5.094.626 7.563l-.032 5.875c-.555 82.898 16.25 164.612 14.97 244.718-.372 23.295 14.294 43.908 38 57.594s56.797 21.5 97.125 21.5c40.357 0 71.338-8.024 92.906-22.03 21.57-14.008 33.408-34.712 33.408-56.908 0-3.17.054-6.345.125-9.53 42.143-1.114 75.316-23.45 97.125-52.563 22.235-29.684 34.027-66.306 34.687-99.626.66-33.32-9.983-66.91-39.156-80.594-14.588-6.842-30.593-6.573-49.25-1.125-6.16 1.798-12.548 4.25-19.126 7.375.07-2.93.125-5.86.125-8.75v-6.72c.33-2.214.5-4.484.5-6.78 0-24.49-19.357-44.478-46.69-58.03-27.33-13.554-63.937-21.564-104.31-21.564zm0 18.688c37.87 0 72.087 7.752 96.03 19.625 23.943 11.87 36.28 26.974 36.28 41.28 0 14.306-12.337 29.44-36.28 41.313-23.943 11.87-58.16 19.593-96.03 19.593-37.87 0-72.09-7.722-96.032-19.594-23.943-11.87-36.313-27.006-36.313-41.312 0-14.306 12.37-29.41 36.313-41.28 23.942-11.874 58.16-19.626 96.03-19.626zm-69.657 39.03c-23.19 6.707-37.907 16.684-37.907 27.814 0 20.193 48.398 36.562 108.094 36.562 59.696 0 108.063-16.37 108.063-36.563 0-10.264-12.52-19.546-32.657-26.187 5.266 4.105 8.22 8.692 8.22 13.563 0 17.186-36.765 31.124-82.126 31.124-45.36 0-82.125-13.938-82.125-31.125 0-5.518 3.788-10.693 10.438-15.187zm263.312 68.282c4.34-.023 7.825.793 10.53 2.063 10.826 5.076 18.406 22.81 17.908 48.124-.5 25.313-9.714 55.51-26.844 78.375-16.296 21.75-38.106 36.352-67.126 37.905 4.352-49.843 14.23-100.49 19.28-147.844 20.724-13.842 35.894-18.567 46.25-18.624z"})))}const Ts=e=>{const t=ue(n=>({animation:n.quality.animations,transparency:n.quality.transparency}));return e.animated?r.jsx("div",{className:S({"animate-bounce w-full hover:duration-500":t.animation&&e.animated}),children:r.jsxs("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:S("text-2xl flex justify-center ring-2 ring-singularity text-singularity rounded-md py-2 mx-auto w-[220px] gap-2",{"bg-card/50 hover:bg-card":t.transparency,"bg-card":!t.transparency}),children:[r.jsx(Ca,{className:"w-8 h-8"})," Buy me a coffee"]})}):r.jsxs("a",{href:"http://buymeacoffee.com/ghom",target:"_blank",className:Pn({variant:"icon",className:"border-2 border-singularity text-singularity gap-2"}),children:[r.jsx(Ca,{})," Buy me a coffee"]})},wd=Ec.find(e=>e.name==="Github"),bd=e=>{const{start:t}=js(),n=Ne(i=>()=>{i.setTutorial(!0),t()}),[a,s]=ue(i=>[i.quality.animations,i.quality.transparency]),o=Ne(i=>i.toggleSettings);return r.jsxs("div",{id:"corner-icons",className:S("absolute flex top-4 right-4 z-30 gap-2","translate-x-1/2 pointer-events-none",{hidden:!s,"opacity-0":s,"transition-all duration-500 ease-in-out":a,"translate-x-0 opacity-100 flex":e.show}),children:[r.jsx(Ts,{}),r.jsxs("a",{href:wd.url,target:"_blank",className:Pn({variant:"icon"}),children:[r.jsx(Pc,{className:"w-5 mr-2"})," Github"]}),r.jsx(T,{onClick:n,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Lancer le tutoriel",children:r.jsx(Is,{})}),r.jsx(T,{onClick:o,variant:"icon",size:"icon",className:"pointer-events-auto",title:"Ouvrir les paramètres",children:r.jsx(As,{})}),r.jsx("div",{className:"w-10 h-10 "})]})},jd=e=>{const t=ue(a=>({blur:a.quality.blur,shadows:a.quality.shadows,perspective:a.quality.perspective,animation:a.quality.animations,transparency:a.quality.transparency,tilt:a.quality.tilt})),n=re(a=>({pickOption:a.pickOption}));return r.jsx("div",{className:S("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{[S("transition-transform",e.resource.state)]:t.animation}),onClick:async()=>{await n.pickOption(e.resource,e.options)},style:{transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear"},children:e.resource.state==="removing"&&t.animation?r.jsx("div",{className:"relative",children:r.jsx(Ss,{className:S("absolute",Math.random()<.5?"scale-x-[-1]":"",{"text-card/60":t.transparency,"text-card":!t.transparency},{"stroke-energy":e.resource.type==="energy","stroke-money":e.resource.type==="money","stroke-reputation":e.resource.type==="reputation"}),style:{maskClip:"fill-box"}})}):e.resource.state==="removed"?r.jsx(r.Fragment,{}):r.jsxs(Ir,{scale:1.1,className:S("group/game-card","flex flex-col w-full h-full rounded-xl justify-center","*:shrink-0",{"bg-card/60":t.transparency,"bg-card":!t.transparency,"transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,"shadow-glow-20 shadow-primary":e.resource.state==="selected"},"ring-2",{"ring-money/50":e.resource.type==="money","ring-energy/50":e.resource.type==="energy","ring-reputation/50":e.resource.type==="reputation"}),children:[t.perspective&&t.tilt&&r.jsx("div",{className:S("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),r.jsxs("div",{style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[r.jsx("div",{className:"py-[10px] text-center font-changa text-2xl",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},children:e.resource.type==="money"?r.jsx(Ge,{M$:e.resource.value}):r.jsxs(r.Fragment,{children:[e.resource.value," ",r.jsx(O,{name:e.resource.type})]})}),r.jsx("div",{className:S("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":t.transparency,"text-muted-foreground":!t.transparency}),children:"Instantané"})]}),r.jsx(hn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),r.jsx(hn,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),r.jsx(Ps,{})]})},e.resource.id)},Cd=e=>{const t=re(),n=ue(l=>l.quality.animations),a=b.useMemo(()=>ts(t.day),[t.day]),s=b.useMemo(()=>{var l;return lr(((l=t.choiceOptions[0])==null?void 0:l.options())??[],t)},[t.choiceOptions[0]]),o=t.operationInProgress.filter(l=>l!=="choices").length>0,i=t.energy+t.reputation<Ot||t.hand.length>=Be||t.draw.length===0||o;return b.useEffect(()=>{t.choiceOptions.length===0&&t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!1),t.choiceOptions.length>0&&!t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!0)},[t.choiceOptions.length,t.operationInProgress]),r.jsx("div",{id:"actions",className:S("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 pointer-events-none",{"transition-opacity duration-500 ease-in-out":n,"opacity-100 pointer-events-auto":e.show}),children:r.jsxs("div",{className:"space-y-4 group/actions bg-background/80 p-2 rounded-xl relative",children:[r.jsx("h2",{className:S("text-3xl ml-2 select-none",t.choiceOptions.length>0&&s.length<4?"text-left":"text-center"),children:t.playZone.length>0?t.operationInProgress.includes("selectCard")?"Clique sur une carte de la main":t.playZone[t.playZone.length-1].name:t.choiceOptions.length>0?t.choiceOptions[0].header:"Actions"}),t.playZone.length>0?r.jsx("div",{className:"flex justify-center",children:t.playZone.map((l,c)=>r.jsx(Je,{card:je(l,t),isPlaying:!0},c))}):t.choiceOptions.length===0?r.jsxs(T,{className:S("flex justify-start gap-2",{grayscale:i}),onClick:async()=>{t.setOperationInProgress("infinity-draw",!0),se.play.play(),await t.addEnergy(-Ot,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.advanceTime(Ot),zt(t)&&await W(2e3),t.setOperationInProgress("infinity-draw",!1)},disabled:i,size:"cta",children:[r.jsx(Qe,{value:Ot,isCost:!0,className:"w-8 h-8",colors:ss(t,Ot)})," ","Piocher une carte"]}):r.jsxs(r.Fragment,{children:[r.jsxs(T,{className:"flex gap-3 absolute right-2 -top-2",disabled:o,onClick:async()=>{await t.skip({reason:"Bouton passer"})},children:[r.jsx(Qe,{value:a&&t.choiceOptions.length===1?10:5,symbol:!0,miniature:!0,colors:"bg-energy"}),"Passer"]}),(s.length===0&&t.dangerouslyUpdate({choiceOptions:t.choiceOptions.slice(1)}),r.jsxs("div",{className:S("flex justify-center",{"grid grid-cols-3":s.length<3}),children:[r.jsx("div",{className:S({hidden:s.length!==1})}),s.map((l,c)=>jt(l)?r.jsx(jd,{resource:l,options:s},c):r.jsx(Je,{card:l,isChoice:!0,options:s},c))]}))]})]})})},Tr={consumeReputation:r.jsxs(r.Fragment,{children:["Lorsque tu n'as plus d'",r.jsx(O,{name:"energy"}),", tu consommes la ",r.jsx(O,{name:"reputation"}),"."]}),emptyReputation:r.jsxs(r.Fragment,{children:["Si tu n'as plus de ",r.jsx(O,{name:"reputation"}),", tu perds la partie."]}),cantPlay:"Si tu ne peux plus jouer de carte, tu perds la partie.",playedToDiscard:"Quand une carte est jouée, elle va dans la défausse.",supportInterest:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(O,{name:"support"})," sont importantes pour toujours avoir des cartes à jouer."]}),costDollars:r.jsxs(r.Fragment,{children:["Certaines cartes coutent de l'",r.jsx(O,{name:"money"})," pour être jouées."]}),limitedDraw:"Votre pioche est limitée. Jouez prudemment !",actionGivesResources:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(O,{name:"action"})," donnent souvent des resources"]}),upgradesAreActions:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(O,{name:"upgrade"})," sont considérées comme des cartes"," ",r.jsx(O,{name:"action"}),"."]}),ephemeralDestroyed:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(O,{name:"ephemeral",plural:!0})," sont détruites après utilisation."]}),recyclageToDraw:r.jsxs(r.Fragment,{children:["Les cartes ",r.jsx(O,{name:"recyclage"})," retournent dans la pioche."]}),upgradesCumulable:r.jsxs(r.Fragment,{children:["Les effets des ",r.jsx(O,{name:"upgrade",plural:!0})," sont cumulables !"]}),maxHandSize:r.jsxs(r.Fragment,{children:["Tu ne peux pas avoir plus de ",Be," cartes en main."]}),overDraw:"Les cartes piochées en trop restent dans la pioche.",upgradeCostThreshold:r.jsxs(r.Fragment,{children:["Le prix des cartes d'",r.jsx(O,{name:"upgrade"})," augmente progressivement."]}),winCondition:r.jsxs(r.Fragment,{children:["Si tu obtiens ",r.jsx(Ge,{M$:Wt}),", tu gagnes la partie."]}),sprintsAreWeek:r.jsxs(r.Fragment,{children:["Chaque ",r.jsx(O,{name:"sprint"})," contient une semaine (7"," ",r.jsx(O,{name:"day",plural:!0}),")."]}),sprintReward:r.jsxs(r.Fragment,{children:["A la fin d'un ",r.jsx(O,{name:"sprint"}),", tu ajoutes une carte"," ",r.jsx(O,{name:"upgrade"})," et une carte ",r.jsx(O,{name:"action"})," à ton deck."]}),cardsAdvancesTime:r.jsxs(r.Fragment,{children:["Chaque carte jouée fait avancer le temps en fonction de son cout en"," ",r.jsx(O,{name:"energy"}),"."]}),rightClicDetail:"Fait un clic droit sur une carte pour avoir plus d'informations.",recycleTarget:r.jsxs(r.Fragment,{children:["Une carte qui ",r.jsx(O,{name:"recycle"})," sort une cible de la défausse pour la remettre dans la pioche."]}),dailyReward:r.jsxs(r.Fragment,{children:["Chaque ",r.jsx(O,{name:"day"}),", tu ajoutes une nouvelle carte à ta pioche."]}),permanentSave:"Quittez et revenez quand vous le voulez, tout est sauvegardé !",konamiCode:"Ce jeu a un petit point commun avec les jeux Konami...",inflation:r.jsxs(r.Fragment,{children:["Tous les 28 ",r.jsx(O,{name:"day",plural:!0}),", l'",r.jsx(O,{name:"inflation"})," diminue le ",r.jsx(O,{name:"level"})," des cartes."]})},Nd={reputation:["consumeReputation","emptyReputation","winCondition"],mill:["ephemeralDestroyed","limitedDraw","playedToDiscard","cantPlay","supportInterest","recyclageToDraw","recycleTarget","winCondition"],"soft-lock":["costDollars","upgradeCostThreshold","actionGivesResources","inflation","winCondition"],"mill-lock":["overDraw","cardsAdvancesTime","upgradesAreActions","upgradesCumulable","maxHandSize","winCondition"]},Wn=Object.values(Tr),Sd=e=>{const t=b.useRef(null),n=as(t),{animation:a,shadow:s,transparency:o}=ue(c=>({animation:c.quality.animations,transparency:c.quality.transparency,shadow:c.quality.shadows})),[i,l]=b.useState(0);return b.useEffect(()=>{const c=setInterval(()=>{n||l((i+1)%Wn.length)},5e3);return()=>clearInterval(c)},[i,n]),r.jsx("div",{ref:t,className:S("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":o,"bg-card":!o,"shadow shadow-black/50":s&&o,"transition-transform duration-500 ease-in-out":a,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>l((i+1)%Wn.length),children:r.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:r.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[r.jsx(Is,{className:"h-6 cursor-pointer"}),r.jsx("span",{className:"whitespace-nowrap",children:Wn[i]})]})})})},Ed=()=>{const[e,t]=b.useState({x:0,y:0});return b.useEffect(()=>{const n=a=>{t({x:a.clientX,y:a.clientY})};return window.addEventListener("mousemove",n),()=>{window.removeEventListener("mousemove",n)}},[]),e},Pd=e=>{const{subjects:t,clear:n}=Rc(),a=ue(),s=Ed(),[o,i]=b.useState(null);b.useEffect(()=>{t[0]&&i(t[0])},[t]),b.useEffect(()=>{const c=setTimeout(()=>{n()},2e3);return()=>{clearTimeout(c)}},[o]);const l=e.show&&t.length>0;return r.jsx("div",{className:S("pointer-events-none z-50 fixed bg-card p-2 rounded-md shadow-sm shadow-primary max-w-md",{[S("transition-opacity",{"opacity-100 duration-75 ease-[cubic-bezier(0.4, 0, 1, 1)]":l,"opacity-0 duration-1000 ease-[cubic-bezier(0.0, 0, 0.2, 1)]":!l})]:a.quality.transparency,[S("hidden",{block:l})]:!a.quality.transparency}),style:{top:s.y+5,left:s.x+5,zIndex:999999},children:o})};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Os=(...e)=>e.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...kd,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:Os("lucide",s),...l},[...i.map(([d,f])=>u.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(e,t)=>{const n=u.forwardRef(({className:a,...s},o)=>u.createElement(Md,{ref:o,iconNode:t,className:Os(`lucide-${Rd(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Mt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Mt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function Od(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Dd(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const _s=e=>{const t=re(),n=typeof e.item=="object"?ls(e.item)?je(e.item,t):Nt(e.item):e.item;return r.jsxs("span",{className:S("inline-flex items-center h-7 w-full rounded-full",typeof n=="string"?"":{"bg-action text-action-foreground":n.type==="action","bg-support text-support-foreground":n.type==="support","bg-upgrade text-upgrade-foreground":n.type==="upgrade"}),children:[typeof n=="object"&&r.jsx(Fs,{item:n}),r.jsx("div",{className:"px-2",children:typeof n=="object"?n.name:n})]})},Fs=({item:e,...t})=>r.jsx("img",{...t,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:S("aspect-square rounded-full h-full bg-background",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},t.className)}),ce=({className:e,...t})=>{const n=ue();return r.jsx("div",{...t,className:S("space-y-4 border rounded-xl py-4 px-6",{"bg-card/50":n.quality.transparency,"bg-card":!n.quality.transparency},e)})},Ld=({scrollBox:e,child:t,placeholder:n})=>{const[a,s]=u.useState(!1),o=u.useRef(null);return u.useEffect(()=>{if(!e.current)return;const i=new IntersectionObserver(l=>{const c=l[0];s(c.isIntersecting)},{root:e.current,rootMargin:"0px",threshold:.1});return o.current&&i.observe(o.current),()=>{o.current&&i.unobserve(o.current)}},[e]),r.jsx("div",{ref:o,children:a?t:n})},_d=e=>{const t=ue(),n=re(o=>()=>o),[a,s]=re(o=>[o.detail,o.setDetail]);return r.jsxs("div",{className:S("absolute inset-0 z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":t.quality.animations,"opacity-0 bg-background/80":t.quality.transparency,hidden:!t.quality.transparency,"opacity-100 flex pointer-events-auto":a&&e.show}),children:[r.jsx("div",{onClick:()=>s(null),className:S("absolute inset-0",a&&e.show?"pointer-events-auto":"pointer-events-none")}),a&&r.jsx(Yt,{className:"space-y-4 z-30 w-fit h-fit flex flex-col items-center",children:typeof a=="string"?r.jsx(Fd,{stack:a}):ls(a)?r.jsx($d,{card:je(a,n())}):r.jsx(zd,{upgrade:Nt(a)})})]})},Fd=e=>{const t=b.useRef(null),n=re(s=>s[e.stack]),a={revivedDraw:"Pioche",revivedDiscard:"Défausse",revivedHand:"Main"}[e.stack];return r.jsxs(r.Fragment,{children:[r.jsxs("h1",{className:"text-3xl",children:["Pile de ",a]}),r.jsx("div",{className:"flex ",children:r.jsx(ce,{children:r.jsx("div",{ref:t,className:"grid grid-cols-4 gap-x-10 px-10 max-w-[1000px] max-h-[600px] overflow-y-scroll",children:n.map((s,o)=>r.jsx(Ld,{scrollBox:t,child:r.jsx(Je,{card:s,isStack:e.stack},o),placeholder:r.jsx("div",{className:mn})},o))})})})]})},$d=e=>{const t=re(d=>()=>d),n=b.useRef(null),[a,s]=b.useState("tri par ordre d'exécution"),o=Hc(t(),xe(e.card)),i=Rr(e.card.rarity,!0),l=os(e.card.effect),c=b.useMemo(()=>{var d;return(((d=n.current)==null?void 0:d.children.length)??0)>3},[n]);return r.jsxs(r.Fragment,{children:[r.jsxs("h1",{className:"text-3xl",children:['A propos de "',e.card.name,'"']}),!e.card.effect.tags.includes("token")&&r.jsx("div",{className:"flex",children:Object.entries(qt).sort(([,d],[,f])=>d-f).map(([d,f])=>{const m=t(),v=kc(f,m);return r.jsx("div",{children:r.jsx(Je,{withoutDetail:!0,card:je({name:e.card.name,state:i===d&&o.length===0?"highlighted":"idle",initialRarity:v},m,{withoutModifiers:!0})})},d)})}),r.jsxs("div",{className:"flex gap-5",children:[o.length>0&&r.jsxs(ce,{className:"shrink-0 flex flex-col relative",children:[r.jsx(T,{className:"absolute top-0 right-0",onClick:()=>{s(a==="tri par ordre d'exécution"?"tri par raison":a==="tri par raison"?"tri par type":"tri par ordre d'exécution")},children:a}),r.jsx("h2",{className:"text-2xl",children:"Modificateurs actifs"}),r.jsx("div",{className:"max-h-[300px] overflow-y-scroll flex-grow",children:r.jsx("table",{children:r.jsx("tbody",{children:o.sort((d,f)=>a==="tri par type"?d.type.localeCompare(f.type):a==="tri par raison"?d.reason.name.localeCompare(f.reason.name):0).map((d,f)=>r.jsxs("tr",{className:"odd:bg-muted/50",children:[r.jsxs("th",{children:["#",f+1]}),r.jsx("th",{className:"whitespace-nowrap",children:"body"in d.reason?r.jsx("span",{children:d.reason.body}):r.jsx(_s,{item:d.reason})}),d.type==="localAdvantage"?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"text-right",children:r.jsx(fn,{advantage:d.before,orphan:!0})}),r.jsx("td",{children:r.jsx(Na,{className:"w-4"})}),r.jsx("td",{children:r.jsx(fn,{advantage:d.after,orphan:!0})})]}):r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"text-right",children:r.jsx(wn,{cost:d.before,miniature:!0})}),r.jsx("td",{children:r.jsx(Na,{className:"w-4"})}),r.jsx("td",{children:r.jsx(wn,{cost:d.after,miniature:!0})})]})]},f))})})})]}),(e.card.effect.tags.includes("token")||o.length>0)&&r.jsxs(ce,{className:"shrink-0",children:[r.jsx("h2",{className:"text-center text-2xl",children:"Ta carte"}),r.jsx(Je,{card:e.card,withoutDetail:!0})]}),r.jsxs("div",{ref:n,className:S("flex flex-col gap-5",{"grid grid-cols-2":c}),children:[r.jsxs(ce,{children:[r.jsxs("h2",{className:"text-2xl",children:["Type ",r.jsx(O,{name:e.card.type})]}),l&&l.length>0&&l.map(d=>r.jsxs("div",{children:[r.jsx(O,{name:d,className:"text-2xl"})," -"," ",cs[d].description]},d))]}),e.card.effect.hint&&r.jsxs(ce,{children:[r.jsx("h2",{className:"text-2xl",children:"A savoir"}),r.jsx("p",{className:"text-2xl",children:e.card.effect.hint})]}),e.card.type==="action"&&r.jsx(Bd,{card:e.card})]})]})]})},zd=e=>{const t=re(n=>()=>n);return r.jsxs(r.Fragment,{children:[r.jsxs("h1",{className:"text-3xl",children:['A propos de "',e.upgrade.name,'"']}),r.jsxs("div",{className:"flex gap-5",children:[r.jsxs(ce,{children:[r.jsx("h2",{className:"text-2xl",children:"Carte associée"}),r.jsx(Je,{card:je(e.upgrade.name,t()),withoutDetail:!0})]}),r.jsxs("div",{className:"flex flex-col gap-5",children:[r.jsx(ce,{children:r.jsxs("div",{className:"flex justify-between gap-5",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Déclencheur"}),r.jsx("p",{className:"text-2xl",children:Rn[e.upgrade.eventName].name})]}),r.jsx("div",{children:r.jsx(Ms,{name:e.upgrade.eventName,className:"w-16 h-16",backgroundClassName:"w-[70px] h-[70px]"})})]})}),r.jsxs(ce,{children:[r.jsxs("h2",{className:"text-2xl",children:["Effet",e.upgrade.max>1&&"s"]}),r.jsx("div",{className:"max-h-[200px] overflow-y-scroll",children:r.jsx("table",{children:r.jsx("tbody",{children:new Array(e.upgrade.max).fill(null).slice(0,e.upgrade.max===1/0?5:e.upgrade.max).map((n,a)=>r.jsxs("tr",{children:[r.jsx("th",{children:r.jsxs(O,{name:"upgrade",children:["x",a+1]})}),r.jsx("td",{children:e.upgrade.description(a+1)})]},a))})})})]})]})]})]})},$s=e=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex mb-2 gap-2",children:[r.jsx(wn,{cost:e.card.effect.cost,miniature:!0}),r.jsx("h2",{children:e.card.name})]}),r.jsx("p",{children:e.card.effect.description}),r.jsx(ks,{card:e.card}),is(e.card)&&e.card.families.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("hr",{}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.card.families.map(t=>r.jsx(ds,{name:t},t))})]})]}),Bd=e=>r.jsxs(r.Fragment,{children:[e.card.families.length>0&&r.jsxs(ce,{children:[r.jsx("h2",{className:"text-2xl",children:"Familles"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.card.families.map(t=>r.jsx(ds,{name:t},t))})]}),!e.card.effect.tags.includes("upgrade")&&r.jsxs(ce,{children:[r.jsxs("a",{className:S("flex gap-3 items-baseline flex-wrap",!e.card.url&&"cursor-default"),href:e.card.url,target:"_blank",children:[r.jsxs("h2",{className:"inline text-2xl whitespace-nowrap",children:['Projet "',e.card.name,'"']}),e.card.url&&r.jsx(Td,{className:"inline self-center"}),e.card.description&&r.jsxs("span",{className:"text-lg italic text-muted-foreground whitespace-nowrap",children:["(",e.card.description,")"]})]}),e.card.detail&&r.jsxs("div",{className:"flex-grow text-xl text-left max-w-lg relative ml-5",children:[e.card.detail,r.jsx("span",{className:"inline-block w-0 overflow-visible",children:r.jsx(Dd,{className:"w-5 h-5 inline-block translate-x-2 translate-y-1/2"})}),r.jsx(Od,{className:"w-5 h-5 absolute -left-2 top-0 -translate-x-full"})]})]})]});function Ft(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const Gd=e=>{const t=ue(a=>({animations:a.quality.animations,transparency:a.quality.transparency})),n=re(a=>({handOverflow:a.hand.length>=Be,almostEmptyDraw:a.draw.length<4&&a.draw.length>0&&Ut(a).length>Be,emptyDraw:a.draw.length===0,almostEmptyReputation:a.reputation<=5}));return e.show?r.jsx("div",{className:S("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none -translate-y-1/2",{"animate-pulse duration-700":t.animations&&t.transparency}),children:r.jsxs("div",{className:S("text-3xl flex flex-col gap-2","*:flex *:items-center *:gap-2",{"transition-[right] ease-in-out duration-1000":t.animations,[S("opacity-0",{"opacity-100":e.show})]:t.transparency,[S("hidden",{flex:e.show})]:!t.transparency}),children:[n.handOverflow&&r.jsxs("div",{children:[r.jsx(Ft,{className:"w-10"})," Ta main est pleine !"]}),n.almostEmptyDraw&&r.jsxs("div",{children:[r.jsx(Ft,{className:"w-10"})," Ta pioche est presque vide !"]}),n.emptyDraw&&r.jsxs("div",{children:[r.jsx(Ft,{className:"w-10"})," Ta pioche est vide !"]}),n.almostEmptyReputation&&r.jsxs("div",{children:[r.jsx(Ft,{className:"w-10"})," Ta ",r.jsx(O,{name:"reputation"})," est basse !"]})]})}):null},qd=()=>{const e=re(),t=e.operationInProgress.length>0;return r.jsxs("div",{className:"group-hover/debug:grid hidden grid-cols-2 gap-1 *:mx-auto",children:[r.jsx(T,{size:"cta",onClick:()=>{throw new Error("Test d'erreur")},children:"Déclencher une erreur"}),r.jsx(T,{size:"cta",onClick:()=>e.addScreenMessage({header:"Test de notif",message:"Une notification",className:"bg-background text-foreground"}),children:"Déclencher une notification"}),r.jsx(T,{size:"cta",disabled:t,onClick:async()=>{const a=Math.round(1/De);await e.advanceTime(a)},children:"Ajouter 1 jour"}),r.jsx(T,{size:"cta",disabled:t,onClick:async()=>{const a=Math.round(7/De);await e.advanceTime(a)},children:"Ajouter une semaine"}),r.jsx(T,{size:"cta",disabled:t,className:"text-upgrade",onClick:async()=>{e.setOperationInProgress("get all upgrades",!0),e.upgrades=[];for(const n of Ze)await Promise.all(new Array(n.max??10).fill(0).map(async(a,s)=>{await W(100*s),await e.upgrade(n.name)})),await e.removeCard(n.name);e.setOperationInProgress("get all upgrades",!1)},children:"Toutes les améliorations"}),r.jsx(T,{size:"cta",onClick:async()=>{e.choiceOptions=[],e.operationInProgress=[],e.setOperationInProgress("get all cards",!0);for(const n of Rt)e.hand.some(a=>a.name===n.name)||e.draw.some(a=>a.name===n.name)||e.playZone.some(a=>a.name===n.name)||e.discard.some(a=>a.name===n.name)||e.draw.push(je({name:n.name,state:"idle",initialRarity:es()},e));e.setOperationInProgress("get all cards",!1)},children:"Toutes les cartes"}),r.jsx(T,{size:"cta",onClick:()=>e.dangerouslyUpdate({inflation:0}),children:"Annuler l'inflation"}),r.jsx(T,{size:"cta",onClick:()=>e.incrementsInflation(),children:"Augmenter l'inflation"}),r.jsx(T,{size:"cta",onClick:async()=>{const n=Rt.filter(a=>!a.effect().tags.includes("token")).map(a=>a.name);await e.transformCardsAnimation(n,()=>e.addGlobalCardModifier("level up cards",[n,Pr],{name:"Level up button",body:"Level up button"}))},children:"Level up cards"}),r.jsxs("div",{className:"flex",children:[r.jsx(T,{className:"text-green-500",onClick:()=>e.win(),disabled:t,children:"Win"}),r.jsx(T,{className:"text-red-500",onClick:()=>e.defeat("reputation"),disabled:t,children:"Lose"})]})]})},Wd=()=>{const e=re(a=>a.operationInProgress),[t,n]=b.useState([]);return b.useEffect(()=>{e.join(" | ")!==t[t.length-1]&&n(a=>[...a,e.join(" | ")].slice(-50))},[e]),r.jsxs(Yt,{className:S("group/debug absolute bottom-0 left-0 opacity-50 hover:opacity-100 z-50"),children:[r.jsxs("div",{className:e.length>0?"bg-red-500":"bg-green-500",children:["Operation in progress:",r.jsx("ul",{children:e.map((a,s)=>r.jsx("li",{children:a},s))})]}),r.jsx("div",{className:"group-hover/debug:block hidden",children:t.map((a,s)=>r.jsxs("div",{className:"whitespace-nowrap text-sm",children:["- ",a]},s))}),r.jsx(qd,{})]})};var Or={},zs={exports:{}},Hd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vd=Hd,Ud=Vd;function Bs(){}function Gs(){}Gs.resetWarningCache=Bs;var Kd=function(){function e(a,s,o,i,l,c){if(c!==Ud){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Gs,resetWarningCache:Bs};return n.PropTypes=n,n};zs.exports=Kd();var Yd=zs.exports,qs=void 0;typeof window<"u"&&(qs=Bc);var Zd=qs,Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.noop=function(){};Object.defineProperty(Or,"__esModule",{value:!0});var Xd=function(){function e(t,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Ws=u,Qd=Hs(Ws),Jd=Yd,me=Hs(Jd),Sa=Zd,$e=Dr;function Hs(e){return e&&e.__esModule?e:{default:e}}function eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Lr=function(e){nu(t,e);function t(n){eu(this,t);var a=tu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.initHowler=a.initHowler.bind(a),a}return Xd(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(a){JSON.stringify(a.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(a)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof Sa.Howl<"u"&&(this.howler=new Sa.Howl({src:a.src,xhr:a.xhr,format:a.format,mute:a.mute,loop:a.loop,preload:a.preload,volume:a.volume,rate:a.rate,onend:a.onEnd,onplay:a.onPlay,onplayerror:a.onPlayError,onpause:a.onPause,onvolume:a.onVolume,onstop:a.onStop,onload:a.onLoad,onseek:a.onSeek,onloaderror:a.onLoadError,html5:a.html5}),a.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(a){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),a.mute!==this.props.mute&&this.mute(this.props.mute),a.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var a=this.howler.playing();a||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;a?this.howler.pause(a):this.howler.pause()}},{key:"rate",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof a=="number"&&(s?this.howler.rate(a,s):this.howler.rate(a))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;a?this.howler.stop(a):this.howler.stop()}},{key:"mute",value:function(){var a;(a=this.howler).mute.apply(a,arguments)}},{key:"volume",value:function(){var a;return(a=this.howler).volume.apply(a,arguments)}},{key:"loop",value:function(){var a;return(a=this.howler).loop.apply(a,arguments)}},{key:"seek",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!a&&a!==0)return this.howler.seek();if(a||a===0)return this.howler.seek(a),a}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return Qd.default.createElement("div",null)}},{key:"howler",set:function(a){a&&(this._howler=a)},get:function(){return this._howler}}]),t}(Ws.Component);Lr.propTypes={src:me.default.oneOfType([me.default.string,me.default.arrayOf(me.default.string)]).isRequired,format:me.default.arrayOf(me.default.string),xhr:me.default.object,playing:me.default.bool,mute:me.default.bool,loop:me.default.bool,preload:me.default.bool,volume:me.default.number,rate:me.default.number,onEnd:me.default.func,onPause:me.default.func,onPlay:me.default.func,onPlayError:me.default.func,onVolume:me.default.func,onStop:me.default.func,onLoad:me.default.func,onSeek:me.default.func,onLoadError:me.default.func,html5:me.default.bool};Lr.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:$e.noop,onPause:$e.noop,onPlay:$e.noop,onPlayError:$e.noop,onVolume:$e.noop,onStop:$e.noop,onLoad:$e.noop,onSeek:$e.noop,onLoadError:$e.noop,html5:!1};Or.default=Lr;var ru=Or.default;const au=Mc(ru),gt=.4,su=()=>{const e=re(o=>o.isGameOver),t=Ne(o=>o.musicVolume),n=Ne(o=>o.musicMuted),a=Ne(o=>o.setMusicVolume),s=Ne(o=>o.isCardGameVisible);return b.useEffect(()=>{let o;return s&&!e&&t<gt?o=setInterval(()=>{a(i=>i<gt?Math.min(gt,i+gt/10):(clearInterval(o),i))},100):(!s||e)&&t>0&&(o=setInterval(()=>{a(i=>i>0?Math.max(0,i-gt/10):(clearInterval(o),i))},100)),()=>clearInterval(o)},[s,e]),r.jsx(au,{src:"sounds/music.mp3",volume:Math.min(gt,t),mute:n,loop:!0,playing:!0})},Vs=[{name:"Mel Andrew",score:27206,mode:"normal"},{name:"Ghom",score:26138,mode:"normal"},{name:"𝕺𝖓𝖞𝖝",score:35465,mode:"noob"},{name:"Placeholder",score:1500,mode:"normal"}];function ou(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function iu(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function lu(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),b.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function cu(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8c12.3-2.5 24.1-6.4 35.1-11.5c-2.1-10.8-3.1-21.9-3.1-33.3c0-80.3 53.8-148 127.3-169.2c.5-2.2 .7-4.5 .7-6.8c0-17.7-14.3-32-32-32H32zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm47.9-225c4.3 3.7 5.4 9.9 2.6 14.9L452.4 356H488c5.2 0 9.8 3.3 11.4 8.2s-.1 10.3-4.2 13.4l-96 72c-4.5 3.4-10.8 3.2-15.1-.6s-5.4-9.9-2.6-14.9L411.6 380H376c-5.2 0-9.8-3.3-11.4-8.2s.1-10.3 4.2-13.4l96-72c4.5-3.4 10.8-3.2 15.1 .6z"})))}function du(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},b.createElement("g",null,b.createElement("path",{d:"M256 24c-31.466 48-62.932 96-62.932 160 0 56.794 37.144 113.568 45.514 148h34.836c8.37-34.432 45.514-91.206 45.514-148 0-64-31.466-112-62.932-160zM98.637 206c-47.2 0-78.664 32-78.664 80 0 32 22.115 63.526 62.93 64-15.732-16 .002-64 31.468-64 31.89 0 56.58 21.916 69.253 46h33.828c-13.744-47.52-49.108-126-118.813-126zm314.726 0c-69.705 0-105.07 78.48-118.814 126h33.827c12.673-24.084 37.362-46 69.252-46 31.465 0 47.2 48 31.466 64 40.816-.474 62.93-32 62.93-64 0-48-31.464-80-78.663-80zM153.076 350c-38.705 0-54.44 16-54.44 48 0 16 15.734 48 47.2 48 35.4 0 61.948-27 73.01-54h-35.682c-4.657 3.57-11.5 6-21.596 6-15.733 0-31.464-32-8.492-48zm37.694 0c.017.064.03.127.048.19-13.29 2.16-12.694 23.343 1.793 23.79v.02H319.39l-.003-.02c14.486-.447 15.083-21.63 1.792-23.79.017-.063.03-.126.048-.19H190.77zm168.154 0c22.972 16 7.24 48-8.492 48-10.096 0-16.94-2.43-21.596-6h-35.682c11.062 27 37.61 54 73.01 54 31.466 0 47.2-32 47.2-48 0-32-15.735-48-54.44-48zm-118.656 42c-15.733 16-15.734 48-31.467 64l31.468-16c0 16 0 32 15.732 48 15.733-16 15.732-32 15.732-48l31.467 16c-15.734-16-15.735-48-31.468-64h-31.464z",fill:"currentColor",fillOpacity:"1"}))))}function uu(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M256 16c-52.5 252.632-210 277.845 0 454.688C466 293.845 308.5 268.63 256 16zM124.75 167.407C98.5 243.197 46 294.117 46 369.907S151 496 229.75 496c-157.5-126.317-105-202.278-105-328.593zm262.5 0c0 126.317 52.5 202.278-105 328.593C361 496 466 445.696 466 369.907c0-75.79-52.5-126.71-78.75-202.5z"})))}var fu="Separator",Ea="horizontal",mu=["horizontal","vertical"],Us=u.forwardRef((e,t)=>{const{decorative:n,orientation:a=Ea,...s}=e,o=hu(a)?a:Ea,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(Q.div,{"data-orientation":o,...l,...s,ref:t})});Us.displayName=fu;function hu(e){return mu.includes(e)}var Ks=Us;const ur=u.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(Ks,{ref:s,decorative:n,orientation:t,className:S("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));ur.displayName=Ks.displayName;const Qt=({iconClassName:e,barClassName:t,value:n,display:a,max:s,color:o,title:i,increaseOnly:l,...c})=>r.jsxs("div",{...c,className:S("flex items-center h-7 w-full",c.className),children:[r.jsx(Qe,{title:i,value:a?a(n/s):n,miniature:!0,colors:o??"bg-primary",className:S("absolute z-50",e)}),r.jsx(kn,{barColor:o,className:S(t,"ml-[30px] rounded-l-none"),value:n/s*100,increaseOnly:l})]});function pu(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},b.createElement("g",null,b.createElement("path",{d:"M256 18.365L50.14 136 256 253.635 461.86 136 256 18.365zm-154 168L50.14 216 256 333.635 461.86 216 410 186.365l-154 88-154-88zm0 80L50.14 296 256 413.635 461.86 296 410 266.365l-154 88-154-88zm0 80L50.14 376 256 493.635 461.86 376 410 346.365l-154 88-154-88z",fill:"currentColor",fillOpacity:"1"}))))}function gu(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},b.createElement("g",null,b.createElement("path",{d:"M150.79 479.797l-85.27-185.08c-3.13-6.79-.15-14.862 6.634-17.993l129.163-59.51c6.783-3.12 14.862-.15 17.987 6.646l85.283 185.067c3.13 6.802.15 14.863-6.646 18L168.79 486.43c-6.795 3.144-14.868.15-18-6.633zm26.17-69.31l15.318-44.522 44.522 15.32 7.66-22.253-44.523-15.318 15.325-44.522-22.252-7.66-15.325 44.516-44.515-15.324-7.66 22.258 44.516 15.324-15.324 44.522zm106.07-211.05c47.9-85.625-53.11-105.304-102.586-62.593l-38.9 51.353C105.95 210 97.853 175.98 109.226 158.424l54.106-73.515 97.158-52.146c7.108-5.2 17.838-8.133 32.767-8.445l194.467 1.463.866 112.044-107.304-7.725c1.818 43.394-42.734 53.08-66.683 106.905l-13.813 46.38c-30.217-10.16-41.29-34.367-17.76-83.95zm-129.828-3.077l39.046-51.33c12.434-10.477 29.51-17.675 46.92-17.375-15.264 16.008-20.158 25.557-23.475 39.046-8 19.775-17.74 29.69-30.366 23.296-10.712 10.322-21.412 14.87-32.125 6.364z",fill:"currentColor",fillOpacity:"1"}))))}const vu=e=>{const t=re(n=>({deck:Ut(n),draw:n.draw,discard:n.discard,hand:n.hand}));return r.jsx(ke,{Icon:e.collection==="deck"?pu:e.collection==="draw"?Gc:gu,name:e.collection==="deck"?"Deck":e.collection==="draw"?"Pioche":"Défausse",value:t[e.collection].length,className:"h-5"})},ke=({name:e,Icon:t,value:n,...a})=>r.jsxs("div",{...a,className:S("flex items-center gap-1",a.className),children:[r.jsx(t,{className:"h-full aspect-square w-fit self-center justify-self-start"}),r.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[r.jsxs("span",{children:[e,n!=null?" :":""]})," ",n]})]}),Ys=e=>{const t=re(),n=ue(o=>({shadows:o.quality.shadows,animation:o.quality.animations,transparency:o.quality.transparency})),[a,s]=b.useState("");return r.jsxs(r.Fragment,{children:[e.forHUD&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[r.jsxs("div",{id:"energy",children:[r.jsx(Qt,{title:"Energie",value:t.energy,max:t.energyMax,color:"bg-energy"}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:cu,name:"Energie",className:"h-5"})})]}),r.jsxs("div",{id:"reputation",children:[r.jsx(Qt,{title:"Réputation",value:t.reputation,max:Er,color:"bg-reputation"}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:du,name:"Réputation",className:"h-5"})})]}),r.jsxs("div",{id:"day",children:[r.jsx(Qt,{title:"Journée",display:o=>Math.floor(o*24)%24+"h",value:t.dayFull===null?t.day%1:t.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:va,name:"Jour",value:Math.floor(t.day),className:"h-5"})})]}),r.jsxs("div",{id:"sprint",children:[r.jsx(Qt,{title:"Sprint",display:o=>Math.floor(o*7)+"j",value:Math.floor(t.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),r.jsx("div",{className:"last:col-span-1 flex items-center",children:r.jsx(ke,{Icon:qc,name:"Sprint",value:Math.floor(t.day/7),className:"h-5"})})]})]}),r.jsx(ur,{}),r.jsxs("div",{id:"deck",className:"space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(us,{value:a,onChange:o=>s(o.target.value),placeholder:"Rechercher dans le deck...",className:"flex-grow"}),a.length>0&&r.jsx(Ac,{onClick:()=>s(""),className:"cursor-pointer w-3 h-3 absolute top-1/2 right-4 -translate-y-1/2"})]}),r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsx("div",{className:"flex justify-end col-span-2",children:Sr(t).filter(o=>!a||o.type.includes(a.toLowerCase())||o.name.toLowerCase().includes(a.toLowerCase())||o.effect.tags.some(i=>{var l;return i.includes(a.toLowerCase())||((l=cs[i])==null?void 0:l.name.toLowerCase().includes(a.toLowerCase()))})||o.type==="action"&&o.families.some(i=>i.toLowerCase().includes(a.toLowerCase()))||Ic(o.effect.description).toLowerCase().includes(a.toLowerCase())).toSorted((o,i)=>o.type===i.type?o.effect.tags.includes("upgrade")?1:-1:i.type>o.type?1:-1).map((o,i)=>r.jsx(or,{popover:r.jsx($s,{card:o}),children:r.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto cursor-help",onClick:()=>{t.setDetail(xe(o))},onContextMenu:l=>{l.preventDefault(),t.setDetail(xe(o))},children:r.jsx(Fs,{item:o,className:S("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.tags.includes("upgrade")})})})},i))}),r.jsx(vu,{collection:"deck"})]})]}),r.jsx(ur,{})]}),r.jsxs("div",{className:S("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",n.transparency?"bg-card/60":"bg-card",e.className),children:[r.jsx(ke,{id:"money",Icon:iu,name:"Dollars",value:r.jsxs("span",{children:[r.jsx(Ge,{M$:t.money})," ",e.forHUD&&r.jsxs(r.Fragment,{children:["sur ",r.jsx(Ge,{M$:Wt})]})]})}),r.jsx(ke,{Icon:lu,name:"Score",value:r.jsxs("span",{className:"text-upgrade font-changa",children:[t.score.toLocaleString("fr")," pts"]})}),t.inflation>0&&r.jsx(ke,{Icon:uu,name:"Inflation",value:r.jsxs("span",{className:"text-inflation font-changa",children:["-",Math.floor(t.inflation/Pr)," ",r.jsx(O,{name:"level",plural:t.inflation>=4})]})}),!e.forHUD&&r.jsx(ke,{Icon:va,name:"Jour",value:Math.floor(t.day)}),r.jsx(ke,{Icon:As,name:"Mode",value:r.jsxs("span",{className:"capitalize",children:[ot[t.difficulty],t.debug&&" [debug]"]})}),t.infinityMode&&r.jsx(ke,{Icon:ou,name:"Mode infini",value:"Activé"})]})]})},xu=e=>{const t=ue(i=>({shadows:i.quality.shadows,animation:i.quality.animations,transparency:i.quality.transparency})),[n,a]=Ne(i=>[i.setCardGameVisibility,i.toggleSettings]),s=re(i=>({isGameOver:i.isGameOver,isWon:i.isWon,reason:i.reason,score:i.score,reset:i.reset,continue:i.enableInfinityMode})),o=Vs.sort((i,l)=>l.score-i.score).findIndex(({score:i})=>s.score>=i);return b.useEffect(()=>{s.isGameOver&&s.isWon&&t.animation&&e.show&&(se.victory.play(),hs())},[s.isGameOver,s.isWon,t.animation,e.show]),r.jsx("div",{className:e.show?"block":"hidden",children:s.isGameOver&&r.jsx("div",{className:S("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":t.transparency,"bg-background":!t.transparency}),children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[r.jsxs(Ir,{className:"flex flex-col select-none",max:10,reverse:!0,children:[r.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),r.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[s.isWon&&r.jsx("div",{className:"text-green-500",children:"Tu as gagné !"}),!s.isWon&&r.jsx("div",{className:"text-red-500",children:"Tu as perdu !"})]})]}),s.reason&&r.jsx("p",{className:"text-4xl",children:{reputation:"Tu as utilisé toute ta jauge de réputation...",mill:"Tu n'as plus de carte...","soft-lock":"Ta main est injouable...","mill-lock":"Tu n'as plus de carte à piocher..."}[s.reason]}),s.isWon?r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ys,{className:"*:h-10 text-3xl"}),r.jsx("div",{className:S("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:o>=0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-3xl",children:["Rank:"," ",r.jsxs("span",{className:S("font-changa text-4xl",ir(o)),children:["# ",o+1]})]}),r.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[r.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contacte-moi"}),r.jsx("br",{}),"pour soumettre ton score !"]})]}):r.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Tu n'es pas classé, ",r.jsx("br",{})," ton score est trop faible."," ",r.jsx("br",{})," Essaye"," ",it.difficulty==="noob"||it.difficulty==="easy"?r.jsxs(r.Fragment,{children:["une difficulté plus élevée ! ",r.jsx("br",{}),r.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:a,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):r.jsx("div",{className:"text-2xl group/helpers",children:s.reason&&Nd[s.reason].map((i,l)=>r.jsx("div",{className:S("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":t.animation}),children:r.jsx("p",{className:S("hover:text-foreground",{[S("animate-trigger delay-1000",{"delay-0":l===0,"delay-100":l===1,"delay-200":l===2,"delay-300":l===3,"delay-500":l===4,"delay-700":l===5})]:t.animation}),children:Tr[i]})},l))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(T,{onClick:()=>n(!1),variant:"default",children:"Quitter"}),r.jsx(T,{onClick:()=>s.reset(),variant:s.isWon?"default":"cta",size:s.isWon?"default":"cta",children:s.isWon?"Nouvelle partie":"Recommencer"}),s.isWon&&r.jsx(T,{onClick:()=>s.continue(),popover:r.jsxs("div",{children:[r.jsx("h3",{children:"Mode Infini"}),r.jsx("p",{children:"Si tu veux continuer a t'amuser sur cette partie, c'est possible ! Mais le jeu continueras indéfiniment et ton score ne sera pas recevable"})]}),variant:"cta",size:"cta",children:"Mode infini"})]}),s.isWon&&r.jsx(Ts,{animated:!0})]})})})},yu=e=>{const t=re(a=>a.revivedHand),n=ue(({quality:{animations:a}})=>({animations:a}));return r.jsx("div",{id:"hand",className:S("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{"transition-[bottom] ease-in-out duration-1000":n.animations},e.show?"bottom-[-50px]":"-bottom-full"),children:t.map((a,s)=>r.jsx(Je,{card:a,position:s},s))})},wu=e=>{const t=ue(s=>s.quality.animations),n=re(s=>s.reset),a=Ne(s=>()=>s.setCardGameVisibility(!1));return r.jsx("div",{className:S("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":t,"-bottom-12":e.show,"delay-500":e.delay&&t}),children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{onClick:()=>a(),variant:"default",children:"Revenir à l'accueil"}),r.jsx(T,{onClick:()=>n(),variant:"default",children:"Recommencer"})]})})},Hn=10,bu=e=>{const t=re(n=>n.logs.toReversed());return r.jsx("div",{id:"logs",className:S("absolute right-0 bottom-0 translate-x-full pointer-events-none min-w-52",{hidden:!e.show}),children:r.jsx("table",{children:r.jsx("tbody",{children:new Array(Hn).fill(0).map((n,a)=>{const s=t.slice()[Hn-1-a];return s?r.jsxs("tr",{style:{opacity:a/Hn},children:[r.jsx("td",{children:r.jsx(_s,{item:s.reason})}),r.jsx("td",{className:"pb-1.5",children:r.jsx("span",{className:S("inline-block ring-2",s.value>0?"ring-green-500":"ring-red-500",s.type==="money"?"":"rounded-full"),children:s.type==="money"?r.jsx(Rs,{miniature:!0,value:s.value,symbol:!0}):r.jsx(Qe,{miniature:!0,symbol:!0,value:s.value,colors:S({"bg-reputation":s.type==="reputation","bg-energy":s.type==="energy"})})})})]},a):r.jsxs("tr",{children:[r.jsx("td",{className:"pb-1.5",children:r.jsx("span",{className:"inline-block h-7"})}),r.jsx("td",{})]},a)})})})})},ju=e=>{const{shadows:t,animation:n}=ue(l=>({shadows:l.quality.shadows,animation:l.quality.animations})),[a,s]=b.useState(!0),[o,i]=b.useState(!1);return b.useEffect(()=>{e.show?(i(!0),s(!1)):(s(!0),i(!1))},[e.show]),r.jsxs("div",{className:S("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"delay-500":o&&n,"translate-x-0":e.show}),children:[r.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":t})}),r.jsx("div",{className:S("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":t})}),r.jsx(wu,{show:e.show,delay:a}),r.jsx(bu,{show:e.show}),r.jsx(Yt,{className:"space-y-2 w-[400px]",children:r.jsx(Ys,{className:"*:h-6 text-lg",forHUD:!0})})]})};function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Zs(e){const t=e+"CollectionProvider",[n,a]=Ie(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:p,children:h}=g,x=b.useRef(null),w=b.useRef(new Map).current;return r.jsx(s,{scope:p,itemMap:w,collectionRef:x,children:h})};i.displayName=t;const l=e+"CollectionSlot",c=b.forwardRef((g,p)=>{const{scope:h,children:x}=g,w=o(l,h),j=de(p,w.collectionRef);return r.jsx(pn,{ref:j,children:x})});c.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=b.forwardRef((g,p)=>{const{scope:h,children:x,...w}=g,j=b.useRef(null),N=de(p,j),E=o(d,h);return b.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),r.jsx(pn,{[f]:"",ref:N,children:x})});m.displayName=d;function v(g){const p=o(e+"CollectionConsumer",g);return b.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((E,P)=>w.indexOf(E.ref.current)-w.indexOf(P.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},v,a]}var Ce=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Cu=Tc.useId||(()=>{}),Nu=0;function Xe(e){const[t,n]=u.useState(Cu());return Ce(()=>{e||n(a=>a??String(Nu++))},[e]),e||(t?`radix-${t}`:"")}function _e(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function ct({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,s]=Su({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:a,l=_e(n),c=u.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else s(d)},[o,e,s,l]);return[i,c]}function Su({defaultProp:e,onChange:t}){const n=u.useState(e),[a]=n,s=u.useRef(a),o=_e(t);return u.useEffect(()=>{s.current!==a&&(o(a),s.current=a)},[a,s,o]),n}var Eu=u.createContext(void 0);function Mn(e){const t=u.useContext(Eu);return e||t||"ltr"}var Vn="rovingFocusGroup.onEntryFocus",Pu={bubbles:!1,cancelable:!0},An="RovingFocusGroup",[fr,Xs,Ru]=Zs(An),[ku,In]=Ie(An,[Ru]),[Mu,Au]=ku(An),Qs=u.forwardRef((e,t)=>r.jsx(fr.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(fr.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Iu,{...e,ref:t})})}));Qs.displayName=An;var Iu=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,v=u.useRef(null),g=de(t,v),p=Mn(o),[h=null,x]=ct({prop:i,defaultProp:l,onChange:c}),[w,j]=u.useState(!1),N=_e(d),E=Xs(n),P=u.useRef(!1),[A,k]=u.useState(0);return u.useEffect(()=>{const M=v.current;if(M)return M.addEventListener(Vn,N),()=>M.removeEventListener(Vn,N)},[N]),r.jsx(Mu,{scope:n,orientation:a,dir:p,loop:s,currentTabStopId:h,onItemFocus:u.useCallback(M=>x(M),[x]),onItemShiftTab:u.useCallback(()=>j(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(M=>M+1),[]),onFocusableItemRemove:u.useCallback(()=>k(M=>M-1),[]),children:r.jsx(Q.div,{tabIndex:w||A===0?-1:0,"data-orientation":a,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{P.current=!0}),onFocus:te(e.onFocus,M=>{const K=!P.current;if(M.target===M.currentTarget&&K&&!w){const L=new CustomEvent(Vn,Pu);if(M.currentTarget.dispatchEvent(L),!L.defaultPrevented){const H=E().filter(X=>X.focusable),J=H.find(X=>X.active),ne=H.find(X=>X.id===h),Z=[J,ne,...H].filter(Boolean).map(X=>X.ref.current);to(Z,f)}}P.current=!1}),onBlur:te(e.onBlur,()=>j(!1))})})}),Js="RovingFocusGroupItem",eo=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:o,...i}=e,l=Xe(),c=o||l,d=Au(Js,n),f=d.currentTabStopId===c,m=Xs(n),{onFocusableItemAdd:v,onFocusableItemRemove:g}=d;return u.useEffect(()=>{if(a)return v(),()=>g()},[a,v,g]),r.jsx(fr.ItemSlot,{scope:n,id:c,focusable:a,active:s,children:r.jsx(Q.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,p=>{a?d.onItemFocus(c):p.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:te(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const h=Du(p,d.orientation,d.dir);if(h!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=m().filter(j=>j.focusable).map(j=>j.ref.current);if(h==="last")w.reverse();else if(h==="prev"||h==="next"){h==="prev"&&w.reverse();const j=w.indexOf(p.currentTarget);w=d.loop?Lu(w,j+1):w.slice(j+1)}setTimeout(()=>to(w))}})})})});eo.displayName=Js;var Tu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ou(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Du(e,t,n){const a=Ou(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Tu[a]}function to(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function Lu(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var no=Qs,ro=eo;function _u(e,t){return u.useReducer((n,a)=>t[n][a]??n,e)}var mt=e=>{const{present:t,children:n}=e,a=Fu(t),s=typeof n=="function"?n({present:a.isPresent}):u.Children.only(n),o=de(a.ref,$u(s));return typeof n=="function"||a.isPresent?u.cloneElement(s,{ref:o}):null};mt.displayName="Presence";function Fu(e){const[t,n]=u.useState(),a=u.useRef({}),s=u.useRef(e),o=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=_u(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Jt(a.current);o.current=l==="mounted"?d:"none"},[l]),Ce(()=>{const d=a.current,f=s.current;if(f!==e){const v=o.current,g=Jt(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ce(()=>{if(t){const d=m=>{const g=Jt(a.current).includes(m.animationName);m.target===t&&g&&Kt.flushSync(()=>c("ANIMATION_END"))},f=m=>{m.target===t&&(o.current=Jt(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(a.current=getComputedStyle(d)),n(d)},[])}}function Jt(e){return(e==null?void 0:e.animationName)||"none"}function $u(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _r="Tabs",[zu,Kp]=Ie(_r,[In]),ao=In(),[Bu,Fr]=zu(_r),so=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=Mn(l),[m,v]=ct({prop:a,onChange:s,defaultProp:o});return r.jsx(Bu,{scope:n,baseId:Xe(),value:m,onValueChange:v,orientation:i,dir:f,activationMode:c,children:r.jsx(Q.div,{dir:f,"data-orientation":i,...d,ref:t})})});so.displayName=_r;var oo="TabsList",io=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,o=Fr(oo,n),i=ao(n);return r.jsx(no,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:a,children:r.jsx(Q.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});io.displayName=oo;var lo="TabsTrigger",co=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...o}=e,i=Fr(lo,n),l=ao(n),c=mo(i.baseId,a),d=ho(i.baseId,a),f=a===i.value;return r.jsx(ro,{asChild:!0,...l,focusable:!s,active:f,children:r.jsx(Q.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:te(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?i.onValueChange(a):m.preventDefault()}),onKeyDown:te(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(a)}),onFocus:te(e.onFocus,()=>{const m=i.activationMode!=="manual";!f&&!s&&m&&i.onValueChange(a)})})})});co.displayName=lo;var uo="TabsContent",fo=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:o,...i}=e,l=Fr(uo,n),c=mo(l.baseId,a),d=ho(l.baseId,a),f=a===l.value,m=u.useRef(f);return u.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),r.jsx(mt,{present:s||f,children:({present:v})=>r.jsx(Q.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:v&&o})})});fo.displayName=uo;function mo(e,t){return`${e}-trigger-${t}`}function ho(e,t){return`${e}-content-${t}`}var Gu=so,po=io,go=co,vo=fo;const qu=Gu,xo=u.forwardRef(({className:e,...t},n)=>r.jsx(po,{ref:n,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xo.displayName=po.displayName;const Ue=u.forwardRef(({className:e,...t},n)=>r.jsx(go,{ref:n,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 font-changa ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ue.displayName=go.displayName;const Ke=u.forwardRef(({className:e,...t},n)=>r.jsx(vo,{ref:n,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ke.displayName=vo.displayName;const Wu=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"A propos"}),r.jsxs(ce,{children:[r.jsxs("h3",{children:["Version ",r.jsx("code",{children:dr.version})]}),r.jsxs("p",{children:["Code source disponible sur"," ",r.jsx("a",{href:"https://github.com/GhomKrosmonaute/GhomKrosmonaute.github.io",target:"_blank",className:"font-bold hover:underline",children:"GitHub"})]})]})]}),en="Camille ABELLA (Ghom)",Hu=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Crédits"}),r.jsxs("div",{className:"grid grid-cols-12 gap-5",children:[r.jsxs(ce,{className:"col-span-4",children:[r.jsx("h3",{children:"</> Développement"}),r.jsx("p",{children:en})]}),r.jsxs(ce,{className:"col-span-4",children:[r.jsx("h3",{children:"🎮 Game Design"}),r.jsx("p",{children:en})]}),r.jsxs(ce,{className:"col-span-4",children:[r.jsx("h3",{children:"🎵 Musiques"}),r.jsx("p",{children:en})]}),r.jsxs(ce,{className:"col-span-2",children:[r.jsx("h3",{children:"🔊 Sons"}),r.jsxs("ul",{children:[r.jsx("li",{children:r.jsx("a",{href:"https://freesound.org/",className:"font-bold",target:"_blank",children:"freesound.org"})}),r.jsx("li",{children:r.jsx("a",{href:"https://pixabay.com/",className:"font-bold",target:"_blank",children:"pixabay.com"})})]})]}),r.jsxs(ce,{className:"col-span-5",children:[r.jsx("h3",{children:"🖌️ Graphismes & icônes"}),r.jsxs("p",{children:[en,r.jsx("br",{}),"For icons:"," ",r.jsx("a",{href:"https://react-icons.github.io/react-icons/",className:"font-bold",target:"_blank",children:"react-icons"})," ","and"," ",r.jsx("a",{href:"https://game-icons.net/",className:"font-bold",target:"_blank",children:"game-icons.net"}),r.jsx("br",{}),r.jsx("a",{href:"https://codepen.io/kaykay1323/pen/OJGmPxV",className:"font-bold",target:"_blank",children:"Kaykay's CSS god rays"})," ","for the background"]})]}),r.jsxs(ce,{className:"col-span-5",children:[r.jsx("h3",{children:"✅ Play tests"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Mélodie Deichfischer (Mel-Andrew)"}),r.jsx("li",{children:"empereuronyx (𝕺𝖓𝖞𝖝)"}),r.jsx("li",{children:"kikuchi_003 (kikuchi)"})]})]})]})]}),Vu=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Aide"}),r.jsx(ce,{children:r.jsx("div",{className:"max-h-[60vh] overflow-y-scroll gap-y-1 gap-x-4 xl:grid grid-cols-2",children:Object.values(Tr).map((e,t)=>r.jsx("div",{className:"whitespace-nowrap",children:e},t))})})]}),Uu=e=>{const[t,n]=b.useState(0);return b.useEffect(()=>{const a=[];let s=!0;function o(){window.requestAnimationFrame(()=>{const i=performance.now();for(;a.length>0&&a[0]<=i-1e3;)a.shift();a.push(i),n(a.length),s&&o()})}return o(),()=>{s=!1}},[]),r.jsxs("span",{...e,children:[t," FPS"]})};function $r(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function zr(e){const[t,n]=u.useState(void 0);return Ce(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Br="Checkbox",[Ku,Yp]=Ie(Br),[Yu,Zu]=Ku(Br),yo=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,...f}=e,[m,v]=u.useState(null),g=de(t,N=>v(N)),p=u.useRef(!1),h=m?!!m.closest("form"):!0,[x=!1,w]=ct({prop:s,defaultProp:o,onChange:d}),j=u.useRef(x);return u.useEffect(()=>{const N=m==null?void 0:m.form;if(N){const E=()=>w(j.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[m,w]),r.jsxs(Yu,{scope:n,state:x,disabled:l,children:[r.jsx(Q.button,{type:"button",role:"checkbox","aria-checked":lt(x)?"mixed":x,"aria-required":i,"data-state":jo(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:te(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:te(e.onClick,N=>{w(E=>lt(E)?!0:!E),h&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),h&&r.jsx(Xu,{control:m,bubbles:!p.current,name:a,value:c,checked:x,required:i,disabled:l,style:{transform:"translateX(-100%)"}})]})});yo.displayName=Br;var wo="CheckboxIndicator",bo=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,o=Zu(wo,n);return r.jsx(mt,{present:a||lt(o.state)||o.state===!0,children:r.jsx(Q.span,{"data-state":jo(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});bo.displayName=wo;var Xu=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,o=u.useRef(null),i=$r(n),l=zr(t);return u.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const v=new Event("click",{bubbles:a});c.indeterminate=lt(n),m.call(c,lt(n)?!1:n),c.dispatchEvent(v)}},[i,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:lt(n)?!1:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lt(e){return e==="indeterminate"}function jo(e){return lt(e)?"indeterminate":e?"checked":"unchecked"}var Co=yo,Qu=bo;const No=u.forwardRef(({className:e,...t},n)=>r.jsx(Co,{ref:n,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Qu,{className:S("flex items-center justify-center text-current"),children:r.jsx(Ds,{className:"h-4 w-4"})})}));No.displayName=Co.displayName;var Gr="Radio",[Ju,So]=Ie(Gr),[ef,tf]=Ju(Gr),Eo=u.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,...d}=e,[f,m]=u.useState(null),v=de(t,h=>m(h)),g=u.useRef(!1),p=f?!!f.closest("form"):!0;return r.jsxs(ef,{scope:n,checked:s,disabled:i,children:[r.jsx(Q.button,{type:"button",role:"radio","aria-checked":s,"data-state":ko(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:v,onClick:te(e.onClick,h=>{s||c==null||c(),p&&(g.current=h.isPropagationStopped(),g.current||h.stopPropagation())})}),p&&r.jsx(nf,{control:f,bubbles:!g.current,name:a,value:l,checked:s,required:o,disabled:i,style:{transform:"translateX(-100%)"}})]})});Eo.displayName=Gr;var Po="RadioIndicator",Ro=u.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...s}=e,o=tf(Po,n);return r.jsx(mt,{present:a||o.checked,children:r.jsx(Q.span,{"data-state":ko(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Ro.displayName=Po;var nf=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,o=u.useRef(null),i=$r(n),l=zr(t);return u.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const v=new Event("click",{bubbles:a});m.call(c,n),c.dispatchEvent(v)}},[i,n,a]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ko(e){return e?"checked":"unchecked"}var rf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qr="RadioGroup",[af,Zp]=Ie(qr,[In,So]),Mo=In(),Ao=So(),[sf,of]=af(qr),Io=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:m,...v}=e,g=Mo(n),p=Mn(d),[h,x]=ct({prop:o,defaultProp:s,onChange:m});return r.jsx(sf,{scope:n,name:a,required:i,disabled:l,value:h,onValueChange:x,children:r.jsx(no,{asChild:!0,...g,orientation:c,dir:p,loop:f,children:r.jsx(Q.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...v,ref:t})})})});Io.displayName=qr;var To="RadioGroupItem",Oo=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...s}=e,o=of(To,n),i=o.disabled||a,l=Mo(n),c=Ao(n),d=u.useRef(null),f=de(t,d),m=o.value===s.value,v=u.useRef(!1);return u.useEffect(()=>{const g=h=>{rf.includes(h.key)&&(v.current=!0)},p=()=>v.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",p)}},[]),r.jsx(ro,{asChild:!0,...l,focusable:!i,active:m,children:r.jsx(Eo,{disabled:i,required:o.required,checked:m,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:te(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:te(s.onFocus,()=>{var g;v.current&&((g=d.current)==null||g.click())})})})});Oo.displayName=To;var lf="RadioGroupIndicator",Do=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,s=Ao(n);return r.jsx(Ro,{...s,...a,ref:t})});Do.displayName=lf;var Lo=Io,_o=Oo,cf=Do;const cn=u.forwardRef(({className:e,...t},n)=>r.jsx(Lo,{className:S("grid gap-2",e),...t,ref:n}));cn.displayName=Lo.displayName;const dn=u.forwardRef(({className:e,...t},n)=>r.jsx(_o,{ref:n,className:S("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(cf,{className:"flex items-center justify-center",children:r.jsx(Id,{className:"h-2.5 w-2.5 fill-current text-current"})})}));dn.displayName=_o.displayName;function df(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e);u.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var uf="DismissableLayer",mr="dismissableLayer.update",ff="dismissableLayer.pointerDownOutside",mf="dismissableLayer.focusOutside",Pa,Fo=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wr=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(Fo),[f,m]=u.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=u.useState({}),p=de(t,k=>m(k)),h=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=h.indexOf(x),j=f?h.indexOf(f):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,E=j>=w,P=gf(k=>{const M=k.target,K=[...d.branches].some(L=>L.contains(M));!E||K||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},v),A=vf(k=>{const M=k.target;[...d.branches].some(L=>L.contains(M))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},v);return df(k=>{j===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},v),u.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Pa=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Ra(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Pa)}},[f,v,n,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Ra())},[f,d]),u.useEffect(()=>{const k=()=>g({});return document.addEventListener(mr,k),()=>document.removeEventListener(mr,k)},[]),r.jsx(Q.div,{...c,ref:p,style:{pointerEvents:N?E?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,A.onFocusCapture),onBlurCapture:te(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,P.onPointerDownCapture)})});Wr.displayName=uf;var hf="DismissableLayerBranch",pf=u.forwardRef((e,t)=>{const n=u.useContext(Fo),a=u.useRef(null),s=de(t,a);return u.useEffect(()=>{const o=a.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(Q.div,{...e,ref:s})});pf.displayName=hf;function gf(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e),a=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!a.current){let c=function(){$o(ff,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);a.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function vf(e,t=globalThis==null?void 0:globalThis.document){const n=_e(e),a=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!a.current&&$o(mf,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ra(){const e=new CustomEvent(mr);document.dispatchEvent(e)}function $o(e,t,n,{discrete:a}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?Oc(s,o):s.dispatchEvent(o)}var Un="focusScope.autoFocusOnMount",Kn="focusScope.autoFocusOnUnmount",ka={bubbles:!1,cancelable:!0},xf="FocusScope",Hr=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=u.useState(null),d=_e(s),f=_e(o),m=u.useRef(null),v=de(t,h=>c(h)),g=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(a){let h=function(N){if(g.paused||!l)return;const E=N.target;l.contains(E)?m.current=E:Ye(m.current,{select:!0})},x=function(N){if(g.paused||!l)return;const E=N.relatedTarget;E!==null&&(l.contains(E)||Ye(m.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&Ye(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const j=new MutationObserver(w);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),j.disconnect()}}},[a,l,g.paused]),u.useEffect(()=>{if(l){Aa.add(g);const h=document.activeElement;if(!l.contains(h)){const w=new CustomEvent(Un,ka);l.addEventListener(Un,d),l.dispatchEvent(w),w.defaultPrevented||(yf(Nf(zo(l)),{select:!0}),document.activeElement===h&&Ye(l))}return()=>{l.removeEventListener(Un,d),setTimeout(()=>{const w=new CustomEvent(Kn,ka);l.addEventListener(Kn,f),l.dispatchEvent(w),w.defaultPrevented||Ye(h??document.body,{select:!0}),l.removeEventListener(Kn,f),Aa.remove(g)},0)}}},[l,d,f,g]);const p=u.useCallback(h=>{if(!n&&!a||g.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,w=document.activeElement;if(x&&w){const j=h.currentTarget,[N,E]=wf(j);N&&E?!h.shiftKey&&w===E?(h.preventDefault(),n&&Ye(N,{select:!0})):h.shiftKey&&w===N&&(h.preventDefault(),n&&Ye(E,{select:!0})):w===j&&h.preventDefault()}},[n,a,g.paused]);return r.jsx(Q.div,{tabIndex:-1,...i,ref:v,onKeyDown:p})});Hr.displayName=xf;function yf(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Ye(a,{select:t}),document.activeElement!==n)return}function wf(e){const t=zo(e),n=Ma(t,e),a=Ma(t.reverse(),e);return[n,a]}function zo(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ma(e,t){for(const n of e)if(!bf(n,{upTo:t}))return n}function bf(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jf(e){return e instanceof HTMLInputElement&&"select"in e}function Ye(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jf(e)&&t&&e.select()}}var Aa=Cf();function Cf(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ia(e,t),e.unshift(t)},remove(t){var n;e=Ia(e,t),(n=e[0])==null||n.resume()}}}function Ia(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function Nf(e){return e.filter(t=>t.tagName!=="A")}var Sf="Portal",Vr=u.forwardRef((e,t)=>{var l;const{container:n,...a}=e,[s,o]=u.useState(!1);Ce(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Dc.createPortal(r.jsx(Q.div,{...a,ref:t}),i):null});Vr.displayName=Sf;var Yn=0;function Bo(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ta()),document.body.insertAdjacentElement("beforeend",e[1]??Ta()),Yn++,()=>{Yn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Yn--}},[])}function Ta(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ye=function(){return ye=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ye.apply(this,arguments)};function Ur(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function Go(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var Bt="right-scroll-bar-position",Gt="width-before-scroll-bar",Ef="with-scroll-bars-hidden",Pf="--removed-body-scroll-bar-size";function Zn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rf(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var kf=typeof window<"u"?u.useLayoutEffect:u.useEffect,Oa=new WeakMap;function qo(e,t){var n=Rf(null,function(a){return e.forEach(function(s){return Zn(s,a)})});return kf(function(){var a=Oa.get(n);if(a){var s=new Set(a),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Zn(l,null)}),o.forEach(function(l){s.has(l)||Zn(l,i)})}Oa.set(n,e)},[e]),n}function Mf(e){return e}function Af(e,t){t===void 0&&(t=Mf);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,a);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(a=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){a=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var f=i;i=[],f.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){i.push(f),d()},filter:function(f){return i=i.filter(f),n}}}};return s}function Wo(e){e===void 0&&(e={});var t=Af(null);return t.options=ye({async:!0,ssr:!1},e),t}var Ho=function(e){var t=e.sideCar,n=Ur(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return u.createElement(a,ye({},n))};Ho.isSideCarExport=!0;function Vo(e,t){return e.useMedium(t),Ho}var Uo=Wo(),Xn=function(){},Tn=u.forwardRef(function(e,t){var n=u.useRef(null),a=u.useState({onScrollCapture:Xn,onWheelCapture:Xn,onTouchMoveCapture:Xn}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,v=e.sideCar,g=e.noIsolation,p=e.inert,h=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,j=e.gapMode,N=Ur(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,P=qo([n,t]),A=ye(ye({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(E,{sideCar:Uo,removeScrollBar:d,shards:m,noIsolation:g,inert:p,setCallbacks:o,allowPinchZoom:!!h,lockRef:n,gapMode:j}),i?u.cloneElement(u.Children.only(l),ye(ye({},A),{ref:P})):u.createElement(w,ye({},A,{className:c,ref:P}),l))});Tn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tn.classNames={fullWidth:Gt,zeroRight:Bt};var If=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=If();return t&&e.setAttribute("nonce",t),e}function Of(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Df(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Lf=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tf())&&(Of(t,n),Df(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_f=function(){var e=Lf();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Kr=function(){var e=_f(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},Ff={left:0,top:0,right:0,gap:0},Qn=function(e){return parseInt(e||"",10)||0},$f=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Qn(n),Qn(a),Qn(s)]},zf=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ff;var t=$f(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},Bf=Kr(),St="data-scroll-locked",Gf=function(e,t,n,a){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ef,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(St,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bt,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Gt,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Bt," .").concat(Bt,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Gt," .").concat(Gt,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(St,`] {
    `).concat(Pf,": ").concat(l,`px;
  }
`)},Da=function(){var e=parseInt(document.body.getAttribute(St)||"0",10);return isFinite(e)?e:0},qf=function(){u.useEffect(function(){return document.body.setAttribute(St,(Da()+1).toString()),function(){var e=Da()-1;e<=0?document.body.removeAttribute(St):document.body.setAttribute(St,e.toString())}},[])},Ko=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;qf();var o=u.useMemo(function(){return zf(s)},[s]);return u.createElement(Bf,{styles:Gf(o,!t,s,n?"":"!important")})},hr=!1;if(typeof window<"u")try{var tn=Object.defineProperty({},"passive",{get:function(){return hr=!0,!0}});window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{hr=!1}var vt=hr?{passive:!1}:!1,Wf=function(e){return e.tagName==="TEXTAREA"},Yo=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wf(e)&&n[t]==="visible")},Hf=function(e){return Yo(e,"overflowY")},Vf=function(e){return Yo(e,"overflowX")},La=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=Zo(e,a);if(s){var o=Xo(e,a),i=o[1],l=o[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Uf=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},Kf=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},Zo=function(e,t){return e==="v"?Hf(t):Vf(t)},Xo=function(e,t){return e==="v"?Uf(t):Kf(t)},Yf=function(e,t){return e==="h"&&t==="rtl"?-1:1},Zf=function(e,t,n,a,s){var o=Yf(e,window.getComputedStyle(t).direction),i=o*a,l=n.target,c=t.contains(l),d=!1,f=i>0,m=0,v=0;do{var g=Xo(e,l),p=g[0],h=g[1],x=g[2],w=h-x-o*p;(p||w)&&Zo(e,l)&&(m+=w,v+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(v)<1||!s))&&(d=!0),d},nn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_a=function(e){return[e.deltaX,e.deltaY]},Fa=function(e){return e&&"current"in e?e.current:e},Xf=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Qf=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Jf=0,xt=[];function em(e){var t=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(Jf++)[0],o=u.useState(Kr)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=Go([e.lockRef.current],(e.shards||[]).map(Fa),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(h,x){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var w=nn(h),j=n.current,N="deltaX"in h?h.deltaX:j[0]-w[0],E="deltaY"in h?h.deltaY:j[1]-w[1],P,A=h.target,k=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in h&&k==="h"&&A.type==="range")return!1;var M=La(k,A);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=La(k,A)),!M)return!1;if(!a.current&&"changedTouches"in h&&(N||E)&&(a.current=P),!P)return!0;var K=a.current||P;return Zf(K,x,h,K==="h"?N:E,!0)},[]),c=u.useCallback(function(h){var x=h;if(!(!xt.length||xt[xt.length-1]!==o)){var w="deltaY"in x?_a(x):nn(x),j=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&Xf(P.delta,w)})[0];if(j&&j.should){x.cancelable&&x.preventDefault();return}if(!j){var N=(i.current.shards||[]).map(Fa).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=N.length>0?l(x,N[0]):!i.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(h,x,w,j){var N={name:h,delta:x,target:w,should:j,shadowParent:tm(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),f=u.useCallback(function(h){n.current=nn(h),a.current=void 0},[]),m=u.useCallback(function(h){d(h.type,_a(h),h.target,l(h,e.lockRef.current))},[]),v=u.useCallback(function(h){d(h.type,nn(h),h.target,l(h,e.lockRef.current))},[]);u.useEffect(function(){return xt.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,vt),document.addEventListener("touchmove",c,vt),document.addEventListener("touchstart",f,vt),function(){xt=xt.filter(function(h){return h!==o}),document.removeEventListener("wheel",c,vt),document.removeEventListener("touchmove",c,vt),document.removeEventListener("touchstart",f,vt)}},[]);var g=e.removeScrollBar,p=e.inert;return u.createElement(u.Fragment,null,p?u.createElement(o,{styles:Qf(s)}):null,g?u.createElement(Ko,{gapMode:e.gapMode}):null)}function tm(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nm=Vo(Uo,em);var Qo=u.forwardRef(function(e,t){return u.createElement(Tn,ye({},e,{ref:t,sideCar:nm}))});Qo.classNames=Tn.classNames;var rm=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yt=new WeakMap,rn=new WeakMap,an={},Jn=0,Jo=function(e){return e&&(e.host||Jo(e.parentNode))},am=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=Jo(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sm=function(e,t,n,a){var s=am(t,Array.isArray(e)?e:[e]);an[n]||(an[n]=new WeakMap);var o=an[n],i=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))f(v);else try{var g=v.getAttribute(a),p=g!==null&&g!=="false",h=(yt.get(v)||0)+1,x=(o.get(v)||0)+1;yt.set(v,h),o.set(v,x),i.push(v),h===1&&p&&rn.set(v,!0),x===1&&v.setAttribute(n,"true"),p||v.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",v,w)}})};return f(t),l.clear(),Jn++,function(){i.forEach(function(m){var v=yt.get(m)-1,g=o.get(m)-1;yt.set(m,v),o.set(m,g),v||(rn.has(m)||m.removeAttribute(a),rn.delete(m)),g||m.removeAttribute(n)}),Jn--,Jn||(yt=new WeakMap,yt=new WeakMap,rn=new WeakMap,an={})}},ei=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=rm(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),sm(a,s,n,"aria-hidden")):function(){return null}},Yr="Dialog",[ti,ni]=Ie(Yr),[om,Te]=ti(Yr),ri=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,f]=ct({prop:a,defaultProp:s,onChange:o});return r.jsx(om,{scope:t,triggerRef:l,contentRef:c,contentId:Xe(),titleId:Xe(),descriptionId:Xe(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:i,children:n})};ri.displayName=Yr;var ai="DialogTrigger",si=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(ai,n),o=de(t,s.triggerRef);return r.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qr(s.open),...a,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});si.displayName=ai;var Zr="DialogPortal",[im,oi]=ti(Zr,{forceMount:void 0}),ii=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,o=Te(Zr,t);return r.jsx(im,{scope:t,forceMount:n,children:u.Children.map(a,i=>r.jsx(mt,{present:n||o.open,children:r.jsx(Vr,{asChild:!0,container:s,children:i})}))})};ii.displayName=Zr;var bn="DialogOverlay",li=u.forwardRef((e,t)=>{const n=oi(bn,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,o=Te(bn,e.__scopeDialog);return o.modal?r.jsx(mt,{present:a||o.open,children:r.jsx(lm,{...s,ref:t})}):null});li.displayName=bn;var lm=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(bn,n);return r.jsx(Qo,{as:pn,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(Q.div,{"data-state":Qr(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),dt="DialogContent",ci=u.forwardRef((e,t)=>{const n=oi(dt,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,o=Te(dt,e.__scopeDialog);return r.jsx(mt,{present:a||o.open,children:o.modal?r.jsx(cm,{...s,ref:t}):r.jsx(dm,{...s,ref:t})})});ci.displayName=dt;var cm=u.forwardRef((e,t)=>{const n=Te(dt,e.__scopeDialog),a=u.useRef(null),s=de(t,n.contentRef,a);return u.useEffect(()=>{const o=a.current;if(o)return ei(o)},[]),r.jsx(di,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),dm=u.forwardRef((e,t)=>{const n=Te(dt,e.__scopeDialog),a=u.useRef(!1),s=u.useRef(!1);return r.jsx(di,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),di=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Te(dt,n),c=u.useRef(null),d=de(t,c);return Bo(),r.jsxs(r.Fragment,{children:[r.jsx(Hr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:r.jsx(Wr,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Qr(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(fm,{titleId:l.titleId}),r.jsx(hm,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Xr="DialogTitle",ui=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(Xr,n);return r.jsx(Q.h2,{id:s.titleId,...a,ref:t})});ui.displayName=Xr;var fi="DialogDescription",mi=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(fi,n);return r.jsx(Q.p,{id:s.descriptionId,...a,ref:t})});mi.displayName=fi;var hi="DialogClose",pi=u.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Te(hi,n);return r.jsx(Q.button,{type:"button",...a,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});pi.displayName=hi;function Qr(e){return e?"open":"closed"}var gi="DialogTitleWarning",[um,vi]=Zc(gi,{contentName:dt,titleName:Xr,docsSlug:"dialog"}),fm=({titleId:e})=>{const t=vi(gi),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mm="DialogDescriptionWarning",hm=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vi(mm).contentName}}.`;return u.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},pm=ri,gm=si,vm=ii,xm=li,ym=ci,wm=ui,bm=mi,xi=pi,yi="AlertDialog",[jm,Xp]=Ie(yi,[ni]),He=ni(),wi=e=>{const{__scopeAlertDialog:t,...n}=e,a=He(t);return r.jsx(pm,{...a,...n,modal:!0})};wi.displayName=yi;var Cm="AlertDialogTrigger",bi=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(gm,{...s,...a,ref:t})});bi.displayName=Cm;var Nm="AlertDialogPortal",ji=e=>{const{__scopeAlertDialog:t,...n}=e,a=He(t);return r.jsx(vm,{...a,...n})};ji.displayName=Nm;var Sm="AlertDialogOverlay",Ci=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(xm,{...s,...a,ref:t})});Ci.displayName=Sm;var Et="AlertDialogContent",[Em,Pm]=jm(Et),Ni=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...s}=e,o=He(n),i=u.useRef(null),l=de(t,i),c=u.useRef(null);return r.jsx(um,{contentName:Et,titleName:Si,docsSlug:"alert-dialog",children:r.jsx(Em,{scope:n,cancelRef:c,children:r.jsxs(ym,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:te(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Lc,{children:a}),r.jsx(km,{contentRef:i})]})})})});Ni.displayName=Et;var Si="AlertDialogTitle",Ei=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(wm,{...s,...a,ref:t})});Ei.displayName=Si;var Pi="AlertDialogDescription",Ri=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(bm,{...s,...a,ref:t})});Ri.displayName=Pi;var Rm="AlertDialogAction",ki=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=He(n);return r.jsx(xi,{...s,...a,ref:t})});ki.displayName=Rm;var Mi="AlertDialogCancel",Ai=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=Pm(Mi,n),o=He(n),i=de(t,s);return r.jsx(xi,{...o,...a,ref:i})});Ai.displayName=Mi;var km=({contentRef:e})=>{const t=`\`${Et}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Et}\` by passing a \`${Pi}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Et}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Mm=wi,Am=bi,Im=ji,Ii=Ci,Ti=Ni,Oi=ki,Di=Ai,Li=Ei,_i=Ri;const Tm=Mm,Om=Am,Dm=Im,Fi=u.forwardRef(({className:e,...t},n)=>{const a=ue(s=>({transparency:s.quality.transparency,animation:s.quality.animations}));return r.jsx(Ii,{className:S("fixed inset-0 z-50",{"bg-black/80":a.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":a.animation},e),...t,ref:n})});Fi.displayName=Ii.displayName;const $i=u.forwardRef(({className:e,...t},n)=>r.jsxs(Dm,{children:[r.jsx(Fi,{}),r.jsx(Ti,{ref:n,className:S("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$i.displayName=Ti.displayName;const zi=({className:e,...t})=>r.jsx("div",{className:S("flex flex-col space-y-2 text-center sm:text-left",e),...t});zi.displayName="AlertDialogHeader";const Bi=({className:e,...t})=>r.jsx("div",{className:S("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bi.displayName="AlertDialogFooter";const Gi=u.forwardRef(({className:e,...t},n)=>r.jsx(Li,{ref:n,className:S("text-lg font-semibold",e),...t}));Gi.displayName=Li.displayName;const qi=u.forwardRef(({className:e,...t},n)=>r.jsx(_i,{ref:n,className:S("text-sm text-muted-foreground",e),...t}));qi.displayName=_i.displayName;const Wi=u.forwardRef(({className:e,...t},n)=>r.jsx(Oi,{ref:n,className:S(Pn({variant:"cta"}),e),...t}));Wi.displayName=Oi.displayName;const Hi=u.forwardRef(({className:e,...t},n)=>r.jsx(Di,{ref:n,className:S(Pn({variant:"default"}),"mt-2 sm:mt-0",e),...t}));Hi.displayName=Di.displayName;function Lm(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),b.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),b.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function _m(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),b.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),b.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function $a(e,[t,n]){return Math.min(n,Math.max(t,e))}const Fm=["top","right","bottom","left"],Le=Math.min,Se=Math.max,jn=Math.round,sn=Math.floor,et=e=>({x:e,y:e}),$m={left:"right",right:"left",bottom:"top",top:"bottom"},zm={start:"end",end:"start"};function pr(e,t,n){return Se(e,Le(t,n))}function qe(e,t){return typeof e=="function"?e(t):e}function We(e){return e.split("-")[0]}function At(e){return e.split("-")[1]}function Jr(e){return e==="x"?"y":"x"}function ea(e){return e==="y"?"height":"width"}function tt(e){return["top","bottom"].includes(We(e))?"y":"x"}function ta(e){return Jr(tt(e))}function Bm(e,t,n){n===void 0&&(n=!1);const a=At(e),s=ta(e),o=ea(s);let i=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Cn(i)),[i,Cn(i)]}function Gm(e){const t=Cn(e);return[gr(e),t,gr(t)]}function gr(e){return e.replace(/start|end/g,t=>zm[t])}function qm(e,t,n){const a=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:a:t?a:s;case"left":case"right":return t?o:i;default:return[]}}function Wm(e,t,n,a){const s=At(e);let o=qm(We(e),n==="start",a);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(gr)))),o}function Cn(e){return e.replace(/left|right|bottom|top/g,t=>$m[t])}function Hm(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vi(e){return typeof e!="number"?Hm(e):{top:e,right:e,bottom:e,left:e}}function Nn(e){const{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function za(e,t,n){let{reference:a,floating:s}=e;const o=tt(t),i=ta(t),l=ea(i),c=We(t),d=o==="y",f=a.x+a.width/2-s.width/2,m=a.y+a.height/2-s.height/2,v=a[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:a.y-s.height};break;case"bottom":g={x:f,y:a.y+a.height};break;case"right":g={x:a.x+a.width,y:m};break;case"left":g={x:a.x-s.width,y:m};break;default:g={x:a.x,y:a.y}}switch(At(t)){case"start":g[i]-=v*(n&&d?-1:1);break;case"end":g[i]+=v*(n&&d?-1:1);break}return g}const Vm=async(e,t,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:m}=za(d,a,c),v=a,g={},p=0;for(let h=0;h<l.length;h++){const{name:x,fn:w}=l[h],{x:j,y:N,data:E,reset:P}=await w({x:f,y:m,initialPlacement:a,placement:v,strategy:s,middlewareData:g,rects:d,platform:i,elements:{reference:e,floating:t}});f=j??f,m=N??m,g={...g,[x]:{...g[x],...E}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:f,y:m}=za(d,v,c)),h=-1)}return{x:f,y:m,placement:v,strategy:s,middlewareData:g}};async function Ht(e,t){var n;t===void 0&&(t={});const{x:a,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:g=0}=qe(t,e),p=Vi(g),x=l[v?m==="floating"?"reference":"floating":m],w=Nn(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),j=m==="floating"?{x:a,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),E=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Nn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:N,strategy:c}):j);return{top:(w.top-P.top+p.top)/E.y,bottom:(P.bottom-w.bottom+p.bottom)/E.y,left:(w.left-P.left+p.left)/E.x,right:(P.right-w.right+p.right)/E.x}}const Um=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=qe(e,t)||{};if(d==null)return{};const m=Vi(f),v={x:n,y:a},g=ta(s),p=ea(g),h=await i.getDimensions(d),x=g==="y",w=x?"top":"left",j=x?"bottom":"right",N=x?"clientHeight":"clientWidth",E=o.reference[p]+o.reference[g]-v[g]-o.floating[p],P=v[g]-o.reference[g],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=A?A[N]:0;(!k||!await(i.isElement==null?void 0:i.isElement(A)))&&(k=l.floating[N]||o.floating[p]);const M=E/2-P/2,K=k/2-h[p]/2-1,L=Le(m[w],K),H=Le(m[j],K),J=L,ne=k-h[p]-H,ae=k/2-h[p]/2+M,Z=pr(J,ae,ne),X=!c.arrow&&At(s)!=null&&ae!==Z&&o.reference[p]/2-(ae<J?L:H)-h[p]/2<0,F=X?ae<J?ae-J:ae-ne:0;return{[g]:v[g]+F,data:{[g]:Z,centerOffset:ae-Z-F,...X&&{alignmentOffset:F}},reset:X}}}),Km=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...x}=qe(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=We(s),j=tt(l),N=We(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=v||(N||!h?[Cn(l)]:Gm(l)),A=p!=="none";!v&&A&&P.push(...Wm(l,h,p,E));const k=[l,...P],M=await Ht(t,x),K=[];let L=((a=o.flip)==null?void 0:a.overflows)||[];if(f&&K.push(M[w]),m){const ae=Bm(s,i,E);K.push(M[ae[0]],M[ae[1]])}if(L=[...L,{placement:s,overflows:K}],!K.every(ae=>ae<=0)){var H,J;const ae=(((H=o.flip)==null?void 0:H.index)||0)+1,Z=k[ae];if(Z)return{data:{index:ae,overflows:L},reset:{placement:Z}};let X=(J=L.filter(F=>F.overflows[0]<=0).sort((F,oe)=>F.overflows[1]-oe.overflows[1])[0])==null?void 0:J.placement;if(!X)switch(g){case"bestFit":{var ne;const F=(ne=L.filter(oe=>{if(A){const le=tt(oe.placement);return le===j||le==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(le=>le>0).reduce((le,C)=>le+C,0)]).sort((oe,le)=>oe[1]-le[1])[0])==null?void 0:ne[0];F&&(X=F);break}case"initialPlacement":X=l;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function Ba(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ga(e){return Fm.some(t=>e[t]>=0)}const Ym=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...s}=qe(e,t);switch(a){case"referenceHidden":{const o=await Ht(t,{...s,elementContext:"reference"}),i=Ba(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ga(i)}}}case"escaped":{const o=await Ht(t,{...s,altBoundary:!0}),i=Ba(o,n.floating);return{data:{escapedOffsets:i,escaped:Ga(i)}}}default:return{}}}}};async function Zm(e,t){const{placement:n,platform:a,elements:s}=e,o=await(a.isRTL==null?void 0:a.isRTL(s.floating)),i=We(n),l=At(n),c=tt(n)==="y",d=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,m=qe(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return l&&typeof p=="number"&&(g=l==="end"?p*-1:p),c?{x:g*f,y:v*d}:{x:v*d,y:g*f}}const Xm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await Zm(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},Qm=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y:j}=x;return{x:w,y:j}}},...c}=qe(e,t),d={x:n,y:a},f=await Ht(t,c),m=tt(We(s)),v=Jr(m);let g=d[v],p=d[m];if(o){const x=v==="y"?"top":"left",w=v==="y"?"bottom":"right",j=g+f[x],N=g-f[w];g=pr(j,g,N)}if(i){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",j=p+f[x],N=p-f[w];p=pr(j,p,N)}const h=l.fn({...t,[v]:g,[m]:p});return{...h,data:{x:h.x-n,y:h.y-a}}}}},Jm=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qe(e,t),f={x:n,y:a},m=tt(s),v=Jr(m);let g=f[v],p=f[m];const h=qe(l,t),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const N=v==="y"?"height":"width",E=o.reference[v]-o.floating[N]+x.mainAxis,P=o.reference[v]+o.reference[N]-x.mainAxis;g<E?g=E:g>P&&(g=P)}if(d){var w,j;const N=v==="y"?"width":"height",E=["top","left"].includes(We(s)),P=o.reference[m]-o.floating[N]+(E&&((w=i.offset)==null?void 0:w[m])||0)+(E?0:x.crossAxis),A=o.reference[m]+o.reference[N]+(E?0:((j=i.offset)==null?void 0:j[m])||0)-(E?x.crossAxis:0);p<P?p=P:p>A&&(p=A)}return{[v]:g,[m]:p}}}},eh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:a,platform:s,elements:o}=t,{apply:i=()=>{},...l}=qe(e,t),c=await Ht(t,l),d=We(n),f=At(n),m=tt(n)==="y",{width:v,height:g}=a.floating;let p,h;d==="top"||d==="bottom"?(p=d,h=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(h=d,p=f==="end"?"top":"bottom");const x=g-c.top-c.bottom,w=v-c.left-c.right,j=Le(g-c[p],x),N=Le(v-c[h],w),E=!t.middlewareData.shift;let P=j,A=N;if(m?A=f||E?Le(N,w):w:P=f||E?Le(j,x):x,E&&!f){const M=Se(c.left,0),K=Se(c.right,0),L=Se(c.top,0),H=Se(c.bottom,0);m?A=v-2*(M!==0||K!==0?M+K:Se(c.left,c.right)):P=g-2*(L!==0||H!==0?L+H:Se(c.top,c.bottom))}await i({...t,availableWidth:A,availableHeight:P});const k=await s.getDimensions(o.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function It(e){return Ui(e)?(e.nodeName||"").toLowerCase():"#document"}function Ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ve(e){var t;return(t=(Ui(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ui(e){return e instanceof Node||e instanceof Ee(e).Node}function Me(e){return e instanceof Element||e instanceof Ee(e).Element}function Fe(e){return e instanceof HTMLElement||e instanceof Ee(e).HTMLElement}function qa(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ee(e).ShadowRoot}function Zt(e){const{overflow:t,overflowX:n,overflowY:a,display:s}=Ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(s)}function th(e){return["table","td","th"].includes(It(e))}function On(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function na(e){const t=ra(),n=Me(e)?Ae(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function nh(e){let t=nt(e);for(;Fe(t)&&!kt(t);){if(na(t))return t;if(On(t))return null;t=nt(t)}return null}function ra(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kt(e){return["html","body","#document"].includes(It(e))}function Ae(e){return Ee(e).getComputedStyle(e)}function Dn(e){return Me(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nt(e){if(It(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qa(e)&&e.host||Ve(e);return qa(t)?t.host:t}function Ki(e){const t=nt(e);return kt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fe(t)&&Zt(t)?t:Ki(t)}function Vt(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ki(e),o=s===((a=e.ownerDocument)==null?void 0:a.body),i=Ee(s);if(o){const l=vr(i);return t.concat(i,i.visualViewport||[],Zt(s)?s:[],l&&n?Vt(l):[])}return t.concat(s,Vt(s,[],n))}function vr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Yi(e){const t=Ae(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=Fe(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:a,l=jn(n)!==o||jn(a)!==i;return l&&(n=o,a=i),{width:n,height:a,$:l}}function aa(e){return Me(e)?e:e.contextElement}function Pt(e){const t=aa(e);if(!Fe(t))return et(1);const n=t.getBoundingClientRect(),{width:a,height:s,$:o}=Yi(t);let i=(o?jn(n.width):n.width)/a,l=(o?jn(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const rh=et(0);function Zi(e){const t=Ee(e);return!ra()||!t.visualViewport?rh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ah(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ee(e)?!1:t}function ut(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=aa(e);let i=et(1);t&&(a?Me(a)&&(i=Pt(a)):i=Pt(e));const l=ah(o,n,a)?Zi(o):et(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,f=s.width/i.x,m=s.height/i.y;if(o){const v=Ee(o),g=a&&Me(a)?Ee(a):a;let p=v,h=vr(p);for(;h&&a&&g!==p;){const x=Pt(h),w=h.getBoundingClientRect(),j=Ae(h),N=w.left+(h.clientLeft+parseFloat(j.paddingLeft))*x.x,E=w.top+(h.clientTop+parseFloat(j.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,m*=x.y,c+=N,d+=E,p=Ee(h),h=vr(p)}}return Nn({width:f,height:m,x:c,y:d})}function sh(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e;const o=s==="fixed",i=Ve(a),l=t?On(t.floating):!1;if(a===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=et(1);const f=et(0),m=Fe(a);if((m||!m&&!o)&&((It(a)!=="body"||Zt(i))&&(c=Dn(a)),Fe(a))){const v=ut(a);d=Pt(a),f.x=v.x+a.clientLeft,f.y=v.y+a.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x,y:n.y*d.y-c.scrollTop*d.y+f.y}}function oh(e){return Array.from(e.getClientRects())}function Xi(e){return ut(Ve(e)).left+Dn(e).scrollLeft}function ih(e){const t=Ve(e),n=Dn(e),a=e.ownerDocument.body,s=Se(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),o=Se(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let i=-n.scrollLeft+Xi(e);const l=-n.scrollTop;return Ae(a).direction==="rtl"&&(i+=Se(t.clientWidth,a.clientWidth)-s),{width:s,height:o,x:i,y:l}}function lh(e,t){const n=Ee(e),a=Ve(e),s=n.visualViewport;let o=a.clientWidth,i=a.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=ra();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function ch(e,t){const n=ut(e,!0,t==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,o=Fe(e)?Pt(e):et(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,d=a*o.y;return{width:i,height:l,x:c,y:d}}function Wa(e,t,n){let a;if(t==="viewport")a=lh(e,n);else if(t==="document")a=ih(Ve(e));else if(Me(t))a=ch(t,n);else{const s=Zi(e);a={...t,x:t.x-s.x,y:t.y-s.y}}return Nn(a)}function Qi(e,t){const n=nt(e);return n===t||!Me(n)||kt(n)?!1:Ae(n).position==="fixed"||Qi(n,t)}function dh(e,t){const n=t.get(e);if(n)return n;let a=Vt(e,[],!1).filter(l=>Me(l)&&It(l)!=="body"),s=null;const o=Ae(e).position==="fixed";let i=o?nt(e):e;for(;Me(i)&&!kt(i);){const l=Ae(i),c=na(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Zt(i)&&!c&&Qi(e,i))?a=a.filter(f=>f!==i):s=l,i=nt(i)}return t.set(e,a),a}function uh(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e;const i=[...n==="clippingAncestors"?On(t)?[]:dh(t,this._c):[].concat(n),a],l=i[0],c=i.reduce((d,f)=>{const m=Wa(t,f,s);return d.top=Se(m.top,d.top),d.right=Le(m.right,d.right),d.bottom=Le(m.bottom,d.bottom),d.left=Se(m.left,d.left),d},Wa(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fh(e){const{width:t,height:n}=Yi(e);return{width:t,height:n}}function mh(e,t,n){const a=Fe(t),s=Ve(t),o=n==="fixed",i=ut(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=et(0);if(a||!a&&!o)if((It(t)!=="body"||Zt(s))&&(l=Dn(t)),a){const m=ut(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=Xi(s));const d=i.left+l.scrollLeft-c.x,f=i.top+l.scrollTop-c.y;return{x:d,y:f,width:i.width,height:i.height}}function er(e){return Ae(e).position==="static"}function Ha(e,t){return!Fe(e)||Ae(e).position==="fixed"?null:t?t(e):e.offsetParent}function Ji(e,t){const n=Ee(e);if(On(e))return n;if(!Fe(e)){let s=nt(e);for(;s&&!kt(s);){if(Me(s)&&!er(s))return s;s=nt(s)}return n}let a=Ha(e,t);for(;a&&th(a)&&er(a);)a=Ha(a,t);return a&&kt(a)&&er(a)&&!na(a)?n:a||nh(e)||n}const hh=async function(e){const t=this.getOffsetParent||Ji,n=this.getDimensions,a=await n(e.floating);return{reference:mh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function ph(e){return Ae(e).direction==="rtl"}const gh={convertOffsetParentRelativeRectToViewportRelativeRect:sh,getDocumentElement:Ve,getClippingRect:uh,getOffsetParent:Ji,getElementRects:hh,getClientRects:oh,getDimensions:fh,getScale:Pt,isElement:Me,isRTL:ph};function vh(e,t){let n=null,a;const s=Ve(e);function o(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:f,width:m,height:v}=e.getBoundingClientRect();if(l||t(),!m||!v)return;const g=sn(f),p=sn(s.clientWidth-(d+m)),h=sn(s.clientHeight-(f+v)),x=sn(d),j={rootMargin:-g+"px "+-p+"px "+-h+"px "+-x+"px",threshold:Se(0,Le(1,c))||1};let N=!0;function E(P){const A=P[0].intersectionRatio;if(A!==c){if(!N)return i();A?i(!1,A):a=setTimeout(()=>{i(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(E,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,j)}n.observe(e)}return i(!0),o}function xh(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=aa(e),f=s||o?[...d?Vt(d):[],...Vt(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const m=d&&l?vh(d,n):null;let v=-1,g=null;i&&(g=new ResizeObserver(w=>{let[j]=w;j&&j.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let p,h=c?ut(e):null;c&&x();function x(){const w=ut(e);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&n(),h=w,p=requestAnimationFrame(x)}return n(),()=>{var w;f.forEach(j=>{s&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),m==null||m(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(p)}}const yh=Xm,wh=Qm,bh=Km,jh=eh,Ch=Ym,Va=Um,Nh=Jm,Sh=(e,t,n)=>{const a=new Map,s={platform:gh,...n},o={...s.platform,_c:a};return Vm(e,t,{...s,platform:o})};var un=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Sn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Sn(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){const o=s[a];if(!(o==="_owner"&&e.$$typeof)&&!Sn(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function el(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ua(e,t){const n=el(e);return Math.round(t*n)/n}function Ka(e){const t=u.useRef(e);return un(()=>{t.current=e}),t}function Eh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=u.useState(a);Sn(v,a)||g(a);const[p,h]=u.useState(null),[x,w]=u.useState(null),j=u.useCallback(F=>{F!==A.current&&(A.current=F,h(F))},[]),N=u.useCallback(F=>{F!==k.current&&(k.current=F,w(F))},[]),E=o||p,P=i||x,A=u.useRef(null),k=u.useRef(null),M=u.useRef(f),K=c!=null,L=Ka(c),H=Ka(s),J=u.useCallback(()=>{if(!A.current||!k.current)return;const F={placement:t,strategy:n,middleware:v};H.current&&(F.platform=H.current),Sh(A.current,k.current,F).then(oe=>{const le={...oe,isPositioned:!0};ne.current&&!Sn(M.current,le)&&(M.current=le,Kt.flushSync(()=>{m(le)}))})},[v,t,n,H]);un(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const ne=u.useRef(!1);un(()=>(ne.current=!0,()=>{ne.current=!1}),[]),un(()=>{if(E&&(A.current=E),P&&(k.current=P),E&&P){if(L.current)return L.current(E,P,J);J()}},[E,P,J,L,K]);const ae=u.useMemo(()=>({reference:A,floating:k,setReference:j,setFloating:N}),[j,N]),Z=u.useMemo(()=>({reference:E,floating:P}),[E,P]),X=u.useMemo(()=>{const F={position:n,left:0,top:0};if(!Z.floating)return F;const oe=Ua(Z.floating,f.x),le=Ua(Z.floating,f.y);return l?{...F,transform:"translate("+oe+"px, "+le+"px)",...el(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:le}},[n,l,Z.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:J,refs:ae,elements:Z,floatingStyles:X}),[f,J,ae,Z,X])}const Ph=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?Va({element:a.current,padding:s}).fn(n):{}:a?Va({element:a,padding:s}).fn(n):{}}}},Rh=(e,t)=>({...yh(e),options:[e,t]}),kh=(e,t)=>({...wh(e),options:[e,t]}),Mh=(e,t)=>({...Nh(e),options:[e,t]}),Ah=(e,t)=>({...bh(e),options:[e,t]}),Ih=(e,t)=>({...jh(e),options:[e,t]}),Th=(e,t)=>({...Ch(e),options:[e,t]}),Oh=(e,t)=>({...Ph(e),options:[e,t]});var Dh="Arrow",tl=u.forwardRef((e,t)=>{const{children:n,width:a=10,height:s=5,...o}=e;return r.jsx(Q.svg,{...o,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});tl.displayName=Dh;var Lh=tl,sa="Popper",[nl,rl]=Ie(sa),[_h,al]=nl(sa),sl=e=>{const{__scopePopper:t,children:n}=e,[a,s]=u.useState(null);return r.jsx(_h,{scope:t,anchor:a,onAnchorChange:s,children:n})};sl.displayName=sa;var ol="PopperAnchor",il=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,o=al(ol,n),i=u.useRef(null),l=de(t,i);return u.useEffect(()=>{o.onAnchorChange((a==null?void 0:a.current)||i.current)}),a?null:r.jsx(Q.div,{...s,ref:l})});il.displayName=ol;var oa="PopperContent",[Fh,$h]=nl(oa),ll=u.forwardRef((e,t)=>{var R,I,Y,B,_,z;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:g="optimized",onPlaced:p,...h}=e,x=al(oa,n),[w,j]=u.useState(null),N=de(t,ie=>j(ie)),[E,P]=u.useState(null),A=zr(E),k=(A==null?void 0:A.width)??0,M=(A==null?void 0:A.height)??0,K=a+(o!=="center"?"-"+o:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(d)?d:[d],J=H.length>0,ne={padding:L,boundary:H.filter(Bh),altBoundary:J},{refs:ae,floatingStyles:Z,placement:X,isPositioned:F,middlewareData:oe}=Eh({strategy:"fixed",placement:K,whileElementsMounted:(...ie)=>xh(...ie,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Rh({mainAxis:s+M,alignmentAxis:i}),c&&kh({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Mh():void 0,...ne}),c&&Ah({...ne}),Ih({...ne,apply:({elements:ie,rects:U,availableWidth:pe,availableHeight:ge})=>{const{width:ve,height:Re}=U.reference,Pe=ie.floating.style;Pe.setProperty("--radix-popper-available-width",`${pe}px`),Pe.setProperty("--radix-popper-available-height",`${ge}px`),Pe.setProperty("--radix-popper-anchor-width",`${ve}px`),Pe.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),E&&Oh({element:E,padding:l}),Gh({arrowWidth:k,arrowHeight:M}),v&&Th({strategy:"referenceHidden",...ne})]}),[le,C]=ul(X),y=_e(p);Ce(()=>{F&&(y==null||y())},[F,y]);const D=(R=oe.arrow)==null?void 0:R.x,$=(I=oe.arrow)==null?void 0:I.y,G=((Y=oe.arrow)==null?void 0:Y.centerOffset)!==0,[q,V]=u.useState();return Ce(()=>{w&&V(window.getComputedStyle(w).zIndex)},[w]),r.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:F?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(B=oe.transformOrigin)==null?void 0:B.x,(_=oe.transformOrigin)==null?void 0:_.y].join(" "),...((z=oe.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Fh,{scope:n,placedSide:le,onArrowChange:P,arrowX:D,arrowY:$,shouldHideArrow:G,children:r.jsx(Q.div,{"data-side":le,"data-align":C,...h,ref:N,style:{...h.style,animation:F?void 0:"none"}})})})});ll.displayName=oa;var cl="PopperArrow",zh={top:"bottom",right:"left",bottom:"top",left:"right"},dl=u.forwardRef(function(t,n){const{__scopePopper:a,...s}=t,o=$h(cl,a),i=zh[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(Lh,{...s,ref:n,style:{...s.style,display:"block"}})})});dl.displayName=cl;function Bh(e){return e!==null}var Gh=e=>({name:"transformOrigin",options:e,fn(t){var x,w,j;const{placement:n,rects:a,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,f]=ul(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((j=s.arrow)==null?void 0:j.y)??0)+c/2;let p="",h="";return d==="bottom"?(p=i?m:`${v}px`,h=`${-c}px`):d==="top"?(p=i?m:`${v}px`,h=`${a.floating.height+c}px`):d==="right"?(p=`${-c}px`,h=i?m:`${g}px`):d==="left"&&(p=`${a.floating.width+c}px`,h=i?m:`${g}px`),{data:{x:p,y:h}}}});function ul(e){const[t,n="center"]=e.split("-");return[t,n]}var qh=sl,Wh=il,Hh=ll,Vh=dl,Uh="VisuallyHidden",fl=u.forwardRef((e,t)=>r.jsx(Q.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));fl.displayName=Uh;var ml=Wo(),tr=function(){},Ln=u.forwardRef(function(e,t){var n=u.useRef(null),a=u.useState({onScrollCapture:tr,onWheelCapture:tr,onTouchMoveCapture:tr}),s=a[0],o=a[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,v=e.sideCar,g=e.noIsolation,p=e.inert,h=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,j=e.gapMode,N=Ur(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,P=qo([n,t]),A=ye(ye({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(E,{sideCar:ml,removeScrollBar:d,shards:m,noIsolation:g,inert:p,setCallbacks:o,allowPinchZoom:!!h,lockRef:n,gapMode:j}),i?u.cloneElement(u.Children.only(l),ye(ye({},A),{ref:P})):u.createElement(w,ye({},A,{className:c,ref:P}),l))});Ln.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ln.classNames={fullWidth:Gt,zeroRight:Bt};var xr=!1;if(typeof window<"u")try{var on=Object.defineProperty({},"passive",{get:function(){return xr=!0,!0}});window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{xr=!1}var wt=xr?{passive:!1}:!1,Kh=function(e){return e.tagName==="TEXTAREA"},hl=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kh(e)&&n[t]==="visible")},Yh=function(e){return hl(e,"overflowY")},Zh=function(e){return hl(e,"overflowX")},Ya=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=pl(e,a);if(s){var o=gl(e,a),i=o[1],l=o[2];if(i>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Xh=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},Qh=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},pl=function(e,t){return e==="v"?Yh(t):Zh(t)},gl=function(e,t){return e==="v"?Xh(t):Qh(t)},Jh=function(e,t){return e==="h"&&t==="rtl"?-1:1},ep=function(e,t,n,a,s){var o=Jh(e,window.getComputedStyle(t).direction),i=o*a,l=n.target,c=t.contains(l),d=!1,f=i>0,m=0,v=0;do{var g=gl(e,l),p=g[0],h=g[1],x=g[2],w=h-x-o*p;(p||w)&&pl(e,l)&&(m+=w,v+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(v)<1||!s))&&(d=!0),d},ln=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Za=function(e){return[e.deltaX,e.deltaY]},Xa=function(e){return e&&"current"in e?e.current:e},tp=function(e,t){return e[0]===t[0]&&e[1]===t[1]},np=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rp=0,bt=[];function ap(e){var t=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(rp++)[0],o=u.useState(Kr)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=Go([e.lockRef.current],(e.shards||[]).map(Xa),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(h,x){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var w=ln(h),j=n.current,N="deltaX"in h?h.deltaX:j[0]-w[0],E="deltaY"in h?h.deltaY:j[1]-w[1],P,A=h.target,k=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in h&&k==="h"&&A.type==="range")return!1;var M=Ya(k,A);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=Ya(k,A)),!M)return!1;if(!a.current&&"changedTouches"in h&&(N||E)&&(a.current=P),!P)return!0;var K=a.current||P;return ep(K,x,h,K==="h"?N:E,!0)},[]),c=u.useCallback(function(h){var x=h;if(!(!bt.length||bt[bt.length-1]!==o)){var w="deltaY"in x?Za(x):ln(x),j=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&tp(P.delta,w)})[0];if(j&&j.should){x.cancelable&&x.preventDefault();return}if(!j){var N=(i.current.shards||[]).map(Xa).filter(Boolean).filter(function(P){return P.contains(x.target)}),E=N.length>0?l(x,N[0]):!i.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(h,x,w,j){var N={name:h,delta:x,target:w,should:j,shadowParent:sp(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),f=u.useCallback(function(h){n.current=ln(h),a.current=void 0},[]),m=u.useCallback(function(h){d(h.type,Za(h),h.target,l(h,e.lockRef.current))},[]),v=u.useCallback(function(h){d(h.type,ln(h),h.target,l(h,e.lockRef.current))},[]);u.useEffect(function(){return bt.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,wt),document.addEventListener("touchmove",c,wt),document.addEventListener("touchstart",f,wt),function(){bt=bt.filter(function(h){return h!==o}),document.removeEventListener("wheel",c,wt),document.removeEventListener("touchmove",c,wt),document.removeEventListener("touchstart",f,wt)}},[]);var g=e.removeScrollBar,p=e.inert;return u.createElement(u.Fragment,null,p?u.createElement(o,{styles:np(s)}):null,g?u.createElement(Ko,{gapMode:e.gapMode}):null)}function sp(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const op=Vo(ml,ap);var vl=u.forwardRef(function(e,t){return u.createElement(Ln,ye({},e,{ref:t,sideCar:op}))});vl.classNames=Ln.classNames;var ip=[" ","Enter","ArrowUp","ArrowDown"],lp=[" ","Enter"],Xt="Select",[_n,Fn,cp]=Zs(Xt),[Tt,Qp]=Ie(Xt,[cp,rl]),$n=rl(),[dp,rt]=Tt(Xt),[up,fp]=Tt(Xt),xl=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:v,required:g}=e,p=$n(t),[h,x]=u.useState(null),[w,j]=u.useState(null),[N,E]=u.useState(!1),P=Mn(d),[A=!1,k]=ct({prop:a,defaultProp:s,onChange:o}),[M,K]=ct({prop:i,defaultProp:l,onChange:c}),L=u.useRef(null),H=h?!!h.closest("form"):!0,[J,ne]=u.useState(new Set),ae=Array.from(J).map(Z=>Z.props.value).join(";");return r.jsx(qh,{...p,children:r.jsxs(dp,{required:g,scope:t,trigger:h,onTriggerChange:x,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Xe(),value:M,onValueChange:K,open:A,onOpenChange:k,dir:P,triggerPointerDownPosRef:L,disabled:v,children:[r.jsx(_n.Provider,{scope:t,children:r.jsx(up,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(Z=>{ne(X=>new Set(X).add(Z))},[]),onNativeOptionRemove:u.useCallback(Z=>{ne(X=>{const F=new Set(X);return F.delete(Z),F})},[]),children:n})}),H?r.jsxs(ql,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:M,onChange:Z=>K(Z.target.value),disabled:v,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(J)]},ae):null]})})};xl.displayName=Xt;var yl="SelectTrigger",wl=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,o=$n(n),i=rt(yl,n),l=i.disabled||a,c=de(t,i.onTriggerChange),d=Fn(n),[f,m,v]=Wl(p=>{const h=d().filter(j=>!j.disabled),x=h.find(j=>j.value===i.value),w=Hl(h,p,x);w!==void 0&&i.onValueChange(w.value)}),g=()=>{l||(i.onOpenChange(!0),v())};return r.jsx(Wh,{asChild:!0,...o,children:r.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Gl(i.value)?"":void 0,...s,ref:c,onClick:te(s.onClick,p=>{p.currentTarget.focus()}),onPointerDown:te(s.onPointerDown,p=>{const h=p.target;h.hasPointerCapture(p.pointerId)&&h.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(g(),i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:te(s.onKeyDown,p=>{const h=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(h&&p.key===" ")&&ip.includes(p.key)&&(g(),p.preventDefault())})})})});wl.displayName=yl;var bl="SelectValue",jl=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:o,placeholder:i="",...l}=e,c=rt(bl,n),{onValueNodeHasChildrenChange:d}=c,f=o!==void 0,m=de(t,c.onValueNodeChange);return Ce(()=>{d(f)},[d,f]),r.jsx(Q.span,{...l,ref:m,style:{pointerEvents:"none"},children:Gl(c.value)?r.jsx(r.Fragment,{children:i}):o})});jl.displayName=bl;var mp="SelectIcon",Cl=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return r.jsx(Q.span,{"aria-hidden":!0,...s,ref:t,children:a||"▼"})});Cl.displayName=mp;var hp="SelectPortal",Nl=e=>r.jsx(Vr,{asChild:!0,...e});Nl.displayName=hp;var ft="SelectContent",Sl=u.forwardRef((e,t)=>{const n=rt(ft,e.__scopeSelect),[a,s]=u.useState();if(Ce(()=>{s(new DocumentFragment)},[]),!n.open){const o=a;return o?Kt.createPortal(r.jsx(El,{scope:e.__scopeSelect,children:r.jsx(_n.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx(Pl,{...e,ref:t})});Sl.displayName=ft;var ze=10,[El,at]=Tt(ft),pp="SelectContentImpl",Pl=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:g,sticky:p,hideWhenDetached:h,avoidCollisions:x,...w}=e,j=rt(ft,n),[N,E]=u.useState(null),[P,A]=u.useState(null),k=de(t,R=>E(R)),[M,K]=u.useState(null),[L,H]=u.useState(null),J=Fn(n),[ne,ae]=u.useState(!1),Z=u.useRef(!1);u.useEffect(()=>{if(N)return ei(N)},[N]),Bo();const X=u.useCallback(R=>{const[I,...Y]=J().map(z=>z.ref.current),[B]=Y.slice(-1),_=document.activeElement;for(const z of R)if(z===_||(z==null||z.scrollIntoView({block:"nearest"}),z===I&&P&&(P.scrollTop=0),z===B&&P&&(P.scrollTop=P.scrollHeight),z==null||z.focus(),document.activeElement!==_))return},[J,P]),F=u.useCallback(()=>X([M,N]),[X,M,N]);u.useEffect(()=>{ne&&F()},[ne,F]);const{onOpenChange:oe,triggerPointerDownPosRef:le}=j;u.useEffect(()=>{if(N){let R={x:0,y:0};const I=B=>{var _,z;R={x:Math.abs(Math.round(B.pageX)-(((_=le.current)==null?void 0:_.x)??0)),y:Math.abs(Math.round(B.pageY)-(((z=le.current)==null?void 0:z.y)??0))}},Y=B=>{R.x<=10&&R.y<=10?B.preventDefault():N.contains(B.target)||oe(!1),document.removeEventListener("pointermove",I),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y,{capture:!0})}}},[N,oe,le]),u.useEffect(()=>{const R=()=>oe(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[oe]);const[C,y]=Wl(R=>{const I=J().filter(_=>!_.disabled),Y=I.find(_=>_.ref.current===document.activeElement),B=Hl(I,R,Y);B&&setTimeout(()=>B.ref.current.focus())}),D=u.useCallback((R,I,Y)=>{const B=!Z.current&&!Y;(j.value!==void 0&&j.value===I||B)&&(K(R),B&&(Z.current=!0))},[j.value]),$=u.useCallback(()=>N==null?void 0:N.focus(),[N]),G=u.useCallback((R,I,Y)=>{const B=!Z.current&&!Y;(j.value!==void 0&&j.value===I||B)&&H(R)},[j.value]),q=a==="popper"?yr:Rl,V=q===yr?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:g,sticky:p,hideWhenDetached:h,avoidCollisions:x}:{};return r.jsx(El,{scope:n,content:N,viewport:P,onViewportChange:A,itemRefCallback:D,selectedItem:M,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:F,selectedItemText:L,position:a,isPositioned:ne,searchRef:C,children:r.jsx(vl,{as:pn,allowPinchZoom:!0,children:r.jsx(Hr,{asChild:!0,trapped:j.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:te(s,R=>{var I;(I=j.trigger)==null||I.focus({preventScroll:!0}),R.preventDefault()}),children:r.jsx(Wr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(q,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:R=>R.preventDefault(),...w,...V,onPlaced:()=>ae(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:te(w.onKeyDown,R=>{const I=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!I&&R.key.length===1&&y(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let B=J().filter(_=>!_.disabled).map(_=>_.ref.current);if(["ArrowUp","End"].includes(R.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const _=R.target,z=B.indexOf(_);B=B.slice(z+1)}setTimeout(()=>X(B)),R.preventDefault()}})})})})})})});Pl.displayName=pp;var gp="SelectItemAlignedPosition",Rl=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,o=rt(ft,n),i=at(ft,n),[l,c]=u.useState(null),[d,f]=u.useState(null),m=de(t,k=>f(k)),v=Fn(n),g=u.useRef(!1),p=u.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:w,focusSelectedItem:j}=i,N=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&h&&x&&w){const k=o.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),K=o.valueNode.getBoundingClientRect(),L=w.getBoundingClientRect();if(o.dir!=="rtl"){const _=L.left-M.left,z=K.left-_,ie=k.left-z,U=k.width+ie,pe=Math.max(U,M.width),ge=window.innerWidth-ze,ve=$a(z,[ze,ge-pe]);l.style.minWidth=U+"px",l.style.left=ve+"px"}else{const _=M.right-L.right,z=window.innerWidth-K.right-_,ie=window.innerWidth-k.right-z,U=k.width+ie,pe=Math.max(U,M.width),ge=window.innerWidth-ze,ve=$a(z,[ze,ge-pe]);l.style.minWidth=U+"px",l.style.right=ve+"px"}const H=v(),J=window.innerHeight-ze*2,ne=h.scrollHeight,ae=window.getComputedStyle(d),Z=parseInt(ae.borderTopWidth,10),X=parseInt(ae.paddingTop,10),F=parseInt(ae.borderBottomWidth,10),oe=parseInt(ae.paddingBottom,10),le=Z+X+ne+oe+F,C=Math.min(x.offsetHeight*5,le),y=window.getComputedStyle(h),D=parseInt(y.paddingTop,10),$=parseInt(y.paddingBottom,10),G=k.top+k.height/2-ze,q=J-G,V=x.offsetHeight/2,R=x.offsetTop+V,I=Z+X+R,Y=le-I;if(I<=G){const _=x===H[H.length-1].ref.current;l.style.bottom="0px";const z=d.clientHeight-h.offsetTop-h.offsetHeight,ie=Math.max(q,V+(_?$:0)+z+F),U=I+ie;l.style.height=U+"px"}else{const _=x===H[0].ref.current;l.style.top="0px";const ie=Math.max(G,Z+h.offsetTop+(_?D:0)+V)+Y;l.style.height=ie+"px",h.scrollTop=I-G+h.offsetTop}l.style.margin=`${ze}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=J+"px",a==null||a(),requestAnimationFrame(()=>g.current=!0)}},[v,o.trigger,o.valueNode,l,d,h,x,w,o.dir,a]);Ce(()=>N(),[N]);const[E,P]=u.useState();Ce(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const A=u.useCallback(k=>{k&&p.current===!0&&(N(),j==null||j(),p.current=!1)},[N,j]);return r.jsx(xp,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:r.jsx(Q.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Rl.displayName=gp;var vp="SelectPopperPosition",yr=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=ze,...o}=e,i=$n(n);return r.jsx(Hh,{...i,...o,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yr.displayName=vp;var[xp,ia]=Tt(ft,{}),wr="SelectViewport",kl=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...s}=e,o=at(wr,n),i=ia(wr,n),l=de(t,o.onViewportChange),c=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(_n.Slot,{scope:n,children:r.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:te(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=i;if(v!=null&&v.current&&m){const g=Math.abs(c.current-f.scrollTop);if(g>0){const p=window.innerHeight-ze*2,h=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),w=Math.max(h,x);if(w<p){const j=w+g,N=Math.min(p,j),E=j-N;m.style.height=N+"px",m.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});kl.displayName=wr;var Ml="SelectGroup",[yp,wp]=Tt(Ml),bp=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Xe();return r.jsx(yp,{scope:n,id:s,children:r.jsx(Q.div,{role:"group","aria-labelledby":s,...a,ref:t})})});bp.displayName=Ml;var Al="SelectLabel",Il=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=wp(Al,n);return r.jsx(Q.div,{id:s.id,...a,ref:t})});Il.displayName=Al;var En="SelectItem",[jp,Tl]=Tt(En),Ol=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:o,...i}=e,l=rt(En,n),c=at(En,n),d=l.value===a,[f,m]=u.useState(o??""),[v,g]=u.useState(!1),p=de(t,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,a,s)}),h=Xe(),x=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(jp,{scope:n,value:a,disabled:s,textId:h,isSelected:d,onItemTextChange:u.useCallback(w=>{m(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:r.jsx(_n.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:r.jsx(Q.div,{role:"option","aria-labelledby":h,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:p,onFocus:te(i.onFocus,()=>g(!0)),onBlur:te(i.onBlur,()=>g(!1)),onPointerUp:te(i.onPointerUp,x),onPointerMove:te(i.onPointerMove,w=>{var j;s?(j=c.onItemLeave)==null||j.call(c):w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:te(i.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(lp.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Ol.displayName=En;var $t="SelectItemText",Dl=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...o}=e,i=rt($t,n),l=at($t,n),c=Tl($t,n),d=fp($t,n),[f,m]=u.useState(null),v=de(t,w=>m(w),c.onItemTextChange,w=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,w,c.value,c.disabled)}),g=f==null?void 0:f.textContent,p=u.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=d;return Ce(()=>(h(p),()=>x(p)),[h,x,p]),r.jsxs(r.Fragment,{children:[r.jsx(Q.span,{id:c.textId,...o,ref:v}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Kt.createPortal(o.children,i.valueNode):null]})});Dl.displayName=$t;var Ll="SelectItemIndicator",_l=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return Tl(Ll,n).isSelected?r.jsx(Q.span,{"aria-hidden":!0,...a,ref:t}):null});_l.displayName=Ll;var br="SelectScrollUpButton",Fl=u.forwardRef((e,t)=>{const n=at(br,e.__scopeSelect),a=ia(br,e.__scopeSelect),[s,o]=u.useState(!1),i=de(t,a.onScrollButtonChange);return Ce(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(zl,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Fl.displayName=br;var jr="SelectScrollDownButton",$l=u.forwardRef((e,t)=>{const n=at(jr,e.__scopeSelect),a=ia(jr,e.__scopeSelect),[s,o]=u.useState(!1),i=de(t,a.onScrollButtonChange);return Ce(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(zl,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$l.displayName=jr;var zl=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,o=at("SelectScrollButton",n),i=u.useRef(null),l=Fn(n),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Ce(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),r.jsx(Q.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:te(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:te(s.onPointerLeave,()=>{c()})})}),Cp="SelectSeparator",Bl=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return r.jsx(Q.div,{"aria-hidden":!0,...a,ref:t})});Bl.displayName=Cp;var Cr="SelectArrow",Np=u.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=$n(n),o=rt(Cr,n),i=at(Cr,n);return o.open&&i.position==="popper"?r.jsx(Vh,{...s,...a,ref:t}):null});Np.displayName=Cr;function Gl(e){return e===""||e===void 0}var ql=u.forwardRef((e,t)=>{const{value:n,...a}=e,s=u.useRef(null),o=de(t,s),i=$r(n);return u.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&f){const m=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(m)}},[i,n]),r.jsx(fl,{asChild:!0,children:r.jsx("select",{...a,ref:o,defaultValue:n})})});ql.displayName="BubbleSelect";function Wl(e){const t=_e(e),n=u.useRef(""),a=u.useRef(0),s=u.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=u.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,o]}function Hl(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=Sp(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Sp(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var Ep=xl,Vl=wl,Pp=jl,Rp=Cl,kp=Nl,Ul=Sl,Mp=kl,Kl=Il,Yl=Ol,Ap=Dl,Ip=_l,Zl=Fl,Xl=$l,Ql=Bl;const Tp=Ep,Op=Pp,Jl=u.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(Vl,{ref:a,className:S("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Rp,{asChild:!0,children:r.jsx(Ls,{className:"h-4 w-4 opacity-50"})})]}));Jl.displayName=Vl.displayName;const ec=u.forwardRef(({className:e,...t},n)=>r.jsx(Zl,{ref:n,className:S("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Ad,{className:"h-4 w-4"})}));ec.displayName=Zl.displayName;const tc=u.forwardRef(({className:e,...t},n)=>r.jsx(Xl,{ref:n,className:S("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Ls,{className:"h-4 w-4"})}));tc.displayName=Xl.displayName;const nc=u.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(kp,{children:r.jsxs(Ul,{ref:s,className:S("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(ec,{}),r.jsx(Mp,{className:S("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(tc,{})]})}));nc.displayName=Ul.displayName;const Dp=u.forwardRef(({className:e,...t},n)=>r.jsx(Kl,{ref:n,className:S("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Dp.displayName=Kl.displayName;const Nr=u.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(Yl,{ref:a,className:S("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Ip,{children:r.jsx(Ds,{className:"h-4 w-4"})})}),r.jsx(Ap,{children:t})]}));Nr.displayName=Yl.displayName;const Lp=u.forwardRef(({className:e,...t},n)=>r.jsx(Ql,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",e),...t}));Lp.displayName=Ql.displayName;const _p=e=>{const[t,n]=re(f=>[f.score,f.difficulty]),{toggleSettings:a,toggleMuted:s,muted:o}=Ne(f=>({toggleSettings:f.toggleSettings,toggleMuted:f.toggleMusicMuted,muted:f.musicMuted})),i=ue(),[l,c]=b.useMemo(()=>[n!==i.difficulty,i.quality.animations!==it.quality.animations],[n,i.quality.animations,i.difficulty]),d=b.useCallback(()=>{c?window.location.search="?game":a()},[c,a]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative flex justify-between items-baseline",children:[r.jsx("h2",{className:"text-3xl absolute top-0 left-0 w-full text-center mt-1",children:"Settings"}),e.show&&r.jsx(Uu,{className:"text-2xl font-mono ml-2"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(T,{onClick:s,variant:"icon",size:"icon",children:o?r.jsx(Lm,{}):r.jsx(_m,{})})})]}),r.jsxs("div",{className:"flex gap-5",children:[r.jsxs(ce,{children:[r.jsx("h3",{children:"Difficulté"}),r.jsx(cn,{className:"space-y-0 gap-0",value:i.difficulty,onValueChange:f=>{i.updateDifficulty(f)},children:Object.keys(_c).map(f=>r.jsxs(_t,{className:"flex items-center gap-2 py-2",children:[r.jsx(dn,{value:f}),ot[f]]},f))})]}),r.jsxs(ce,{className:"relative",children:[r.jsx("h3",{children:"Qualité"}),r.jsxs(Tp,{defaultValue:i.quality.preset,onValueChange:f=>{i.updateQuality({preset:f,...f==="custom"?{}:Object.fromEntries(Object.entries(sr(i.quality,"preset")).map(([m])=>[m,pa[f].includes(m)]))})},children:[r.jsx(Jl,{className:"w-36 text-xl absolute right-2 -top-2",children:r.jsx(Op,{placeholder:"Preset"})}),r.jsxs(nc,{children:[r.jsx(Nr,{value:"custom",children:ot.custom}),Object.entries(pa).map(([f])=>r.jsx(Nr,{value:f,children:ot[f]},f))]})]}),r.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(sr(it.quality,"preset")).map(f=>r.jsxs(_t,{className:S("flex items-center gap-2 py-2 select-none odd:pr-5",i.quality.preset!=="custom"&&"cursor-not-allowed"),children:[r.jsx(No,{disabled:i.quality.preset!=="custom",defaultChecked:i.quality[f],checked:i.quality[f],onCheckedChange:m=>i.updateQuality({[f]:m})}),ot[f]]},f))})]}),r.jsxs(ce,{children:[r.jsx("h3",{children:"Thême"}),r.jsx(cn,{className:"space-y-0 gap-0",defaultValue:it.theme,onValueChange:f=>{const m=document.body,v=Array.from(m.classList.values()).find(g=>g.startsWith("theme-"));v&&m.classList.remove(v),m.classList.add(`theme-${f}`),i.updateTheme(f)},children:Fc.map(f=>r.jsxs(_t,{className:"flex items-center gap-2 py-2",children:[r.jsx(dn,{value:f[0]}),f[0]]},f[0]))})]}),r.jsxs(ce,{children:[r.jsx("h3",{children:"Vitesse"}),r.jsx(cn,{className:"space-y-0 gap-0",value:i.speed,onValueChange:f=>i.updateSpeed(f),children:Object.values($c).map(f=>r.jsxs(_t,{className:"flex items-center gap-2 py-2",children:[r.jsx(dn,{value:f}),ot[f]]},f))})]})]}),r.jsxs("div",{className:"flex gap-5",children:[l&&r.jsx(T,{variant:"default",onClick:()=>{i.updateDifficulty(it.difficulty),a()},children:"Annuler"}),t>0&&l?r.jsxs(Tm,{children:[r.jsx(Om,{children:r.jsx(T,{variant:l?"cta":"default",disabled:!l,children:"Appliquer"})}),r.jsxs($i,{className:"w-fit",children:[r.jsxs(zi,{children:[r.jsx(Gi,{className:"text-2xl",children:"Une partie est en cours !"}),r.jsxs(qi,{className:"text-xl leading-5",children:["Le nouveau mode de difficulté sera ",r.jsx("br",{}),"appliqué à la prochaine partie."]})]}),r.jsxs(Bi,{children:[r.jsx(Hi,{children:"Annuler"}),r.jsx(Wi,{onClick:d,children:"Continuer"})]})]})]}):r.jsx(T,{variant:c?"cta":"default",onClick:d,children:"Appliquer"}),(c||l)&&r.jsxs("div",{className:"flex-grow border rounded-lg flex items-center gap-3 px-3",children:[r.jsx(Ft,{className:"w-5"})," ",c?"Un rechargement peut être nécessaire.":"Le mode de difficulté sera appliqué à la prochaine partie."]})]})]})},Fp=()=>{const[e,t]=b.useState(0);return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Taux de conversion"}),r.jsx(ce,{children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-right",children:r.jsxs(_t,{htmlFor:"energy-input",children:["En ",r.jsx(O,{name:"energy"})," :"]})}),r.jsx("th",{children:r.jsx(us,{id:"energy-input",min:0,type:"number",value:e,onChange:n=>t(+n.target.value),placeholder:"Entre une valeur en énergie",className:"w-fit h-6 pb-0 pt-1 px-1"})})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"text-right",children:"En dollars :"}),r.jsx("td",{children:r.jsx(Ge,{M$:e*ar})})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"text-right",children:["En ",r.jsx(O,{name:"reputation"})," :"]}),r.jsx("td",{children:(e/rs).toFixed(2)})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"text-right",children:["En ",r.jsx(O,{name:"day"})," :"]}),r.jsxs("td",{children:[e*De>1?`${Math.floor(e*De)} jours`:" ",e*De%1>0&&e*De>1?" et ":" ",Math.floor(e*De%1*24)," heures et"," ",Math.floor(e*De%1*24%1*60)," ","minutes"]})]})]})]})})]})};function $p(e){return b.createElement("div",{...e,className:S("w-full h-full aspect-square",e.className),style:e.style},b.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const zp=()=>r.jsxs("div",{className:"space-y-2 pointer-events-auto flex flex-col items-center",children:[r.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),r.jsx(ce,{children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Rank"}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Score"}),r.jsx("th",{children:"Mode"})]})}),r.jsx("tbody",{children:Vs.sort((e,t)=>t.score-e.score).map((e,t)=>r.jsxs("tr",{className:S("*:whitespace-nowrap",ir(t)),children:[r.jsx("td",{children:t<3?r.jsx($p,{className:S("w-4",ir(t))}):""}),r.jsxs("th",{children:["# ",t+1]}),r.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:e.name}),r.jsxs("td",{children:[e.score.toLocaleString()," pts"]}),r.jsx("td",{children:ot[e.mode]})]},t))})]})}),r.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si tu as un meilleur score, tu peux me le soumettre ",r.jsx("br",{}),"en me contactant sur"," ",r.jsx("a",{href:"https://discord.gg/3vC2XWK",target:"_blank",className:"font-bold",children:"Discord"})," ","ou"," ",r.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"font-bold",children:"LinkedIn"})," ","!"]})]}),Bp=()=>{const e=re();return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl text-center",children:"Statistiques"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs(ce,{children:[r.jsx("h3",{className:"font-changa",children:"Général"}),r.jsx("table",{children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Score moyen"}),r.jsxs("td",{className:"font-changa text-upgrade",children:[e.scoreAverage," pts"]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Argent total"}),r.jsx("td",{children:r.jsx(Ge,{M$:e.totalMoney})})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Parties gagnées"}),r.jsx("td",{children:e.wonGames})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Parties jouées"}),r.jsx("td",{children:e.playedGames})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Cartes découvertes"}),r.jsxs("td",{children:[e.discoveries.length," / ",Rt.length]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Succès obtenus"}),r.jsxs("td",{children:[e.achievements.length," / ",cr.length]})]})]})})]}),r.jsxs(ce,{className:"col-span-3",children:[r.jsx("h3",{className:"font-changa",children:"Cartes découvertes"}),r.jsx(zc,{children:e.discoveries.length>0?e.discoveries.map((t,n)=>r.jsx(or,{popover:r.jsx($s,{card:je(t,e)}),children:r.jsx("li",{children:r.jsx(ga,{children:t})})},n)):"Aucune découverte"})]})]}),r.jsxs(ce,{children:[r.jsx("h3",{className:"font-changa",children:"Succès"}),r.jsx("ul",{className:"flex flex-wrap gap-x-2",children:e.achievements.length>0?e.achievements.map((t,n)=>r.jsx(or,{popover:r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mb-2",children:t}),r.jsx("p",{children:cr.find(a=>a.name===t).description})]}),children:r.jsx("li",{children:r.jsx(ga,{children:t})})},n)):"Aucun succès"})]})]})},Gp=e=>{const t=Ne(a=>a.toggleSettings),n=ue();return r.jsxs("div",{className:S("absolute inset-0 z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":n.quality.animations,"opacity-0 bg-background/80":n.quality.transparency,hidden:!n.quality.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[r.jsx("div",{onClick:t,className:S("absolute inset-0",e.show?"pointer-events-auto":"pointer-events-none")}),r.jsx(Yt,{className:"z-40 max-w-[1500px]",children:r.jsxs(qu,{defaultValue:"settings",children:[r.jsxs(xo,{className:"w-full -translate-y-2",children:[r.jsx(Ue,{value:"settings",children:"Paramètres"}),r.jsx(Ue,{value:"stats",children:"Statistiques"}),r.jsx(Ue,{value:"scores",children:"Scoreboard"}),r.jsx(Ue,{value:"help",children:"Aide"}),r.jsx(Ue,{value:"tools",children:"Outils"}),r.jsx(Ue,{value:"about",children:"A propos"}),r.jsx(Ue,{value:"credits",children:"Crédits"})]}),r.jsxs("div",{className:S("space-y-2",e.show?"block":"hidden"),children:[r.jsx(Ke,{value:"settings",children:r.jsx(_p,{show:e.show})}),r.jsx(Ke,{value:"stats",children:r.jsx(Bp,{})}),r.jsx(Ke,{value:"scores",children:r.jsx(zp,{})}),r.jsx(Ke,{value:"help",children:r.jsx(Vu,{})}),r.jsx(Ke,{value:"tools",children:r.jsx(Fp,{})}),r.jsx(Ke,{value:"about",children:r.jsx(Wu,{})}),r.jsx(Ke,{value:"credits",children:r.jsx(Hu,{})})]})]})})]})};let nr=0;const qp=3;function rc(){document.documentElement.style.setProperty("--rainbow",`${nr} 100% 50%`),nr=(nr+qp)%360,requestAnimationFrame(rc)}rc();const Jp=()=>{Kc(),Yc();const[e,t]=re(o=>[o.debug,o.handleError]),[n,a]=Ne(o=>[o.isCardGameVisible,o.settingsVisible]),s=b.useCallback(o=>{"error"in o?t(o.error):t(o.reason)},[t]);return b.useEffect(()=>(window.addEventListener("error",s),window.addEventListener("unhandledrejection",s),()=>{window.removeEventListener("error",s),window.removeEventListener("unhandledrejection",s)}),[s]),r.jsx(id,{steps:ld,opaqueStyle:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:r.jsxs(dd,{children:[r.jsx(su,{}),r.jsx(Sd,{show:n}),r.jsx(Gd,{show:n}),r.jsx(ju,{show:n}),r.jsx(xu,{show:n}),r.jsx(Cd,{show:n}),r.jsx(yd,{show:n}),r.jsx(bd,{show:n}),r.jsx(gd,{show:n}),r.jsx(yu,{show:n}),r.jsx(_d,{show:n}),r.jsx(fd,{show:n}),r.jsx(vd,{show:n}),r.jsx(Gp,{show:n&&a}),r.jsx(Pd,{show:n}),e&&r.jsx(Wd,{})]})})};export{Jp as Game};
