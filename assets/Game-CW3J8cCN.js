import{j as l,a as jo,r as x,P as pe,R as _,c as k,d as on,e as ye,B as I,E as F,G as Po,s as St,M as Re,f as wr,S as ts,g as Ao,h as Jt,I as qt,i as Ju,U as Qu,u as Xe,k as ed,l as td,m as ja,n as Pa,o as ot,p as nd,q as ns,t as Aa,C as Sn,v as Se,w as rd,x as od,y as Qn,z as ro,A as ad,D as id,F as To,L as Fn,H as sd,J as ld,K as cd}from"./index-vT43y6GR.js";var No={};(function e(t,n,r,o){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!t.OffscreenCanvas)return!1;var S=new OffscreenCanvas(1,1),w=S.getContext("2d");w.fillRect(0,0,1,1);var O=S.transferToImageBitmap();try{w.createPattern(O,"no-repeat")}catch{return!1}return!0}();function d(){}function p(S){var w=n.exports.Promise,O=w!==void 0?w:t.Promise;return typeof O=="function"?new O(S):(S(d,d),null)}var g=function(S,w){return{transform:function(O){if(S)return O;if(w.has(O))return w.get(O);var $=new OffscreenCanvas(O.width,O.height),B=$.getContext("2d");return B.drawImage(O,0,0),w.set(O,$),$},clear:function(){w.clear()}}}(c,new Map),i=function(){var S=Math.floor(16.666666666666668),w,O,$={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(H){var W=Math.random();return $[W]=requestAnimationFrame(function D(G){B===G||B+S-1<G?(B=G,delete $[W],H()):$[W]=requestAnimationFrame(D)}),W},O=function(H){$[H]&&cancelAnimationFrame($[H])}):(w=function(H){return setTimeout(H,S)},O=function(H){return clearTimeout(H)}),{frame:w,cancel:O}}(),u=function(){var S,w,O={};function $(B){function H(W,D){B.postMessage({options:W||{},callback:D})}B.init=function(D){var G=D.transferControlToOffscreen();B.postMessage({canvas:G},[G])},B.fire=function(D,G,Q){if(w)return H(D,null),w;var ae=Math.random().toString(36).slice(2);return w=p(function(ne){function ie(de){de.data.callback===ae&&(delete O[ae],B.removeEventListener("message",ie),w=null,g.clear(),Q(),ne())}B.addEventListener("message",ie),H(D,ae),O[ae]=ie.bind(null,{data:{callback:ae}})}),w},B.reset=function(){B.postMessage({reset:!0});for(var D in O)O[D](),delete O[D]}}return function(){if(S)return S;if(!r&&a){var B=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{S=new Worker(URL.createObjectURL(new Blob([B])))}catch(H){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",H),null}$(S)}return S}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(S,w){return w?w(S):S}function m(S){return S!=null}function v(S,w,O){return h(S&&m(S[w])?S[w]:f[w],O)}function y(S){return S<0?0:Math.floor(S)}function b(S,w){return Math.floor(Math.random()*(w-S))+S}function C(S){return parseInt(S,16)}function E(S){return S.map(j)}function j(S){var w=String(S).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:C(w.substring(0,2)),g:C(w.substring(2,4)),b:C(w.substring(4,6))}}function N(S){var w=v(S,"origin",Object);return w.x=v(w,"x",Number),w.y=v(w,"y",Number),w}function M(S){S.width=document.documentElement.clientWidth,S.height=document.documentElement.clientHeight}function T(S){var w=S.getBoundingClientRect();S.width=w.width,S.height=w.height}function A(S){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=S,w}function q(S,w,O,$,B,H,W,D,G){S.save(),S.translate(w,O),S.rotate(H),S.scale($,B),S.arc(0,0,1,W,D,G),S.restore()}function K(S){var w=S.angle*(Math.PI/180),O=S.spread*(Math.PI/180);return{x:S.x,y:S.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:S.startVelocity*.5+Math.random()*S.startVelocity,angle2D:-w+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:S.color,shape:S.shape,tick:0,totalTicks:S.ticks,decay:S.decay,drift:S.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:S.gravity*3,ovalScalar:.6,scalar:S.scalar,flat:S.flat}}function he(S,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var O=w.tick++/w.totalTicks,$=w.x+w.random*w.tiltCos,B=w.y+w.random*w.tiltSin,H=w.wobbleX+w.random*w.tiltCos,W=w.wobbleY+w.random*w.tiltSin;if(S.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-O)+")",S.beginPath(),s&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))S.fill(Z(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(H-$)*.1,Math.abs(W-B)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var D=Math.PI/10*w.wobble,G=Math.abs(H-$)*.1,Q=Math.abs(W-B)*.1,ae=w.shape.bitmap.width*w.scalar,ne=w.shape.bitmap.height*w.scalar,ie=new DOMMatrix([Math.cos(D)*G,Math.sin(D)*G,-Math.sin(D)*Q,Math.cos(D)*Q,w.x,w.y]);ie.multiplySelf(new DOMMatrix(w.shape.matrix));var de=S.createPattern(g.transform(w.shape.bitmap),"no-repeat");de.setTransform(ie),S.globalAlpha=1-O,S.fillStyle=de,S.fillRect(w.x-ae/2,w.y-ne/2,ae,ne),S.globalAlpha=1}else if(w.shape==="circle")S.ellipse?S.ellipse(w.x,w.y,Math.abs(H-$)*w.ovalScalar,Math.abs(W-B)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):q(S,w.x,w.y,Math.abs(H-$)*w.ovalScalar,Math.abs(W-B)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var U=Math.PI/2*3,je=4*w.scalar,Oe=8*w.scalar,Ie=w.x,Ye=w.y,qe=5,Qe=Math.PI/qe;qe--;)Ie=w.x+Math.cos(U)*Oe,Ye=w.y+Math.sin(U)*Oe,S.lineTo(Ie,Ye),U+=Qe,Ie=w.x+Math.cos(U)*je,Ye=w.y+Math.sin(U)*je,S.lineTo(Ie,Ye),U+=Qe;else S.moveTo(Math.floor(w.x),Math.floor(w.y)),S.lineTo(Math.floor(w.wobbleX),Math.floor(B)),S.lineTo(Math.floor(H),Math.floor(W)),S.lineTo(Math.floor($),Math.floor(w.wobbleY));return S.closePath(),S.fill(),w.tick<w.totalTicks}function ue(S,w,O,$,B){var H=w.slice(),W=S.getContext("2d"),D,G,Q=p(function(ae){function ne(){D=G=null,W.clearRect(0,0,$.width,$.height),g.clear(),B(),ae()}function ie(){r&&!($.width===o.width&&$.height===o.height)&&($.width=S.width=o.width,$.height=S.height=o.height),!$.width&&!$.height&&(O(S),$.width=S.width,$.height=S.height),W.clearRect(0,0,$.width,$.height),H=H.filter(function(de){return he(W,de)}),H.length?D=i.frame(ie):ne()}D=i.frame(ie),G=ne});return{addFettis:function(ae){return H=H.concat(ae),Q},canvas:S,promise:Q,reset:function(){D&&i.cancel(D),G&&G()}}}function Y(S,w){var O=!S,$=!!v(w||{},"resize"),B=!1,H=v(w,"disableForReducedMotion",Boolean),W=a&&!!v(w||{},"useWorker"),D=W?u():null,G=O?M:T,Q=S&&D?!!S.__confetti_initialized:!1,ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ne;function ie(U,je,Oe){for(var Ie=v(U,"particleCount",y),Ye=v(U,"angle",Number),qe=v(U,"spread",Number),Qe=v(U,"startVelocity",Number),Wu=v(U,"decay",Number),Vu=v(U,"gravity",Number),qu=v(U,"drift",Number),Sa=v(U,"colors",E),Uu=v(U,"ticks",Number),Ca=v(U,"shapes"),Xu=v(U,"scalar"),Yu=!!v(U,"flat"),ka=N(U),Ea=Ie,Rr=[],Zu=S.width*ka.x,Ku=S.height*ka.y;Ea--;)Rr.push(K({x:Zu,y:Ku,angle:Ye,spread:qe,startVelocity:Qe,color:Sa[Ea%Sa.length],shape:Ca[b(0,Ca.length)],ticks:Uu,decay:Wu,gravity:Vu,drift:qu,scalar:Xu,flat:Yu}));return ne?ne.addFettis(Rr):(ne=ue(S,Rr,G,je,Oe),ne.promise)}function de(U){var je=H||v(U,"disableForReducedMotion",Boolean),Oe=v(U,"zIndex",Number);if(je&&ae)return p(function(Qe){Qe()});O&&ne?S=ne.canvas:O&&!S&&(S=A(Oe),document.body.appendChild(S)),$&&!Q&&G(S);var Ie={width:S.width,height:S.height};D&&!Q&&D.init(S),Q=!0,D&&(S.__confetti_initialized=!0);function Ye(){if(D){var Qe={getBoundingClientRect:function(){if(!O)return S.getBoundingClientRect()}};G(Qe),D.postMessage({resize:{width:Qe.width,height:Qe.height}});return}Ie.width=Ie.height=null}function qe(){ne=null,$&&(B=!1,t.removeEventListener("resize",Ye)),O&&S&&(document.body.contains(S)&&document.body.removeChild(S),S=null,Q=!1)}return $&&!B&&(B=!0,t.addEventListener("resize",Ye,!1)),D?D.fire(U,Ie,qe):ie(U,Ie,qe)}return de.reset=function(){D&&D.reset(),ne&&ne.reset()},de}var X;function te(){return X||(X=Y(null,{useWorker:!0,resize:!0})),X}function Z(S,w,O,$,B,H,W){var D=new Path2D(S),G=new Path2D;G.addPath(D,new DOMMatrix(w));var Q=new Path2D;return Q.addPath(G,new DOMMatrix([Math.cos(W)*B,Math.sin(W)*B,-Math.sin(W)*H,Math.cos(W)*H,O,$])),Q}function me(S){if(!s)throw new Error("path confetti are not supported in this browser");var w,O;typeof S=="string"?w=S:(w=S.path,O=S.matrix);var $=new Path2D(w),B=document.createElement("canvas"),H=B.getContext("2d");if(!O){for(var W=1e3,D=W,G=W,Q=0,ae=0,ne,ie,de=0;de<W;de+=2)for(var U=0;U<W;U+=2)H.isPointInPath($,de,U,"nonzero")&&(D=Math.min(D,de),G=Math.min(G,U),Q=Math.max(Q,de),ae=Math.max(ae,U));ne=Q-D,ie=ae-G;var je=10,Oe=Math.min(je/ne,je/ie);O=[Oe,0,0,Oe,-Math.round(ne/2+D)*Oe,-Math.round(ie/2+G)*Oe]}return{type:"path",path:w,matrix:O}}function xe(S){var w,O=1,$="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof S=="string"?w=S:(w=S.text,O="scalar"in S?S.scalar:O,B="fontFamily"in S?S.fontFamily:B,$="color"in S?S.color:$);var H=10*O,W=""+H+"px "+B,D=new OffscreenCanvas(H,H),G=D.getContext("2d");G.font=W;var Q=G.measureText(w),ae=Math.ceil(Q.actualBoundingBoxRight+Q.actualBoundingBoxLeft),ne=Math.ceil(Q.actualBoundingBoxAscent+Q.actualBoundingBoxDescent),ie=2,de=Q.actualBoundingBoxLeft+ie,U=Q.actualBoundingBoxAscent+ie;ae+=ie+ie,ne+=ie+ie,D=new OffscreenCanvas(ae,ne),G=D.getContext("2d"),G.font=W,G.fillStyle=$,G.fillText(w,de,U);var je=1/O;return{type:"bitmap",bitmap:D.transferToImageBitmap(),matrix:[je,0,0,je,-ae*je/2,-ne*je/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=Y,n.exports.shapeFromPath=me,n.exports.shapeFromText=xe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),No,!1);const er=No.exports;No.exports.create;const tr=e=>{if(e.disableForReducedMotion||window.matchMedia("(prefers-reduced-motion)").matches)return;(e.canvas?er.create(e.canvas,{resize:e.resize??!0,useWorker:e.useWorker??!0}):er)({...e})};tr.shapeFromPath=e=>er.shapeFromPath({...e});tr.shapeFromText=e=>er.shapeFromText({...e});const rs=()=>{const t=Date.now()+5e3,n={startVelocity:30,spread:360,ticks:60,zIndex:0},r=(a,s)=>Math.random()*(s-a)+a,o=window.setInterval(()=>{const a=t-Date.now();if(a<=0)return Array.from(document.getElementsByTagName("canvas")).forEach((c,d)=>{d>0&&c.remove()}),clearInterval(o);const s=50*(a/5e3);tr({...n,particleCount:s,zIndex:50,origin:{x:r(.1,.3),y:Math.random()-.2}}),tr({...n,particleCount:s,zIndex:50,origin:{x:r(.7,.9),y:Math.random()-.2}})},250)},ve=5,an={position:"fixed",zIndex:10010,backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden"},sn={transition:"all 0.3s linear"},Or=({children:e,style:t})=>{const{position:n,highlight:r}=ds(),o=window.document.documentElement.getBoundingClientRect();return!n||!r?l.jsx("div",{className:"top-0 left-0 w-screen h-svh",style:{...an,...t},children:e}):jo.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"top-0 left-0",style:{width:n.left-ve,height:n.bottom+ve,...sn,...an,...t}}),l.jsx("div",{className:"top-0",style:{left:n.left-ve,width:o.width-(n.left-ve),height:n.top-ve,...sn,...an,...t}}),l.jsx("div",{style:{top:n.top-ve,left:n.right+ve,width:o.width-(n.right+ve),height:o.height-(n.top-ve),...sn,...an,...t}}),l.jsx("div",{className:"left-0",style:{top:n.bottom+ve,width:n.right+ve,height:o.height-(n.bottom+ve),...sn,...an,...t}}),l.jsx("div",{style:{position:"fixed",top:n.top-ve,left:n.left-ve,width:n.width+ve*2,height:n.height+ve*2,zIndex:10015,backgroundColor:"transparent",outline:"2px solid hsl(var(--upgrade))",borderRadius:"0.2rem",...sn}}),l.jsx("div",{style:{position:"fixed",zIndex:10020},children:e})]}),document.body)};function ud(e,t){const n=x.createContext(t);function r(a){const{children:s,...c}=a,d=x.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:d,children:s})}function o(a){const s=x.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function lt(e,t=[]){let n=[];function r(a,s){const c=x.createContext(s),d=n.length;n=[...n,s];function p(i){const{scope:u,children:f,...h}=i,m=(u==null?void 0:u[e][d])||c,v=x.useMemo(()=>h,Object.values(h));return l.jsx(m.Provider,{value:v,children:f})}function g(i,u){const f=(u==null?void 0:u[e][d])||c,h=x.useContext(f);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,g]}const o=()=>{const a=n.map(s=>x.createContext(s));return function(c){const d=(c==null?void 0:c[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[r,dd(o,...t)]}function dd(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((c,{useScope:d,scopeName:p})=>{const i=d(a)[`__scope${p}`];return{...c,...i}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Mo="Progress",Ro=100,[fd,H1]=lt(Mo),[pd,hd]=fd(Mo),os=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=md,...s}=e;(o||o===0)&&!Ta(o)&&console.error(gd(`${o}`,"Progress"));const c=Ta(o)?o:Ro;r!==null&&!Na(r,c)&&console.error(vd(`${r}`,"Progress"));const d=Na(r,c)?r:null,p=nr(d)?a(d,c):void 0;return l.jsx(pd,{scope:n,value:d,max:c,children:l.jsx(pe.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":nr(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":ss(d,c),"data-value":d??void 0,"data-max":c,...s,ref:t})})});os.displayName=Mo;var as="ProgressIndicator",is=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=hd(as,n);return l.jsx(pe.div,{"data-state":ss(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});is.displayName=as;function md(e,t){return`${Math.round(e/t*100)}%`}function ss(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function nr(e){return typeof e=="number"}function Ta(e){return nr(e)&&!isNaN(e)&&e>0}function Na(e,t){return nr(e)&&!isNaN(e)&&e<=t&&e>=0}function gd(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ro}\`.`}function vd(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ro} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ls=os,yd=is;function xd(e){const[t,n]=_.useState([]);return _.useEffect(()=>{e!==t[1]&&n(r=>[r[1],e])},[e]),t[0]}const _r=x.forwardRef(({barColor:e,className:t,value:n,increaseOnly:r,...o},a)=>{const s=xd(n);return l.jsx(ls,{ref:a,className:k("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...o,children:l.jsx(yd,{className:k("h-full w-full flex-1",e??"bg-primary",{[k("transition-transform duration-200 ease-out",{"duration-500":typeof n=="number"&&s===0&&n>90})]:!r||typeof n!="number"||typeof s!="number"||n>s}),style:{transform:`translateX(-${100-(n||0)}%)`}})})});_r.displayName=ls.displayName;function wd(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"m481.29 229.47-188.87-113a30.54 30.54 0 0 0-31.09-.39 33.74 33.74 0 0 0-16.76 29.47v79.05L63.85 116.44a30.54 30.54 0 0 0-31.09-.39A33.74 33.74 0 0 0 16 145.52v221A33.74 33.74 0 0 0 32.76 396a30.54 30.54 0 0 0 31.09-.39L244.57 287.4v79.08A33.74 33.74 0 0 0 261.33 396a30.54 30.54 0 0 0 31.09-.39l188.87-113a31.27 31.27 0 0 0 0-53z"})))}var we={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var i=this||n;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var u=this||n;if(i=parseFloat(i),u.ctx||g(),typeof i<"u"&&i>=0&&i<=1){if(u._volume=i,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(i,n.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var h=u._howls[f]._getSoundIds(),m=0;m<h.length;m++){var v=u._howls[f]._soundById(h[m]);v&&v._node&&(v._node.volume=v._volume*i)}return u}return u._volume},mute:function(i){var u=this||n;u.ctx||g(),u._muted=i,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(i?0:u._volume,n.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var h=u._howls[f]._getSoundIds(),m=0;m<h.length;m++){var v=u._howls[f]._soundById(h[m]);v&&v._node&&(v._node.muted=i?!0:v._muted)}return u},stop:function(){for(var i=this||n,u=0;u<i._howls.length;u++)i._howls[u].stop();return i},unload:function(){for(var i=this||n,u=i._howls.length-1;u>=0;u--)i._howls[u].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,g()),i},codecs:function(i){return(this||n)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||n;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var u=new Audio;typeof u.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var u=new Audio;u.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||n,u=null;try{u=typeof Audio<"u"?new Audio:null}catch{return i}if(!u||typeof u.canPlayType!="function")return i;var f=u.canPlayType("audio/mpeg;").replace(/^no$/,""),h=i._navigator?i._navigator.userAgent:"",m=h.match(/OPR\/(\d+)/g),v=m&&parseInt(m[0].split("/")[1],10)<33,y=h.indexOf("Safari")!==-1&&h.indexOf("Chrome")===-1,b=h.match(/Version\/(.*?) /),C=y&&b&&parseInt(b[1],10)<15;return i._codecs={mp3:!!(!v&&(f||u.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!f,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||n;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var u=function(f){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var h=new Audio;h._unlocked=!0,i._releaseHtml5Audio(h)}catch{i.noAudio=!0;break}for(var m=0;m<i._howls.length;m++)if(!i._howls[m]._webAudio)for(var v=i._howls[m]._getSoundIds(),y=0;y<v.length;y++){var b=i._howls[m]._soundById(v[y]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}i._autoResume();var C=i.ctx.createBufferSource();C.buffer=i._scratchBuffer,C.connect(i.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),C.onended=function(){C.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var E=0;E<i._howls.length;E++)i._howls[E]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),i}},_obtainHtml5Audio:function(){var i=this||n;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var u=new Audio().play();return u&&typeof Promise<"u"&&(u instanceof Promise||typeof u.then=="function")&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var u=this||n;return i._unlocked&&u._html5AudioPool.push(i),u},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!n.usingWebAudio)){for(var u=0;u<i._howls.length;u++)if(i._howls[u]._webAudio){for(var f=0;f<i._howls[u]._sounds.length;f++)if(!i._howls[u]._sounds[f]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var h=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(h,h)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!n.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var u=0;u<i._howls.length;u++)i._howls[u]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var n=new t,r=function(i){var u=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}u.init(i)};r.prototype={init:function(i){var u=this;return n.ctx||g(),u._autoplay=i.autoplay||!1,u._format=typeof i.format!="string"?i.format:[i.format],u._html5=i.html5||!1,u._muted=i.mute||!1,u._loop=i.loop||!1,u._pool=i.pool||5,u._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,u._rate=i.rate||1,u._sprite=i.sprite||{},u._src=typeof i.src!="string"?i.src:[i.src],u._volume=i.volume!==void 0?i.volume:1,u._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=i.onend?[{fn:i.onend}]:[],u._onfade=i.onfade?[{fn:i.onfade}]:[],u._onload=i.onload?[{fn:i.onload}]:[],u._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],u._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],u._onpause=i.onpause?[{fn:i.onpause}]:[],u._onplay=i.onplay?[{fn:i.onplay}]:[],u._onstop=i.onstop?[{fn:i.onstop}]:[],u._onmute=i.onmute?[{fn:i.onmute}]:[],u._onvolume=i.onvolume?[{fn:i.onvolume}]:[],u._onrate=i.onrate?[{fn:i.onrate}]:[],u._onseek=i.onseek?[{fn:i.onseek}]:[],u._onunlock=i.onunlock?[{fn:i.onunlock}]:[],u._onresume=[],u._webAudio=n.usingWebAudio&&!u._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&u._preload!=="none"&&u.load(),u},load:function(){var i=this,u=null;if(n.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var f=0;f<i._src.length;f++){var h,m;if(i._format&&i._format[f])h=i._format[f];else{if(m=i._src[f],typeof m!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}h=/^data:audio\/([^;,]+);/i.exec(m),h||(h=/\.([^.]+)$/.exec(m.split("?",1)[0])),h&&(h=h[1].toLowerCase())}if(h||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),h&&n.codecs(h)){u=i._src[f];break}}if(!u){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=u,i._state="loading",window.location.protocol==="https:"&&u.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new o(i),i._webAudio&&s(i),i},play:function(i,u){var f=this,h=null;if(typeof i=="number")h=i,i=null;else{if(typeof i=="string"&&f._state==="loaded"&&!f._sprite[i])return null;if(typeof i>"u"&&(i="__default",!f._playLock)){for(var m=0,v=0;v<f._sounds.length;v++)f._sounds[v]._paused&&!f._sounds[v]._ended&&(m++,h=f._sounds[v]._id);m===1?i=null:h=null}}var y=h?f._soundById(h):f._inactiveSound();if(!y)return null;if(h&&!i&&(i=y._sprite||"__default"),f._state!=="loaded"){y._sprite=i,y._ended=!1;var b=y._id;return f._queue.push({event:"play",action:function(){f.play(b)}}),b}if(h&&!y._paused)return u||f._loadQueue("play"),y._id;f._webAudio&&n._autoResume();var C=Math.max(0,y._seek>0?y._seek:f._sprite[i][0]/1e3),E=Math.max(0,(f._sprite[i][0]+f._sprite[i][1])/1e3-C),j=E*1e3/Math.abs(y._rate),N=f._sprite[i][0]/1e3,M=(f._sprite[i][0]+f._sprite[i][1])/1e3;y._sprite=i,y._ended=!1;var T=function(){y._paused=!1,y._seek=C,y._start=N,y._stop=M,y._loop=!!(y._loop||f._sprite[i][2])};if(C>=M){f._ended(y);return}var A=y._node;if(f._webAudio){var q=function(){f._playLock=!1,T(),f._refreshBuffer(y);var Y=y._muted||f._muted?0:y._volume;A.gain.setValueAtTime(Y,n.ctx.currentTime),y._playStart=n.ctx.currentTime,typeof A.bufferSource.start>"u"?y._loop?A.bufferSource.noteGrainOn(0,C,86400):A.bufferSource.noteGrainOn(0,C,E):y._loop?A.bufferSource.start(0,C,86400):A.bufferSource.start(0,C,E),j!==1/0&&(f._endTimers[y._id]=setTimeout(f._ended.bind(f,y),j)),u||setTimeout(function(){f._emit("play",y._id),f._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?q():(f._playLock=!0,f.once("resume",q),f._clearTimer(y._id))}else{var K=function(){A.currentTime=C,A.muted=y._muted||f._muted||n._muted||A.muted,A.volume=y._volume*n.volume(),A.playbackRate=y._rate;try{var Y=A.play();if(Y&&typeof Promise<"u"&&(Y instanceof Promise||typeof Y.then=="function")?(f._playLock=!0,T(),Y.then(function(){f._playLock=!1,A._unlocked=!0,u?f._loadQueue():f._emit("play",y._id)}).catch(function(){f._playLock=!1,f._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):u||(f._playLock=!1,T(),f._emit("play",y._id)),A.playbackRate=y._rate,A.paused){f._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||y._loop?f._endTimers[y._id]=setTimeout(f._ended.bind(f,y),j):(f._endTimers[y._id]=function(){f._ended(y),A.removeEventListener("ended",f._endTimers[y._id],!1)},A.addEventListener("ended",f._endTimers[y._id],!1))}catch(X){f._emit("playerror",y._id,X)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=f._src,A.load());var he=window&&window.ejecta||!A.readyState&&n._navigator.isCocoonJS;if(A.readyState>=3||he)K();else{f._playLock=!0,f._state="loading";var ue=function(){f._state="loaded",K(),A.removeEventListener(n._canPlayEvent,ue,!1)};A.addEventListener(n._canPlayEvent,ue,!1),f._clearTimer(y._id)}}return y._id},pause:function(i){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(i)}}),u;for(var f=u._getSoundIds(i),h=0;h<f.length;h++){u._clearTimer(f[h]);var m=u._soundById(f[h]);if(m&&!m._paused&&(m._seek=u.seek(f[h]),m._rateSeek=0,m._paused=!0,u._stopFade(f[h]),m._node))if(u._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),u._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||u._emit("pause",m?m._id:null)}return u},stop:function(i,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(i)}}),f;for(var h=f._getSoundIds(i),m=0;m<h.length;m++){f._clearTimer(h[m]);var v=f._soundById(h[m]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,f._stopFade(h[m]),v._node&&(f._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),f._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&f._clearSound(v._node))),u||f._emit("stop",v._id))}return f},mute:function(i,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(i,u)}}),f;if(typeof u>"u")if(typeof i=="boolean")f._muted=i;else return f._muted;for(var h=f._getSoundIds(u),m=0;m<h.length;m++){var v=f._soundById(h[m]);v&&(v._muted=i,v._interval&&f._stopFade(v._id),f._webAudio&&v._node?v._node.gain.setValueAtTime(i?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:i),f._emit("mute",v._id))}return f},volume:function(){var i=this,u=arguments,f,h;if(u.length===0)return i._volume;if(u.length===1||u.length===2&&typeof u[1]>"u"){var m=i._getSoundIds(),v=m.indexOf(u[0]);v>=0?h=parseInt(u[0],10):f=parseFloat(u[0])}else u.length>=2&&(f=parseFloat(u[0]),h=parseInt(u[1],10));var y;if(typeof f<"u"&&f>=0&&f<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,u)}}),i;typeof h>"u"&&(i._volume=f),h=i._getSoundIds(h);for(var b=0;b<h.length;b++)y=i._soundById(h[b]),y&&(y._volume=f,u[2]||i._stopFade(h[b]),i._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(f,n.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=f*n.volume()),i._emit("volume",y._id))}else return y=h?i._soundById(h):i._sounds[0],y?y._volume:0;return i},fade:function(i,u,f,h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(i,u,f,h)}}),m;i=Math.min(Math.max(0,parseFloat(i)),1),u=Math.min(Math.max(0,parseFloat(u)),1),f=parseFloat(f),m.volume(i,h);for(var v=m._getSoundIds(h),y=0;y<v.length;y++){var b=m._soundById(v[y]);if(b){if(h||m._stopFade(v[y]),m._webAudio&&!b._muted){var C=n.ctx.currentTime,E=C+f/1e3;b._volume=i,b._node.gain.setValueAtTime(i,C),b._node.gain.linearRampToValueAtTime(u,E)}m._startFadeInterval(b,i,u,f,v[y],typeof h>"u")}}return m},_startFadeInterval:function(i,u,f,h,m,v){var y=this,b=u,C=f-u,E=Math.abs(C/.01),j=Math.max(4,E>0?h/E:h),N=Date.now();i._fadeTo=f,i._interval=setInterval(function(){var M=(Date.now()-N)/h;N=Date.now(),b+=C*M,b=Math.round(b*100)/100,C<0?b=Math.max(f,b):b=Math.min(f,b),y._webAudio?i._volume=b:y.volume(b,i._id,!0),v&&(y._volume=b),(f<u&&b<=f||f>u&&b>=f)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,y.volume(f,i._id),y._emit("fade",i._id))},j)},_stopFade:function(i){var u=this,f=u._soundById(i);return f&&f._interval&&(u._webAudio&&f._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(f._interval),f._interval=null,u.volume(f._fadeTo,i),f._fadeTo=null,u._emit("fade",i)),u},loop:function(){var i=this,u=arguments,f,h,m;if(u.length===0)return i._loop;if(u.length===1)if(typeof u[0]=="boolean")f=u[0],i._loop=f;else return m=i._soundById(parseInt(u[0],10)),m?m._loop:!1;else u.length===2&&(f=u[0],h=parseInt(u[1],10));for(var v=i._getSoundIds(h),y=0;y<v.length;y++)m=i._soundById(v[y]),m&&(m._loop=f,i._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=f,f&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,i.playing(v[y])&&(i.pause(v[y],!0),i.play(v[y],!0)))));return i},rate:function(){var i=this,u=arguments,f,h;if(u.length===0)h=i._sounds[0]._id;else if(u.length===1){var m=i._getSoundIds(),v=m.indexOf(u[0]);v>=0?h=parseInt(u[0],10):f=parseFloat(u[0])}else u.length===2&&(f=parseFloat(u[0]),h=parseInt(u[1],10));var y;if(typeof f=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,u)}}),i;typeof h>"u"&&(i._rate=f),h=i._getSoundIds(h);for(var b=0;b<h.length;b++)if(y=i._soundById(h[b]),y){i.playing(h[b])&&(y._rateSeek=i.seek(h[b]),y._playStart=i._webAudio?n.ctx.currentTime:y._playStart),y._rate=f,i._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(f,n.ctx.currentTime):y._node&&(y._node.playbackRate=f);var C=i.seek(h[b]),E=(i._sprite[y._sprite][0]+i._sprite[y._sprite][1])/1e3-C,j=E*1e3/Math.abs(y._rate);(i._endTimers[h[b]]||!y._paused)&&(i._clearTimer(h[b]),i._endTimers[h[b]]=setTimeout(i._ended.bind(i,y),j)),i._emit("rate",y._id)}}else return y=i._soundById(h),y?y._rate:i._rate;return i},seek:function(){var i=this,u=arguments,f,h;if(u.length===0)i._sounds.length&&(h=i._sounds[0]._id);else if(u.length===1){var m=i._getSoundIds(),v=m.indexOf(u[0]);v>=0?h=parseInt(u[0],10):i._sounds.length&&(h=i._sounds[0]._id,f=parseFloat(u[0]))}else u.length===2&&(f=parseFloat(u[0]),h=parseInt(u[1],10));if(typeof h>"u")return 0;if(typeof f=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,u)}}),i;var y=i._soundById(h);if(y)if(typeof f=="number"&&f>=0){var b=i.playing(h);b&&i.pause(h,!0),y._seek=f,y._ended=!1,i._clearTimer(h),!i._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=f);var C=function(){b&&i.play(h,!0),i._emit("seek",h)};if(b&&!i._webAudio){var E=function(){i._playLock?setTimeout(E,0):C()};setTimeout(E,0)}else C()}else if(i._webAudio){var j=i.playing(h)?n.ctx.currentTime-y._playStart:0,N=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(N+j*Math.abs(y._rate))}else return y._node.currentTime;return i},playing:function(i){var u=this;if(typeof i=="number"){var f=u._soundById(i);return f?!f._paused:!1}for(var h=0;h<u._sounds.length;h++)if(!u._sounds[h]._paused)return!0;return!1},duration:function(i){var u=this,f=u._duration,h=u._soundById(i);return h&&(f=u._sprite[h._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var i=this,u=i._sounds,f=0;f<u.length;f++)u[f]._paused||i.stop(u[f]._id),i._webAudio||(i._clearSound(u[f]._node),u[f]._node.removeEventListener("error",u[f]._errorFn,!1),u[f]._node.removeEventListener(n._canPlayEvent,u[f]._loadFn,!1),u[f]._node.removeEventListener("ended",u[f]._endFn,!1),n._releaseHtml5Audio(u[f]._node)),delete u[f]._node,i._clearTimer(u[f]._id);var h=n._howls.indexOf(i);h>=0&&n._howls.splice(h,1);var m=!0;for(f=0;f<n._howls.length;f++)if(n._howls[f]._src===i._src||i._src.indexOf(n._howls[f]._src)>=0){m=!1;break}return a&&m&&delete a[i._src],n.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,u,f,h){var m=this,v=m["_on"+i];return typeof u=="function"&&v.push(h?{id:f,fn:u,once:h}:{id:f,fn:u}),m},off:function(i,u,f){var h=this,m=h["_on"+i],v=0;if(typeof u=="number"&&(f=u,u=null),u||f)for(v=0;v<m.length;v++){var y=f===m[v].id;if(u===m[v].fn&&y||!u&&y){m.splice(v,1);break}}else if(i)h["_on"+i]=[];else{var b=Object.keys(h);for(v=0;v<b.length;v++)b[v].indexOf("_on")===0&&Array.isArray(h[b[v]])&&(h[b[v]]=[])}return h},once:function(i,u,f){var h=this;return h.on(i,u,f,1),h},_emit:function(i,u,f){for(var h=this,m=h["_on"+i],v=m.length-1;v>=0;v--)(!m[v].id||m[v].id===u||i==="load")&&(setTimeout((function(y){y.call(this,u,f)}).bind(h,m[v].fn),0),m[v].once&&h.off(i,m[v].fn,m[v].id));return h._loadQueue(i),h},_loadQueue:function(i){var u=this;if(u._queue.length>0){var f=u._queue[0];f.event===i&&(u._queue.shift(),u._loadQueue()),i||f.action()}return u},_ended:function(i){var u=this,f=i._sprite;if(!u._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(u._ended.bind(u,i),100),u;var h=!!(i._loop||u._sprite[f][2]);if(u._emit("end",i._id),!u._webAudio&&h&&u.stop(i._id,!0).play(i._id),u._webAudio&&h){u._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=n.ctx.currentTime;var m=(i._stop-i._start)*1e3/Math.abs(i._rate);u._endTimers[i._id]=setTimeout(u._ended.bind(u,i),m)}return u._webAudio&&!h&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,u._clearTimer(i._id),u._cleanBuffer(i._node),n._autoSuspend()),!u._webAudio&&!h&&u.stop(i._id,!0),u},_clearTimer:function(i){var u=this;if(u._endTimers[i]){if(typeof u._endTimers[i]!="function")clearTimeout(u._endTimers[i]);else{var f=u._soundById(i);f&&f._node&&f._node.removeEventListener("ended",u._endTimers[i],!1)}delete u._endTimers[i]}return u},_soundById:function(i){for(var u=this,f=0;f<u._sounds.length;f++)if(i===u._sounds[f]._id)return u._sounds[f];return null},_inactiveSound:function(){var i=this;i._drain();for(var u=0;u<i._sounds.length;u++)if(i._sounds[u]._ended)return i._sounds[u].reset();return new o(i)},_drain:function(){var i=this,u=i._pool,f=0,h=0;if(!(i._sounds.length<u)){for(h=0;h<i._sounds.length;h++)i._sounds[h]._ended&&f++;for(h=i._sounds.length-1;h>=0;h--){if(f<=u)return;i._sounds[h]._ended&&(i._webAudio&&i._sounds[h]._node&&i._sounds[h]._node.disconnect(0),i._sounds.splice(h,1),f--)}}},_getSoundIds:function(i){var u=this;if(typeof i>"u"){for(var f=[],h=0;h<u._sounds.length;h++)f.push(u._sounds[h]._id);return f}else return[i]},_refreshBuffer:function(i){var u=this;return i._node.bufferSource=n.ctx.createBufferSource(),i._node.bufferSource.buffer=a[u._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,n.ctx.currentTime),u},_cleanBuffer:function(i){var u=this,f=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!i.bufferSource)return u;if(n._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),f))try{i.bufferSource.buffer=n._scratchBuffer}catch{}return i.bufferSource=null,u},_clearSound:function(i){var u=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);u||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(i){this._parent=i,this.init()};o.prototype={init:function(){var i=this,u=i._parent;return i._muted=u._muted,i._loop=u._loop,i._volume=u._volume,i._rate=u._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,u._sounds.push(i),i.create(),i},create:function(){var i=this,u=i._parent,f=n._muted||i._muted||i._parent._muted?0:i._volume;return u._webAudio?(i._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),i._node.gain.setValueAtTime(f,n.ctx.currentTime),i._node.paused=!0,i._node.connect(n.masterGain)):n.noAudio||(i._node=n._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(n._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=u._src,i._node.preload=u._preload===!0?"auto":u._preload,i._node.volume=f*n.volume(),i._node.load()),i},reset:function(){var i=this,u=i._parent;return i._muted=u._muted,i._loop=u._loop,i._volume=u._volume,i._rate=u._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,u=i._parent;u._duration=Math.ceil(i._node.duration*10)/10,Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue()),i._node.removeEventListener(n._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,u=i._parent;u._duration===1/0&&(u._duration=Math.ceil(i._node.duration*10)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=u._duration*1e3),u._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var a={},s=function(i){var u=i._src;if(a[u]){i._duration=a[u].duration,p(i);return}if(/^data:[^;]+;base64,/.test(u)){for(var f=atob(u.split(",")[1]),h=new Uint8Array(f.length),m=0;m<f.length;++m)h[m]=f.charCodeAt(m);d(h.buffer,i)}else{var v=new XMLHttpRequest;v.open(i._xhr.method,u,!0),v.withCredentials=i._xhr.withCredentials,v.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(y){v.setRequestHeader(y,i._xhr.headers[y])}),v.onload=function(){var y=(v.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}d(v.response,i)},v.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete a[u],i.load())},c(v)}},c=function(i){try{i.send()}catch{i.onerror()}},d=function(i,u){var f=function(){u._emit("loaderror",null,"Decoding audio data failed.")},h=function(m){m&&u._sounds.length>0?(a[u._src]=m,p(u,m)):f()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(i).then(h).catch(f):n.ctx.decodeAudioData(i,h,f)},p=function(i,u){u&&!i._duration&&(i._duration=u.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),u=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=u?parseInt(u[1],10):null;if(i&&f&&f<9){var h=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!h&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof on<"u"?(on.HowlerGlobal=t,on.Howler=n,on.Howl=r,on.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,o=typeof o!="number"?a._pos[2]:o,typeof n=="number")a._pos=[n,r,o],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,r,o,a,s,c){var d=this;if(!d.ctx||!d.ctx.listener)return d;var p=d._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,a=typeof a!="number"?p[3]:a,s=typeof s!="number"?p[4]:s,c=typeof c!="number"?p[5]:c,typeof n=="number")d._orientation=[n,r,o,a,s,c],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(n,r,o,a,s,c);else return p;return d},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var s=o._getSoundIds(r),c=0;c<s.length;c++){var d=o._soundById(s[c]);if(d)if(typeof n=="number")d._stereo=n,d._pos=[n,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&t(d,a),a==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(n,0,0):d._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",d._id);else return d._stereo}return o},Howl.prototype.pos=function(n,r,o,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,o,a)}}),s;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof a>"u")if(typeof n=="number")s._pos=[n,r,o];else return s._pos;for(var c=s._getSoundIds(a),d=0;d<c.length;d++){var p=s._soundById(c[d]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),s._emit("pos",p._id);else return p._pos}return s},Howl.prototype.orientation=function(n,r,o,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,o,a)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,o=typeof o!="number"?s._orientation[2]:o,typeof a>"u")if(typeof n=="number")s._orientation=[n,r,o];else return s._orientation;for(var c=s._getSoundIds(a),d=0;d<c.length;d++){var p=s._soundById(c[d]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=s._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),s._emit("orientation",p._id);else return p._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,a,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof a>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],a=parseInt(r[1],10));for(var c=n._getSoundIds(a),d=0;d<c.length;d++)if(s=n._soundById(c[d]),s){var p=s._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=s._panner;g||(s._pos||(s._pos=n._pos||[0,0,-.5]),t(s,"spatial"),g=s._panner),g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(we);const J={error:new we.Howl({src:["sounds/error.mp3"],volume:.8,preload:!0}),unauthorized:new we.Howl({src:["sounds/unauthorized.mp3"],volume:.4,preload:!0}),coinFlip:new we.Howl({src:["sounds/coin-flip.mp3"],volume:.7,preload:!0}),achievement:new we.Howl({src:["sounds/achievement.mp3"],volume:.7,preload:!0}),play:new we.Howl({src:["sounds/play.mp3"],volume:1,preload:!0}),drop:new we.Howl({src:["sounds/drop.mp3"],volume:.4,preload:!0}),draw:new we.Howl({src:["sounds/draw.mp3"],preload:!0}),upgrade:new we.Howl({src:["sounds/upgrade.mp3"],volume:.2,preload:!0}),remove:new we.Howl({src:["sounds/remove.mp3"],volume:.7,preload:!0}),recycle:new we.Howl({src:["sounds/recycle.mp3"],volume:.4,preload:!0}),cashing:new we.Howl({src:["sounds/cashing.mp3"],volume:.7,preload:!0}),gain:new we.Howl({src:["sounds/gain.mp3"],volume:.4,preload:!0}),loss:new we.Howl({src:["sounds/loss.mp3"],volume:1,preload:!0}),powerUp:new we.Howl({src:["sounds/power-up.mp3"],volume:.5,preload:!0}),victory:new we.Howl({src:["sounds/victory.wav"],volume:.6,preload:!0}),defeat:new we.Howl({src:["sounds/defeat.wav"],volume:.3,preload:!0}),bell:new we.Howl({src:["sounds/bell.mp3"],volume:.5,preload:!0})},cs=_.createContext(null),us=_.createContext(null),_d=({steps:e,children:t,opaqueStyle:n})=>{var M;const r=ye(T=>()=>T.updateTutorial(!1)),[o,a]=_.useState(null),[s,c]=_.useState(null),[d,p]=_.useState(null),[g,i]=_.useState(!1),[u,f]=_.useState(!1),h=T=>{i(!0),E(T),p(e[T]||null),a(T)},m=()=>{h(0)},v=()=>{J.bell.play(),a(null),p(null),c(null),r()},y=()=>{if(o!==null){if(o>=e.length-1)return v();J.gain.play(),h(o+1)}},b=()=>{if(o!==null){if(o-1<0)return v();J.play.play(),h(o-1)}},C=T=>()=>{let A=0,q=-1;e.forEach(K=>{K.id===T&&(q=A),A++}),!(q<0)&&h(q)},E=T=>{var K;if(T===null||((K=e[T])==null?void 0:K.id.charAt(0))==="_")return;const A=document.body;new MutationObserver((he,ue)=>{var te;const Y=document.querySelector(((te=e[T])==null?void 0:te.id)||"");if(!Y)return;const X=Y.getBoundingClientRect();X&&(c({left:X.left,top:X.top,right:X.right,bottom:X.bottom,width:X.width,height:X.height,x:X.x,y:X.y}),ue.disconnect())}).observe(A,{childList:!0,subtree:!0})},j=()=>{var q,K;if(o===null||((q=e[o])==null?void 0:q.id.charAt(0))==="_")return;const T=document.querySelector(((K=e[o])==null?void 0:K.id)||"");if(!T)return;const A=T.getBoundingClientRect();A&&c({left:A.left,top:A.top,right:A.right,bottom:A.bottom,width:A.width,height:A.height,x:A.x,y:A.y})};_.useEffect(()=>(window.addEventListener("resize",j),window.addEventListener("scroll",j,{capture:!0}),()=>{window.removeEventListener("resize",j),window.removeEventListener("scroll",j)}),[o]);let N=null;return d&&!s&&(N=l.jsx(Or,{style:n,children:null})),d&&s&&(N=l.jsx(Or,{style:n,children:(d==null?void 0:d.render({position:s,next:y,back:b,finish:v,goTo:C}))||null})),o!==null&&((M=e[o])==null?void 0:M.id.charAt(0))==="_"&&(N=l.jsx(Or,{style:n,children:(d==null?void 0:d.render({position:void 0,next:y,back:b,finish:v,goTo:C}))||null})),l.jsx(cs.Provider,{value:{start:m},children:l.jsxs(us.Provider,{value:{position:s,isLoading:g,highlight:u,setLoading:i,setHighlight:f},children:[t,N,d&&l.jsxs("div",{className:"fixed w-fit right-2 bottom-2",style:{zIndex:999999},children:[o!==null&&l.jsxs("div",{className:"text-xl font-mono text-center text-white bg-black bg-opacity-50 p-1 rounded-md",children:[o+1," / ",e.length]}),l.jsxs(I,{variant:"cta",size:"cta",className:"my-2",onClick:v,children:["Passer le didacticiel ",l.jsx(wd,{className:"ml-2 h-5"})]}),l.jsx(_r,{value:((o??0)+1)/e.length*100})]})]})})},bd=()=>{const e=_.useContext(cs);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},ds=()=>{const e=_.useContext(us);if(!e)throw Error("useTutorial must be inside of TuturialProvider!");return e},De=({location:e,highlight:t,children:n,style:r,...o})=>{const{position:a,isLoading:s,setLoading:c,setHighlight:d}=ds(),p=_.useRef(null),[g,i]=_.useState(null);return _.useEffect(()=>{d(!!t)},[t]),_.useEffect(()=>{const u=a,f={};switch(e){case"right":case"left":case"top":case"bottom":if(!u)throw Error("Not position exists")}switch(e){case"right":case"left":f.top=u.top-ve+"px",e==="left"?(f.left=u.left-ve+"px",f.transform="translate(-100%, 0)"):f.left=u.right+ve+"px";break;case"top":case"bottom":f.left=u.left+u.width/2+"px",e==="top"?(f.top=u.top-ve+"px",f.transform="translate(-50%, -100%)"):(f.top=u.bottom+ve+"px",f.transform="translate(-50%, 0)");break;case"center":f.left="50%",f.top="50%",f.transform="translate(-50%, -50%)";break}i(f),c(!1)},[a,s]),s?null:l.jsx("div",{...o,ref:p,className:"space-y-4 leading-6 *:whitespace-nowrap",style:{position:"fixed",visibility:"visible",zIndex:"10010",borderRadius:"3px",fontSize:"1.5rem",...g,...r},children:n})},Sd={"upgrade cost threshold":()=>({condition:e=>!!e.effect.upgrade,use:(e,t)=>e.effect.upgrade?{...e,effect:{...e.effect,cost:Lp(t,e)}}:e}),"lowers price of hand cards":(e,t)=>({condition:n=>e.includes(n.name),use:n=>({...n,effect:{...n.effect,cost:(typeof n.effect.cost=="string"?String:Number)(Math.max(0,Number(n.effect.cost)-t*(typeof n.effect.cost=="string"?F:1)))}})}),"next money card cost energy":()=>({once:!0,condition:(e,t)=>{const n=dt(t,e,['["next money card cost energy",[]]']);return n.needs==="money"&&n.cost>0},use:e=>({...e,effect:{...e.effect,cost:Math.min(20,Math.ceil(Number(e.effect.cost)/F))}})}),"next card half cost":()=>({once:!0,condition:(e,t)=>dt(t,e,['["next card half cost",[]]']).cost>1,use:e=>({...e,effect:{...e.effect,cost:typeof e.effect.cost=="number"?Math.ceil(e.effect.cost/2):String(Math.ceil(Number(e.effect.cost)/2))}})})},Ue=Po[St.difficulty],Cn=[{name:"Starbucks",eventName:"onPlay",description:"Rend @cumul @energy@s",image:"starbucks.png",condition:e=>e.energy<e.energyMax,onTrigger:async(e,t,n)=>{await e.addEnergy(t.cumul,{skipGameOverPause:!0,reason:n})},max:3,cost:String(Math.max(0,20-Ue)*F)},{name:"Méditation",eventName:"onPlay",description:"Pioche @cumul carte@s tant que ta main n'est pas pleine",image:"meditation.png",condition:e=>e.draw.length>0&&e.hand.length<Re,onTrigger:async(e,t,n)=>{await e.drawCard(Math.min(t.cumul,Re-e.hand.length),{skipGameOverPause:!0,reason:n})},max:3,cost:String(Math.max(0,20-Ue)*F)},{name:"Bourse",eventName:"daily",description:"Gagne @cumul fois 5% de ton capital",image:"bourse.png",condition:e=>e.money>0,onTrigger:async(e,t,n)=>{await e.addMoney(Math.ceil(t.cumul*(e.money/5)),{skipGameOverPause:!0,reason:n})},max:5,cost:String(Math.max(0,10-Ue)*F)},{name:"Recyclage",eventName:"onDraw",description:"Recycle @cumul carte@s aléatoire@s",image:"recyclage.png",condition:e=>e.discard.length>0,onTrigger:async(e,t,n)=>{await e.recycleCard(t.cumul,{reason:n})},max:3,cost:String(Math.max(0,20-Ue)*F)},{name:"I.A",eventName:"onDraw",description:"Gagne @cumulM$ par carte en défausse",image:"ia.png",condition:e=>e.discard.length>0,onTrigger:async(e,t,n)=>{await e.addMoney(t.cumul*e.discard.length,{skipGameOverPause:!0,reason:n})},cost:String(Math.max(0,80-Ue)*F)},{name:"Sport",eventName:"daily",description:"Gagne @cumul @reputation@s",image:"sport.png",condition:e=>e.reputation<wr,onTrigger:async(e,t,n)=>{await e.addReputation(t.cumul,{skipGameOverPause:!0,reason:n})},max:5,cost:Math.max(0,20-Ue)},{name:"PC Puissant",eventName:"onDraw",description:"Gagne @cumulM$ par @energy",image:"pc-puissant.png",condition:e=>e.energy>0,onTrigger:async(e,t,n)=>{await e.addMoney(t.cumul*e.energy,{skipGameOverPause:!0,reason:n})},max:2,cost:String(Math.max(0,40-Ue)*F)},{name:"Stagiaire",eventName:"onDraw",description:"Gagne @cumulM$ par cartes en main",image:"stagiaire.png",condition:e=>e.hand.length>0,onTrigger:async(e,t,n)=>{await e.addMoney(t.cumul*e.hand.length,{skipGameOverPause:!0,reason:n})},max:5,cost:String(Math.max(0,20-Ue)*F)},{name:"DevOps",eventName:"onEmptyHand",description:"Pioche @cumul carte@s",image:"devops.png",condition:e=>e.draw.length>0&&e.hand.length<Re,onTrigger:async(e,t,n)=>{await e.drawCard(Math.min(t.cumul,Re-e.hand.length),{skipGameOverPause:!0,reason:n})},max:Math.floor(Re/2),cost:String(Math.max(0,20-Ue)*F)},{name:"Data Center",eventName:"onUpgradeThis",description:"Augmente la taille de la jauge d'@energy de 5",image:"data-center.png",onTrigger:async(e,t,n)=>{await e.addMaxEnergy(5,{reason:n})},max:4,cost:String(Math.max(0,50-Ue)*F)},{name:"Méthode Agile",eventName:"onUpgradeThis",description:"Ajoute une option lors du choix de carte",image:"agile.png",onTrigger:async e=>{e.dangerouslyUpdate({choiceOptionCount:e.choiceOptionCount+1})},max:3,cost:String(Math.max(0,50-Ue)*F)},{name:"Anti-virus",eventName:"onReputationDeclines",description:"Gagne @cumul @energy@s",image:"anti-virus.png",condition:e=>e.energy<e.energyMax,onTrigger:async(e,t,n)=>{await e.addEnergy(t.cumul,{skipGameOverPause:!0,reason:n})},max:5,cost:String(Math.max(0,20-Ue)*F)}];var Bt={},en={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=x;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ne=Object.prototype.hasOwnProperty,Cd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ma={},Ra={};function ps(e){return Ne.call(Ra,e)?!0:Ne.call(Ma,e)?!1:Cd.test(e)?Ra[e]=!0:(Ma[e]=!0,!1)}function Ae(e,t,n,r,o,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oo=/[\-:]([a-z])/g;function Io(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oo,Io);ke[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oo,Io);ke[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oo,Io);ke[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kd=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(e){kd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ln[t]=Ln[e]})});var Ed=/["'&<>]/;function Pe(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Ed.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var jd=/([A-Z])/g,Pd=/^ms-/,oo=Array.isArray;function ct(e,t){return{insertionMode:e,selectedValue:t}}function Ad(e,t,n){switch(t){case"select":return ct(1,n.value!=null?n.value:n.defaultValue);case"svg":return ct(2,null);case"math":return ct(3,null);case"foreignObject":return ct(1,null);case"table":return ct(4,null);case"thead":case"tbody":case"tfoot":return ct(5,null);case"colgroup":return ct(7,null);case"tr":return ct(6,null)}return 4<=e.insertionMode||e.insertionMode===0?ct(1,null):e}var Oa=new Map;function hs(e,t,n){if(typeof n!="object")throw Error(L(62));t=!0;for(var r in n)if(Ne.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var a=Pe(r);o=Pe((""+o).trim())}else{a=r;var s=Oa.get(a);s!==void 0||(s=Pe(a.replace(jd,"-$1").toLowerCase().replace(Pd,"-ms-")),Oa.set(a,s)),a=s,o=typeof o=="number"?o===0||Ne.call(Ln,r)?""+o:o+"px":Pe((""+o).trim())}t?(t=!1,e.push(' style="',a,":",o)):e.push(";",a,":",o)}}t||e.push('"')}function Fe(e,t,n,r){switch(n){case"style":hs(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ke.hasOwnProperty(n)?ke[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Pe(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Pe(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Pe(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Pe(r),'"')}}else if(ps(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Pe(r),'"')}}}function Bn(e,t,n){if(t!=null){if(n!=null)throw Error(L(60));if(typeof t!="object"||!("__html"in t))throw Error(L(61));t=t.__html,t!=null&&e.push(""+t)}}function Td(e){var t="";return fs.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Ir(e,t,n,r){e.push(tt(n));var o=n=null,a;for(a in t)if(Ne.call(t,a)){var s=t[a];if(s!=null)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Fe(e,r,a,s)}}return e.push(">"),Bn(e,o,n),typeof n=="string"?(e.push(Pe(n)),null):n}var Nd=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ia=new Map;function tt(e){var t=Ia.get(e);if(t===void 0){if(!Nd.test(e))throw Error(L(65,e));t="<"+e,Ia.set(e,t)}return t}function Md(e,t,n,r,o){switch(t){case"select":e.push(tt("select"));var a=null,s=null;for(g in n)if(Ne.call(n,g)){var c=n[g];if(c!=null)switch(g){case"children":a=c;break;case"dangerouslySetInnerHTML":s=c;break;case"defaultValue":case"value":break;default:Fe(e,r,g,c)}}return e.push(">"),Bn(e,s,a),a;case"option":s=o.selectedValue,e.push(tt("option"));var d=c=null,p=null,g=null;for(a in n)if(Ne.call(n,a)){var i=n[a];if(i!=null)switch(a){case"children":c=i;break;case"selected":p=i;break;case"dangerouslySetInnerHTML":g=i;break;case"value":d=i;default:Fe(e,r,a,i)}}if(s!=null)if(n=d!==null?""+d:Td(c),oo(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),Bn(e,g,c),c;case"textarea":e.push(tt("textarea")),g=s=a=null;for(c in n)if(Ne.call(n,c)&&(d=n[c],d!=null))switch(c){case"children":g=d;break;case"value":a=d;break;case"defaultValue":s=d;break;case"dangerouslySetInnerHTML":throw Error(L(91));default:Fe(e,r,c,d)}if(a===null&&s!==null&&(a=s),e.push(">"),g!=null){if(a!=null)throw Error(L(92));if(oo(g)&&1<g.length)throw Error(L(93));a=""+g}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a!==null&&e.push(Pe(""+a)),null;case"input":e.push(tt("input")),d=g=c=a=null;for(s in n)if(Ne.call(n,s)&&(p=n[s],p!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(L(399,"input"));case"defaultChecked":d=p;break;case"defaultValue":c=p;break;case"checked":g=p;break;case"value":a=p;break;default:Fe(e,r,s,p)}return g!==null?Fe(e,r,"checked",g):d!==null&&Fe(e,r,"checked",d),a!==null?Fe(e,r,"value",a):c!==null&&Fe(e,r,"value",c),e.push("/>"),null;case"menuitem":e.push(tt("menuitem"));for(var u in n)if(Ne.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(L(400));default:Fe(e,r,u,a)}return e.push(">"),null;case"title":e.push(tt("title")),a=null;for(i in n)if(Ne.call(n,i)&&(s=n[i],s!=null))switch(i){case"children":a=s;break;case"dangerouslySetInnerHTML":throw Error(L(434));default:Fe(e,r,i,s)}return e.push(">"),a;case"listing":case"pre":e.push(tt(t)),s=a=null;for(d in n)if(Ne.call(n,d)&&(c=n[d],c!=null))switch(d){case"children":a=c;break;case"dangerouslySetInnerHTML":s=c;break;default:Fe(e,r,d,c)}if(e.push(">"),s!=null){if(a!=null)throw Error(L(60));if(typeof s!="object"||!("__html"in s))throw Error(L(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(tt(t));for(var f in n)if(Ne.call(n,f)&&(a=n[f],a!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(L(399,t));default:Fe(e,r,f,a)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Ir(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),Ir(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Ir(e,n,t,r);e.push(tt(t)),s=a=null;for(p in n)if(Ne.call(n,p)&&(c=n[p],c!=null))switch(p){case"children":a=c;break;case"dangerouslySetInnerHTML":s=c;break;case"style":hs(e,r,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ps(p)&&typeof c!="function"&&typeof c!="symbol"&&e.push(" ",p,'="',Pe(c),'"')}return e.push(">"),Bn(e,s,a),a}}function Da(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(L(395));return e.push(n),e.push('"></template>')}function Rd(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(L(397))}}function Od(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(L(397))}}var Id=/[<\u2028\u2029]/g;function Dr(e){return JSON.stringify(e).replace(Id,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Dd(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function $a(e,t,n,r){return n.generateStaticMarkup?(e.push(Pe(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Pe(t)),e=!0),e)}var pn=Object.assign,$d=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),vs=Symbol.for("react.strict_mode"),ys=Symbol.for("react.profiler"),xs=Symbol.for("react.provider"),ws=Symbol.for("react.context"),_s=Symbol.for("react.forward_ref"),bs=Symbol.for("react.suspense"),Ss=Symbol.for("react.suspense_list"),Cs=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),Fd=Symbol.for("react.scope"),Ld=Symbol.for("react.debug_trace_mode"),Bd=Symbol.for("react.legacy_hidden"),Hd=Symbol.for("react.default_value"),Fa=Symbol.iterator;function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ms:return"Portal";case ys:return"Profiler";case vs:return"StrictMode";case bs:return"Suspense";case Ss:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ws:return(e.displayName||"Context")+".Consumer";case xs:return(e._context.displayName||"Context")+".Provider";case _s:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cs:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case Do:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}var ks={};function La(e,t){if(e=e.contextTypes,!e)return ks;var n={},r;for(r in e)n[r]=t[r];return n}var Rt=null;function br(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(L(401))}else{if(n===null)throw Error(L(401));br(e,n)}t.context._currentValue2=t.value}}function Es(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&Es(e)}function js(e){var t=e.parent;t!==null&&js(t),e.context._currentValue2=e.value}function Ps(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(L(402));e.depth===t.depth?br(e,t):Ps(e,t)}function As(e,t){var n=t.parent;if(n===null)throw Error(L(402));e.depth===n.depth?br(e,n):As(e,n),t.context._currentValue2=t.value}function rr(e){var t=Rt;t!==e&&(t===null?js(e):e===null?Es(t):t.depth===e.depth?br(t,e):t.depth>e.depth?Ps(t,e):As(t,e),Rt=e)}var Ba={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Ha(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Ba,e.props=n,e.state=o;var a={queue:[],replace:!1};e._reactInternals=a;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:pn({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Ba.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,s=a.replace,a.queue=null,a.replace=!1,s&&t.length===1)e.state=t[0];else{for(a=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var c=t[s];c=typeof c=="function"?c.call(e,a,n,r):c,c!=null&&(o?(o=!1,a=pn({},a,c)):pn(a,c))}e.state=a}else a.queue=null}var Gd={id:1,overflow:""};function io(e,t,n){var r=e.id;e=e.overflow;var o=32-Hn(r)-1;r&=~(1<<o),n+=1;var a=32-Hn(t)+o;if(30<a){var s=o-o%5;return a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-Hn(t)+o|n<<o|r,overflow:a+e}}return{id:1<<a|n<<o|r,overflow:e}}var Hn=Math.clz32?Math.clz32:Vd,zd=Math.log,Wd=Math.LN2;function Vd(e){return e>>>=0,e===0?32:31-(zd(e)/Wd|0)|0}function qd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ud=typeof Object.is=="function"?Object.is:qd,ft=null,$o=null,Gn=null,re=null,ln=!1,or=!1,vn=0,Ct=null,Sr=0;function Tt(){if(ft===null)throw Error(L(321));return ft}function Ga(){if(0<Sr)throw Error(L(312));return{memoizedState:null,queue:null,next:null}}function Fo(){return re===null?Gn===null?(ln=!1,Gn=re=Ga()):(ln=!0,re=Gn):re.next===null?(ln=!1,re=re.next=Ga()):(ln=!0,re=re.next),re}function Lo(){$o=ft=null,or=!1,Gn=null,Sr=0,re=Ct=null}function Ts(e,t){return typeof t=="function"?t(e):t}function za(e,t,n){if(ft=Tt(),re=Fo(),ln){var r=re.queue;if(t=r.dispatch,Ct!==null&&(n=Ct.get(r),n!==void 0)){Ct.delete(r),r=re.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return re.memoizedState=r,[r,t]}return[re.memoizedState,t]}return e=e===Ts?typeof t=="function"?t():t:n!==void 0?n(t):t,re.memoizedState=e,e=re.queue={last:null,dispatch:null},e=e.dispatch=Xd.bind(null,ft,e),[re.memoizedState,e]}function Wa(e,t){if(ft=Tt(),re=Fo(),t=t===void 0?null:t,re!==null){var n=re.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!Ud(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),re.memoizedState=[e,t],e}function Xd(e,t,n){if(25<=Sr)throw Error(L(301));if(e===ft)if(or=!0,e={action:n,next:null},Ct===null&&(Ct=new Map),n=Ct.get(t),n===void 0)Ct.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Yd(){throw Error(L(394))}function jn(){}var Va={readContext:function(e){return e._currentValue2},useContext:function(e){return Tt(),e._currentValue2},useMemo:Wa,useReducer:za,useRef:function(e){ft=Tt(),re=Fo();var t=re.memoizedState;return t===null?(e={current:e},re.memoizedState=e):t},useState:function(e){return za(Ts,e)},useInsertionEffect:jn,useLayoutEffect:function(){},useCallback:function(e,t){return Wa(function(){return e},t)},useImperativeHandle:jn,useEffect:jn,useDebugValue:jn,useDeferredValue:function(e){return Tt(),e},useTransition:function(){return Tt(),[!1,Yd]},useId:function(){var e=$o.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Hn(e)-1)).toString(32)+t;var n=zn;if(n===null)throw Error(L(404));return t=vn++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Tt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(L(407));return n()}},zn=null,$r=fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Zd(e){return console.error(e),null}function cn(){}function Kd(e,t,n,r,o,a,s,c,d){var p=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:p,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?Zd:o,onAllReady:cn,onShellReady:s===void 0?cn:s,onShellError:cn,onFatalError:cn},n=ar(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Bo(t,e,null,n,g,ks,null,Gd),p.push(e),t}function Bo(e,t,n,r,o,a,s,c){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var d={node:t,ping:function(){var p=e.pingedTasks;p.push(d),p.length===1&&Rs(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:a,context:s,treeContext:c};return o.add(d),d}function ar(e,t,n,r,o,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:a}}function yn(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function ir(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function qa(e,t,n,r,o){for(ft={},$o=t,vn=0,e=n(r,o);or;)or=!1,vn=0,Sr+=1,re=null,e=n(r,o);return Lo(),e}function Ua(e,t,n,r){var o=n.render(),a=r.childContextTypes;if(a!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var c in n)if(!(c in a))throw Error(L(108,ao(r)||"Unknown",c));r=pn({},s,n)}t.legacyContext=r,Be(e,t,o),t.legacyContext=s}else Be(e,t,o)}function Xa(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function so(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=La(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue2:o),Ha(a,n,r,o),Ua(e,t,a,n)}else{a=La(n,t.legacyContext),o=qa(e,t,n,r,a);var s=vn!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Ha(o,n,r,a),Ua(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=io(r,1,0);try{Be(e,t,o)}finally{t.treeContext=r}}else Be(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,a=Md(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=Ad(s,n,r),lo(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case Bd:case Ld:case vs:case ys:case gs:Be(e,t,r.children);return;case Ss:Be(e,t,r.children);return;case Fd:throw Error(L(343));case bs:e:{n=t.blockedBoundary,o=t.blockedSegment,a=r.fallback,r=r.children,s=new Set;var c={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},d=ar(e,o.chunks.length,c,o.formatContext,!1,!1);o.children.push(d),o.lastPushedText=!1;var p=ar(e,0,null,o.formatContext,!1,!1);p.parentFlushed=!0,t.blockedBoundary=c,t.blockedSegment=p;try{if(lo(e,t,r),e.responseState.generateStaticMarkup||p.lastPushedText&&p.textEmbedded&&p.chunks.push("<!-- -->"),p.status=1,sr(c,p),c.pendingTasks===0)break e}catch(g){p.status=4,c.forceClientRender=!0,c.errorDigest=yn(e,g)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Bo(e,a,n,d,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _s:if(r=qa(e,t,n.render,r,o),vn!==0){n=t.treeContext,t.treeContext=io(n,1,0);try{Be(e,t,r)}finally{t.treeContext=n}}else Be(e,t,r);return;case Cs:n=n.type,r=Xa(n,r),so(e,t,n,r,o);return;case xs:if(o=r.children,n=n._context,r=r.value,a=n._currentValue2,n._currentValue2=r,s=Rt,Rt=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,Be(e,t,o),e=Rt,e===null)throw Error(L(403));r=e.parentValue,e.context._currentValue2=r===Hd?e.context._defaultValue:r,e=Rt=e.parent,t.context=e;return;case ws:r=r.children,r=r(n._currentValue2),Be(e,t,r);return;case Do:o=n._init,n=o(n._payload),r=Xa(n,r),so(e,t,n,r,void 0);return}throw Error(L(130,n==null?n:typeof n,""))}}function Be(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case $d:so(e,t,n.type,n.props,n.ref);return;case ms:throw Error(L(257));case Do:var r=n._init;n=r(n._payload),Be(e,t,n);return}if(oo(n)){Ya(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Fa&&n[Fa]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);Ya(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=$a(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=$a(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Ya(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=t.treeContext;t.treeContext=io(a,r,o);try{lo(e,t,n[o])}finally{t.treeContext=a}}}function lo(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,a=t.context;try{return Be(e,t,n)}catch(d){if(Lo(),typeof d=="object"&&d!==null&&typeof d.then=="function"){n=d;var s=t.blockedSegment,c=ar(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(c),s.lastPushedText=!1,e=Bo(e,t.node,t.blockedBoundary,c,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,rr(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,rr(a),d}}function Jd(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Ms(this,t,e)}function Ns(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(L(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Ns(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function sr(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&sr(e,n)}else e.completedSegments.push(t)}function Ms(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(L(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=cn,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&sr(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Jd,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(sr(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Rs(e){if(e.status!==2){var t=Rt,n=$r.current;$r.current=Va;var r=zn;zn=e.responseState;try{var o=e.pingedTasks,a;for(a=0;a<o.length;a++){var s=o[a],c=e,d=s.blockedSegment;if(d.status===0){rr(s.context);try{Be(c,s,s.node),c.responseState.generateStaticMarkup||d.lastPushedText&&d.textEmbedded&&d.chunks.push("<!-- -->"),s.abortSet.delete(s),d.status=1,Ms(c,s.blockedBoundary,d)}catch(h){if(Lo(),typeof h=="object"&&h!==null&&typeof h.then=="function"){var p=s.ping;h.then(p,p)}else{s.abortSet.delete(s),d.status=4;var g=s.blockedBoundary,i=h,u=yn(c,i);if(g===null?ir(c,i):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=u,g.parentFlushed&&c.clientRenderedBoundaries.push(g))),c.allPendingTasks--,c.allPendingTasks===0){var f=c.onAllReady;f()}}}finally{}}}o.splice(0,a),e.destination!==null&&Ho(e,e.destination)}catch(h){yn(e,h),ir(e,h)}finally{zn=r,$r.current=n,n===Va&&rr(t)}}}function Pn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];a<o.index;a++)t.push(r[a]);o=Cr(e,t,o)}for(;a<r.length-1;a++)t.push(r[a]);return a<r.length&&(o=t.push(r[a])),o;default:throw Error(L(390))}}function Cr(e,t,n){var r=n.boundary;if(r===null)return Pn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Pe(r),t.push(r),t.push('"')),t.push("></template>")),Pn(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,a=o.nextSuspenseID++;return o=o.boundaryPrefix+a.toString(16),r=r.id=o,Da(t,e.responseState,r),Pn(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Da(t,e.responseState,r.id),Pn(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(L(391));return Cr(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Za(e,t,n){return Rd(t,e.responseState,n.formatContext,n.id),Cr(e,t,n),Od(t,n.formatContext)}function Ka(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Os(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(L(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function Os(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(L(392));return Za(e,t,r)}return Za(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function Ho(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){Cr(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,a;for(a=0;a<o.length;a++){var s=o[a];r=t;var c=e.responseState,d=s.id,p=s.errorDigest,g=s.errorMessage,i=s.errorComponentStack;if(r.push(c.startInlineScript),c.sentClientRenderFunction?r.push('$RX("'):(c.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),d===null)throw Error(L(395));if(r.push(d),r.push('"'),p||g||i){r.push(",");var u=Dr(p||"");r.push(u)}if(g||i){r.push(",");var f=Dr(g||"");r.push(f)}if(i){r.push(",");var h=Dr(i);r.push(h)}if(!r.push(")<\/script>")){e.destination=null,a++,o.splice(0,a);return}}o.splice(0,a);var m=e.completedBoundaries;for(a=0;a<m.length;a++)if(!Ka(e,t,m[a])){e.destination=null,a++,m.splice(0,a);return}m.splice(0,a);var v=e.partialBoundaries;for(a=0;a<v.length;a++){var y=v[a];e:{o=e,s=t;var b=y.completedSegments;for(c=0;c<b.length;c++)if(!Os(o,s,y,b[c])){c++,b.splice(0,c);var C=!1;break e}b.splice(0,c),C=!0}if(!C){e.destination=null,a++,v.splice(0,a);return}}v.splice(0,a);var E=e.completedBoundaries;for(a=0;a<E.length;a++)if(!Ka(e,t,E[a])){e.destination=null,a++,E.splice(0,a);return}E.splice(0,a)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function Qd(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Ns(r,e,t)}),n.clear(),e.destination!==null&&Ho(e,e.destination)}catch(r){yn(e,r),ir(e,r)}}function ef(){}function Is(e,t,n,r){var o=!1,a=null,s="",c={push:function(p){return p!==null&&(s+=p),!0},destroy:function(p){o=!0,a=p}},d=!1;if(e=Kd(e,Dd(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ef,void 0,function(){d=!0}),Rs(e),Qd(e,r),e.status===1)e.status=2,c.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=c;try{Ho(e,c)}catch(p){yn(e,p),ir(e,p)}}if(o)throw a;if(!d)throw Error(L(426));return s}en.renderToNodeStream=function(){throw Error(L(207))};en.renderToStaticMarkup=function(e,t){return Is(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};en.renderToStaticNodeStream=function(){throw Error(L(208))};en.renderToString=function(e,t){return Is(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};en.version="18.3.1";var Go={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=x;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var He=null,Ge=0;function R(e,t){if(t.length!==0)if(512<t.length)0<Ge&&(e.enqueue(new Uint8Array(He.buffer,0,Ge)),He=new Uint8Array(512),Ge=0),e.enqueue(t);else{var n=He.length-Ge;n<t.length&&(n===0?e.enqueue(He):(He.set(t.subarray(0,n),Ge),e.enqueue(He),t=t.subarray(n)),He=new Uint8Array(512),Ge=0),He.set(t,Ge),Ge+=t.length}}function le(e,t){return R(e,t),!0}function Ja(e){He&&0<Ge&&(e.enqueue(new Uint8Array(He.buffer,0,Ge)),He=null,Ge=0)}var $s=new TextEncoder;function V(e){return $s.encode(e)}function P(e){return $s.encode(e)}function Fs(e,t){typeof e.error=="function"?e.error(t):e.close()}var Me=Object.prototype.hasOwnProperty,tf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qa={},ei={};function Ls(e){return Me.call(ei,e)?!0:Me.call(Qa,e)?!1:tf.test(e)?ei[e]=!0:(Qa[e]=!0,!1)}function Te(e,t,n,r,o,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var zo=/[\-:]([a-z])/g;function Wo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zo,Wo);Ee[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zo,Wo);Ee[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zo,Wo);Ee[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nf=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(e){nf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wn[t]=Wn[e]})});var rf=/["'&<>]/;function Ce(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=rf.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var of=/([A-Z])/g,af=/^ms-/,co=Array.isArray,sf=P("<script>"),lf=P("<\/script>"),cf=P('<script src="'),uf=P('<script type="module" src="'),ti=P('" async=""><\/script>'),df=/(<\/|<)(s)(cript)/gi;function ff(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function pf(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?sf:P('<script nonce="'+Ce(t)+'">');var a=[];if(n!==void 0&&a.push(t,V((""+n).replace(df,ff)),lf),r!==void 0)for(n=0;n<r.length;n++)a.push(cf,V(Ce(r[n])),ti);if(o!==void 0)for(r=0;r<o.length;r++)a.push(uf,V(Ce(o[r])),ti);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:P(e+"P:"),segmentPrefix:P(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function nt(e,t){return{insertionMode:e,selectedValue:t}}function hf(e){return nt(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function mf(e,t,n){switch(t){case"select":return nt(1,n.value!=null?n.value:n.defaultValue);case"svg":return nt(2,null);case"math":return nt(3,null);case"foreignObject":return nt(1,null);case"table":return nt(4,null);case"thead":case"tbody":case"tfoot":return nt(5,null);case"colgroup":return nt(7,null);case"tr":return nt(6,null)}return 4<=e.insertionMode||e.insertionMode===0?nt(1,null):e}var Vo=P("<!-- -->");function ni(e,t,n,r){return t===""?r:(r&&e.push(Vo),e.push(V(Ce(t))),!0)}var ri=new Map,gf=P(' style="'),oi=P(":"),vf=P(";");function Bs(e,t,n){if(typeof n!="object")throw Error(z(62));t=!0;for(var r in n)if(Me.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var a=V(Ce(r));o=V(Ce((""+o).trim()))}else{a=r;var s=ri.get(a);s!==void 0||(s=P(Ce(a.replace(of,"-$1").toLowerCase().replace(af,"-ms-"))),ri.set(a,s)),a=s,o=typeof o=="number"?o===0||Me.call(Wn,r)?V(""+o):V(o+"px"):V(Ce((""+o).trim()))}t?(t=!1,e.push(gf,a,oi,o)):e.push(vf,a,oi,o)}}t||e.push(Nt)}var xt=P(" "),Ut=P('="'),Nt=P('"'),ai=P('=""');function Le(e,t,n,r){switch(n){case"style":Bs(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Ee.hasOwnProperty(n)?Ee[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=V(t.attributeName),t.type){case 3:r&&e.push(xt,n,ai);break;case 4:r===!0?e.push(xt,n,ai):r!==!1&&e.push(xt,n,Ut,V(Ce(r)),Nt);break;case 5:isNaN(r)||e.push(xt,n,Ut,V(Ce(r)),Nt);break;case 6:!isNaN(r)&&1<=r&&e.push(xt,n,Ut,V(Ce(r)),Nt);break;default:t.sanitizeURL&&(r=""+r),e.push(xt,n,Ut,V(Ce(r)),Nt)}}else if(Ls(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(xt,V(n),Ut,V(Ce(r)),Nt)}}}var wt=P(">"),ii=P("/>");function Vn(e,t,n){if(t!=null){if(n!=null)throw Error(z(60));if(typeof t!="object"||!("__html"in t))throw Error(z(61));t=t.__html,t!=null&&e.push(V(""+t))}}function yf(e){var t="";return Ds.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var Fr=P(' selected=""');function Lr(e,t,n,r){e.push(rt(n));var o=n=null,a;for(a in t)if(Me.call(t,a)){var s=t[a];if(s!=null)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Le(e,r,a,s)}}return e.push(wt),Vn(e,o,n),typeof n=="string"?(e.push(V(Ce(n))),null):n}var Br=P(`
`),xf=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,si=new Map;function rt(e){var t=si.get(e);if(t===void 0){if(!xf.test(e))throw Error(z(65,e));t=P("<"+e),si.set(e,t)}return t}var wf=P("<!DOCTYPE html>");function _f(e,t,n,r,o){switch(t){case"select":e.push(rt("select"));var a=null,s=null;for(g in n)if(Me.call(n,g)){var c=n[g];if(c!=null)switch(g){case"children":a=c;break;case"dangerouslySetInnerHTML":s=c;break;case"defaultValue":case"value":break;default:Le(e,r,g,c)}}return e.push(wt),Vn(e,s,a),a;case"option":s=o.selectedValue,e.push(rt("option"));var d=c=null,p=null,g=null;for(a in n)if(Me.call(n,a)){var i=n[a];if(i!=null)switch(a){case"children":c=i;break;case"selected":p=i;break;case"dangerouslySetInnerHTML":g=i;break;case"value":d=i;default:Le(e,r,a,i)}}if(s!=null)if(n=d!==null?""+d:yf(c),co(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(Fr);break}}else""+s===n&&e.push(Fr);else p&&e.push(Fr);return e.push(wt),Vn(e,g,c),c;case"textarea":e.push(rt("textarea")),g=s=a=null;for(c in n)if(Me.call(n,c)&&(d=n[c],d!=null))switch(c){case"children":g=d;break;case"value":a=d;break;case"defaultValue":s=d;break;case"dangerouslySetInnerHTML":throw Error(z(91));default:Le(e,r,c,d)}if(a===null&&s!==null&&(a=s),e.push(wt),g!=null){if(a!=null)throw Error(z(92));if(co(g)&&1<g.length)throw Error(z(93));a=""+g}return typeof a=="string"&&a[0]===`
`&&e.push(Br),a!==null&&e.push(V(Ce(""+a))),null;case"input":e.push(rt("input")),d=g=c=a=null;for(s in n)if(Me.call(n,s)&&(p=n[s],p!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(z(399,"input"));case"defaultChecked":d=p;break;case"defaultValue":c=p;break;case"checked":g=p;break;case"value":a=p;break;default:Le(e,r,s,p)}return g!==null?Le(e,r,"checked",g):d!==null&&Le(e,r,"checked",d),a!==null?Le(e,r,"value",a):c!==null&&Le(e,r,"value",c),e.push(ii),null;case"menuitem":e.push(rt("menuitem"));for(var u in n)if(Me.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(400));default:Le(e,r,u,a)}return e.push(wt),null;case"title":e.push(rt("title")),a=null;for(i in n)if(Me.call(n,i)&&(s=n[i],s!=null))switch(i){case"children":a=s;break;case"dangerouslySetInnerHTML":throw Error(z(434));default:Le(e,r,i,s)}return e.push(wt),a;case"listing":case"pre":e.push(rt(t)),s=a=null;for(d in n)if(Me.call(n,d)&&(c=n[d],c!=null))switch(d){case"children":a=c;break;case"dangerouslySetInnerHTML":s=c;break;default:Le(e,r,d,c)}if(e.push(wt),s!=null){if(a!=null)throw Error(z(60));if(typeof s!="object"||!("__html"in s))throw Error(z(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(Br,V(n)):e.push(V(""+n)))}return typeof a=="string"&&a[0]===`
`&&e.push(Br),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(rt(t));for(var f in n)if(Me.call(n,f)&&(a=n[f],a!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(z(399,t));default:Le(e,r,f,a)}return e.push(ii),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Lr(e,n,t,r);case"html":return o.insertionMode===0&&e.push(wf),Lr(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Lr(e,n,t,r);e.push(rt(t)),s=a=null;for(p in n)if(Me.call(n,p)&&(c=n[p],c!=null))switch(p){case"children":a=c;break;case"dangerouslySetInnerHTML":s=c;break;case"style":Bs(e,r,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Ls(p)&&typeof c!="function"&&typeof c!="symbol"&&e.push(xt,V(p),Ut,V(Ce(c)),Nt)}return e.push(wt),Vn(e,s,a),a}}var bf=P("</"),Sf=P(">"),Cf=P('<template id="'),kf=P('"></template>'),Ef=P("<!--$-->"),jf=P('<!--$?--><template id="'),Pf=P('"></template>'),Af=P("<!--$!-->"),Tf=P("<!--/$-->"),Nf=P("<template"),Mf=P('"'),Rf=P(' data-dgst="');P(' data-msg="');P(' data-stck="');var Of=P("></template>");function li(e,t,n){if(R(e,jf),n===null)throw Error(z(395));return R(e,n),le(e,Pf)}var If=P('<div hidden id="'),Df=P('">'),$f=P("</div>"),Ff=P('<svg aria-hidden="true" style="display:none" id="'),Lf=P('">'),Bf=P("</svg>"),Hf=P('<math aria-hidden="true" style="display:none" id="'),Gf=P('">'),zf=P("</math>"),Wf=P('<table hidden id="'),Vf=P('">'),qf=P("</table>"),Uf=P('<table hidden><tbody id="'),Xf=P('">'),Yf=P("</tbody></table>"),Zf=P('<table hidden><tr id="'),Kf=P('">'),Jf=P("</tr></table>"),Qf=P('<table hidden><colgroup id="'),ep=P('">'),tp=P("</colgroup></table>");function np(e,t,n,r){switch(n.insertionMode){case 0:case 1:return R(e,If),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,Df);case 2:return R(e,Ff),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,Lf);case 3:return R(e,Hf),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,Gf);case 4:return R(e,Wf),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,Vf);case 5:return R(e,Uf),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,Xf);case 6:return R(e,Zf),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,Kf);case 7:return R(e,Qf),R(e,t.segmentPrefix),R(e,V(r.toString(16))),le(e,ep);default:throw Error(z(397))}}function rp(e,t){switch(t.insertionMode){case 0:case 1:return le(e,$f);case 2:return le(e,Bf);case 3:return le(e,zf);case 4:return le(e,qf);case 5:return le(e,Yf);case 6:return le(e,Jf);case 7:return le(e,tp);default:throw Error(z(397))}}var op=P('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ap=P('$RS("'),ip=P('","'),sp=P('")<\/script>'),lp=P('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),cp=P('$RC("'),up=P('","'),dp=P('")<\/script>'),fp=P('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),pp=P('$RX("'),hp=P('"'),mp=P(")<\/script>"),Hr=P(","),gp=/[<\u2028\u2029]/g;function Gr(e){return JSON.stringify(e).replace(gp,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var hn=Object.assign,vp=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),zs=Symbol.for("react.strict_mode"),Ws=Symbol.for("react.profiler"),Vs=Symbol.for("react.provider"),qs=Symbol.for("react.context"),Us=Symbol.for("react.forward_ref"),Xs=Symbol.for("react.suspense"),Ys=Symbol.for("react.suspense_list"),Zs=Symbol.for("react.memo"),qo=Symbol.for("react.lazy"),yp=Symbol.for("react.scope"),xp=Symbol.for("react.debug_trace_mode"),wp=Symbol.for("react.legacy_hidden"),_p=Symbol.for("react.default_value"),ci=Symbol.iterator;function uo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gs:return"Fragment";case Hs:return"Portal";case Ws:return"Profiler";case zs:return"StrictMode";case Xs:return"Suspense";case Ys:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qs:return(e.displayName||"Context")+".Consumer";case Vs:return(e._context.displayName||"Context")+".Provider";case Us:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zs:return t=e.displayName||null,t!==null?t:uo(e.type)||"Memo";case qo:t=e._payload,e=e._init;try{return uo(e(t))}catch{}}return null}var Ks={};function ui(e,t){if(e=e.contextTypes,!e)return Ks;var n={},r;for(r in e)n[r]=t[r];return n}var Ot=null;function kr(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(z(401))}else{if(n===null)throw Error(z(401));kr(e,n)}t.context._currentValue=t.value}}function Js(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&Js(e)}function Qs(e){var t=e.parent;t!==null&&Qs(t),e.context._currentValue=e.value}function el(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(z(402));e.depth===t.depth?kr(e,t):el(e,t)}function tl(e,t){var n=t.parent;if(n===null)throw Error(z(402));e.depth===n.depth?kr(e,n):tl(e,n),t.context._currentValue=t.value}function lr(e){var t=Ot;t!==e&&(t===null?Qs(e):e===null?Js(t):t.depth===e.depth?kr(t,e):t.depth>e.depth?el(t,e):tl(t,e),Ot=e)}var di={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function fi(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=di,e.props=n,e.state=o;var a={queue:[],replace:!1};e._reactInternals=a;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:hn({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&di.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,s=a.replace,a.queue=null,a.replace=!1,s&&t.length===1)e.state=t[0];else{for(a=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var c=t[s];c=typeof c=="function"?c.call(e,a,n,r):c,c!=null&&(o?(o=!1,a=hn({},a,c)):hn(a,c))}e.state=a}else a.queue=null}var bp={id:1,overflow:""};function fo(e,t,n){var r=e.id;e=e.overflow;var o=32-qn(r)-1;r&=~(1<<o),n+=1;var a=32-qn(t)+o;if(30<a){var s=o-o%5;return a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-qn(t)+o|n<<o|r,overflow:a+e}}return{id:1<<a|n<<o|r,overflow:e}}var qn=Math.clz32?Math.clz32:kp,Sp=Math.log,Cp=Math.LN2;function kp(e){return e>>>=0,e===0?32:31-(Sp(e)/Cp|0)|0}function Ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jp=typeof Object.is=="function"?Object.is:Ep,pt=null,Uo=null,Un=null,oe=null,un=!1,cr=!1,xn=0,kt=null,Er=0;function Mt(){if(pt===null)throw Error(z(321));return pt}function pi(){if(0<Er)throw Error(z(312));return{memoizedState:null,queue:null,next:null}}function Xo(){return oe===null?Un===null?(un=!1,Un=oe=pi()):(un=!0,oe=Un):oe.next===null?(un=!1,oe=oe.next=pi()):(un=!0,oe=oe.next),oe}function Yo(){Uo=pt=null,cr=!1,Un=null,Er=0,oe=kt=null}function nl(e,t){return typeof t=="function"?t(e):t}function hi(e,t,n){if(pt=Mt(),oe=Xo(),un){var r=oe.queue;if(t=r.dispatch,kt!==null&&(n=kt.get(r),n!==void 0)){kt.delete(r),r=oe.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return oe.memoizedState=r,[r,t]}return[oe.memoizedState,t]}return e=e===nl?typeof t=="function"?t():t:n!==void 0?n(t):t,oe.memoizedState=e,e=oe.queue={last:null,dispatch:null},e=e.dispatch=Pp.bind(null,pt,e),[oe.memoizedState,e]}function mi(e,t){if(pt=Mt(),oe=Xo(),t=t===void 0?null:t,oe!==null){var n=oe.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!jp(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),oe.memoizedState=[e,t],e}function Pp(e,t,n){if(25<=Er)throw Error(z(301));if(e===pt)if(cr=!0,e={action:n,next:null},kt===null&&(kt=new Map),n=kt.get(t),n===void 0)kt.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Ap(){throw Error(z(394))}function An(){}var gi={readContext:function(e){return e._currentValue},useContext:function(e){return Mt(),e._currentValue},useMemo:mi,useReducer:hi,useRef:function(e){pt=Mt(),oe=Xo();var t=oe.memoizedState;return t===null?(e={current:e},oe.memoizedState=e):t},useState:function(e){return hi(nl,e)},useInsertionEffect:An,useLayoutEffect:function(){},useCallback:function(e,t){return mi(function(){return e},t)},useImperativeHandle:An,useEffect:An,useDebugValue:An,useDeferredValue:function(e){return Mt(),e},useTransition:function(){return Mt(),[!1,Ap]},useId:function(){var e=Uo.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-qn(e)-1)).toString(32)+t;var n=Xn;if(n===null)throw Error(z(404));return t=xn++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Mt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(z(407));return n()}},Xn=null,zr=Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Tp(e){return console.error(e),null}function dn(){}function Np(e,t,n,r,o,a,s,c,d){var p=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:p,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?Tp:o,onAllReady:a===void 0?dn:a,onShellReady:s===void 0?dn:s,onShellError:c===void 0?dn:c,onFatalError:d===void 0?dn:d},n=ur(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Zo(t,e,null,n,g,Ks,null,bp),p.push(e),t}function Zo(e,t,n,r,o,a,s,c){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var d={node:t,ping:function(){var p=e.pingedTasks;p.push(d),p.length===1&&al(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:a,context:s,treeContext:c};return o.add(d),d}function ur(e,t,n,r,o,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:a}}function wn(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function dr(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,Fs(e.destination,t)):(e.status=1,e.fatalError=t)}function vi(e,t,n,r,o){for(pt={},Uo=t,xn=0,e=n(r,o);cr;)cr=!1,xn=0,Er+=1,oe=null,e=n(r,o);return Yo(),e}function yi(e,t,n,r){var o=n.render(),a=r.childContextTypes;if(a!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var c in n)if(!(c in a))throw Error(z(108,uo(r)||"Unknown",c));r=hn({},s,n)}t.legacyContext=r,ze(e,t,o),t.legacyContext=s}else ze(e,t,o)}function xi(e,t){if(e&&e.defaultProps){t=hn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function po(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=ui(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue:o),fi(a,n,r,o),yi(e,t,a,n)}else{a=ui(n,t.legacyContext),o=vi(e,t,n,r,a);var s=xn!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)fi(o,n,r,a),yi(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=fo(r,1,0);try{ze(e,t,o)}finally{t.treeContext=r}}else ze(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,a=_f(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=mf(s,n,r),ho(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(bf,V(n),Sf)}o.lastPushedText=!1}else{switch(n){case wp:case xp:case zs:case Ws:case Gs:ze(e,t,r.children);return;case Ys:ze(e,t,r.children);return;case yp:throw Error(z(343));case Xs:e:{n=t.blockedBoundary,o=t.blockedSegment,a=r.fallback,r=r.children,s=new Set;var c={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},d=ur(e,o.chunks.length,c,o.formatContext,!1,!1);o.children.push(d),o.lastPushedText=!1;var p=ur(e,0,null,o.formatContext,!1,!1);p.parentFlushed=!0,t.blockedBoundary=c,t.blockedSegment=p;try{if(ho(e,t,r),p.lastPushedText&&p.textEmbedded&&p.chunks.push(Vo),p.status=1,fr(c,p),c.pendingTasks===0)break e}catch(g){p.status=4,c.forceClientRender=!0,c.errorDigest=wn(e,g)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Zo(e,a,n,d,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Us:if(r=vi(e,t,n.render,r,o),xn!==0){n=t.treeContext,t.treeContext=fo(n,1,0);try{ze(e,t,r)}finally{t.treeContext=n}}else ze(e,t,r);return;case Zs:n=n.type,r=xi(n,r),po(e,t,n,r,o);return;case Vs:if(o=r.children,n=n._context,r=r.value,a=n._currentValue,n._currentValue=r,s=Ot,Ot=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,ze(e,t,o),e=Ot,e===null)throw Error(z(403));r=e.parentValue,e.context._currentValue=r===_p?e.context._defaultValue:r,e=Ot=e.parent,t.context=e;return;case qs:r=r.children,r=r(n._currentValue),ze(e,t,r);return;case qo:o=n._init,n=o(n._payload),r=xi(n,r),po(e,t,n,r,void 0);return}throw Error(z(130,n==null?n:typeof n,""))}}function ze(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case vp:po(e,t,n.type,n.props,n.ref);return;case Hs:throw Error(z(257));case qo:var r=n._init;n=r(n._payload),ze(e,t,n);return}if(co(n)){wi(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=ci&&n[ci]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);wi(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=ni(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=ni(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function wi(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=t.treeContext;t.treeContext=fo(a,r,o);try{ho(e,t,n[o])}finally{t.treeContext=a}}}function ho(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,a=t.context;try{return ze(e,t,n)}catch(d){if(Yo(),typeof d=="object"&&d!==null&&typeof d.then=="function"){n=d;var s=t.blockedSegment,c=ur(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(c),s.lastPushedText=!1,e=Zo(e,t.node,t.blockedBoundary,c,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,lr(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=a,lr(a),d}}function Mp(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,ol(this,t,e)}function rl(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(z(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return rl(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function fr(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&fr(e,n)}else e.completedSegments.push(t)}function ol(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(z(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=dn,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&fr(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Mp,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(fr(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function al(e){if(e.status!==2){var t=Ot,n=zr.current;zr.current=gi;var r=Xn;Xn=e.responseState;try{var o=e.pingedTasks,a;for(a=0;a<o.length;a++){var s=o[a],c=e,d=s.blockedSegment;if(d.status===0){lr(s.context);try{ze(c,s,s.node),d.lastPushedText&&d.textEmbedded&&d.chunks.push(Vo),s.abortSet.delete(s),d.status=1,ol(c,s.blockedBoundary,d)}catch(h){if(Yo(),typeof h=="object"&&h!==null&&typeof h.then=="function"){var p=s.ping;h.then(p,p)}else{s.abortSet.delete(s),d.status=4;var g=s.blockedBoundary,i=h,u=wn(c,i);if(g===null?dr(c,i):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=u,g.parentFlushed&&c.clientRenderedBoundaries.push(g))),c.allPendingTasks--,c.allPendingTasks===0){var f=c.onAllReady;f()}}}finally{}}}o.splice(0,a),e.destination!==null&&Ko(e,e.destination)}catch(h){wn(e,h),dr(e,h)}finally{Xn=r,zr.current=n,n===gi&&lr(t)}}}function Tn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,R(t,Cf),R(t,e.placeholderPrefix),e=V(r.toString(16)),R(t,e),le(t,kf);case 1:n.status=2;var o=!0;r=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];a<o.index;a++)R(t,r[a]);o=jr(e,t,o)}for(;a<r.length-1;a++)R(t,r[a]);return a<r.length&&(o=le(t,r[a])),o;default:throw Error(z(390))}}function jr(e,t,n){var r=n.boundary;if(r===null)return Tn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,le(t,Af),R(t,Nf),r&&(R(t,Rf),R(t,V(Ce(r))),R(t,Mf)),le(t,Of),Tn(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,a=o.nextSuspenseID++;o=P(o.boundaryPrefix+a.toString(16)),r=r.id=o,li(t,e.responseState,r),Tn(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),li(t,e.responseState,r.id),Tn(e,t,n);else{if(le(t,Ef),n=r.completedSegments,n.length!==1)throw Error(z(391));jr(e,t,n[0])}return le(t,Tf)}function _i(e,t,n){return np(t,e.responseState,n.formatContext,n.id),jr(e,t,n),rp(t,n.formatContext)}function bi(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)il(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,R(t,e.startInlineScript),e.sentCompleteBoundaryFunction?R(t,cp):(e.sentCompleteBoundaryFunction=!0,R(t,lp)),r===null)throw Error(z(395));return n=V(n.toString(16)),R(t,r),R(t,up),R(t,e.segmentPrefix),R(t,n),le(t,dp)}function il(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(z(392));return _i(e,t,r)}return _i(e,t,r),e=e.responseState,R(t,e.startInlineScript),e.sentCompleteSegmentFunction?R(t,ap):(e.sentCompleteSegmentFunction=!0,R(t,op)),R(t,e.segmentPrefix),o=V(o.toString(16)),R(t,o),R(t,ip),R(t,e.placeholderPrefix),R(t,o),le(t,sp)}function Ko(e,t){He=new Uint8Array(512),Ge=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){jr(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)R(t,r[n]);n<r.length&&le(t,r[n])}var o=e.clientRenderedBoundaries,a;for(a=0;a<o.length;a++){var s=o[a];r=t;var c=e.responseState,d=s.id,p=s.errorDigest,g=s.errorMessage,i=s.errorComponentStack;if(R(r,c.startInlineScript),c.sentClientRenderFunction?R(r,pp):(c.sentClientRenderFunction=!0,R(r,fp)),d===null)throw Error(z(395));R(r,d),R(r,hp),(p||g||i)&&(R(r,Hr),R(r,V(Gr(p||"")))),(g||i)&&(R(r,Hr),R(r,V(Gr(g||"")))),i&&(R(r,Hr),R(r,V(Gr(i)))),le(r,mp)}o.splice(0,a);var u=e.completedBoundaries;for(a=0;a<u.length;a++)bi(e,t,u[a]);u.splice(0,a),Ja(t),He=new Uint8Array(512),Ge=0;var f=e.partialBoundaries;for(a=0;a<f.length;a++){var h=f[a];e:{o=e,s=t;var m=h.completedSegments;for(c=0;c<m.length;c++)if(!il(o,s,h,m[c])){c++,m.splice(0,c);var v=!1;break e}m.splice(0,c),v=!0}if(!v){e.destination=null,a++,f.splice(0,a);return}}f.splice(0,a);var y=e.completedBoundaries;for(a=0;a<y.length;a++)bi(e,t,y[a]);y.splice(0,a)}finally{Ja(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Si(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return rl(r,e,t)}),n.clear(),e.destination!==null&&Ko(e,e.destination)}catch(r){wn(e,r),dr(e,r)}}Go.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,a,s=new Promise(function(g,i){a=g,o=i}),c=Np(e,pf(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),hf(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var g=new ReadableStream({type:"bytes",pull:function(i){if(c.status===1)c.status=2,Fs(i,c.fatalError);else if(c.status!==2&&c.destination===null){c.destination=i;try{Ko(c,i)}catch(u){wn(c,u),dr(c,u)}}},cancel:function(){Si(c)}},{highWaterMark:0});g.allReady=s,n(g)},function(g){s.catch(function(){}),r(g)},o);if(t&&t.signal){var d=t.signal,p=function(){Si(c,d.reason),d.removeEventListener("abort",p)};d.addEventListener("abort",p)}al(c)})};Go.version="18.3.1";var tn,sl;tn=en,sl=Go;Bt.version=tn.version;Bt.renderToString=tn.renderToString;Bt.renderToStaticMarkup=tn.renderToStaticMarkup;Bt.renderToNodeStream=tn.renderToNodeStream;Bt.renderToStaticNodeStream=tn.renderToStaticNodeStream;Bt.renderToReadableStream=sl.renderToReadableStream;const Ci=[{name:"Bot.ts",image:"bot.ts.png",description:"TypeScript framework for building Discord bots",detail:"Inclus un CLI pour générer des bots et des fichiers de bot. Actuellement mon projet le plus important.",url:"https://ghom.gitbook.io/bot.ts"},{name:"CRISPR-Crunch",image:"crispr-crunch.png",description:"Puzzle game about gene editing",detail:"Un jeu de puzzle sur l'édition de gènes réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/crispr-crunch"},{name:"Portfolio",image:"portfolio.png",description:"My personal portfolio with a card game",detail:"Mon portfolio réalisé avec TypeScript, React, Vite, Tailwind CSS, Zustand et beaucoup de passion"},{name:"Les Labs JS",image:"js-labs.png",description:"A Discord server for JavaScript developers I own and manage",detail:"Le meilleur endroit pour apprendre et partager sur l'écosystème JavaScript",url:"https://discord.gg/3vC2XWK"},{name:"2D Shooter",image:"shooter.png",description:"My first game in TypeScript",detail:"Un simple jeu de tir 2D avec un vaisseau spatial et des ennemis réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/TypedShooterGame"},{name:"Gario",image:"gario.png",description:"A 2D platformer game for showcase",detail:"Un simple jeu de plateforme 2D avec un système de checkpoint réalisé avec p5.js en TypeScript",url:"https://github.com/GhomKrosmonaute/Gario"},{name:"Booyah",image:"booyah.png",description:"A TypeScript game engine",detail:"Un moteur de jeu puissant utilisant des machines à états réalisé en TypeScript par Jesse Himmelstein et amélioré par Ghom",url:"https://github.com/GhomKrosmonaute/Booyah"},{name:"Nano",image:"nano.png",description:"TypeScript library for building modular Discord bots",detail:"Cette lib sert à construire des bots Discord avec une architecture modulaire et flexible",url:"https://github.com/NanoWorkspace"},{name:"Sea Rescue",image:"sea-rescue.png",description:"3D game about ocean cleaning",detail:"Réalisé avec TypeScript, Three.js et Booyah avec l'équipe PlayCurious.",url:"https://playcurious.games/our-games/sea-rescue/"},{name:"Site Photographe",image:"photo.png",description:"A website for a photographer",detail:"Rélisé avec Next.js, TypeScript, React et Tailwind CSS. Optimisé pour le référencement et les performances. Inclus un CMS."},{name:"RedMetrics",image:"red-metrics.png",description:"Open source web metrics tool",detail:"Réalisé avec TypeScript, React, PostgreSQL et Express chez PlayCurious.",url:"https://github.com/play-curious/RedMetrics2/"},{name:"WakFight",image:"wak-fight.png",description:"RPG fighting Discord bot",detail:"Mon premier bot Discord RPG basé sur l'univers de Wakfu."},{name:"Boat Quest",image:"edenred.png",description:"2D game about ocean cleaning",detail:"Réalisé avec TypeScript, PixiJS et Booyah avec l'équipe PlayCurious pour EdenRed.",url:"https://playcurious.games/our-games/edenred-boat-quest/"},{name:"Survival RPG",image:"survival-rpg.png",description:"Hardcore RPG Discord bot",detail:"Un bot Discord RPG hardcore en rogue-like.",url:"https://discord.gg/7N5pJEY"},{name:"Windows.js",image:"windows.png",description:"JavaScript fun UI library",detail:"Librairie JavaScript pour créer des fenêtres d'OS dans le navigateur.",url:"https://ghomkrosmonaute.github.io/Windows.js/"}],ki=[{name:"TypeScript",image:"ts.png"},{name:"React",image:"react.webp"},{name:"Tailwind CSS",image:"tailwind.png"},{name:"NodeJS",image:"node.png"},{name:"Vercel",image:"vercel.png"},{name:"Next.js",image:"nextjs.webp"},{name:"PostgreSQL",image:"pgsql.png"},{name:"Docker",image:"docker.webp"},{name:"PixiJS",image:"pixi.png"},{name:"Three.js",image:"three.png"},{name:"Gulp",image:"gulp.webp"},{name:"Knex",image:"knex.png"},{name:"Git",image:"git.png"},{name:"Processing",image:"processing.webp"},{name:"p5.js",image:"p5.png"},{name:"Strapi",image:"strapi.png"},{name:"Windows",image:"windows.png"},{name:"MacOS",image:"macos.png"},{name:"Linux",image:"linux.png"},{name:"Jetbrains",image:"jetbrains.webp"},{name:"Ruby",image:"ruby.png"}];function mo(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M227.02 45.682l-2.01 150.17c-10.8 2.273-21.273 5.438-31.334 9.423l-34.46-54.44 10.48 65.913c-11.186 6.322-21.69 13.712-31.362 22.043l-85.387-73.01 60.914 98.26c-10.724 13.255-19.744 27.943-26.725 43.73l-37.89-9.674 32.146 24.228c-5.19 14.893-8.618 30.607-10.036 46.89l-52.426 1.497 151.115 58.343c-5.937-13.1-9.244-27.634-9.244-42.922 0-57.535 46.842-104.378 104.378-104.378 57.535 0 104.377 46.843 104.377 104.38 0 14.662-3.05 28.628-8.535 41.304-.054.597-.1 1.188-.16 1.79l138.406-59.548-40.56-3.928c-2.213-21.043-7.78-41.097-16.17-59.607l29.804-34.71-41.317 13.08c-9.153-14.872-20.252-28.418-32.937-40.292l58.926-131.802-93.026 106.238c-13.207-7.81-27.41-14.104-42.377-18.64l2.535-65.838-24.547 60.54c-11.17-1.997-22.667-3.04-34.405-3.04-2.4 0-4.785.06-7.164.146L227.02 45.682zm38.173 164.685c9.258 0 18.345.717 27.213 2.09l-19.693 48.572-10.74-50.622c1.072-.02 2.143-.04 3.22-.04zm-40.44 4.664l-.515 38.53-20.392-32.218c6.78-2.518 13.76-4.633 20.908-6.31zm96.112 4.312c10.708 3.56 20.953 8.127 30.63 13.578l-32.585 37.213 1.955-50.79zm-148.03 17.15l5.85 36.803-26.048-22.274c6.366-5.3 13.115-10.156 20.197-14.528zm217.186 25.766c8.48 8.533 16.08 17.934 22.673 28.056l-41.02 12.987 18.348-41.042zm-265.73 18.605l26.808 43.24-45.643-11.654c5.185-11.22 11.508-21.8 18.836-31.587zM265.18 300.44c-47.435 0-85.69 38.256-85.69 85.69 0 47.436 38.255 85.688 85.69 85.688 47.435 0 85.687-38.252 85.687-85.687 0-47.434-38.252-85.69-85.687-85.69zm163.808 21.484c5.21 13.28 8.856 27.35 10.707 41.984l-43.17-4.18 32.463-37.804zM97.11 334.176l43.853 33.054-50.805 1.45c1.177-11.892 3.534-23.433 6.953-34.504z",fill:"currentColor",fillOpacity:"1"}))))}function Rp(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M272.824 24.318c-14.929.312-25.66 3.246-32.767 8.446L142.898 84.91l-54.105 73.514C77.42 175.98 85.517 210 121.111 188.197l38.9-51.351c49.476-42.711 150.485-23.032 102.587 62.591-23.53 49.582-12.457 73.79 17.76 83.95l13.812-46.381c23.949-53.825 68.502-63.51 66.684-106.904l107.302 7.724-.865-112.045-194.467-1.463zm-54.09 103.338c-17.41-.3-34.486 6.898-46.92 17.375l-39.044 51.33c10.713 8.506 21.413 3.96 32.125-6.363 12.626 6.394 22.365-3.522 30.365-23.297 3.317-13.489 8.21-23.037 23.474-39.045zm-32.617 88.324a13.49 13.49 0 0 0-5.232 1.235L51.72 276.725c-6.784 3.13-9.763 11.202-6.633 17.992l85.27 185.08c3.131 6.783 11.204 9.779 18 6.635l129.15-59.504c6.796-3.137 9.776-11.198 6.646-18L198.871 223.86c-2.344-5.097-7.474-8.043-12.754-7.88z",fill:"currentColor",fillOpacity:"1"}))))}function ll(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),_.createElement("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),_.createElement("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),_.createElement("line",{x1:"3",x2:"21",y1:"10",y2:"10"}),_.createElement("path",{d:"M8 14h.01"}),_.createElement("path",{d:"M12 14h.01"}),_.createElement("path",{d:"M16 14h.01"}),_.createElement("path",{d:"M8 18h.01"}),_.createElement("path",{d:"M12 18h.01"}),_.createElement("path",{d:"M16 18h.01"})))}function cl(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M209.955 488.202l-121.242-46.62c-11.308-4.34-11.643-12.087-.79-17.288L204.8 469.236c15.024 5.777 37.23 4.92 51.774-1.96l161.522-76.6c10.014 4.436 9.864 11.818-.67 16.798L250.43 486.668c-10.983 5.195-29.128 5.902-40.477 1.534zm0-32.37L88.713 409.21C79.09 405.52 77.41 399.36 83.81 394.4l120.99 46.517c15.024 5.776 37.23 4.92 51.774-1.96l165.393-78.433c5.855 4.417 4.38 10.36-4.542 14.58l-166.993 79.193c-10.983 5.196-29.128 5.903-40.477 1.534zm0-28.314L88.713 380.892c-9.624-3.69-11.302-9.85-4.902-14.813l120.99 46.523c15.024 5.77 37.23 4.914 51.774-1.96l165.393-78.438c5.855 4.416 4.38 10.36-4.542 14.58l-166.993 79.2c-10.983 5.194-29.128 5.895-40.477 1.533zm0-28.32L88.713 352.572c-9.624-3.69-11.302-9.85-4.902-14.812l120.99 46.524c15.024 5.776 37.23 4.92 51.774-1.96l165.393-78.44c5.855 4.424 4.38 10.368-4.542 14.586l-166.993 79.194c-10.983 5.196-29.128 5.897-40.477 1.534zm0-28.32L88.713 324.26c-11.35-4.355-11.643-12.15-.66-17.353l87.236-41.376 34.826 18.323c15.365 8.09 37.937 7.06 52.5-2.39l65.74-42.672 88.404 34.007c11.344 4.357 11.65 12.16.665 17.354l-166.993 79.195c-10.983 5.195-29.128 5.902-40.477 1.534zm6.85-99.73L93.44 206.22c-10.767-5.67-11.217-15.647-1.018-22.268l105.11-68.228h25.845l.015 64.962h58.664v-64.962H332.2l-27.487-41.39 118.91 62.584c10.763 5.67 11.212 15.646 1.013 22.268L254.803 269.418c-10.2 6.62-27.23 7.4-37.997 1.73zm21.637-105.523V100.67h-34.845l49.13-79.74 49.12 79.74H267v64.955h-28.558z",fill:"currentColor",fillOpacity:"1"}))))}function Op(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M283.195 35.116c24.564.196 57.187 6.155 86.344 17.69 13.42 5.31 24.168 9.772 30.624 14.062 6.456 4.29 8.202 6.845 8.266 11.725.052 3.996-.285 6.73-2.256 9.89-1.972 3.162-6.117 7.236-15.42 11.72l-26.506 12.78 29.12 4.235c28.602 4.157 33.414 21.214 33.6 23.85.69 9.877-2.582 16.77-15.882 22.27l-23.953 9.91 24.94 7.068c14.348 4.065 24.492 16.475 24.49 24.726 0 7.6-7.05 18.704-24.22 24.037l-27.63 8.583 27.625 8.606c10.35 3.222 18.282 5.945 22.32 8.792 4.038 2.847 5.318 4.47 5.107 11.64-.297 10.136-5.695 15.012-15.656 19.5-9.962 4.49-23.656 6.725-34.927 8.305-35.802 5.02-71.025 6.965-105.87.084l-20.33-4.015 10.947 17.598c25.885 41.614 54.194 90.91 59.11 130.426l.044.352.072.348c5.128 24.97-6.35 36.185-16.972 37.46-5.31.64-11.003-1.04-16.315-6.722-5.313-5.68-10.128-15.727-11.436-31.537l-.12-1.448-.57-1.336c-7.724-18.123-25.866-39.642-46.338-61.158-20.097-21.123-42.306-41.512-58.814-55.33-35.53-49.788-45.97-71.5-53.832-85.07-3.957-6.827-7.77-12.2-13.52-16.87-5.75-4.67-12.805-8.494-24.096-14.304l-.02-.01-.02-.01c-3.508-1.783-10.932-13.615-14.72-31.09-3.786-17.476-5.158-39.717-3.44-60.715 1.72-21 6.696-40.814 14.187-53.263 3.746-6.224 7.978-10.502 12.393-12.85 4.243-2.255 8.787-3.025 14.914-1.767 10.302 4.843 19.693 9.668 30.178 12.615 10.865 3.054 22.944 3.76 36.7.153l.583-.153.56-.23c28.5-11.733 71.544-20.78 100.737-20.55z",fill:"currentColor",fillOpacity:"1"}))))}function Ip(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M256 29.816l-231 154v106.368l231-154 231 154V183.816zm0 128.043L105 259.783v90.283l151-101.925 151 101.925v-90.283zm0 112l-87 58.725v67.6l87-58 87 58v-67.6zm0 89.957l-87 58v64.368l87-58 87 58v-64.368z",fill:"currentColor",fillOpacity:"1"}))))}const ul={daily:{name:"Tous les @days",icon:mo,colors:"bg-day"},weekly:{name:"Toutes les fins de @sprint",icon:ll,colors:"bg-upgrade"},onPlay:{name:"À chaque carte jouée",icon:Rp},onDraw:{name:"À chaque pioche",icon:cl},onEmptyHand:{name:"Quand ta main est vide",icon:ts},onReputationDeclines:{name:"Quand la @reputation diminue",icon:Op,colors:"bg-reputation"},onUpgradeThis:{name:"Quand tu obtiens cette amélioration",icon:Ip,colors:"bg-upgrade"}},dl=e=>{const t=ul[e.eventName];return l.jsxs("div",{className:k("flex items-center gap-1",e.className),children:[l.jsx(t.icon,{className:"w-6 h-6"}),l.jsx("span",{className:"font-zain",dangerouslySetInnerHTML:{__html:be(t.name)}})]})};function Dp(e){const t=Po[e];return[{description:`Gagne ${(2+t)*F}M$`,onPlayed:async(n,r,o)=>await n.addMoney((2+t)*F,{skipGameOverPause:!0,reason:o}),type:"action",cost:2},{description:`Gagne ${(4+t)*F}M$`,onPlayed:async(n,r,o)=>await n.addMoney((4+t)*F,{skipGameOverPause:!0,reason:o}),type:"action",cost:4},{description:`Lance une pièce. <br/> Face: gagne ${(2+t)*F}M$. <br/> Pile: gagne ${2+t} @energy${2+t>1?"s":""}`,onPlayed:async(n,r,o)=>await n.coinFlip({onHead:async()=>await n.addMoney((1+t)*F,{skipGameOverPause:!0,reason:o}),onTail:async()=>await n.addEnergy(1+t,{skipGameOverPause:!0,reason:o})}),type:"action",cost:1},{description:`Lance une pièce. <br/> Face: gagne ${(4+t)*F}M$. <br/> Pile: gagne ${4+t} @energy${4+t>1?"s":""}`,onPlayed:async(n,r,o)=>await n.coinFlip({onHead:async()=>await n.addMoney((4+t)*F,{skipGameOverPause:!0,reason:o}),onTail:async()=>await n.addEnergy(4+t,{skipGameOverPause:!0,reason:o})}),condition:()=>localStorage.getItem("theme")==="dark",type:"action",cost:3},{description:`Gagne ${(2+t)*F}M$ par carte @action en main en comptant celle-ci`,onPlayed:async(n,r,o)=>{await n.addMoney((2+t)*F*n.hand.map(a=>ce(a,n)).filter(a=>a.effect.type==="action").length,{skipGameOverPause:!0,reason:o})},type:"action",cost:4},{description:`Si la @reputation est inférieur à 5, gagne ${(4+t)*F}M$`,onPlayed:async(n,r,o)=>await n.addMoney((4+t)*F,{skipGameOverPause:!0,reason:o}),condition:n=>n.reputation<5,type:"action",cost:2},{description:`Joue gratuitement la carte la plus à droite de ta main${t>4?` et gagne ${t-4} @energy${t-4>1?"s":""}`:""}`,onPlayed:async(n,r,o)=>{await n.playCard(ce(n.hand[n.hand.length-1],n),{free:!0,skipGameOverPause:!0,reason:o}),t>4&&await n.addEnergy(t-4,{skipGameOverPause:!0,reason:o})},condition:(n,r)=>{const o=n.hand[n.hand.length-1];if(!o)return!1;const a=ce(o,n);return a.name!==r.name&&a.state==="idle"&&r.state==="idle"&&(!a.effect.condition||a.effect.condition(n,a))},type:"action",cost:Math.max(0,4-t),waitBeforePlay:!0},{description:"Défausse la carte la plus à droite de ta main, gagne son coût en @energy",onPlayed:async(n,r,o)=>{const a=ce(n.hand[n.hand.length-1],n);await n.discardCard({filter:c=>c.name===a.name,reason:o});const s=typeof a.effect.cost=="string"?Math.ceil(Number(a.effect.cost)/F):a.effect.cost;await n.addEnergy(s,{skipGameOverPause:!0,reason:o})},condition:(n,r)=>{const o=n.hand[n.hand.length-1];return n.hand.length>1&&r.name!==o[0]&&dt(n,ce(o,n),[]).cost>0},type:"action",cost:0},{description:`Pioche ${1+t} carte${t>0?"s":""}`,onPlayed:async(n,r,o)=>await n.drawCard(1+t,{skipGameOverPause:!0,reason:o}),condition:n=>n.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${t>2?2+(t-2):2} cartes`,onPlayed:async(n,r,o)=>await n.drawCard(t>2?2+(t-2):2,{skipGameOverPause:!0,reason:o}),condition:n=>n.draw.length>=1,type:"support",cost:Math.max(0,2-t),waitBeforePlay:!0},{description:`Si tu as moins de 5 cartes en main, pioche ${2+t} cartes`,onPlayed:async(n,r,o)=>await n.drawCard(2+t,{skipGameOverPause:!0,reason:o}),condition:n=>n.hand.length<5&&n.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche ${t>=4?1+Math.floor((t-2)/2):1} carte${t>=4?"s":""} @action${t>=2&&t%2!==0?` et gagne ${t%2} @energy${t%2>0?"s":""}`:""}`,onPlayed:async(n,r,o)=>{await n.drawCard(t>=2?1+Math.floor((t-2)/2):1,{filter:a=>a.effect.type==="action",skipGameOverPause:!0,reason:o}),t>=2&&t%2!==0&&await n.addEnergy(t%2,{skipGameOverPause:!0,reason:o})},condition:n=>n.draw.some(r=>ce(r,n).effect.type==="action"),type:"support",cost:Math.max(0,2-t),waitBeforePlay:!0},{description:`Si tu n'as pas de carte @action en main, pioche ${1+Math.floor(t/2)} carte${t>=2?"s":""} @action${t%2!==0?` et gagne ${t%2*F}M$`:""}`,onPlayed:async(n,r,o)=>{await n.drawCard(1,{filter:a=>a.effect.type==="action",skipGameOverPause:!0,reason:o}),t%2!==0&&await n.addMoney(t%2*F,{skipGameOverPause:!0,reason:o})},condition:n=>n.hand.every(r=>ce(r,n).effect.type!=="action")&&n.draw.some(r=>ce(r,n).effect.type==="action"),type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse une carte aléatoire, pioche ${t>=1?2:"une"} carte${t>1?"s":""} et gagne ${(2+t-1)*F}M$`,onPlayed:async(n,r,o)=>{await n.discardCard({random:!0,reason:o,filter:a=>a.name!==r.name}),await n.drawCard(t>=1?2:1,{skipGameOverPause:!0,reason:o}),await n.addMoney((2+t-1)*F,{skipGameOverPause:!0,reason:o})},condition:n=>n.hand.length>=2&&n.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie une carte aléatoire dans la pioche, pioche ${t>=1?1+t:"une"} carte${t>=1?"s":""}`,onPlayed:async(n,r,o)=>{await n.discardCard({toDraw:!0,random:!0,reason:o}),await n.drawCard(t>=1?1+t:1,{skipGameOverPause:!0,reason:o})},condition:n=>n.hand.length>=2,type:"support",cost:0,waitBeforePlay:!0},{description:`Pioche ${t>=3?1+Math.floor(t/2):"une"} carte${t>=3?"s":""} dans la défausse`,onPlayed:async(n,r,o)=>await n.drawCard(t>=1?1+t:1,{fromDiscardPile:!0,skipGameOverPause:!0,reason:o}),condition:n=>n.discard.length>=1,type:"support",cost:2,waitBeforePlay:!0},{description:`Défausse les cartes en main, pioche ${5+t} cartes`,onPlayed:async(n,r,o)=>{await n.discardCard({reason:o}),await n.drawCard(5+t,{skipGameOverPause:!0,reason:o})},condition:n=>n.draw.length>=1,type:"support",cost:1,waitBeforePlay:!0},{description:`Renvoie toutes les cartes en main dans la pioche, pioche ${t>5?5+(t-5):5} cartes`,onPlayed:async(n,r,o)=>{await n.discardCard({toDraw:!0,reason:o}),await n.drawCard(t>5?5+(t-5):5,{skipGameOverPause:!0,reason:o})},type:"support",cost:Math.max(0,5-t),waitBeforePlay:!0},{description:`Pioche autant de carte que d'@upgrades découvertes${t>3?` et gagne ${(t-3)*F}M$`:""}`,onPlayed:async(n,r,o)=>{await n.drawCard(n.upgrades.length,{skipGameOverPause:!0,reason:o}),t>3&&await n.addMoney((t-3)*F,{skipGameOverPause:!0,reason:o})},condition:n=>n.upgrades.length>0&&n.draw.length>=1,type:"support",cost:Math.max(0,3-t),waitBeforePlay:!0},{description:`Défausse les cartes @support en main(min 1), pioche 2 cartes @action${t>0?` et gagne ${t*F}M$`:""}`,onPlayed:async(n,r,o)=>{await n.discardCard({filter:a=>a.effect.type==="support",reason:o}),await n.drawCard(2,{filter:a=>a.effect.type==="action",skipGameOverPause:!0,reason:o}),t>0&&await n.addMoney(t*F,{skipGameOverPause:!0,reason:o})},condition:n=>n.hand.map(r=>ce(r,n)).filter(r=>r.effect.type==="support").length>1,type:"support",cost:1,waitBeforePlay:!0},{description:`Défausse les cartes @action en main(min 1), pioche ${3+t} cartes`,onPlayed:async(n,r,o)=>{await n.discardCard({filter:a=>a.effect.type==="action",reason:o}),await n.drawCard(3+t,{skipGameOverPause:!0,reason:o})},condition:n=>n.hand.some(r=>ce(r,n).effect.type==="action"),type:"support",cost:0,waitBeforePlay:!0},{description:"Recycle toutes les cartes de la défausse",onPlayed:async(n,r,o)=>{await n.recycleCard(n.discard.length+1,{reason:o})},condition:n=>n.discard.length>0,type:"support",cost:Math.max(0,10-t),waitBeforePlay:!0},{description:`Recycle ${1+t} carte${t>0?"s":""} aléatoire${t>0?"s":""} de la défausse`,onPlayed:async(n,r,o)=>{await n.recycleCard(2+t,{reason:o})},condition:n=>n.discard.length>0,type:"support",cost:1,waitBeforePlay:!0},{description:`Pioche 2 cartes qui coûtent de l'@energy${t>4?` et gagne ${t-4} @energy${t-4>1?"s":""}`:""}`,onPlayed:async(n,r,o)=>{await n.drawCard(2,{filter:a=>typeof a.effect.cost=="number",skipGameOverPause:!0,reason:o}),t>4&&await n.addEnergy(t-4,{skipGameOverPause:!0,reason:o})},condition:n=>n.draw.some(r=>typeof ce(r,n).effect.cost=="number"),type:"support",cost:Math.max(0,4-t),waitBeforePlay:!0},{description:`La prochaine carte jouée coûte la moitié de son prix${t>3?`, gagne ${t-3} @energy${t-3>1?"s":""}`:""}`,onPlayed:async(n,r,o)=>{n.addCardModifier("next card half cost",[]),t>3&&await n.addEnergy(t-3,{skipGameOverPause:!0,reason:o})},type:"support",cost:Math.max(0,3-t)},{description:"La prochaine carte qui coûte de l'argent coûte maintenant de l'@energy",onPlayed:async n=>{n.addCardModifier("next money card cost energy",[])},type:"support",cost:0},{description:`Baisse le prix de toutes les cartes en main de ${1+t} @energys ou de ${(1+t)*F}M$`,onPlayed:async(n,r)=>{const o=n.hand.map(a=>ce(a,n)).filter(a=>a.name!==r.name&&dt(n,r,[]).cost>0).map(a=>a.name);n.addCardModifier("lowers price of hand cards",[o,1+t])},condition:n=>n.hand.some(r=>dt(n,ce(r,n),[]).cost>0),type:"support",cost:Math.max(0,Re-t),ephemeral:!0},{description:`${t>4?`Ajoute ${t-4} @energy${t>5?"s":""}`:"D"}ouble l'@energy`,onPlayed:async(n,r,o)=>{t>4&&await n.addEnergy(t-4,{skipGameOverPause:!0,reason:o}),await n.addEnergy(n.energy,{skipGameOverPause:!0,reason:o})},type:"action",cost:String(Math.max(0,4-t)*F)},{description:`Ajoute ${4+t} @energys`,onPlayed:async(n,r,o)=>await n.addEnergy(4+t,{skipGameOverPause:!0,reason:o}),type:"action",cost:String(4*F)},{description:`Si la @reputation est inférieur à 5, ajoute ${t>3?5+t-3:5} @energys`,onPlayed:async(n,r,o)=>await n.addEnergy(t>3?5+t-3:5,{skipGameOverPause:!0,reason:o}),condition:n=>n.reputation<5,type:"action",cost:String(Math.max(0,3-t)*F)},{description:"Remplis la jauge de @reputation",onPlayed:async(n,r,o)=>await n.addReputation(10,{skipGameOverPause:!0,reason:o}),type:"action",cost:String(Math.max(0,5*Ao-t)*F),ephemeral:!0}].map((n,r)=>({...n,index:r}))}function fl(e){const t=Dp(e),n=t.filter(c=>c.type==="support"),r=t.filter(c=>c.type==="action"),o=ki.map((c,d)=>{const p=ji(d,0,ki.length,0,n.length,!0),g=n[Math.floor(p)];return{...c,type:"support",image:`images/techno/${c.image}`,state:"idle",effect:{...g,description:be(g.description)}}}),a=Ci.map((c,d)=>{const p=ji(d,0,Ci.length,0,r.length,!0),g=r[Math.floor(p)];return{...c,type:"action",image:`images/projects/${c.image}`,state:"idle",effect:{...g,description:be(g.description)}}}),s=Cn.map(c=>({type:"action",name:c.name,image:`images/upgrades/${c.image}`,state:"idle",effect:{index:-1,upgrade:!0,ephemeral:c.max===1,description:`${be(`@upgrade <br/> ${hl(c.description,1)}`)} <br/> ${Bt.renderToString(_.createElement(dl,{eventName:c.eventName,className:"mx-auto w-fit mt-2"})).replace(/"/g,"'")}`,onPlayed:async d=>await d.upgrade(c.name),type:"action",cost:c.cost,waitBeforePlay:!1}}));return[...o,...a,...s]}function $p(){return localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):Ju}function Xt(e,t){try{t()}catch(n){e().throwError(n)}}async function _e(e,t){try{await t()}catch(n){e().throwError(n)}}function Wr(e,t){e.setOperationInProgress("choices",!0);const n=e.cards.filter(o=>{var a,s;return(e.choiceOptions.length===0||e.choiceOptions.every(c=>c.length===0||c.every(d=>d[0]!==o.name)))&&(e.draw.length===0||e.draw.every(c=>c!==o.name))&&(e.discard.length===0||e.discard.every(c=>c!==o.name))&&(e.hand.length===0||e.hand.every(([c])=>c!==o.name))&&(!(t!=null&&t.exclude)||((a=t==null?void 0:t.exclude)==null?void 0:a.every(c=>c!==o.name)))&&(!(t!=null&&t.filter)||((s=t==null?void 0:t.filter)==null?void 0:s.call(t,o,e)))&&(!o.effect.upgrade||e.upgrades.length===0||e.upgrades.every(c=>{const d=It(c);return d.name!==o.name||d.cumul<d.max}))});if(n.length===0)return[];const r=bt(n,3).slice(0,e.choiceOptionCount).map(o=>o.name);return e.addDiscovery(...r),r.map(o=>[o,"drawing"])}function Fp(e){return[...[...e.draw,...e.discard].map(t=>[t,null]),...e.hand]}function Jo(e,t){return e.energy>=t?"bg-energy":e.energy>0?["bg-energy","bg-reputation"]:"bg-reputation"}function Ei(e){return!e.infinityMode&&!e.isWon&&e.money>=Jt}function mn(e){return e.reputation===0?"reputation":e.draw.length===0&&e.hand.length===0?"mill":e.hand.every(t=>{const n=ce(t,e);return n.effect.condition&&!n.effect.condition(e,n)?!0:!dt(e,n,[]).canBeBuy})&&(e.reputation+e.energy<qt||e.hand.length>=Re||e.draw.length===0)?e.draw.length===0?"mill-lock":"soft-lock":!1}function go(e){return{"text-upgrade":e===0,"text-zinc-400":e===1,"text-orange-600":e===2}}function Lp(e,t){const n=e.upgrades.length,r=Qu[typeof t.effect.cost][n]??1/0;return(typeof t.effect.cost=="string"?String:Number)(Math.min(Number(r),Number(t.effect.cost)))}function pl(e){return JSON.parse(JSON.stringify(e,(t,n)=>typeof n=="function"?void 0:n))}function Bp(e,t,n){const r=pl(t);return e.cardModifiers.slice().reduce((a,s)=>{const c=JSON.stringify(s);if(n.includes(c))return a;n.push(c);const d=ml(s);return!d.condition||d.condition(a.card,e)?{card:d.use(a.card,e),appliedModifiers:[...a.appliedModifiers,s]}:a},{card:r,appliedModifiers:[]})}function dt(e,t,n){const{card:r,appliedModifiers:o}=Bp(e,t,n),a=typeof r.effect.cost=="number"?"energy":"money",s=Number(r.effect.cost),c=a==="money"?e[a]>=s:e[a]+e.reputation>=s;return{needs:a,cost:s,canBeBuy:c,appliedModifiers:o}}function Hp(e,t){if(t.effect.ephemeral)return!0;if(t.effect.upgrade){const n=Cn.find(r=>r.name===t.name);if(n.max){if(n.max===1)return!0;const r=e.upgrades.find(a=>a[0]===t.name);if(!r)return!1;const o=It(r);return o.cumul>=o.max-1}}return!1}function be(e){return e.replace(/(\(.+?\))/g,`<span style="position: relative; transform-style: preserve-3d">
        <span style="
          display: inline-block; 
          position: absolute; 
          font-size: 12px; 
          white-space: nowrap;
          transform: rotate(5deg) translateX(-50%) translateY(-30%) translateZ(10px);">$1</span>
      </span>`).replace(/MONEY_TO_REACH/g,String(Jt)).replace(/MAX_HAND_SIZE/g,String(Re)).replace(/\b([\de+.]+)M\$/g,(t,n)=>{const r=Number(n);return r>=1e3?`${(r/1e3).toFixed(2).replace(".00","").replace(/\.0\b/,"")}B$`:`${r}M$`}).replace(/@action([^\s.:,)]*)/g,'<span style="color: hsl(var(--action)); transform: translateZ(5px); font-weight: bold;">Action$1</span>').replace(/@reputation([^\s.:,)]*)/g,'<span style="color: hsl(var(--reputation)); transform: translateZ(5px); font-weight: bold;">Réputation$1</span>').replace(/@upgrade([^\s.:,)]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Amélioration$1</span>').replace(/@sprint([^\s.:,)]*)/g,'<span style="color: hsl(var(--upgrade)); transform: translateZ(5px); font-weight: bold;">Sprint$1</span>').replace(/@support([^\s.:,)]*)/g,'<span style="display: inline-block; background-color: hsla(var(--support) / 0.5); color: hsl(var(--support-foreground)); padding: 0 6px; border-radius: 4px; transform: translateZ(5px); font-weight: bold;">Support$1</span>').replace(/@energy([^\s.:,)]*)/g,'<span style="color: hsl(var(--energy)); transform: translateZ(5px); font-weight: bold;">Énergie$1</span>').replace(/@day([^\s.:,)]*)/g,'<span style="color: hsl(var(--day)); transform: translateZ(5px); font-weight: bold;">Jour$1</span>').replace(/((?:[\de+.]+|<span[^>]*>[\de+.]+<\/span>)[MB]\$)/g,`<span 
        style="display: inline-block; 
        background-color: hsl(var(--money)); 
        color: hsl(var(--money-foreground));
        padding: 0 4px; 
        border: 1px hsl(var(--money-foreground)) solid; 
        transform: translateZ(5px); 
        font-family: Changa, sans-serif;"
      >
        $1
      </span>`)}function hl(e,t){return e.replace(/@cumul/g,`<span style="color: #f59e0b; font-weight: bold">${t}</span>`).replace(/@s/g,t>1?"s":"")}async function se(e=500){return new Promise(t=>setTimeout(t,e))}function bt(e,t=1){for(let n=0;n<t;n++)e.sort(()=>Math.random()-.5);return e}function ji(e,t,n,r,o,a=!1){const s=(e-t)/(n-t)*(o-r)+r;return a?r<o?Math.max(Math.min(s,o),r):Math.max(Math.min(s,r),o):s}function Vr(e){return e.type==="action"}function ml(e){return Sd[e[0]](...e[1])}function ce(e,t){const n=t.cards.find(r=>typeof e=="string"?r.name===e:r.name===e[0]);if(!n)throw new Error(`Card ${e} not found`);return typeof e!="string"&&(n.state=e[1]),n}function It(e){const t=Cn.find(n=>typeof e=="string"?n.name===e:n.name===e[0]);if(!t)throw new Error(`Upgrade ${e} not found`);return{...t,type:"upgrade",state:typeof e!="string"?e[2]:"appear",cumul:typeof e!="string"?e[1]:1,max:t.max??1/0}}function Gp(e,t){const n=fl(t);return{...JSON.parse(e,(r,o)=>{if(typeof o=="object")switch(r){case"operationInProgress":return[]}return r==="isOperationInProgress"?!1:o}),cards:n}}const $e={backgroundColor:"hsl(var(--card))",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 4rem 0 rgba(255,255,255, 0.3)"},zp=[{id:"_welcome",render:({next:e,finish:t})=>l.jsxs(De,{style:$e,location:"center",children:[l.jsx("h2",{children:"Bienvenue sur mon jeu de cartes !"}),l.jsxs("p",{children:["Je vais te guider rapidement à travers les bases du jeu. ",l.jsx("br",{}),"J'espère qu'il te plaira !"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Quitter le tutoriel"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"C'est parti !"})]}),l.jsx("img",{src:"images/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})},{id:"#energy",render:({next:e,back:t})=>l.jsx(l.Fragment,{children:l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"L'énergie"}),l.jsxs("p",{children:["L'énergie est la ressource principale du jeu. ",l.jsx("br",{}),"Elle te permet de jouer des cartes."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#reputation",render:({next:e,back:t})=>l.jsx(l.Fragment,{children:l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"La réputation"}),l.jsx("p",{children:"Cette jauge est importante !"}),l.jsxs("p",{children:["Elle te permet d'utiliser des cartes lorsque tu n'as plus assez d'énergie. ",l.jsx("br",{}),"Cependant, si cette jauge est vide, tu perds la partie."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})})},{id:"#day",render:({next:e,back:t})=>l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"La journée"}),l.jsxs("p",{children:["La journée avance à chaque carte jouée. ",l.jsx("br",{}),"Certains évènements se déclencheront à la fin de la journée."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#sprint",render:({next:e,back:t})=>l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"Le sprint"}),l.jsx("p",{children:"Le sprint est un cycle de 7 jours."}),l.jsxs("p",{children:["À la fin de chaque sprint, tu pourras choisir ",l.jsx("br",{})," une amélioration à ajouter à ton deck."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#deck",render:({next:e,back:t})=>l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"Le deck, la pioche et la défausse"}),l.jsxs("p",{children:["Comme dans la plupart des jeux de cartes, ton deck représente ",l.jsx("br",{}),"toutes les cartes que tu possèdes."]}),l.jsxs("p",{children:["Ta pioche est la pile de cartes que tu vas piocher, et la défausse"," ",l.jsx("br",{}),"est la pile de cartes que tu as déjà jouées."]}),l.jsx("p",{children:"Ici, tu peux voir la composition de chaque pile de façon triée."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#money",render:({next:e,back:t})=>l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"L'argent"}),l.jsxs("p",{children:["L'argent est une ressource secondaire. ",l.jsx("br",{}),"Il te permet d'acheter des cartes au marché ou ",l.jsx("br",{}),"de jouer des cartes."]}),l.jsxs("p",{children:["Si tu atteins les"," ",l.jsx("span",{dangerouslySetInnerHTML:{__html:be(`${Jt}M$`)}}),", tu gagnes la partie."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#corner-icons",render:({next:e,back:t})=>l.jsxs(De,{location:"left",style:$e,highlight:!0,children:[l.jsx("h2",{children:"Les paramètres"}),l.jsxs("p",{children:["En haut à droite, tu peux accéder aux paramètres du jeu. ",l.jsx("br",{}),"Tu pourras y arrêter la musique, y régler la qualité graphique, ",l.jsx("br",{}),"y consulter les taux de conversion et les règles du jeu ",l.jsx("br",{}),"ou encore y ajuster le niveau de difficulté."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#hand",render:({next:e,back:t})=>l.jsxs(De,{location:"top",style:$e,highlight:!0,children:[l.jsx("h2",{children:"La main"}),l.jsxs("p",{children:["Ta main est l'ensemble des cartes que tu peux jouer. ",l.jsx("br",{}),"Tu peux en jouer tant que tu as les ressources nécessaires ",l.jsx("br",{}),"et que leurs effets sont activables."]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#upgrades",render:({next:e,back:t})=>l.jsxs(De,{location:"bottom",style:$e,highlight:!0,children:[l.jsx("h2",{children:"Les améliorations"}),l.jsxs("p",{children:["Sur le haut de l'écran, tu verras apparaitre des améliorations. ",l.jsx("br",{}),"Elles s'activeront automatiquement en fonction de certaines conditions."]}),l.jsx("img",{src:"images/upgrades.png",alt:"upgrades"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#logs",render:({next:e,back:t})=>l.jsxs(De,{location:"right",style:$e,highlight:!0,children:[l.jsx("h2",{children:"Les logs"}),l.jsxs("p",{children:["Ici, tu pourras voir les effets des cartes que tu as jouées. ",l.jsx("br",{}),"Les logs sont triés par ordre chronologique."]}),l.jsx("img",{src:"images/logs.png",alt:"logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Suivant"})]})]})},{id:"#actions",render:({next:e,back:t})=>l.jsxs(De,{location:"top",style:$e,highlight:!0,children:[l.jsx("h2",{children:"Les actions"}),l.jsxs("p",{children:["Au milieu de l'écran, tu trouveras des actions ",l.jsx("br",{}),"a effectuer au cours de la partie."]}),l.jsxs("p",{children:["Par exemple, choisir une carte à ajouter à ton deck ",l.jsx("br",{}),"ou même piocher une carte si tu ne peux pas jouer"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:t,children:"Retour"}),l.jsx(I,{variant:"cta",size:"cta",onClick:()=>{J.victory.play(),rs(),e()},children:"Suivant"})]})]})},{id:"_end",render:({finish:e})=>l.jsxs(De,{style:$e,location:"center",children:[l.jsx("h2",{children:"Fin du tutoriel"}),l.jsxs("p",{children:["Tu as maintenant toutes les clés en main. ",l.jsx("br",{}),"N'hésite pas à consulter les règles du jeu si tu as besoin d'aide."]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(I,{variant:"cta",size:"cta",onClick:e,children:"Lancer une partie"})}),l.jsx("img",{src:"images/ghom.png",alt:"ghom face",className:"absolute right-0 bottom-0 w-32 translate-x-1/3 translate-y-1/3"})]})}];function Wp(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"}),_.createElement("path",{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"}),_.createElement("path",{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"})))}function Vp(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"}),_.createElement("path",{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"}),_.createElement("path",{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"})))}function qp(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"})))}function gl(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"})))}function vl(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}const Up=e=>{const t=Xe(d=>()=>d.setTutorial(!0)),[n,r]=ye(d=>[d.quality.animations,d.quality.transparency]),{toggleRules:o,toggleSettings:a,toggleMuted:s,muted:c}=Xe(d=>({toggleSettings:d.toggleSettings,toggleMuted:d.toggleMusicMuted,toggleRules:d.toggleRules,muted:d.musicMuted}));return l.jsxs("div",{id:"corner-icons",className:k("absolute flex top-4 right-4 z-50 gap-2","translate-x-full pointer-events-none",{hidden:!r,"opacity-0":r,"transition-all duration-500 ease-in-out":n,"translate-x-0 opacity-100":e.show}),children:[l.jsx(I,{onClick:o,variant:"icon",size:"icon",className:"pointer-events-auto",children:l.jsx(qp,{})}),l.jsx(I,{onClick:t,variant:"icon",size:"icon",className:"pointer-events-auto",children:l.jsx(vl,{})}),l.jsx(I,{onClick:a,variant:"icon",size:"icon",className:"pointer-events-auto",children:l.jsx(gl,{})}),l.jsx(I,{onClick:s,variant:"icon",size:"icon",className:"pointer-events-auto",children:c?l.jsx(Vp,{}):l.jsx(Wp,{})}),l.jsx("div",{className:"w-10 h-10 "})]})},Xp={"bg-energy":"text-energy-foreground","bg-reputation":"text-reputation-foreground","bg-day":"text-day-foreground","bg-upgrade":"text-upgrade-foreground","bg-action":"text-action-foreground","bg-support":"text-support-foreground","bg-background":"text-foreground"},Et=({isCost:e,miniature:t,colors:n,value:r,symbol:o,...a})=>{const s=ye(c=>({perspective:c.quality.perspective,shadows:c.quality.shadows}));return e&&r===0?null:l.jsxs("div",{...a,className:k("relative aspect-square rounded-full text-changa",typeof n=="string"?n:n[0],{"w-8 h-8 text-sm":t,"w-10 h-10":!t,"shadow shadow-black":s.shadows},a.className),style:{transformStyle:s.perspective?"preserve-3d":"flat",transform:s.perspective?"translateZ(5px)":"",...a.style},children:[Array.isArray(n)&&l.jsx("div",{className:k("absolute w-1/2 h-full origin-right rotate-[-22.5deg] rounded-l-full",n[1])}),l.jsxs("div",{className:k("absolute top-1/2 left-1/2 font-changa",Xp[typeof n=="string"?n:n[0]]),style:{transform:`translate(-50%, -50%) ${s.perspective?"translateZ(5px)":""}`},children:[t&&o&&typeof r=="number"&&r>0?"+":"",r]})]})};function Pi(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{id:"ei4vTKagxuI1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 293",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},_.createElement("g",{id:"ei4vTKagxuI2_to",style:{offsetPath:"path('M106.179942,145.357467C102.030894,151.968208,167.060366,313.511039,122.542594,404.77247')",offsetRotate:"auto"}},_.createElement("path",{d:"M12,0h92.99995c0,0-.000003,145.436127-.000003,145.436127L0.00005,162.293619q0,0-.00005-150.293619C0,5.372583,5.372583,0,12,0Z",transform:"rotate(-122.761853) scale(1.000001,0.999999) translate(-104.999947,-146.50007)",fill:"currentColor",strokeWidth:"0"})),_.createElement("g",{id:"ei4vTKagxuI3_to",style:{offsetPath:"path('M104.521676,145.491509C104.521676,248.170819,124.27232,357.117448,104.521676,414.901295')",offsetRotate:"0deg"}},_.createElement("path",{d:"M93,0c6.627417,0,12,5.372583,12,12v116.478378q0,0-105,16.95768q0,0,0-145.435985",transform:"translate(0,-145.436058)",fill:"currentColor",strokeWidth:"0"})),_.createElement("g",{id:"ei4vTKagxuI4_to",style:{offsetPath:"path('M105,146.499996C95.739555,247.624858,79.069108,394.470956,104.521676,440.192192')",offsetRotate:"auto"}},_.createElement("path",{d:"M210,-42.671564v192.548238c0,6.627417-5.372583,12-12,12h-186c-6.627417,0-12-5.372583-12-12L0,0",transform:"rotate(-94.962899) scale(1,0.804317) translate(-105,20.265446)",fill:"currentColor",strokeWidth:"0"}))))}function Yp(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"})))}function Zp(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"})))}const vo=[{name:"Première victoire",description:"Gagner une partie",unlockCondition:e=>e.wonGames>=1},{name:"Conquérant",description:"Gagner 5 parties",unlockCondition:e=>e.wonGames>=5},{name:"Maître du jeu",description:"Utiliser 5 améliorations différentes",unlockCondition:e=>e.upgrades.length>=5},{name:"Trader",description:"Avoir 5 cartes @action en main",unlockCondition:e=>e.hand.filter(t=>ce(t,e).type==="action").length>=5},{name:"Milliardaire",description:"Obtenir 1000M$",unlockCondition:e=>e.money>=1e3},{name:"Collectionneur",description:"Découvrir 20 cartes différentes",unlockCondition:e=>e.discoveries.length>=20},{name:"Complétionniste",description:"Découvrir toutes les cartes",unlockCondition:e=>e.discoveries.length===e.cards.length}],Ai={version:"1.0.40"};function yl(){const e=localStorage.getItem("card-game-stats");return e?JSON.parse(e):{debug:!1,scoreAverage:0,totalMoney:0,wonGames:0,playedGames:0,discoveries:[],achievements:[]}}function Kp(e,t){const n=()=>{const r=t();localStorage.setItem("card-game-stats",JSON.stringify({debug:r.debug,wonGames:r.wonGames,achievements:r.achievements,playedGames:r.playedGames,discoveries:r.discoveries,scoreAverage:r.scoreAverage,totalMoney:r.totalMoney}))};return{setDebug:r=>{e({debug:r}),n()},checkAchievements:async()=>{await _e(t,async()=>{const r=t();for(const o of vo)r.achievements.includes(o.name)||o.unlockCondition(t())&&await r.addAchievement(o.name)})},checkDiscoveries:()=>{Xt(t,()=>{const r=t();r.addDiscovery(...Fp(r).map(([o])=>o))})},addDiscovery:(...r)=>{Xt(t,()=>{e(o=>({discoveries:Array.from(new Set([...o.discoveries,...r]))})),n()})},addAchievement:async r=>{await _e(t,async()=>{e(o=>({achievements:Array.from(new Set([...o.achievements,r]))})),J.achievement.play(),await t().addNotification({header:"Succès déverrouillé",message:r,className:"bg-primary text-primary-foreground text-center"}),n()})},addWonGame:()=>{Xt(t,()=>{const r=t();e({wonGames:r.wonGames+1,scoreAverage:r.scoreAverage+(r.score-r.scoreAverage)/(r.wonGames+1),totalMoney:r.totalMoney+r.money,playedGames:r.playedGames+1}),n()})},addPlayedGame:()=>{Xt(t,()=>{const r=t();e({playedGames:r.playedGames+1,totalMoney:r.totalMoney+r.money}),n()})}}}function xl(){const e=$p().difficulty,t=localStorage.getItem("metadata"),n=localStorage.getItem("save");if(n&&JSON.stringify(Ai)===t)return Gp(n,e);localStorage.setItem("metadata",JSON.stringify(Ai));const r=fl(e);let o=[];o.push(r.find(s=>s.effect.description.startsWith("Renvoie tout")).name),o.push(...r.filter(s=>o.every(c=>c!==s.name)&&s.effect.description.startsWith("Pioche")).slice(0,4).map(s=>s.name)),o.push(...r.filter(s=>o.every(c=>c!==s.name)&&s.effect.description.startsWith("Recycle")).map(s=>s.name)),o.push(...r.filter(s=>o.every(c=>c!==s.name)&&!s.effect.upgrade&&s.effect.description.toLowerCase().includes("gagne")&&s.effect.description.toLowerCase().includes("énergie")).map(s=>s.name)),o=bt(o,3);const a=[];for(let s=0;s<td;s++)a.push(bt(r.filter(c=>a.every(d=>d.every(p=>p[0]!==c.name))&&o.every(d=>d!==c.name)&&!c.effect.upgrade),5).slice(0,ja).map(c=>[c.name,"drawing"]));return{cards:r,difficulty:e,error:null,choiceOptions:a,choiceOptionCount:ja,logs:[],notification:[],operationInProgress:["choices"],score:0,reason:null,isWon:!1,isGameOver:!1,infinityMode:!1,draw:o.slice(Re-2),hand:o.slice(0,Re-2).map(s=>[s,"idle"]),discard:[],upgrades:[],cardModifiers:[["upgrade cost threshold",[]]],day:0,dayFull:!1,sprintFull:!1,energy:Pa,energyMax:Pa,reputation:wr,money:0}}function Jp(e,t){return{throwError:n=>{throw n instanceof Error&&e({error:n}),n},coinFlip:async n=>{await _e(t,async()=>{J.coinFlip.play();const r=t();r.setOperationInProgress("coinFlip",!0);const o=Math.random()>.5;await Promise.all([await r.addNotification({message:o?"Face":"Pile",className:"bg-background text-foreground"}),await n[o?"onHead":"onTail"](r)]),r.setOperationInProgress("coinFlip",!1)})},advanceTime:async n=>{await _e(t,async()=>{if(n<0)return;const r=t();r.setOperationInProgress("advanceTime",!0);const o=Math.max(ot,n*ot);o<ot&&r.throwError(new Error(`Not enough energy to advance time: ${n}`));let a=Math.floor(r.day);const s=r.day+o,c=Math.floor(s);for(a;a<c;a++){const d=a!==0&&(a+1)%7===0;if(e({day:a+1,dayFull:!0,sprintFull:d}),J.bell.play(),d&&J.upgrade.play(),await r.addNotification({message:d?`Sprint ${Math.floor((a+1)/7)}`:`Jour ${a+1}`,className:d?"bg-upgrade text-upgrade-foreground":"bg-day text-day-foreground"}),await r.triggerEvent("daily"),e(p=>({dayFull:!1,choiceOptions:d?p.choiceOptions:[...p.choiceOptions,Wr(t(),{filter:g=>!g.effect.upgrade})]})),d){await r.triggerEvent("weekly");const p=t();e(g=>({sprintFull:!1,choiceOptions:[...g.choiceOptions,Wr(p,{filter:i=>!i.effect.upgrade&&i.type==="action"}),Wr(p,{filter:i=>!!i.effect.upgrade})]}))}await se(1e3)}e({day:s,dayFull:null,sprintFull:null}),r.setOperationInProgress("advanceTime",!1)})},addLog:n=>{e(r=>({logs:[...r.logs,n]}))},addNotification:async n=>{await _e(t,async()=>{const r=t();if(r.notification.length>0)return r.throwError(new Error(`Trying to add a notification while one is already displayed: ${JSON.stringify(n)}`));e(o=>({notification:[n,...o.notification]})),await se(2e3),e(o=>({notification:o.notification.slice(1)}))})},dangerouslyUpdate:n=>e(n),setOperationInProgress:(n,r)=>{Xt(t,()=>{e(o=>({operationInProgress:r?Array.from(new Set([...o.operationInProgress,n])):o.operationInProgress.filter(a=>a!==n)}))})},updateScore:()=>{Xt(t,()=>{const n=t(),r=1,o=Ao,a=1/F,s=n.energy*r,c=n.reputation*o,d=n.money*a;let p=0;n.upgrades.forEach(m=>{const v=It(m);p+=(typeof v.cost=="string"?Number(v.cost)/F:v.cost)*v.cumul});let g=1;n.day<=28?g=2:n.day<=56&&(g=1.5);const i=1+(nd[St.difficulty]-3)*.2,f=(s+c+d+p)*g*i,h=n.money/Jt;e({score:Math.round(f*h*10)})})},addEnergy:async(n,r)=>{await _e(t,async()=>{const o=t();if(o.setOperationInProgress("energy",!0),n>0){const a=Math.min(n,o.energyMax-o.energy);a>0&&o.addLog({value:a,type:"energy",reason:r.reason}),e(s=>({energy:Math.max(0,Math.min(s.energyMax,s.energy+n))})),J.gain.play(),await se()}else if(n<0){const a=t(),s=Math.abs(n)-a.energy,c=Math.min(Math.abs(n),a.energy);c>0&&a.addLog({value:-c,type:"energy",reason:r.reason}),s>0?(e({energy:0}),await a.addReputation(-s,r)):e(d=>({energy:d.energy+n}))}o.setOperationInProgress("energy",!1)})},addMaxEnergy:async(n,r)=>{await _e(t,async()=>{if(n===0)return;const o=t();o.setOperationInProgress("maxEnergy",!0),e(a=>({energyMax:Math.max(0,a.energyMax+n)})),n>0?(J.powerUp.play(),await se(),await o.addEnergy(n,r)):(J.loss.play(),await se(),o.energy>o.energyMax&&await o.addEnergy(o.energyMax-o.energy,r)),o.setOperationInProgress("maxEnergy",!1)})},addReputation:async(n,r)=>{await _e(t,async()=>{const o=t();o.setOperationInProgress("reputation",!0),n===10?J.powerUp.play():n>0?J.gain.play():J.loss.play(),n!==0&&o.addLog({value:n,type:"reputation",reason:r.reason}),e(a=>({reputation:Math.max(0,Math.min(wr,a.reputation+n))})),await se(),n<0&&await o.triggerEvent("onReputationDeclines"),!(r!=null&&r.skipGameOverPause)&&mn(o)&&await se(2e3),o.setOperationInProgress("reputation",!1)})},addMoney:async(n,r)=>{await _e(t,async()=>{let o=t();o.setOperationInProgress("money",!0),n!==0&&o.addLog({value:n,type:"money",reason:r==null?void 0:r.reason}),n>0&&(J.cashing.play(),await se()),e(a=>({money:a.money+n})),o=t(),!(r!=null&&r.skipGameOverPause)&&o.money>=Jt&&await se(2e3),o.setOperationInProgress("money",!1)})},upgrade:async n=>{await _e(t,async()=>{const r=t();r.setOperationInProgress(`upgrade ${n}`,!0);const o=Cn.find(a=>a.name===n);J.upgrade.play(),r.upgrades.find(a=>a[0]===n)?e(a=>({upgrades:a.upgrades.map(s=>s[0]===n?[s[0],s[1]+1,s[2]]:s)})):e(a=>({upgrades:[...a.upgrades,[o.name,1,"appear"]]})),await se(),e(a=>({upgrades:a.upgrades.map(s=>s[0]===n?[s[0],s[1],"idle"]:s)})),o.eventName==="onUpgradeThis"&&await r.triggerUpgrade(n,{}),r.setOperationInProgress(`upgrade ${n}`,!1)})},triggerUpgrade:async(n,r)=>{await _e(t,async()=>{const o=t(),a=o.upgrades.find(c=>c[0]===n),s=It(a);(!s.condition||s.condition(t(),s))&&(o.setOperationInProgress(`triggerUpgrade ${n}`,!0),e({upgrades:o.upgrades.map(c=>c[0]===s.name?[c[0],c[1],"triggered"]:c)}),await se(),await s.onTrigger(t(),s,(r==null?void 0:r.reason)??s),e(c=>({upgrades:c.upgrades.map(d=>d[0]===s.name?[d[0],d[1],"idle"]:d)})),o.setOperationInProgress(`triggerUpgrade ${n}`,!1))})},triggerEvent:async n=>{await _e(t,async()=>{const r=t();r.setOperationInProgress(`triggerUpgradeEvent ${n}`,!0);const o=r.upgrades.map(It).filter(a=>a.eventName===n);for(const a of o)await r.triggerUpgrade(a.name,{reason:a});r.setOperationInProgress(`triggerUpgradeEvent ${n}`,!1)})},addCardModifier:async(n,r,o)=>{await _e(t,async()=>{J.powerUp.play();const a=[n,r];e(s=>({cardModifiers:o!=null&&o.before?[a,...s.cardModifiers]:[...s.cardModifiers,a]}))})},drawCard:async(n=1,r)=>{await _e(t,async()=>{let o=t();o.setOperationInProgress("draw",!0);const a=r!=null&&r.fromDiscardPile?"discard":"draw",s=o.hand.slice(),c=o.discard.slice(),d=o[a].slice().filter(i=>{const u=ce(i,o);return r!=null&&r.filter?r.filter(u):!0}),p=[];let g=!1;for(let i=0;i<n&&d.length!==0;i++){const u=d.pop(),f=ce(u,o);f.state="drawing",p.push(f.name),s.length<Re&&(s.push([f.name,"drawing"]),g=!0)}g&&(a==="draw"?J.draw.play():J.recycle.play()),e({hand:s,discard:c,[a]:bt(o[a].filter(i=>!p.includes(i)),2)}),await se(),e(i=>({hand:i.hand.map(u=>[u[0],"idle"])})),await o.triggerEvent("onDraw"),o=t(),!(r!=null&&r.skipGameOverPause)&&mn(o)&&await se(2e3),o.setOperationInProgress("draw",!1)})},discardCard:async n=>{await _e(t,async()=>{const r=n!=null&&n.toDraw?"draw":"discard";J.drop.play();const o=t();o.setOperationInProgress("discard",!0);const a=o.hand.slice().filter(c=>c[1]!=="playing"&&(!(n!=null&&n.filter)||n.filter(ce(c,o)))),s=n!=null&&n.random?[a[Math.floor(Math.random()*o.hand.length)]]:a;e({hand:o.hand.map(c=>s.some(d=>d[0]===c[0])?[c[0],"discarding"]:c)}),await se(),e(c=>({[r]:bt([...c.hand.filter(d=>s.some(p=>p[0]===d[0])).map(d=>d[0]),...c[r]],2),hand:c.hand.filter(d=>!s.some(p=>p[0]===d[0]))})),o.setOperationInProgress("discard",!1)})},removeCard:async n=>{await _e(t,async()=>{const r=t();r.setOperationInProgress(`removeCard ${n}`,!0),r.hand.some(a=>a[0]===n)&&(e({hand:r.hand.map(a=>a[0]===n?[a[0],"removing"]:a)}),J.remove.play(),await se(1e3));const o=["discard","draw","hand"];e(a=>({...o.reduce((s,c)=>({...s,[c]:a[c].filter(d=>d[0]!==n)}),{})})),r.setOperationInProgress(`removeCard ${n}`,!1)})},recycleCard:async(n=1)=>{await _e(t,async()=>{if(n<=0)return;const r=t();if(r.discard.length===0)return;r.setOperationInProgress("recycle",!0),J.recycle.play();const o=r.discard.slice(),a=r.draw.slice(),s=[];for(let c=0;c<n&&o.length!==0;c++){const d=o.pop();s.push(d),a.push(d)}await se(),e({draw:bt(a,2),discard:r.discard.filter(c=>!s.includes(c))}),r.setOperationInProgress("recycle",!1)})},playCard:async(n,r)=>{await _e(t,async()=>{const o=!!(r!=null&&r.free);let a=t();const s=(r==null?void 0:r.reason)??n,c=async()=>{J.unauthorized.play(),e({hand:a.hand.map(h=>h[0]===n.name?[h[0],"unauthorized"]:h)}),await se(),e({hand:a.hand.map(h=>h[0]===n.name?[h[0],"idle"]:h)})};if(n.effect.condition&&!n.effect.condition(a,n)){await c();return}const{needs:d,cost:p,appliedModifiers:g}=dt(a,n,[]);if(o||Number(n.effect.cost)===0||(d==="money"?a.money>=p:a.reputation+a.energy>=p))a.setOperationInProgress(`play ${n.name}`,!0),e(h=>({hand:h.hand.map(m=>m[0]===n.name?[m[0],"selected"]:m)})),o||await(d==="money"?a.addMoney(-p,{skipGameOverPause:!0,reason:s}):a.addEnergy(-p,{skipGameOverPause:!0,reason:s}));else{await c();return}J.play.play();const i=Hp(t(),n);i&&se(200).then(()=>J.remove.play());const u=async()=>{e(h=>({hand:h.hand.map(m=>m[0]===n.name?[m[0],i?"removing":"playing"]:m)})),await se(i?1e3:void 0),e(h=>({discard:i?h.discard:bt([n.name,...h.discard],3),hand:h.hand.filter(m=>m[0]!==n.name),cardModifiers:h.cardModifiers.filter(m=>!ml(m).once||!g.some(y=>y.toString()===m.toString()))}))},f=async()=>{await n.effect.onPlayed(t(),n,s)};n.effect.waitBeforePlay?(await u(),await f()):await Promise.all([u(),f()]),await a.triggerEvent("onPlay"),a=t(),a.hand.length===0&&(await a.triggerEvent("onEmptyHand"),await a.drawCard(1,{reason:s})),await a.advanceTime(d==="money"?p/F:p),!(r!=null&&r.skipGameOverPause)&&mn(t())&&await se(2e3),a.setOperationInProgress(`play ${n.name}`,!1)})},pickCard:async n=>{await _e(t,async()=>{const r=t();r.setOperationInProgress(`pick ${n.name}`,!0),J.gain.play(),r.choiceOptions[0].length>1&&J.remove.play(),e({choiceOptions:r.choiceOptions.map(o=>o.map(a=>a[0]===n.name?[a[0],"playing"]:[a[0],"removing"]))}),await Promise.all([(async()=>{await se(),e(o=>({choiceOptions:o.choiceOptions.map(a=>a.map(s=>s[0]===n.name?[s[0],"removed"]:s))}))})(),(async()=>{await se(1e3),e(o=>({choiceOptions:o.choiceOptions.map(a=>a.map(s=>[s[0],null]))}))})()]),e(o=>{const a=o.hand.length<Re?"hand":"draw";return{choiceOptions:o.choiceOptions.slice(1),[a]:a==="draw"?bt([...o.draw,n.name],3):[...o.hand,[n.name,"drawing"]]}}),await se(),e(o=>({hand:o.hand.map(a=>[a[0],"idle"])})),r.setOperationInProgress(`pick ${n.name}`,!1)})},win:()=>{e({isGameOver:!0,isWon:!0})},defeat:n=>{J.defeat.play(),e({isGameOver:!0,isWon:!1,reason:n})},reset:()=>{localStorage.removeItem("metadata"),localStorage.removeItem("save"),e({...xl(),...yl()})},enableInfinityMode:()=>{e({infinityMode:!0,isGameOver:!1,isWon:!1})}}}const ge=ed((e,t)=>({...xl(),...Jp(e,t),...yl(),...Kp(e,t)}));ge.subscribe(async(e,t)=>{if((e.reputation!==t.reputation||e.money!==t.money||e.upgrades!==t.upgrades||e.energy!==t.energy||e.day!==t.day)&&e.updateScore(),localStorage.setItem("save",JSON.stringify({difficulty:e.difficulty,error:e.error,choiceOptions:e.choiceOptions,choiceOptionCount:e.choiceOptionCount,draw:e.draw,hand:e.hand,discard:e.discard,upgrades:e.upgrades,cardModifiers:e.cardModifiers,day:e.day,energy:e.energy,energyMax:e.energyMax,reputation:e.reputation,notification:e.notification,dayFull:e.dayFull,sprintFull:e.sprintFull,money:e.money,reason:e.reason,isWon:e.isWon,operationInProgress:e.operationInProgress,isGameOver:e.isGameOver,infinityMode:e.infinityMode,logs:e.logs,score:e.score},(n,r)=>{if(!(typeof r=="function"&&!(n in e)))return r})),e.operationInProgress.join(",")!==t.operationInProgress.join("")&&e.operationInProgress.length===0){if(Ei(e)&&await e.addAchievement("Première victoire"),await e.checkAchievements(),e.checkDiscoveries(),Ei(e))e.win(),e.addWonGame();else if(!e.isGameOver){const n=mn(e);n&&(e.defeat(n),e.addPlayedGame())}}});const Qo=e=>e.value==="0"?l.jsx(l.Fragment,{}):l.jsx("div",{className:k("text-2xl font-changa border border-white px-1 bg-money text-money-foreground w-fit",{"text-md":e.miniature},e.className),style:e.style,children:l.jsxs("div",{style:{transform:e.miniature?"none":"translateZ(5px)"},children:[e.symbol?`${Number(e.value)>0?"+":""}${e.value}`:e.value,"M$"]})}),wl=_.createContext({degX:0,degY:0,isHovered:!1}),Ti={transformStyle:"preserve-3d"},_l=({max:e=20,reverse:t=!1,scale:n=1,perspective:r=1e3,className:o="",children:a,style:s})=>{const c=ye(b=>b.quality.tilt&&b.quality.animations),d=_.useRef(null),p=ns(d),[g,i]=_.useState({}),[u,f]=_.useState(0),[h,m]=_.useState(0),v=_.useCallback(b=>{if(d.current){const C=d.current.getBoundingClientRect(),E=b.clientX-C.left,j=b.clientY-C.top,N=C.width/2,M=C.height/2,T=(j-M)/M*e,A=(E-N)/N*e;f(t?T:-T),m(t?-A:A),i({...Ti,transform:`
            perspective(${r}px)
            rotateX(${t?T:-T}deg)
            rotateY(${t?-A:A}deg)
            scale(${n})
          `})}},[e,r,t,n]),y=_.useCallback(()=>{f(0),m(0),i({...Ti,transition:"transform 0.5s ease-in-out",transform:"scale(1)"})},[]);return _.useEffect(()=>{const b=d.current;return p?b&&(b.addEventListener("mousemove",v),b.addEventListener("mouseleave",y)):y(),()=>{b&&(b.removeEventListener("mousemove",v),b.removeEventListener("mouseleave",y)),y()}},[e,t,n,r,p]),c?l.jsx("div",{ref:d,className:k("will-change-transform",o),style:{...g,...s},children:l.jsx(wl.Provider,{value:{degX:u,degY:h,isHovered:p},children:a})}):l.jsx("div",{className:o,style:s,children:a})},Qp=()=>{const e=_.useContext(wl);return ye(n=>n.quality.foil)?l.jsxs("div",{className:"dark:opacity-70 absolute w-full h-full",style:{transformStyle:"flat"},children:[l.jsx("div",{className:k("absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out","bg-[url('/images/texture-black.png')] dark:bg-[url('/images/texture-white.png')]"),style:{opacity:e.isHovered?"15%":"10%",backgroundRepeat:"repeat",mixBlendMode:"multiply",maskImage:"radial-gradient(circle, black 0%, transparent 75%)",maskPosition:`${Math.floor(e.degX*10)}% ${Math.floor(e.degY*10)}%`}}),l.jsx("div",{className:"absolute w-full h-full rounded-xl transition-opacity duration-500 ease-out",style:{opacity:e.isHovered?"50%":"20%",backgroundImage:"linear-gradient(110deg,transparent 25%, hsla(var(--image-foil) / 0.6) 48%, hsla(var(--image-foil) / 0.3) 52%,transparent 75%)",backgroundPositionX:`${50+e.degY+-e.degX}%`,backgroundPositionY:"50%",backgroundSize:"200% 200%",backgroundRepeat:"no-repeat",mixBlendMode:"multiply"}})]}):l.jsx(l.Fragment,{})},bl=e=>{const t=ye(a=>({blur:a.quality.blur,shadows:a.quality.shadows,perspective:a.quality.perspective,animation:a.quality.animations,transparency:a.quality.transparency,tilt:a.quality.tilt})),n=ge(a=>{const s=dt(a,e.card,[]),c=Jo(a,s.cost);return{handSize:a.hand.length,operationInProgress:a.operationInProgress,play:a.playCard,pick:a.pickCard,isGameOver:a.isGameOver,parsedCost:s,energyColor:c,choiceOptions:a.choiceOptions,canTriggerEffect:!e.card.effect.condition||e.card.effect.condition(a,e.card)}}),r=typeof e.position=="number"?e.position-(n.handSize-1)/2:0,o=e.isChoice?n.operationInProgress.filter(a=>a!=="choices").length>0:n.operationInProgress.length>0;return l.jsx("div",{className:k("game-card","relative w-[210px] h-[293px]","-mx-3.5 z-10 hover:z-20 cursor-pointer select-none",{"cursor-not-allowed":o||!e.isChoice&&n.choiceOptions.length>0,[k("transition-transform",e.card.state)]:t.animation,[k({"-translate-y-14":e.card.state==="selected","hover:-translate-y-14":e.card.state!=="removing",grayscale:o||n.isGameOver||!n.parsedCost.canBeBuy||!n.canTriggerEffect})]:!e.isChoice}),onClick:async()=>{e.isChoice?n.choiceOptions.length>0&&!o&&await n.pick(e.card):n.choiceOptions.length===0&&!o&&!n.isGameOver&&await n.play(e.card,{reason:e.card})},onContextMenu:a=>{Vr(e.card)&&e.card.url&&(a.preventDefault(),window.open(e.card.url,"_blank"))},style:{marginBottom:`${20-Math.abs(r)*5}px`,rotate:`${r*2}deg`,transitionDuration:t.animation?"0.3s":"0",transitionTimingFunction:t.animation?"ease-in-out":"linear"},children:e.card.state==="removing"&&t.animation?l.jsx("div",{className:"relative",children:Math.random()<.5?l.jsx(Pi,{className:k("absolute scale-x-[-1]",{"text-card/60":t.transparency,"text-card":!t.transparency}),style:{maskClip:"fill-box"}}):l.jsx(Pi,{className:k("absolute",{"text-card/60":t.transparency,"text-card":!t.transparency}),style:{maskClip:"fill-box"}})}):e.card.state==="removed"?l.jsx(l.Fragment,{}):l.jsxs(_l,{scale:1.1,className:k("group/game-card","flex flex-col w-full h-full rounded-xl","*:shrink-0",{[k({"bg-card/60":t.transparency,"bg-card":!t.transparency})]:e.card.effect.type==="support","transition-shadow duration-200 ease-in-out hover:shadow-glow-20 shadow-primary":t.shadows,"shadow-glow-20 shadow-primary":e.card.state==="selected"}),children:[Vr(e.card)&&e.card.detail&&l.jsxs("div",{className:k("absolute pointer-events-none left-1/2 -top-[10px] -translate-x-1/2 -translate-y-full rounded-2xl bg-card","p-2 w-max max-w-full gap-1",{"shadow shadow-action":t.shadows,"transition-opacity duration-200 ease-in-out delay-1000":t.animation,"opacity-0 group-hover/game-card:opacity-100 flex":t.transparency,"hidden group-hover/game-card:flex":!t.transparency}),children:[l.jsx(Yp,{className:"w-10"}),l.jsx("div",{className:"flex-grow text-sm text-left",children:e.card.detail}),l.jsx(Zp,{className:"w-10 self-end"})]}),t.perspective&&t.tilt&&l.jsx("div",{className:k("absolute w-full h-full rounded-xl",{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transform:"translateZ(-20px)"}}),l.jsxs("div",{className:k("relative flex justify-start items-center h-10 rounded-t-xl",{"bg-action":e.card.effect.type==="action",[k({"bg-support/50":t.transparency,"bg-support":!t.transparency})]:e.card.effect.type==="support"}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[l.jsx("div",{className:"font-changa shrink-0 relative",style:{transform:`${t.perspective?"translateZ(5px)":""} translateX(${n.parsedCost.needs==="money"?"-15px":"-8px"})`,transformStyle:t.perspective?"preserve-3d":"flat"},children:n.parsedCost.needs==="energy"?l.jsx(Et,{isCost:!0,value:n.parsedCost.cost,colors:n.energyColor,style:{transform:t.perspective?"translateZ(5px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"}}):l.jsx(Qo,{value:String(n.parsedCost.cost),style:{transform:`${t.perspective?"translateZ(10px)":""} rotate(-10deg)`,transformStyle:t.perspective?"preserve-3d":"flat"}})}),l.jsx("h2",{className:k("absolute left-0 w-full text-center whitespace-nowrap overflow-hidden text-ellipsis shrink-0 flex-grow text-xl font-changa",{[k({"left-3 text-lg":n.parsedCost.needs==="money"&&e.card.name.length>7,"left-7":n.parsedCost.needs==="money"&&n.parsedCost.cost>99,"text-md":e.card.name.length>11})]:n.parsedCost.cost>0,"text-action-foreground":e.card.effect.type==="action","text-support-foreground":e.card.effect.type==="support"}),style:{transform:t.perspective?"translateZ(5px)":"none"},children:e.card.name})]}),Vr(e.card)?l.jsx(eh,{card:e.card}):l.jsx(nh,{card:e.card}),l.jsxs("div",{className:k("flex-grow rounded-b-xl",e.card.effect.type==="action"&&{"bg-card/60":t.transparency,"bg-card":!t.transparency}),style:{transformStyle:t.perspective?"preserve-3d":"flat"},children:[l.jsx("div",{className:"py-[10px] px-[15px] text-center",style:{transform:t.perspective?"translateZ(10px)":"none",transformStyle:t.perspective?"preserve-3d":"flat"},dangerouslySetInnerHTML:{__html:e.card.effect.description}}),e.card.effect.ephemeral&&l.jsx("div",{className:k("text-center h-full text-2xl font-bold",{"text-muted-foreground/30":t.transparency,"text-muted-foreground":!t.transparency}),children:"Éphémère"})]}),l.jsx(Aa,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0}),l.jsx(Aa,{groupName:"game-card",appearOnHover:!0,disappearOnCorners:!0,opposed:!0}),l.jsx(Qp,{})]})},e.card.name)},eh=e=>{const{shadows:t,perspective:n,transparency:r,animation:o}=ye(a=>({shadows:a.quality.shadows,perspective:a.quality.perspective,transparency:a.quality.transparency,animation:a.quality.animations}));return l.jsxs("div",{className:"group/image relative",style:{transformStyle:n?"preserve-3d":"flat"},children:[l.jsx("div",{className:k({"inset-shadow":t},"relative flex justify-center items-center"),style:{transformStyle:n?"preserve-3d":"flat"},children:l.jsx("img",{src:e.card.image,alt:`Illustration du projet "${e.card.name}"`,className:"w-full aspect-video object-cover",style:{transform:n?"translateZ(-15px)":"none"}})}),e.card.description&&l.jsx("div",{className:k("bottom-0 absolute w-full h-1/3 flex justify-center items-center",{"transition-opacity duration-1000":o,"group-hover/image:opacity-0 bg-background/50":r}),style:{transform:n?"translateZ(-5px)":"none"},children:l.jsxs("p",{className:"text-sm text-center",children:['"',e.card.description,'"']})})]})},th=["React","Knex"],nh=e=>{const{perspective:t,animation:n}=ye(r=>({perspective:r.quality.perspective,animation:r.quality.animations}));return l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex justify-center items-center mt-4",style:{transform:t?"translateZ(15px)":"none"},children:l.jsx("img",{src:e.card.image,alt:`Logo de la techno "${e.card.name}"`,className:k("w-2/3 object-contain aspect-video",{"group-hover/game-card:animate-spin-forward":n&&th.includes(e.card.name)})})})})},rh=e=>{const t=ge(),n=ye(s=>s.quality.animations),r=t.operationInProgress.filter(s=>s!=="choices").length>0,o=_.useMemo(()=>Math.floor(t.day)!==0&&Math.floor(t.day)%7===0,[t.day]),a=t.energy+t.reputation<qt||t.hand.length>=Re||t.draw.length===0||r;return _.useEffect(()=>{t.choiceOptions.length===0&&t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!1),t.choiceOptions.length>0&&!t.operationInProgress.includes("choices")&&t.setOperationInProgress("choices",!0)},[t.choiceOptions.length,t.operationInProgress]),l.jsx("div",{id:"actions",className:k("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 pointer-events-none",{"transition-opacity duration-500 ease-in-out":n,"opacity-100 pointer-events-auto":e.show}),children:l.jsxs("div",{className:"space-y-4 group/actions bg-background/80 p-2 rounded-xl relative",children:[l.jsx("h2",{className:k("text-3xl ml-2 select-none",t.choiceOptions.length>0&&t.choiceOptions[0].length<4?"text-left":"text-center"),children:t.choiceOptions.length>0?l.jsxs(l.Fragment,{children:["Choisis une carte"," ",o&&t.choiceOptions.length<=2&&l.jsx("span",{dangerouslySetInnerHTML:{__html:be(t.choiceOptions.length===1?"@upgrade":"@action")}})," ",t.choiceOptions.length>1&&!o&&`(x${t.choiceOptions.length})`]}):"Actions"}),t.choiceOptions.length===0?l.jsxs(I,{className:k("flex justify-start gap-2",{grayscale:a}),onClick:async()=>{t.setOperationInProgress("infinity-draw",!0),J.play.play(),await t.addEnergy(-qt,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.drawCard(1,{skipGameOverPause:!0,reason:"Bouton pioche"}),await t.advanceTime(qt),mn(t)&&await se(2e3),t.setOperationInProgress("infinity-draw",!1)},disabled:a,size:"cta",children:[l.jsx(Et,{value:qt,isCost:!0,className:"w-8 h-8",colors:Jo(t,qt)})," ","Piocher une carte"]}):l.jsxs(l.Fragment,{children:[l.jsxs(I,{className:"flex gap-3 absolute right-2 -top-2",disabled:r,onClick:async()=>{J.play.play(),await t.addEnergy(o&&t.choiceOptions.length===1?10:5,{reason:"Bouton passer",skipGameOverPause:!0}),t.dangerouslyUpdate({choiceOptions:t.choiceOptions.slice(1)})},children:[l.jsx(Et,{value:o&&t.choiceOptions.length===1?10:5,symbol:!0,miniature:!0,colors:"bg-energy"}),"Passer"]}),(t.choiceOptions[0].length===0&&t.dangerouslyUpdate({choiceOptions:t.choiceOptions.slice(1)}),l.jsxs("div",{className:k("flex justify-center",{"grid grid-cols-3":t.choiceOptions[0].length<3}),children:[l.jsx("div",{className:k({hidden:t.choiceOptions[0].length!==1})}),t.choiceOptions[0].map((s,c)=>l.jsx(bl,{card:ce(s,t),isChoice:!0},c))]}))]})]})})};function fn(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"})))}const oh=e=>{const t=ye(r=>({animations:r.quality.animations,transparency:r.quality.transparency})),n=ge(r=>({handOverflow:r.hand.length>=Re,almostEmptyDraw:r.draw.length<4&&r.draw.length>0,emptyDraw:r.draw.length===0,almostEmptyReputation:r.reputation<=5}));return e.show?l.jsx("div",{className:k("absolute right-0 -translate-x-8 top-[60%] rotate-3 pointer-events-none -translate-y-1/2",{"animate-pulse duration-700":t.animations&&t.transparency}),children:l.jsxs("div",{className:k("text-3xl flex flex-col gap-2","*:flex *:items-center *:gap-2",{"transition-[right] ease-in-out duration-1000":t.animations,[k("opacity-0",{"opacity-100":e.show})]:t.transparency,[k("hidden",{flex:e.show})]:!t.transparency}),children:[n.handOverflow&&l.jsxs("div",{children:[l.jsx(fn,{className:"w-10"})," Ta main est pleine !"]}),n.almostEmptyDraw&&l.jsxs("div",{children:[l.jsx(fn,{className:"w-10"})," Ta pioche est presque vide !"]}),n.emptyDraw&&l.jsxs("div",{children:[l.jsx(fn,{className:"w-10"})," Ta pioche est vide !"]}),n.almostEmptyReputation&&l.jsxs("div",{children:[l.jsx(fn,{className:"w-10"})," ",l.jsx("span",{dangerouslySetInnerHTML:{__html:be("Ta @reputation est basse !")}})]})]})}):null},ah=()=>{const e=ge(),t=e.operationInProgress.length>0;return l.jsxs("div",{className:"group-hover/debug:grid hidden grid-cols-2 gap-1 *:mx-auto",children:[l.jsx(I,{size:"cta",onClick:()=>{throw new Error("Test d'erreur")},children:"Déclencher une erreur"}),l.jsx(I,{size:"cta",onClick:()=>e.addNotification({header:"Test de notif",message:"Une notification",className:"bg-background text-foreground"}),children:"Déclencher une notification"}),l.jsx(I,{size:"cta",disabled:t,onClick:async()=>{const r=Math.round(1/ot);await e.advanceTime(r)},children:"Ajouter 1 jour"}),l.jsx(I,{size:"cta",disabled:t,className:"text-upgrade",onClick:async()=>{e.upgrades=[];for(const n of Cn)await Promise.all(new Array(n.max??10).fill(0).map(async(r,o)=>{await se(100*o),await e.upgrade(n.name)})),await e.removeCard(n.name)},children:"Toutes les améliorations"}),l.jsx(I,{size:"cta",disabled:t||e.hand.length===0,onClick:()=>{var n;return e.removeCard((n=e.hand[0])==null?void 0:n[0])},children:"Supprime la première carte"}),l.jsxs("div",{className:"flex",children:[l.jsx(I,{className:"text-green-500",onClick:()=>e.win(),disabled:t,children:"Win"}),l.jsx(I,{className:"text-red-500",onClick:()=>e.defeat("reputation"),disabled:t,children:"Lose"})]})]})},ih=()=>{const e=ge(r=>r.operationInProgress),[t,n]=_.useState([]);return _.useEffect(()=>{n(r=>[...r,e.join(" | ")].slice(-50))},[e]),l.jsxs(Sn,{className:k("group/debug absolute bottom-0 left-0 opacity-50 hover:opacity-100 z-50"),children:[l.jsxs("div",{className:e.length>0?"bg-red-500":"bg-green-500",children:["Operation in progress:",l.jsx("ul",{children:e.map((r,o)=>l.jsx("li",{children:r},o))})]}),l.jsx("div",{className:"group-hover/debug:block hidden",children:t.map((r,o)=>l.jsxs("div",{className:"whitespace-nowrap text-sm",children:["- ",r]},o))}),l.jsx(ah,{})]})},sh=e=>{const t=ye(({quality:{animations:r}})=>({animations:r})),n=ge(({hand:r,cards:o})=>({hand:r,cards:o}));return l.jsx("div",{id:"hand",className:k("absolute flex items-center -translate-x-1/2 max-w-[100vw] left-[50vw]",{" transition-[bottom] ease-in-out duration-1000":t.animations},e.show?"bottom-[-50px]":"-bottom-full"),children:n.hand.sort((r,o)=>{const a=ce(r,n),s=ce(o,n),c=a.effect.type==="action"?1:0,d=s.effect.type==="action"?1:0,p=typeof a.effect.cost=="string"?1:0,g=typeof s.effect.cost=="string"?1:0,i=Number(a.effect.cost),u=Number(s.effect.cost),f=a.effect.description.localeCompare(s.effect.description);return c-d||p-g||i-u||f}).map((r,o)=>l.jsx(bl,{card:ce(r,n),position:o},o))})},Sl=[{name:"Mel Andrew",score:121190,mode:"normal"},{name:"Ghom",score:3444,mode:"easy"},{name:"𝕺𝖓𝖞𝖝",score:5253,mode:"noob"},{name:"Placeholder",score:1500,mode:"normal"}],gn=["Si tu ne peux plus jouer de carte, tu perds la partie.","Quand une carte est jouée, elle va dans la défausse.","Les cartes @support sont importantes pour toujours avoir des cartes à jouer.","Certaines cartes coutent de l'argent pour être jouées.","Votre pioche est limitée. Jouez prudemment !","Les cartes @action ont une bannière bleue.","Lorsque tu n'as plus d'@energy, tu consommes la @reputation.","Si tu n'as plus de @reputation, tu perds la partie.","Les cartes éphémères sont détruites après utilisation.","Les effets des @upgrades sont cumulables !","Tu ne peux pas avoir plus de MAX_HAND_SIZE cartes en main.","Les cartes piochées en trop restent dans la pioche.","Le prix des cartes d'@upgrade augmente progressivement.","Si tu obtiens MONEY_TO_REACHM$, tu gagnes la partie.","Chaque @sprint contient une semaine (7 @days).","A la fin d'un @sprint, tu ajoutes une carte @upgrade et une carte @action à ton deck.","Chaque carte jouée fait avancer le temps.","Le clic droit sur une carte @action ouvre un onglet vers le projet.","Recycler une carte, c'est la sortir de la défausse pour la remettre dans la pioche.","Chaque @day, tu ajoutes une nouvelle carte à ta pioche.","Quittez et revenez quand vous le voulez, tout est sauvegardé !","Plus une carte jouée est chère, plus elle fait avancer le temps."];function lh(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M256 18.365L50.14 136 256 253.635 461.86 136 256 18.365zm-154 168L50.14 216 256 333.635 461.86 216 410 186.365l-154 88-154-88zm0 80L50.14 296 256 413.635 461.86 296 410 266.365l-154 88-154-88zm0 80L50.14 376 256 493.635 461.86 376 410 346.365l-154 88-154-88z",fill:"currentColor",fillOpacity:"1"}))))}function ch(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M150.79 479.797l-85.27-185.08c-3.13-6.79-.15-14.862 6.634-17.993l129.163-59.51c6.783-3.12 14.862-.15 17.987 6.646l85.283 185.067c3.13 6.802.15 14.863-6.646 18L168.79 486.43c-6.795 3.144-14.868.15-18-6.633zm26.17-69.31l15.318-44.522 44.522 15.32 7.66-22.253-44.523-15.318 15.325-44.522-22.252-7.66-15.325 44.516-44.515-15.324-7.66 22.258 44.516 15.324-15.324 44.522zm106.07-211.05c47.9-85.625-53.11-105.304-102.586-62.593l-38.9 51.353C105.95 210 97.853 175.98 109.226 158.424l54.106-73.515 97.158-52.146c7.108-5.2 17.838-8.133 32.767-8.445l194.467 1.463.866 112.044-107.304-7.725c1.818 43.394-42.734 53.08-66.683 106.905l-13.813 46.38c-30.217-10.16-41.29-34.367-17.76-83.95zm-129.828-3.077l39.046-51.33c12.434-10.477 29.51-17.675 46.92-17.375-15.264 16.008-20.158 25.557-23.475 39.046-8 19.775-17.74 29.69-30.366 23.296-10.712 10.322-21.412 14.87-32.125 6.364z",fill:"currentColor",fillOpacity:"1"}))))}function uh(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M382 136c-40.87 0-73.46 20.53-93.6 37.76l-.71.61-11.47 12.47 25.32 41.61 18.74-18.79C339.89 193.1 361.78 184 382 184c40.8 0 74 32.3 74 72s-33.2 72-74 72c-62 0-104.14-81.95-104.56-82.78C275 240.29 221.56 136 130 136 62.73 136 8 189.83 8 256s54.73 120 122 120c32.95 0 65.38-13.11 93.79-37.92l.61-.54 11.38-12.38-25.33-41.61-18.83 18.88C172 319.4 151.26 328 130 328c-40.8 0-74-32.3-74-72s33.2-72 74-72c62 0 104.14 81.95 104.56 82.78C237 271.71 290.44 376 382 376c67.27 0 122-53.83 122-120s-54.73-120-122-120z"})))}function dh(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"})))}function fh(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),_.createElement("path",{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"})))}function ph(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8c12.3-2.5 24.1-6.4 35.1-11.5c-2.1-10.8-3.1-21.9-3.1-33.3c0-80.3 53.8-148 127.3-169.2c.5-2.2 .7-4.5 .7-6.8c0-17.7-14.3-32-32-32H32zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm47.9-225c4.3 3.7 5.4 9.9 2.6 14.9L452.4 356H488c5.2 0 9.8 3.3 11.4 8.2s-.1 10.3-4.2 13.4l-96 72c-4.5 3.4-10.8 3.2-15.1-.6s-5.4-9.9-2.6-14.9L411.6 380H376c-5.2 0-9.8-3.3-11.4-8.2s.1-10.3 4.2-13.4l96-72c4.5-3.4 10.8-3.2 15.1 .6z"})))}function hh(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_.createElement("g",null,_.createElement("path",{d:"M256 24c-31.466 48-62.932 96-62.932 160 0 56.794 37.144 113.568 45.514 148h34.836c8.37-34.432 45.514-91.206 45.514-148 0-64-31.466-112-62.932-160zM98.637 206c-47.2 0-78.664 32-78.664 80 0 32 22.115 63.526 62.93 64-15.732-16 .002-64 31.468-64 31.89 0 56.58 21.916 69.253 46h33.828c-13.744-47.52-49.108-126-118.813-126zm314.726 0c-69.705 0-105.07 78.48-118.814 126h33.827c12.673-24.084 37.362-46 69.252-46 31.465 0 47.2 48 31.466 64 40.816-.474 62.93-32 62.93-64 0-48-31.464-80-78.663-80zM153.076 350c-38.705 0-54.44 16-54.44 48 0 16 15.734 48 47.2 48 35.4 0 61.948-27 73.01-54h-35.682c-4.657 3.57-11.5 6-21.596 6-15.733 0-31.464-32-8.492-48zm37.694 0c.017.064.03.127.048.19-13.29 2.16-12.694 23.343 1.793 23.79v.02H319.39l-.003-.02c14.486-.447 15.083-21.63 1.792-23.79.017-.063.03-.126.048-.19H190.77zm168.154 0c22.972 16 7.24 48-8.492 48-10.096 0-16.94-2.43-21.596-6h-35.682c11.062 27 37.61 54 73.01 54 31.466 0 47.2-32 47.2-48 0-32-15.735-48-54.44-48zm-118.656 42c-15.733 16-15.734 48-31.467 64l31.468-16c0 16 0 32 15.732 48 15.733-16 15.732-32 15.732-48l31.467 16c-15.734-16-15.735-48-31.468-64h-31.464z",fill:"currentColor",fillOpacity:"1"}))))}const Nn=({iconClassName:e,barClassName:t,value:n,display:r,max:o,color:a,title:s,increaseOnly:c,...d})=>l.jsxs("div",{...d,className:k("flex items-center h-7 w-full",d.className),children:[l.jsx(Et,{title:s,value:r?r(n/o):n,miniature:!0,colors:a??"bg-primary",className:k("absolute z-50",e)}),l.jsx(_r,{barColor:a,className:k(t,"ml-[30px] rounded-l-none"),value:n/o*100,increaseOnly:c})]}),mh=e=>{const t=ge(r=>r.cards),n=Array.isArray(e.item)?e.item.length===2?ce(e.item,{cards:t}):It(e.item):e.item;return l.jsxs("span",{className:k("inline-flex items-center h-7 w-full rounded-full",typeof n=="string"?"":{"bg-action text-action-foreground":n.type==="action","bg-support text-support-foreground":n.type==="support","bg-upgrade text-upgrade-foreground":n.type==="upgrade"}),children:[typeof n=="object"&&l.jsx(Cl,{item:n}),l.jsx("div",{className:"px-2",children:typeof n=="object"?n.name:n})]})},Cl=({item:e,...t})=>l.jsx("img",{...t,src:e.type==="upgrade"?`images/upgrades/${e.image}`:e.image,alt:`miniature of ${e.name} ${e.type}`,className:k("aspect-square rounded-full h-full bg-background",{"object-cover":e.type==="upgrade"||e.type==="action","object-contain":e.type==="support","ring-upgrade shadow ring-4":e.type==="upgrade","ring-action ring-4":e.type==="action","ring-support ring-4":e.type==="support"},t.className)});var gh="Separator",Ni="horizontal",vh=["horizontal","vertical"],kl=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=Ni,...o}=e,a=yh(r)?r:Ni,c=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(pe.div,{"data-orientation":a,...c,...o,ref:t})});kl.displayName=gh;function yh(e){return vh.includes(e)}var El=kl;const yo=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>l.jsx(El,{ref:o,decorative:n,orientation:t,className:k("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));yo.displayName=El.displayName;function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ht(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=xh({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,c=ht(n),d=x.useCallback(p=>{if(a){const i=typeof p=="function"?p(e):p;i!==e&&c(i)}else o(p)},[a,e,o,c]);return[s,d]}function xh({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,o=x.useRef(r),a=ht(t);return x.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}const wh=["top","right","bottom","left"],it=Math.min,We=Math.max,pr=Math.round,Mn=Math.floor,jt=e=>({x:e,y:e}),_h={left:"right",right:"left",bottom:"top",top:"bottom"},bh={start:"end",end:"start"};function xo(e,t,n){return We(e,it(t,n))}function mt(e,t){return typeof e=="function"?e(t):e}function gt(e){return e.split("-")[0]}function nn(e){return e.split("-")[1]}function ea(e){return e==="x"?"y":"x"}function ta(e){return e==="y"?"height":"width"}function Pt(e){return["top","bottom"].includes(gt(e))?"y":"x"}function na(e){return ea(Pt(e))}function Sh(e,t,n){n===void 0&&(n=!1);const r=nn(e),o=na(e),a=ta(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=hr(s)),[s,hr(s)]}function Ch(e){const t=hr(e);return[wo(e),t,wo(t)]}function wo(e){return e.replace(/start|end/g,t=>bh[t])}function kh(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:s;default:return[]}}function Eh(e,t,n,r){const o=nn(e);let a=kh(gt(e),n==="start",r);return o&&(a=a.map(s=>s+"-"+o),t&&(a=a.concat(a.map(wo)))),a}function hr(e){return e.replace(/left|right|bottom|top/g,t=>_h[t])}function jh(e){return{top:0,right:0,bottom:0,left:0,...e}}function jl(e){return typeof e!="number"?jh(e):{top:e,right:e,bottom:e,left:e}}function mr(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Mi(e,t,n){let{reference:r,floating:o}=e;const a=Pt(t),s=na(t),c=ta(s),d=gt(t),p=a==="y",g=r.x+r.width/2-o.width/2,i=r.y+r.height/2-o.height/2,u=r[c]/2-o[c]/2;let f;switch(d){case"top":f={x:g,y:r.y-o.height};break;case"bottom":f={x:g,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:i};break;case"left":f={x:r.x-o.width,y:i};break;default:f={x:r.x,y:r.y}}switch(nn(t)){case"start":f[s]-=u*(n&&p?-1:1);break;case"end":f[s]+=u*(n&&p?-1:1);break}return f}const Ph=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,c=a.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let p=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:i}=Mi(p,r,d),u=r,f={},h=0;for(let m=0;m<c.length;m++){const{name:v,fn:y}=c[m],{x:b,y:C,data:E,reset:j}=await y({x:g,y:i,initialPlacement:r,placement:u,strategy:o,middlewareData:f,rects:p,platform:s,elements:{reference:e,floating:t}});g=b??g,i=C??i,f={...f,[v]:{...f[v],...E}},j&&h<=50&&(h++,typeof j=="object"&&(j.placement&&(u=j.placement),j.rects&&(p=j.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:g,y:i}=Mi(p,u,d)),m=-1)}return{x:g,y:i,placement:u,strategy:o,middlewareData:f}};async function _n(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:c,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:i="floating",altBoundary:u=!1,padding:f=0}=mt(t,e),h=jl(f),v=c[u?i==="floating"?"reference":"floating":i],y=mr(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:g,strategy:d})),b=i==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),E=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},j=mr(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:C,strategy:d}):b);return{top:(y.top-j.top+h.top)/E.y,bottom:(j.bottom-y.bottom+h.bottom)/E.y,left:(y.left-j.left+h.left)/E.x,right:(j.right-y.right+h.right)/E.x}}const Ah=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:s,elements:c,middlewareData:d}=t,{element:p,padding:g=0}=mt(e,t)||{};if(p==null)return{};const i=jl(g),u={x:n,y:r},f=na(o),h=ta(f),m=await s.getDimensions(p),v=f==="y",y=v?"top":"left",b=v?"bottom":"right",C=v?"clientHeight":"clientWidth",E=a.reference[h]+a.reference[f]-u[f]-a.floating[h],j=u[f]-a.reference[f],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(p));let M=N?N[C]:0;(!M||!await(s.isElement==null?void 0:s.isElement(N)))&&(M=c.floating[C]||a.floating[h]);const T=E/2-j/2,A=M/2-m[h]/2-1,q=it(i[y],A),K=it(i[b],A),he=q,ue=M-m[h]-K,Y=M/2-m[h]/2+T,X=xo(he,Y,ue),te=!d.arrow&&nn(o)!=null&&Y!==X&&a.reference[h]/2-(Y<he?q:K)-m[h]/2<0,Z=te?Y<he?Y-he:Y-ue:0;return{[f]:u[f]+Z,data:{[f]:X,centerOffset:Y-X-Z,...te&&{alignmentOffset:Z}},reset:te}}}),Th=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:s,initialPlacement:c,platform:d,elements:p}=t,{mainAxis:g=!0,crossAxis:i=!0,fallbackPlacements:u,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=mt(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=gt(o),b=Pt(c),C=gt(c)===c,E=await(d.isRTL==null?void 0:d.isRTL(p.floating)),j=u||(C||!m?[hr(c)]:Ch(c)),N=h!=="none";!u&&N&&j.push(...Eh(c,m,h,E));const M=[c,...j],T=await _n(t,v),A=[];let q=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&A.push(T[y]),i){const Y=Sh(o,s,E);A.push(T[Y[0]],T[Y[1]])}if(q=[...q,{placement:o,overflows:A}],!A.every(Y=>Y<=0)){var K,he;const Y=(((K=a.flip)==null?void 0:K.index)||0)+1,X=M[Y];if(X)return{data:{index:Y,overflows:q},reset:{placement:X}};let te=(he=q.filter(Z=>Z.overflows[0]<=0).sort((Z,me)=>Z.overflows[1]-me.overflows[1])[0])==null?void 0:he.placement;if(!te)switch(f){case"bestFit":{var ue;const Z=(ue=q.filter(me=>{if(N){const xe=Pt(me.placement);return xe===b||xe==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(xe=>xe>0).reduce((xe,S)=>xe+S,0)]).sort((me,xe)=>me[1]-xe[1])[0])==null?void 0:ue[0];Z&&(te=Z);break}case"initialPlacement":te=c;break}if(o!==te)return{reset:{placement:te}}}return{}}}};function Ri(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oi(e){return wh.some(t=>e[t]>=0)}const Nh=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=mt(e,t);switch(r){case"referenceHidden":{const a=await _n(t,{...o,elementContext:"reference"}),s=Ri(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Oi(s)}}}case"escaped":{const a=await _n(t,{...o,altBoundary:!0}),s=Ri(a,n.floating);return{data:{escapedOffsets:s,escaped:Oi(s)}}}default:return{}}}}};async function Mh(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=gt(n),c=nn(n),d=Pt(n)==="y",p=["left","top"].includes(s)?-1:1,g=a&&d?-1:1,i=mt(t,e);let{mainAxis:u,crossAxis:f,alignmentAxis:h}=typeof i=="number"?{mainAxis:i,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...i};return c&&typeof h=="number"&&(f=c==="end"?h*-1:h),d?{x:f*g,y:u*p}:{x:u*p,y:f*g}}const Rh=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:s,middlewareData:c}=t,d=await Mh(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:s}}}}},Oh=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:c={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...d}=mt(e,t),p={x:n,y:r},g=await _n(t,d),i=Pt(gt(o)),u=ea(i);let f=p[u],h=p[i];if(a){const v=u==="y"?"top":"left",y=u==="y"?"bottom":"right",b=f+g[v],C=f-g[y];f=xo(b,f,C)}if(s){const v=i==="y"?"top":"left",y=i==="y"?"bottom":"right",b=h+g[v],C=h-g[y];h=xo(b,h,C)}const m=c.fn({...t,[u]:f,[i]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Ih=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:d=!0,crossAxis:p=!0}=mt(e,t),g={x:n,y:r},i=Pt(o),u=ea(i);let f=g[u],h=g[i];const m=mt(c,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(d){const C=u==="y"?"height":"width",E=a.reference[u]-a.floating[C]+v.mainAxis,j=a.reference[u]+a.reference[C]-v.mainAxis;f<E?f=E:f>j&&(f=j)}if(p){var y,b;const C=u==="y"?"width":"height",E=["top","left"].includes(gt(o)),j=a.reference[i]-a.floating[C]+(E&&((y=s.offset)==null?void 0:y[i])||0)+(E?0:v.crossAxis),N=a.reference[i]+a.reference[C]+(E?0:((b=s.offset)==null?void 0:b[i])||0)-(E?v.crossAxis:0);h<j?h=j:h>N&&(h=N)}return{[u]:f,[i]:h}}}},Dh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:s=()=>{},...c}=mt(e,t),d=await _n(t,c),p=gt(n),g=nn(n),i=Pt(n)==="y",{width:u,height:f}=r.floating;let h,m;p==="top"||p==="bottom"?(h=p,m=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=p,h=g==="end"?"top":"bottom");const v=f-d.top-d.bottom,y=u-d.left-d.right,b=it(f-d[h],v),C=it(u-d[m],y),E=!t.middlewareData.shift;let j=b,N=C;if(i?N=g||E?it(C,y):y:j=g||E?it(b,v):v,E&&!g){const T=We(d.left,0),A=We(d.right,0),q=We(d.top,0),K=We(d.bottom,0);i?N=u-2*(T!==0||A!==0?T+A:We(d.left,d.right)):j=f-2*(q!==0||K!==0?q+K:We(d.top,d.bottom))}await s({...t,availableWidth:N,availableHeight:j});const M=await o.getDimensions(a.floating);return u!==M.width||f!==M.height?{reset:{rects:!0}}:{}}}};function rn(e){return Pl(e)?(e.nodeName||"").toLowerCase():"#document"}function Ve(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vt(e){var t;return(t=(Pl(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pl(e){return e instanceof Node||e instanceof Ve(e).Node}function Ze(e){return e instanceof Element||e instanceof Ve(e).Element}function st(e){return e instanceof HTMLElement||e instanceof Ve(e).HTMLElement}function Ii(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ve(e).ShadowRoot}function En(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ke(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function $h(e){return["table","td","th"].includes(rn(e))}function Pr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ra(e){const t=oa(),n=Ze(e)?Ke(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Fh(e){let t=At(e);for(;st(t)&&!Qt(t);){if(ra(t))return t;if(Pr(t))return null;t=At(t)}return null}function oa(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qt(e){return["html","body","#document"].includes(rn(e))}function Ke(e){return Ve(e).getComputedStyle(e)}function Ar(e){return Ze(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function At(e){if(rn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ii(e)&&e.host||vt(e);return Ii(t)?t.host:t}function Al(e){const t=At(e);return Qt(t)?e.ownerDocument?e.ownerDocument.body:e.body:st(t)&&En(t)?t:Al(t)}function bn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Al(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),s=Ve(o);if(a){const c=_o(s);return t.concat(s,s.visualViewport||[],En(o)?o:[],c&&n?bn(c):[])}return t.concat(o,bn(o,[],n))}function _o(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tl(e){const t=Ke(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=st(e),a=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=pr(n)!==a||pr(r)!==s;return c&&(n=a,r=s),{width:n,height:r,$:c}}function aa(e){return Ze(e)?e:e.contextElement}function Yt(e){const t=aa(e);if(!st(t))return jt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=Tl(t);let s=(a?pr(n.width):n.width)/r,c=(a?pr(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Lh=jt(0);function Nl(e){const t=Ve(e);return!oa()||!t.visualViewport?Lh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bh(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ve(e)?!1:t}function $t(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=aa(e);let s=jt(1);t&&(r?Ze(r)&&(s=Yt(r)):s=Yt(e));const c=Bh(a,n,r)?Nl(a):jt(0);let d=(o.left+c.x)/s.x,p=(o.top+c.y)/s.y,g=o.width/s.x,i=o.height/s.y;if(a){const u=Ve(a),f=r&&Ze(r)?Ve(r):r;let h=u,m=_o(h);for(;m&&r&&f!==h;){const v=Yt(m),y=m.getBoundingClientRect(),b=Ke(m),C=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,E=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;d*=v.x,p*=v.y,g*=v.x,i*=v.y,d+=C,p+=E,h=Ve(m),m=_o(h)}}return mr({width:g,height:i,x:d,y:p})}function Hh(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",s=vt(r),c=t?Pr(t.floating):!1;if(r===s||c&&a)return n;let d={scrollLeft:0,scrollTop:0},p=jt(1);const g=jt(0),i=st(r);if((i||!i&&!a)&&((rn(r)!=="body"||En(s))&&(d=Ar(r)),st(r))){const u=$t(r);p=Yt(r),g.x=u.x+r.clientLeft,g.y=u.y+r.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+g.x,y:n.y*p.y-d.scrollTop*p.y+g.y}}function Gh(e){return Array.from(e.getClientRects())}function Ml(e){return $t(vt(e)).left+Ar(e).scrollLeft}function zh(e){const t=vt(e),n=Ar(e),r=e.ownerDocument.body,o=We(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=We(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ml(e);const c=-n.scrollTop;return Ke(r).direction==="rtl"&&(s+=We(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:s,y:c}}function Wh(e,t){const n=Ve(e),r=vt(e),o=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,c=0,d=0;if(o){a=o.width,s=o.height;const p=oa();(!p||p&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:a,height:s,x:c,y:d}}function Vh(e,t){const n=$t(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=st(e)?Yt(e):jt(1),s=e.clientWidth*a.x,c=e.clientHeight*a.y,d=o*a.x,p=r*a.y;return{width:s,height:c,x:d,y:p}}function Di(e,t,n){let r;if(t==="viewport")r=Wh(e,n);else if(t==="document")r=zh(vt(e));else if(Ze(t))r=Vh(t,n);else{const o=Nl(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return mr(r)}function Rl(e,t){const n=At(e);return n===t||!Ze(n)||Qt(n)?!1:Ke(n).position==="fixed"||Rl(n,t)}function qh(e,t){const n=t.get(e);if(n)return n;let r=bn(e,[],!1).filter(c=>Ze(c)&&rn(c)!=="body"),o=null;const a=Ke(e).position==="fixed";let s=a?At(e):e;for(;Ze(s)&&!Qt(s);){const c=Ke(s),d=ra(s);!d&&c.position==="fixed"&&(o=null),(a?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||En(s)&&!d&&Rl(e,s))?r=r.filter(g=>g!==s):o=c,s=At(s)}return t.set(e,r),r}function Uh(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Pr(t)?[]:qh(t,this._c):[].concat(n),r],c=s[0],d=s.reduce((p,g)=>{const i=Di(t,g,o);return p.top=We(i.top,p.top),p.right=it(i.right,p.right),p.bottom=it(i.bottom,p.bottom),p.left=We(i.left,p.left),p},Di(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Xh(e){const{width:t,height:n}=Tl(e);return{width:t,height:n}}function Yh(e,t,n){const r=st(t),o=vt(t),a=n==="fixed",s=$t(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=jt(0);if(r||!r&&!a)if((rn(t)!=="body"||En(o))&&(c=Ar(t)),r){const i=$t(t,!0,a,t);d.x=i.x+t.clientLeft,d.y=i.y+t.clientTop}else o&&(d.x=Ml(o));const p=s.left+c.scrollLeft-d.x,g=s.top+c.scrollTop-d.y;return{x:p,y:g,width:s.width,height:s.height}}function qr(e){return Ke(e).position==="static"}function $i(e,t){return!st(e)||Ke(e).position==="fixed"?null:t?t(e):e.offsetParent}function Ol(e,t){const n=Ve(e);if(Pr(e))return n;if(!st(e)){let o=At(e);for(;o&&!Qt(o);){if(Ze(o)&&!qr(o))return o;o=At(o)}return n}let r=$i(e,t);for(;r&&$h(r)&&qr(r);)r=$i(r,t);return r&&Qt(r)&&qr(r)&&!ra(r)?n:r||Fh(e)||n}const Zh=async function(e){const t=this.getOffsetParent||Ol,n=this.getDimensions,r=await n(e.floating);return{reference:Yh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Kh(e){return Ke(e).direction==="rtl"}const Jh={convertOffsetParentRelativeRectToViewportRelativeRect:Hh,getDocumentElement:vt,getClippingRect:Uh,getOffsetParent:Ol,getElementRects:Zh,getClientRects:Gh,getDimensions:Xh,getScale:Yt,isElement:Ze,isRTL:Kh};function Qh(e,t){let n=null,r;const o=vt(e);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const{left:p,top:g,width:i,height:u}=e.getBoundingClientRect();if(c||t(),!i||!u)return;const f=Mn(g),h=Mn(o.clientWidth-(p+i)),m=Mn(o.clientHeight-(g+u)),v=Mn(p),b={rootMargin:-f+"px "+-h+"px "+-m+"px "+-v+"px",threshold:We(0,it(1,d))||1};let C=!0;function E(j){const N=j[0].intersectionRatio;if(N!==d){if(!C)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(E,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return s(!0),a}function em(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=aa(e),g=o||a?[...p?bn(p):[],...bn(t)]:[];g.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const i=p&&c?Qh(p,n):null;let u=-1,f=null;s&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===p&&f&&(f.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var C;(C=f)==null||C.observe(t)})),n()}),p&&!d&&f.observe(p),f.observe(t));let h,m=d?$t(e):null;d&&v();function v(){const y=$t(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,h=requestAnimationFrame(v)}return n(),()=>{var y;g.forEach(b=>{o&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),i==null||i(),(y=f)==null||y.disconnect(),f=null,d&&cancelAnimationFrame(h)}}const tm=Rh,nm=Oh,rm=Th,om=Dh,am=Nh,Fi=Ah,im=Ih,sm=(e,t,n)=>{const r=new Map,o={platform:Jh,...n},a={...o.platform,_c:r};return Ph(e,t,{...o,platform:a})};var Yn=typeof document<"u"?x.useLayoutEffect:x.useEffect;function gr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gr(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!gr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Il(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Li(e,t){const n=Il(e);return Math.round(t*n)/n}function Bi(e){const t=x.useRef(e);return Yn(()=>{t.current=e}),t}function lm(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:d,open:p}=e,[g,i]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,f]=x.useState(r);gr(u,r)||f(r);const[h,m]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(Z=>{Z!==N.current&&(N.current=Z,m(Z))},[]),C=x.useCallback(Z=>{Z!==M.current&&(M.current=Z,y(Z))},[]),E=a||h,j=s||v,N=x.useRef(null),M=x.useRef(null),T=x.useRef(g),A=d!=null,q=Bi(d),K=Bi(o),he=x.useCallback(()=>{if(!N.current||!M.current)return;const Z={placement:t,strategy:n,middleware:u};K.current&&(Z.platform=K.current),sm(N.current,M.current,Z).then(me=>{const xe={...me,isPositioned:!0};ue.current&&!gr(T.current,xe)&&(T.current=xe,jo.flushSync(()=>{i(xe)}))})},[u,t,n,K]);Yn(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,i(Z=>({...Z,isPositioned:!1})))},[p]);const ue=x.useRef(!1);Yn(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Yn(()=>{if(E&&(N.current=E),j&&(M.current=j),E&&j){if(q.current)return q.current(E,j,he);he()}},[E,j,he,q,A]);const Y=x.useMemo(()=>({reference:N,floating:M,setReference:b,setFloating:C}),[b,C]),X=x.useMemo(()=>({reference:E,floating:j}),[E,j]),te=x.useMemo(()=>{const Z={position:n,left:0,top:0};if(!X.floating)return Z;const me=Li(X.floating,g.x),xe=Li(X.floating,g.y);return c?{...Z,transform:"translate("+me+"px, "+xe+"px)",...Il(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:xe}},[n,c,X.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:he,refs:Y,elements:X,floatingStyles:te}),[g,he,Y,X,te])}const cm=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Fi({element:r.current,padding:o}).fn(n):{}:r?Fi({element:r,padding:o}).fn(n):{}}}},um=(e,t)=>({...tm(e),options:[e,t]}),dm=(e,t)=>({...nm(e),options:[e,t]}),fm=(e,t)=>({...im(e),options:[e,t]}),pm=(e,t)=>({...rm(e),options:[e,t]}),hm=(e,t)=>({...om(e),options:[e,t]}),mm=(e,t)=>({...am(e),options:[e,t]}),gm=(e,t)=>({...cm(e),options:[e,t]});var vm="Arrow",Dl=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return l.jsx(pe.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dl.displayName=vm;var ym=Dl,Ft=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function ia(e){const[t,n]=x.useState(void 0);return Ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,c;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;s=p.inlineSize,c=p.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var sa="Popper",[$l,Fl]=lt(sa),[xm,Ll]=$l(sa),Bl=e=>{const{__scopePopper:t,children:n}=e,[r,o]=x.useState(null);return l.jsx(xm,{scope:t,anchor:r,onAnchorChange:o,children:n})};Bl.displayName=sa;var Hl="PopperAnchor",Gl=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=Ll(Hl,n),s=x.useRef(null),c=Se(t,s);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:l.jsx(pe.div,{...o,ref:c})});Gl.displayName=Hl;var la="PopperContent",[wm,_m]=$l(la),zl=x.forwardRef((e,t)=>{var D,G,Q,ae,ne,ie;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:i="partial",hideWhenDetached:u=!1,updatePositionStrategy:f="optimized",onPlaced:h,...m}=e,v=Ll(la,n),[y,b]=x.useState(null),C=Se(t,de=>b(de)),[E,j]=x.useState(null),N=ia(E),M=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,A=r+(a!=="center"?"-"+a:""),q=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},K=Array.isArray(p)?p:[p],he=K.length>0,ue={padding:q,boundary:K.filter(Sm),altBoundary:he},{refs:Y,floatingStyles:X,placement:te,isPositioned:Z,middlewareData:me}=lm({strategy:"fixed",placement:A,whileElementsMounted:(...de)=>em(...de,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[um({mainAxis:o+T,alignmentAxis:s}),d&&dm({mainAxis:!0,crossAxis:!1,limiter:i==="partial"?fm():void 0,...ue}),d&&pm({...ue}),hm({...ue,apply:({elements:de,rects:U,availableWidth:je,availableHeight:Oe})=>{const{width:Ie,height:Ye}=U.reference,qe=de.floating.style;qe.setProperty("--radix-popper-available-width",`${je}px`),qe.setProperty("--radix-popper-available-height",`${Oe}px`),qe.setProperty("--radix-popper-anchor-width",`${Ie}px`),qe.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),E&&gm({element:E,padding:c}),Cm({arrowWidth:M,arrowHeight:T}),u&&mm({strategy:"referenceHidden",...ue})]}),[xe,S]=ql(te),w=ht(h);Ft(()=>{Z&&(w==null||w())},[Z,w]);const O=(D=me.arrow)==null?void 0:D.x,$=(G=me.arrow)==null?void 0:G.y,B=((Q=me.arrow)==null?void 0:Q.centerOffset)!==0,[H,W]=x.useState();return Ft(()=>{y&&W(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:Z?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(ae=me.transformOrigin)==null?void 0:ae.x,(ne=me.transformOrigin)==null?void 0:ne.y].join(" "),...((ie=me.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(wm,{scope:n,placedSide:xe,onArrowChange:j,arrowX:O,arrowY:$,shouldHideArrow:B,children:l.jsx(pe.div,{"data-side":xe,"data-align":S,...m,ref:C,style:{...m.style,animation:Z?void 0:"none"}})})})});zl.displayName=la;var Wl="PopperArrow",bm={top:"bottom",right:"left",bottom:"top",left:"right"},Vl=x.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=_m(Wl,r),s=bm[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(ym,{...o,ref:n,style:{...o.style,display:"block"}})})});Vl.displayName=Wl;function Sm(e){return e!==null}var Cm=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:n,rects:r,middlewareData:o}=t,s=((v=o.arrow)==null?void 0:v.centerOffset)!==0,c=s?0:e.arrowWidth,d=s?0:e.arrowHeight,[p,g]=ql(n),i={start:"0%",center:"50%",end:"100%"}[g],u=(((y=o.arrow)==null?void 0:y.x)??0)+c/2,f=(((b=o.arrow)==null?void 0:b.y)??0)+d/2;let h="",m="";return p==="bottom"?(h=s?i:`${u}px`,m=`${-d}px`):p==="top"?(h=s?i:`${u}px`,m=`${r.floating.height+d}px`):p==="right"?(h=`${-d}px`,m=s?i:`${f}px`):p==="left"&&(h=`${r.floating.width+d}px`,m=s?i:`${f}px`),{data:{x:h,y:m}}}});function ql(e){const[t,n="center"]=e.split("-");return[t,n]}var km=Bl,Em=Gl,jm=zl,Pm=Vl,Am="Portal",Ul=x.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,a]=x.useState(!1);Ft(()=>a(!0),[]);const s=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return s?rd.createPortal(l.jsx(pe.div,{...r,ref:t}),s):null});Ul.displayName=Am;function Tm(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Ht=e=>{const{present:t,children:n}=e,r=Nm(t),o=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=Se(r.ref,Mm(o));return typeof n=="function"||r.isPresent?x.cloneElement(o,{ref:a}):null};Ht.displayName="Presence";function Nm(e){const[t,n]=x.useState(),r=x.useRef({}),o=x.useRef(e),a=x.useRef("none"),s=e?"mounted":"unmounted",[c,d]=Tm(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=Rn(r.current);a.current=c==="mounted"?p:"none"},[c]),Ft(()=>{const p=r.current,g=o.current;if(g!==e){const u=a.current,f=Rn(p);e?d("MOUNT"):f==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(g&&u!==f?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Ft(()=>{if(t){const p=i=>{const f=Rn(r.current).includes(i.animationName);i.target===t&&f&&jo.flushSync(()=>d("ANIMATION_END"))},g=i=>{i.target===t&&(a.current=Rn(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Rn(e){return(e==null?void 0:e.animationName)||"none"}function Mm(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rm(e,t=globalThis==null?void 0:globalThis.document){const n=ht(e);x.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Om="DismissableLayer",bo="dismissableLayer.update",Im="dismissableLayer.pointerDownOutside",Dm="dismissableLayer.focusOutside",Hi,Xl=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ca=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:c,...d}=e,p=x.useContext(Xl),[g,i]=x.useState(null),u=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),h=Se(t,M=>i(M)),m=Array.from(p.layers),[v]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=g?m.indexOf(g):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,E=b>=y,j=Lm(M=>{const T=M.target,A=[...p.branches].some(q=>q.contains(T));!E||A||(o==null||o(M),s==null||s(M),M.defaultPrevented||c==null||c())},u),N=Bm(M=>{const T=M.target;[...p.branches].some(q=>q.contains(T))||(a==null||a(M),s==null||s(M),M.defaultPrevented||c==null||c())},u);return Rm(M=>{b===p.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},u),x.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Hi=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Gi(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=Hi)}},[g,u,n,p]),x.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Gi())},[g,p]),x.useEffect(()=>{const M=()=>f({});return document.addEventListener(bo,M),()=>document.removeEventListener(bo,M)},[]),l.jsx(pe.div,{...d,ref:h,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,j.onPointerDownCapture)})});ca.displayName=Om;var $m="DismissableLayerBranch",Fm=x.forwardRef((e,t)=>{const n=x.useContext(Xl),r=x.useRef(null),o=Se(t,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(pe.div,{...e,ref:o})});Fm.displayName=$m;function Lm(e,t=globalThis==null?void 0:globalThis.document){const n=ht(e),r=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){Yl(Im,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Bm(e,t=globalThis==null?void 0:globalThis.document){const n=ht(e),r=x.useRef(!1);return x.useEffect(()=>{const o=a=>{a.target&&!r.current&&Yl(Dm,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gi(){const e=new CustomEvent(bo);document.dispatchEvent(e)}function Yl(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?od(o,a):o.dispatchEvent(a)}var Ur,ua="HoverCard",[Zl,G1]=lt(ua,[Fl]),Tr=Fl(),[Hm,da]=Zl(ua),Kl=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:o,onOpenChange:a,openDelay:s=700,closeDelay:c=300}=e,d=Tr(t),p=x.useRef(0),g=x.useRef(0),i=x.useRef(!1),u=x.useRef(!1),[f=!1,h]=kn({prop:r,defaultProp:o,onChange:a}),m=x.useCallback(()=>{clearTimeout(g.current),p.current=window.setTimeout(()=>h(!0),s)},[s,h]),v=x.useCallback(()=>{clearTimeout(p.current),!i.current&&!u.current&&(g.current=window.setTimeout(()=>h(!1),c))},[c,h]),y=x.useCallback(()=>h(!1),[h]);return x.useEffect(()=>()=>{clearTimeout(p.current),clearTimeout(g.current)},[]),l.jsx(Hm,{scope:t,open:f,onOpenChange:h,onOpen:m,onClose:v,onDismiss:y,hasSelectionRef:i,isPointerDownOnContentRef:u,children:l.jsx(km,{...d,children:n})})};Kl.displayName=ua;var Jl="HoverCardTrigger",Ql=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,o=da(Jl,n),a=Tr(n);return l.jsx(Em,{asChild:!0,...a,children:l.jsx(pe.a,{"data-state":o.open?"open":"closed",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,yr(o.onOpen)),onPointerLeave:ee(e.onPointerLeave,yr(o.onClose)),onFocus:ee(e.onFocus,o.onOpen),onBlur:ee(e.onBlur,o.onClose),onTouchStart:ee(e.onTouchStart,s=>s.preventDefault())})})});Ql.displayName=Jl;var Gm="HoverCardPortal",[z1,zm]=Zl(Gm,{forceMount:void 0}),vr="HoverCardContent",ec=x.forwardRef((e,t)=>{const n=zm(vr,e.__scopeHoverCard),{forceMount:r=n.forceMount,...o}=e,a=da(vr,e.__scopeHoverCard);return l.jsx(Ht,{present:r||a.open,children:l.jsx(Wm,{"data-state":a.open?"open":"closed",...o,onPointerEnter:ee(e.onPointerEnter,yr(a.onOpen)),onPointerLeave:ee(e.onPointerLeave,yr(a.onClose)),ref:t})})});ec.displayName=vr;var Wm=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,...c}=e,d=da(vr,n),p=Tr(n),g=x.useRef(null),i=Se(t,g),[u,f]=x.useState(!1);return x.useEffect(()=>{if(u){const h=document.body;return Ur=h.style.userSelect||h.style.webkitUserSelect,h.style.userSelect="none",h.style.webkitUserSelect="none",()=>{h.style.userSelect=Ur,h.style.webkitUserSelect=Ur}}},[u]),x.useEffect(()=>{if(g.current){const h=()=>{f(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var v;((v=document.getSelection())==null?void 0:v.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",h),()=>{document.removeEventListener("pointerup",h),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),x.useEffect(()=>{g.current&&Um(g.current).forEach(m=>m.setAttribute("tabindex","-1"))}),l.jsx(ca,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:ee(a,h=>{h.preventDefault()}),onDismiss:d.onDismiss,children:l.jsx(jm,{...p,...c,onPointerDown:ee(c.onPointerDown,h=>{h.currentTarget.contains(h.target)&&f(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:i,style:{...c.style,userSelect:u?"text":void 0,WebkitUserSelect:u?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Vm="HoverCardArrow",qm=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,o=Tr(n);return l.jsx(Pm,{...o,...r,ref:t})});qm.displayName=Vm;function yr(e){return t=>t.pointerType==="touch"?void 0:e()}function Um(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Xm=Kl,Ym=Ql,tc=ec;const nc=Xm,rc=Ym,fa=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>l.jsx(tc,{ref:o,align:t,sideOffset:n,className:k("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));fa.displayName=tc.displayName;const oc=e=>{const[t,n]=ge(r=>{const o=dt(r,e.card,[]);return[o,Jo(r,o.cost)]});return l.jsxs(nc,{openDelay:0,closeDelay:0,children:[l.jsx(rc,{asChild:!0,children:e.children}),l.jsxs(fa,{className:"pointer-events-none",children:[l.jsxs("div",{className:"flex mb-2 gap-2",children:[t.needs==="energy"?l.jsx(Et,{value:t.cost,colors:n,isCost:!0,miniature:!0,className:"w-5 h-5"}):l.jsx(Qo,{value:String(t.cost),miniature:!0}),l.jsx("h2",{children:e.card.name})]}),l.jsx("p",{dangerouslySetInnerHTML:{__html:e.card.effect.description}})]})]})},et=({name:e,Icon:t,value:n,...r})=>l.jsxs("div",{...r,className:k("flex items-center gap-1",r.className),children:[l.jsx(t,{className:"h-full aspect-square w-fit self-center justify-self-start"}),l.jsxs("span",{className:"inline-flex items-baseline whitespace-nowrap gap-1",children:[l.jsxs("span",{children:[e,n!=null?" :":""]})," ",n]})]}),ac=e=>{const t=ge(r=>({debug:r.debug,money:r.money,score:r.score,energy:r.energy,energyMax:r.energyMax,reputation:r.reputation,draw:r.draw,hand:r.hand,discard:r.discard,infinity:r.infinityMode,day:r.day,dayFull:r.dayFull,difficulty:r.difficulty,cards:r.cards})),n=ye(r=>({shadows:r.quality.shadows,animation:r.quality.animations,transparency:r.quality.transparency}));return l.jsxs(l.Fragment,{children:[e.forHUD&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-3 w-full gap-x-2 *:grid *:grid-cols-subgrid *:col-span-3 *:*:col-span-2",children:[l.jsxs("div",{id:"energy",children:[l.jsx(Nn,{title:"Energie",value:t.energy,max:t.energyMax,color:"bg-energy"}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:l.jsx(et,{Icon:ph,name:"Energie",className:"h-5"})})]}),l.jsxs("div",{id:"reputation",children:[l.jsx(Nn,{title:"Réputation",value:t.reputation,max:wr,color:"bg-reputation"}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:l.jsx(et,{Icon:hh,name:"Réputation",className:"h-5"})})]}),l.jsxs("div",{id:"day",children:[l.jsx(Nn,{title:"Journée",display:r=>Math.floor(r*24)%24+"h",value:t.dayFull===null?t.day%1:t.dayFull?1:0,max:1,color:"bg-day",increaseOnly:!0}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:l.jsx(et,{Icon:mo,name:"Jour",value:Math.floor(t.day),className:"h-5"})})]}),l.jsxs("div",{id:"sprint",children:[l.jsx(Nn,{title:"Sprint",display:r=>Math.floor(r*7)+"j",value:Math.floor(t.day%7),max:7,color:"bg-upgrade",increaseOnly:!0}),l.jsx("div",{className:"last:col-span-1 flex items-center",children:l.jsx(et,{Icon:ll,name:"Sprint",value:Math.floor(t.day/7),className:"h-5"})})]})]}),l.jsx(yo,{}),l.jsx("div",{className:"grid grid-cols-3 w-full gap-x-2",id:"deck",children:["deck","draw","discard"].map(r=>l.jsxs("div",{className:"grid grid-cols-subgrid col-span-3 space-y-1",children:[l.jsx("div",{className:"flex justify-end col-span-2",children:(r==="deck"?[...t.draw,...t.discard,...t.hand]:t[r]).map(o=>ce(o,t)).toSorted((o,a)=>o.type===a.type?o.effect.upgrade?1:-1:a.type>o.type?1:-1).map((o,a)=>l.jsx(oc,{card:o,children:l.jsx("div",{className:"h-6 hover:shrink-0 pointer-events-auto",children:l.jsx(Cl,{item:o,className:k("ring-0 rounded-none object-contain border-b-2",{"border-action":o.type==="action","border-support":o.type==="support","border-upgrade":o.effect.upgrade})})})},a))}),l.jsx(et,{Icon:r==="deck"?lh:r==="draw"?cl:ch,name:r==="deck"?"Deck":r==="draw"?"Pioche":"Défausse",value:r==="deck"?t.draw.length+t.discard.length+t.hand.length:t[r].length,className:"h-5"})]},r))}),l.jsx(yo,{})]}),l.jsxs("div",{className:k("flex flex-col gap-y-2 items-start *:flex *:items-center *:gap-2 *:h-20 text-6xl text-left rounded-xl p-2",n.transparency?"bg-card/60":"bg-card",e.className),children:[l.jsx(et,{id:"money",Icon:dh,name:"Dollars",value:l.jsx("span",{dangerouslySetInnerHTML:{__html:be(`${t.money}M$ ${e.forHUD?`sur ${Jt}M$`:""}`)}})}),l.jsx(et,{Icon:fh,name:"Score",value:l.jsxs("span",{className:"text-upgrade font-changa",children:[t.score.toLocaleString("fr")," pts"]})}),!e.forHUD&&l.jsx(et,{Icon:mo,name:"Jour",value:Math.floor(t.day)}),l.jsx(et,{Icon:gl,name:"Mode",value:l.jsxs("span",{className:"capitalize",children:[Qn[t.difficulty],t.debug&&" [debug]"]})}),t.infinity&&l.jsx(et,{Icon:uh,name:"Mode infini",value:"Activé"})]})]})},Zm=e=>{const t=ye(s=>({shadows:s.quality.shadows,animation:s.quality.animations,transparency:s.quality.transparency})),[n,r]=Xe(s=>[s.setCardGameVisibility,s.toggleSettings]),o=ge(s=>({isGameOver:s.isGameOver,isWon:s.isWon,reason:s.reason,score:s.score,reset:s.reset,continue:s.enableInfinityMode})),a=Sl.sort((s,c)=>c.score-s.score).findIndex(({score:s})=>o.score>=s);return _.useEffect(()=>{o.isGameOver&&o.isWon&&t.animation&&e.show&&(J.victory.play(),rs())},[o.isGameOver,o.isWon,t.animation,e.show]),l.jsx("div",{className:e.show?"block":"hidden",children:o.isGameOver&&l.jsx("div",{className:k("absolute top-0 left-0 w-screen h-screen flex flex-col items-center justify-center z-30 pointer-events-auto",{"bg-background/90":t.transparency,"bg-background":!t.transparency}),children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-10",children:[l.jsxs(_l,{className:"flex flex-col select-none",max:10,reverse:!0,children:[l.jsx("div",{className:"font-amsterdam capitalize text-9xl w-fit",children:"Game Over"}),l.jsxs("div",{className:"*:text-7xl *:whitespace-nowrap *:font-amsterdam text-center",children:[o.isWon&&l.jsx("div",{className:"text-green-500",children:"Tu as gagné !"}),!o.isWon&&l.jsx("div",{className:"text-red-500",children:"Tu as perdu !"})]})]}),o.reason&&l.jsx("p",{className:"text-4xl",children:{reputation:"Tu as utilisé toute ta jauge de réputation...",mill:"Tu n'as plus de carte...","soft-lock":"Ta main est injouable...","mill-lock":"Tu n'as plus de carte à piocher..."}[o.reason]}),o.isWon?l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ac,{className:"*:h-10 text-3xl"}),l.jsx("div",{className:k("p-5 space-y-2 rounded-2xl bg-card shadow-md",{"shadow-foreground/20":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:a>=0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-3xl",children:["Rank:"," ",l.jsxs("span",{className:k("font-changa text-4xl",go(a)),children:["# ",a+1]})]}),l.jsxs("p",{className:"text-2xl whitespace-nowrap",children:[l.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",className:"text-primary font-changa hover:underline",children:"Contacte-moi"}),l.jsx("br",{}),"pour soumettre ton score !"]})]}):l.jsxs("div",{className:"text-2xl whitespace-nowrap",children:["Tu n'es pas classé, ",l.jsx("br",{})," ton score est trop faible."," ",l.jsx("br",{})," Essaye"," ",St.difficulty==="noob"||St.difficulty==="easy"?l.jsxs(l.Fragment,{children:["une difficulté plus élevée ! ",l.jsx("br",{}),l.jsx("span",{className:"text-primary font-changa cursor-pointer hover:underline",onClick:r,children:"Paramètres de difficulté"})]}):"de nouveau !"]})})]}):l.jsx("div",{className:"text-2xl group/helpers",children:gn.filter(s=>{switch(o.reason){case"reputation":return s.includes("@reputation")||s.includes("gagnes la partie");case"mill":return s.includes("plus jouer")||s.includes("défausse")||s.includes("limitée")||s.includes("Recycler")||s.includes("gagnes la partie");case"soft-lock":return s.includes("plus jouer")||s.includes("progressivement")||s.includes("cartes à jouer")||s.includes("gagnes la partie");case"mill-lock":return s.includes("plus jouer")||s.includes("pioche")||s.includes("Quand une carte est jouée")||s.includes("cartes à jouer")||s.includes("Recycler")||s.includes("gagnes la partie");default:return!1}}).map((s,c)=>l.jsx("div",{className:k("transform hover:scale-110",{"transition-transform duration-500 ease-in-out":t.animation}),children:l.jsx("p",{className:k("hover:text-foreground",{[k("animate-trigger",{"delay-0":c===0,"delay-100":c===1,"delay-200":c===2,"delay-300":c===3,"delay-500":c===4,"delay-700":c===5})]:t.animation}),dangerouslySetInnerHTML:{__html:be(s)}})},c))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(I,{onClick:()=>n(!1),variant:"default",children:"Quitter"}),l.jsx(I,{onClick:()=>o.reset(),variant:o.isWon?"default":"cta",size:o.isWon?"default":"cta",children:o.isWon?"Nouvelle partie":"Recommencer"}),o.isWon&&l.jsx(I,{onClick:()=>o.continue(),variant:"cta",size:"cta",children:"Mode infini"})]}),o.isWon&&l.jsx("div",{className:k({"animate-bounce w-full hover:duration-500":t.animation}),children:l.jsx("a",{href:"https://buymeacoffee.com/ghom",target:"_blank",className:k("text-xl block mx-auto w-[300px] text-center border-2 border-upgrade rounded-xl py-3",{"transition-colors duration-500 ease-in-out":t.animation,"bg-card/50 hover:bg-card":t.transparency,"bg-card":!t.transparency}),children:"Buy me a coffee ☕️"})})]})})})},Km=e=>{const t=ye(o=>o.quality.animations),n=ge(o=>o.reset),r=Xe(o=>()=>o.setCardGameVisibility(!1));return l.jsx("div",{className:k("absolute bottom-0 left-1/2 -translate-x-1/2",{"transition-[bottom] duration-500 ease-in-out":t,"-bottom-12":e.show,"delay-500":e.delay&&t}),children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:()=>r(),variant:"default",children:"Revenir à l'accueil"}),l.jsx(I,{onClick:()=>n(),variant:"default",children:"Recommencer"})]})})},Xr=10,Jm=e=>{const t=ge(n=>n.logs.toReversed());return l.jsx("div",{id:"logs",className:k("absolute right-0 bottom-0 translate-x-full pointer-events-none min-w-52",{hidden:!e.show}),children:l.jsx("table",{children:l.jsx("tbody",{children:new Array(Xr).fill(0).map((n,r)=>{const o=t.slice()[Xr-1-r];return o?l.jsxs("tr",{style:{opacity:r/Xr},children:[l.jsx("td",{children:l.jsx(mh,{item:o.reason})}),l.jsx("td",{className:"pb-1.5",children:l.jsx("span",{className:k("inline-block ring-2",o.value>0?"ring-green-500":"ring-red-500",o.type==="money"?"":"rounded-full"),children:o.type==="money"?l.jsx(Qo,{miniature:!0,value:String(o.value)}):l.jsx(Et,{miniature:!0,symbol:!0,value:o.value,colors:k({"bg-reputation":o.type==="reputation","bg-energy":o.type==="energy"})})})})]},r):l.jsxs("tr",{children:[l.jsx("td",{className:"pb-1.5",children:l.jsx("span",{className:"inline-block h-7"})}),l.jsx("td",{})]},r)})})})})},Qm=e=>{const{shadows:t,animation:n}=ye(c=>({shadows:c.quality.shadows,animation:c.quality.animations})),[r,o]=_.useState(!0),[a,s]=_.useState(!1);return _.useEffect(()=>{e.show?(s(!0),o(!1)):(o(!0),s(!1))},[e.show]),l.jsxs("div",{className:k("absolute top-20 left-3 -translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"delay-500":a&&n,"translate-x-0":e.show}),children:[l.jsx("div",{className:k("absolute bg-upgrade w-10 h-4 left-0 top-5 -translate-x-full",{"shadow shadow-black/50":t})}),l.jsx("div",{className:k("absolute bg-upgrade w-10 h-4 left-0 bottom-5 -translate-x-full",{"shadow shadow-black/50":t})}),l.jsx(Km,{show:e.show,delay:r}),l.jsx(Jm,{show:e.show}),l.jsx(Sn,{className:"space-y-2 w-[400px]",children:l.jsx(ac,{className:"*:h-6 text-lg",forHUD:!0})})]})},eg=e=>{const t=_.useRef(null),n=ns(t),{animation:r,shadow:o,transparency:a}=ye(d=>({animation:d.quality.animations,transparency:d.quality.transparency,shadow:d.quality.shadows})),[s,c]=_.useState(0);return _.useEffect(()=>{const d=setInterval(()=>{n||c((s+1)%gn.length)},5e3);return()=>clearInterval(d)},[s,n]),l.jsx("div",{ref:t,className:k("absolute top-0 left-0 -translate-y-full -translate-x-full max-w-fit","rounded-br-3xl border-8 border-upgrade border-t-0 border-l-0 p-4",{"bg-card/50":a,"bg-card":!a,"shadow shadow-black/50":o&&a,"transition-transform duration-500 ease-in-out":r,"translate-x-0 translate-y-0 cursor-pointer":e.show}),onClick:()=>c((s+1)%gn.length),children:l.jsx("div",{className:"flex gap-2 items-center justify-start select-none",children:l.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[l.jsx(vl,{className:"h-6 cursor-pointer"}),l.jsx("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:be(gn[s])}})]})})})},tg=e=>{const{start:t}=bd(),n=Xe(({tutorial:r})=>r);return _.useEffect(()=>{e.show&&n&&t()},[e.show,n]),null};function ng(e){return _.createElement("div",{...e,className:k("w-full h-full aspect-square",e.className),style:e.style},_.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M399.9 80V32H112v48H32v38c0 32 9.5 62.79 26.76 86.61 13.33 18.4 34.17 31.1 52.91 37.21 5.44 29.29 20.2 57.13 50.19 79.83 22 16.66 48.45 28.87 72.14 33.86V436h-74v44h192v-44h-74v-80.49c23.69-5 50.13-17.2 72.14-33.86 30-22.7 44.75-50.54 50.19-79.83 18.74-6.11 39.58-18.81 52.91-37.21C470.5 180.79 480 150 480 118V80zM94.4 178.8c-10.68-14.68-17.17-34.4-18.24-54.8H112v67.37c-3.94-1.14-12.92-6.12-17.6-12.57zm323.2 0c-4.6 6.61-11.6 12.58-17.6 12.58 0-22.4 0-46.29-.05-67.38h35.9c-1.08 20.4-7.85 39.9-18.25 54.8z"})))}const rg=e=>{const{shadows:t,animation:n,transparency:r}=ye(o=>({shadows:o.quality.shadows,animation:o.quality.animations,transparency:o.quality.transparency}));return l.jsxs("div",{className:k("absolute right-3 top-16 w-fit translate-x-[110%]",{"transition-transform duration-500 ease-in-out":n,"translate-x-0":e.show}),children:[l.jsx("div",{className:k("absolute bg-upgrade w-10 h-4 right-0 top-5 translate-x-full",{"shadow shadow-black/50":t})}),l.jsx("div",{className:k("absolute bg-upgrade w-10 h-4 right-0 bottom-5 translate-x-full",{"shadow shadow-black/50":t})}),l.jsx(Sn,{children:l.jsxs("div",{className:"space-y-3 pointer-events-auto flex flex-col items-center",children:[l.jsx("h2",{className:"text-3xl",children:"Scoreboard"}),l.jsx("div",{className:k("rounded-xl p-5",{"bg-card/40":r,"bg-card":!r}),children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{}),l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Mode"})]})}),l.jsx("tbody",{children:Sl.sort((o,a)=>a.score-o.score).map((o,a)=>l.jsxs("tr",{className:k("*:whitespace-nowrap",go(a)),children:[l.jsx("td",{children:a<3?l.jsx(ng,{className:k("w-4",go(a))}):""}),l.jsxs("th",{children:["# ",a+1]}),l.jsx("th",{className:"text-left drop-shadow-md shadow-black",children:o.name}),l.jsxs("td",{children:[o.score.toLocaleString()," pts"]}),l.jsx("td",{children:Qn[o.mode]})]},a))})]})}),l.jsxs("p",{className:"text-muted-foreground text-lg leading-5 bg-muted py-1 px-2 rounded-md whitespace-nowrap",children:["Si tu as un meilleur score, tu peux me le soumettre ",l.jsx("br",{}),"en me contactant sur"," ",l.jsx("a",{href:"https://discord.gg/3vC2XWK",target:"_blank",children:"Discord"})," ","ou"," ",l.jsx("a",{href:"https://www.linkedin.com/in/camille-abella-a99950176/",target:"_blank",children:"LinkedIn"})," ","!"]})]})})]})};function ic(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var pa="Checkbox",[og,W1]=lt(pa),[ag,ig]=og(pa),sc=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:s,disabled:c,value:d="on",onCheckedChange:p,...g}=e,[i,u]=x.useState(null),f=Se(t,C=>u(C)),h=x.useRef(!1),m=i?!!i.closest("form"):!0,[v=!1,y]=kn({prop:o,defaultProp:a,onChange:p}),b=x.useRef(v);return x.useEffect(()=>{const C=i==null?void 0:i.form;if(C){const E=()=>y(b.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[i,y]),l.jsxs(ag,{scope:n,state:v,disabled:c,children:[l.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":Dt(v)?"mixed":v,"aria-required":s,"data-state":uc(v),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:f,onKeyDown:ee(e.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ee(e.onClick,C=>{y(E=>Dt(E)?!0:!E),m&&(h.current=C.isPropagationStopped(),h.current||C.stopPropagation())})}),m&&l.jsx(sg,{control:i,bubbles:!h.current,name:r,value:d,checked:v,required:s,disabled:c,style:{transform:"translateX(-100%)"}})]})});sc.displayName=pa;var lc="CheckboxIndicator",cc=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=ig(lc,n);return l.jsx(Ht,{present:r||Dt(a.state)||a.state===!0,children:l.jsx(pe.span,{"data-state":uc(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});cc.displayName=lc;var sg=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=x.useRef(null),s=ic(n),c=ia(t);return x.useEffect(()=>{const d=a.current,p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"checked").set;if(s!==n&&i){const u=new Event("click",{bubbles:r});d.indeterminate=Dt(n),i.call(d,Dt(n)?!1:n),d.dispatchEvent(u)}},[s,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:Dt(n)?!1:n,...o,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Dt(e){return e==="indeterminate"}function uc(e){return Dt(e)?"indeterminate":e?"checked":"unchecked"}var dc=sc,lg=cc;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fc=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ug={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:s,...c},d)=>x.createElement("svg",{ref:d,...ug,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:fc("lucide",o),...c},[...s.map(([p,g])=>x.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=(e,t)=>{const n=x.forwardRef(({className:r,...o},a)=>x.createElement(dg,{ref:a,iconNode:t,className:fc(`lucide-${cg(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=pc("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=pc("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),hc=x.forwardRef(({className:e,...t},n)=>l.jsx(dc,{ref:n,className:k("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(lg,{className:k("flex items-center justify-center text-current"),children:l.jsx(fg,{className:"h-4 w-4"})})}));hc.displayName=dc.displayName;function hg(e){const t=e+"CollectionProvider",[n,r]=lt(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=f=>{const{scope:h,children:m}=f,v=_.useRef(null),y=_.useRef(new Map).current;return l.jsx(o,{scope:h,itemMap:y,collectionRef:v,children:m})};s.displayName=t;const c=e+"CollectionSlot",d=_.forwardRef((f,h)=>{const{scope:m,children:v}=f,y=a(c,m),b=Se(h,y.collectionRef);return l.jsx(ro,{ref:b,children:v})});d.displayName=c;const p=e+"CollectionItemSlot",g="data-radix-collection-item",i=_.forwardRef((f,h)=>{const{scope:m,children:v,...y}=f,b=_.useRef(null),C=Se(h,b),E=a(p,m);return _.useEffect(()=>(E.itemMap.set(b,{ref:b,...y}),()=>void E.itemMap.delete(b))),l.jsx(ro,{[g]:"",ref:C,children:v})});i.displayName=p;function u(f){const h=a(e+"CollectionConsumer",f);return _.useCallback(()=>{const v=h.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${g}]`));return Array.from(h.itemMap.values()).sort((E,j)=>y.indexOf(E.ref.current)-y.indexOf(j.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:s,Slot:d,ItemSlot:i},u,r]}var mg=ad.useId||(()=>{}),gg=0;function Zn(e){const[t,n]=x.useState(mg());return Ft(()=>{n(r=>r??String(gg++))},[e]),t?`radix-${t}`:""}var vg=x.createContext(void 0);function mc(e){const t=x.useContext(vg);return e||t||"ltr"}var Yr="rovingFocusGroup.onEntryFocus",yg={bubbles:!1,cancelable:!0},Nr="RovingFocusGroup",[So,gc,xg]=hg(Nr),[wg,vc]=lt(Nr,[xg]),[_g,bg]=wg(Nr),yc=x.forwardRef((e,t)=>l.jsx(So.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(So.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Sg,{...e,ref:t})})}));yc.displayName=Nr;var Sg=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...i}=e,u=x.useRef(null),f=Se(t,u),h=mc(a),[m=null,v]=kn({prop:s,defaultProp:c,onChange:d}),[y,b]=x.useState(!1),C=ht(p),E=gc(n),j=x.useRef(!1),[N,M]=x.useState(0);return x.useEffect(()=>{const T=u.current;if(T)return T.addEventListener(Yr,C),()=>T.removeEventListener(Yr,C)},[C]),l.jsx(_g,{scope:n,orientation:r,dir:h,loop:o,currentTabStopId:m,onItemFocus:x.useCallback(T=>v(T),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>M(T=>T+1),[]),onFocusableItemRemove:x.useCallback(()=>M(T=>T-1),[]),children:l.jsx(pe.div,{tabIndex:y||N===0?-1:0,"data-orientation":r,...i,ref:f,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{j.current=!0}),onFocus:ee(e.onFocus,T=>{const A=!j.current;if(T.target===T.currentTarget&&A&&!y){const q=new CustomEvent(Yr,yg);if(T.currentTarget.dispatchEvent(q),!q.defaultPrevented){const K=E().filter(te=>te.focusable),he=K.find(te=>te.active),ue=K.find(te=>te.id===m),X=[he,ue,...K].filter(Boolean).map(te=>te.ref.current);_c(X,g)}}j.current=!1}),onBlur:ee(e.onBlur,()=>b(!1))})})}),xc="RovingFocusGroupItem",wc=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...s}=e,c=Zn(),d=a||c,p=bg(xc,n),g=p.currentTabStopId===d,i=gc(n),{onFocusableItemAdd:u,onFocusableItemRemove:f}=p;return x.useEffect(()=>{if(r)return u(),()=>f()},[r,u,f]),l.jsx(So.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:l.jsx(pe.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...s,ref:t,onMouseDown:ee(e.onMouseDown,h=>{r?p.onItemFocus(d):h.preventDefault()}),onFocus:ee(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:ee(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){p.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const m=Eg(h,p.orientation,p.dir);if(m!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let y=i().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const b=y.indexOf(h.currentTarget);y=p.loop?jg(y,b+1):y.slice(b+1)}setTimeout(()=>_c(y))}})})})});wc.displayName=xc;var Cg={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kg(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Eg(e,t,n){const r=kg(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Cg[r]}function _c(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function jg(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Pg=yc,Ag=wc,ha="Radio",[Tg,bc]=lt(ha),[Ng,Mg]=Tg(ha),Sc=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:a,disabled:s,value:c="on",onCheck:d,...p}=e,[g,i]=x.useState(null),u=Se(t,m=>i(m)),f=x.useRef(!1),h=g?!!g.closest("form"):!0;return l.jsxs(Ng,{scope:n,checked:o,disabled:s,children:[l.jsx(pe.button,{type:"button",role:"radio","aria-checked":o,"data-state":Ec(o),"data-disabled":s?"":void 0,disabled:s,value:c,...p,ref:u,onClick:ee(e.onClick,m=>{o||d==null||d(),h&&(f.current=m.isPropagationStopped(),f.current||m.stopPropagation())})}),h&&l.jsx(Rg,{control:g,bubbles:!f.current,name:r,value:c,checked:o,required:a,disabled:s,style:{transform:"translateX(-100%)"}})]})});Sc.displayName=ha;var Cc="RadioIndicator",kc=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,a=Mg(Cc,n);return l.jsx(Ht,{present:r||a.checked,children:l.jsx(pe.span,{"data-state":Ec(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});kc.displayName=Cc;var Rg=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=x.useRef(null),s=ic(n),c=ia(t);return x.useEffect(()=>{const d=a.current,p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"checked").set;if(s!==n&&i){const u=new Event("click",{bubbles:r});i.call(d,n),d.dispatchEvent(u)}},[s,n,r]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ec(e){return e?"checked":"unchecked"}var Og=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ma="RadioGroup",[Ig,V1]=lt(ma,[vc,bc]),jc=vc(),Pc=bc(),[Dg,$g]=Ig(ma),Ac=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:a,required:s=!1,disabled:c=!1,orientation:d,dir:p,loop:g=!0,onValueChange:i,...u}=e,f=jc(n),h=mc(p),[m,v]=kn({prop:a,defaultProp:o,onChange:i});return l.jsx(Dg,{scope:n,name:r,required:s,disabled:c,value:m,onValueChange:v,children:l.jsx(Pg,{asChild:!0,...f,orientation:d,dir:h,loop:g,children:l.jsx(pe.div,{role:"radiogroup","aria-required":s,"aria-orientation":d,"data-disabled":c?"":void 0,dir:h,...u,ref:t})})})});Ac.displayName=ma;var Tc="RadioGroupItem",Nc=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,a=$g(Tc,n),s=a.disabled||r,c=jc(n),d=Pc(n),p=x.useRef(null),g=Se(t,p),i=a.value===o.value,u=x.useRef(!1);return x.useEffect(()=>{const f=m=>{Og.includes(m.key)&&(u.current=!0)},h=()=>u.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",h)}},[]),l.jsx(Ag,{asChild:!0,...c,focusable:!s,active:i,children:l.jsx(Sc,{disabled:s,required:a.required,checked:i,...d,...o,name:a.name,ref:g,onCheck:()=>a.onValueChange(o.value),onKeyDown:ee(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ee(o.onFocus,()=>{var f;u.current&&((f=p.current)==null||f.click())})})})});Nc.displayName=Tc;var Fg="RadioGroupIndicator",Mc=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=Pc(n);return l.jsx(kc,{...o,...r,ref:t})});Mc.displayName=Fg;var Rc=Ac,Oc=Nc,Lg=Mc;const Co=x.forwardRef(({className:e,...t},n)=>l.jsx(Rc,{className:k("grid gap-2",e),...t,ref:n}));Co.displayName=Rc.displayName;const ko=x.forwardRef(({className:e,...t},n)=>l.jsx(Oc,{ref:n,className:k("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Lg,{className:"flex items-center justify-center",children:l.jsx(pg,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ko.displayName=Oc.displayName;var Zr="focusScope.autoFocusOnMount",Kr="focusScope.autoFocusOnUnmount",zi={bubbles:!1,cancelable:!0},Bg="FocusScope",Ic=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[c,d]=x.useState(null),p=ht(o),g=ht(a),i=x.useRef(null),u=Se(t,m=>d(m)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(C){if(f.paused||!c)return;const E=C.target;c.contains(E)?i.current=E:_t(i.current,{select:!0})},v=function(C){if(f.paused||!c)return;const E=C.relatedTarget;E!==null&&(c.contains(E)||_t(i.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const j of C)j.removedNodes.length>0&&_t(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[r,c,f.paused]),x.useEffect(()=>{if(c){Vi.add(f);const m=document.activeElement;if(!c.contains(m)){const y=new CustomEvent(Zr,zi);c.addEventListener(Zr,p),c.dispatchEvent(y),y.defaultPrevented||(Hg(qg(Dc(c)),{select:!0}),document.activeElement===m&&_t(c))}return()=>{c.removeEventListener(Zr,p),setTimeout(()=>{const y=new CustomEvent(Kr,zi);c.addEventListener(Kr,g),c.dispatchEvent(y),y.defaultPrevented||_t(m??document.body,{select:!0}),c.removeEventListener(Kr,g),Vi.remove(f)},0)}}},[c,p,g,f]);const h=x.useCallback(m=>{if(!n&&!r||f.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[C,E]=Gg(b);C&&E?!m.shiftKey&&y===E?(m.preventDefault(),n&&_t(C,{select:!0})):m.shiftKey&&y===C&&(m.preventDefault(),n&&_t(E,{select:!0})):y===b&&m.preventDefault()}},[n,r,f.paused]);return l.jsx(pe.div,{tabIndex:-1,...s,ref:u,onKeyDown:h})});Ic.displayName=Bg;function Hg(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(_t(r,{select:t}),document.activeElement!==n)return}function Gg(e){const t=Dc(e),n=Wi(t,e),r=Wi(t.reverse(),e);return[n,r]}function Dc(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wi(e,t){for(const n of e)if(!zg(n,{upTo:t}))return n}function zg(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wg(e){return e instanceof HTMLInputElement&&"select"in e}function _t(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Wg(e)&&t&&e.select()}}var Vi=Vg();function Vg(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qi(e,t),e.unshift(t)},remove(t){var n;e=qi(e,t),(n=e[0])==null||n.resume()}}}function qi(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qg(e){return e.filter(t=>t.tagName!=="A")}var Jr=0;function Ug(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ui()),document.body.insertAdjacentElement("beforeend",e[1]??Ui()),Jr++,()=>{Jr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jr--}},[])}function Ui(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var at=function(){return at=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},at.apply(this,arguments)};function $c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Xg(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Kn="right-scroll-bar-position",Jn="width-before-scroll-bar",Yg="with-scroll-bars-hidden",Zg="--removed-body-scroll-bar-size";function Qr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Kg(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Jg=typeof window<"u"?x.useLayoutEffect:x.useEffect,Xi=new WeakMap;function Qg(e,t){var n=Kg(null,function(r){return e.forEach(function(o){return Qr(o,r)})});return Jg(function(){var r=Xi.get(n);if(r){var o=new Set(r),a=new Set(e),s=n.current;o.forEach(function(c){a.has(c)||Qr(c,null)}),a.forEach(function(c){o.has(c)||Qr(c,s)})}Xi.set(n,e)},[e]),n}function e0(e){return e}function t0(e,t){t===void 0&&(t=e0);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(a),s=n}var d=function(){var g=s;s=[],g.forEach(a)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(g){s.push(g),p()},filter:function(g){return s=s.filter(g),n}}}};return o}function n0(e){e===void 0&&(e={});var t=t0(null);return t.options=at({async:!0,ssr:!1},e),t}var Fc=function(e){var t=e.sideCar,n=$c(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,at({},n))};Fc.isSideCarExport=!0;function r0(e,t){return e.useMedium(t),Fc}var Lc=n0(),eo=function(){},Mr=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:eo,onWheelCapture:eo,onTouchMoveCapture:eo}),o=r[0],a=r[1],s=e.forwardProps,c=e.children,d=e.className,p=e.removeScrollBar,g=e.enabled,i=e.shards,u=e.sideCar,f=e.noIsolation,h=e.inert,m=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,C=$c(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=u,j=Qg([n,t]),N=at(at({},C),o);return x.createElement(x.Fragment,null,g&&x.createElement(E,{sideCar:Lc,removeScrollBar:p,shards:i,noIsolation:f,inert:h,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:b}),s?x.cloneElement(x.Children.only(c),at(at({},N),{ref:j})):x.createElement(y,at({},N,{className:d,ref:j}),c))});Mr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mr.classNames={fullWidth:Jn,zeroRight:Kn};var o0=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a0(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o0();return t&&e.setAttribute("nonce",t),e}function i0(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function s0(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l0=function(){var e=0,t=null;return{add:function(n){e==0&&(t=a0())&&(i0(t,n),s0(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c0=function(){var e=l0();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Bc=function(){var e=c0(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},u0={left:0,top:0,right:0,gap:0},to=function(e){return parseInt(e||"",10)||0},d0=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[to(n),to(r),to(o)]},f0=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u0;var t=d0(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},p0=Bc(),Zt="data-scroll-locked",h0=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Yg,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Zt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kn,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Jn,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Kn," .").concat(Kn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jn," .").concat(Jn,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zt,`] {
    `).concat(Zg,": ").concat(c,`px;
  }
`)},Yi=function(){var e=parseInt(document.body.getAttribute(Zt)||"0",10);return isFinite(e)?e:0},m0=function(){x.useEffect(function(){return document.body.setAttribute(Zt,(Yi()+1).toString()),function(){var e=Yi()-1;e<=0?document.body.removeAttribute(Zt):document.body.setAttribute(Zt,e.toString())}},[])},g0=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;m0();var a=x.useMemo(function(){return f0(o)},[o]);return x.createElement(p0,{styles:h0(a,!t,o,n?"":"!important")})},Eo=!1;if(typeof window<"u")try{var On=Object.defineProperty({},"passive",{get:function(){return Eo=!0,!0}});window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Eo=!1}var Gt=Eo?{passive:!1}:!1,v0=function(e){return e.tagName==="TEXTAREA"},Hc=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!v0(e)&&n[t]==="visible")},y0=function(e){return Hc(e,"overflowY")},x0=function(e){return Hc(e,"overflowX")},Zi=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Gc(e,r);if(o){var a=zc(e,r),s=a[1],c=a[2];if(s>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w0=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_0=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Gc=function(e,t){return e==="v"?y0(t):x0(t)},zc=function(e,t){return e==="v"?w0(t):_0(t)},b0=function(e,t){return e==="h"&&t==="rtl"?-1:1},S0=function(e,t,n,r,o){var a=b0(e,window.getComputedStyle(t).direction),s=a*r,c=n.target,d=t.contains(c),p=!1,g=s>0,i=0,u=0;do{var f=zc(e,c),h=f[0],m=f[1],v=f[2],y=m-v-a*h;(h||y)&&Gc(e,c)&&(i+=y,u+=h),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(g&&(Math.abs(i)<1||!o)||!g&&(Math.abs(u)<1||!o))&&(p=!0),p},In=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ki=function(e){return[e.deltaX,e.deltaY]},Ji=function(e){return e&&"current"in e?e.current:e},C0=function(e,t){return e[0]===t[0]&&e[1]===t[1]},k0=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E0=0,zt=[];function j0(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),o=x.useState(E0++)[0],a=x.useState(Bc)[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=Xg([e.lockRef.current],(e.shards||[]).map(Ji),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var y=In(m),b=n.current,C="deltaX"in m?m.deltaX:b[0]-y[0],E="deltaY"in m?m.deltaY:b[1]-y[1],j,N=m.target,M=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in m&&M==="h"&&N.type==="range")return!1;var T=Zi(M,N);if(!T)return!0;if(T?j=M:(j=M==="v"?"h":"v",T=Zi(M,N)),!T)return!1;if(!r.current&&"changedTouches"in m&&(C||E)&&(r.current=j),!j)return!0;var A=r.current||j;return S0(A,v,m,A==="h"?C:E,!0)},[]),d=x.useCallback(function(m){var v=m;if(!(!zt.length||zt[zt.length-1]!==a)){var y="deltaY"in v?Ki(v):In(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&C0(j.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var C=(s.current.shards||[]).map(Ji).filter(Boolean).filter(function(j){return j.contains(v.target)}),E=C.length>0?c(v,C[0]):!s.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),p=x.useCallback(function(m,v,y,b){var C={name:m,delta:v,target:y,should:b,shadowParent:P0(y)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),g=x.useCallback(function(m){n.current=In(m),r.current=void 0},[]),i=x.useCallback(function(m){p(m.type,Ki(m),m.target,c(m,e.lockRef.current))},[]),u=x.useCallback(function(m){p(m.type,In(m),m.target,c(m,e.lockRef.current))},[]);x.useEffect(function(){return zt.push(a),e.setCallbacks({onScrollCapture:i,onWheelCapture:i,onTouchMoveCapture:u}),document.addEventListener("wheel",d,Gt),document.addEventListener("touchmove",d,Gt),document.addEventListener("touchstart",g,Gt),function(){zt=zt.filter(function(m){return m!==a}),document.removeEventListener("wheel",d,Gt),document.removeEventListener("touchmove",d,Gt),document.removeEventListener("touchstart",g,Gt)}},[]);var f=e.removeScrollBar,h=e.inert;return x.createElement(x.Fragment,null,h?x.createElement(a,{styles:k0(o)}):null,f?x.createElement(g0,{gapMode:e.gapMode}):null)}function P0(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A0=r0(Lc,j0);var Wc=x.forwardRef(function(e,t){return x.createElement(Mr,at({},e,{ref:t,sideCar:A0}))});Wc.classNames=Mr.classNames;var T0=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wt=new WeakMap,Dn=new WeakMap,$n={},no=0,Vc=function(e){return e&&(e.host||Vc(e.parentNode))},N0=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Vc(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},M0=function(e,t,n,r){var o=N0(t,Array.isArray(e)?e:[e]);$n[n]||($n[n]=new WeakMap);var a=$n[n],s=[],c=new Set,d=new Set(o),p=function(i){!i||c.has(i)||(c.add(i),p(i.parentNode))};o.forEach(p);var g=function(i){!i||d.has(i)||Array.prototype.forEach.call(i.children,function(u){if(c.has(u))g(u);else try{var f=u.getAttribute(r),h=f!==null&&f!=="false",m=(Wt.get(u)||0)+1,v=(a.get(u)||0)+1;Wt.set(u,m),a.set(u,v),s.push(u),m===1&&h&&Dn.set(u,!0),v===1&&u.setAttribute(n,"true"),h||u.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",u,y)}})};return g(t),c.clear(),no++,function(){s.forEach(function(i){var u=Wt.get(i)-1,f=a.get(i)-1;Wt.set(i,u),a.set(i,f),u||(Dn.has(i)||i.removeAttribute(r),Dn.delete(i)),f||i.removeAttribute(n)}),no--,no||(Wt=new WeakMap,Wt=new WeakMap,Dn=new WeakMap,$n={})}},R0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=T0(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),M0(r,o,n,"aria-hidden")):function(){return null}},ga="Dialog",[qc,Uc]=lt(ga),[O0,Je]=qc(ga),Xc=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,c=x.useRef(null),d=x.useRef(null),[p=!1,g]=kn({prop:r,defaultProp:o,onChange:a});return l.jsx(O0,{scope:t,triggerRef:c,contentRef:d,contentId:Zn(),titleId:Zn(),descriptionId:Zn(),open:p,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(i=>!i),[g]),modal:s,children:n})};Xc.displayName=ga;var Yc="DialogTrigger",Zc=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Je(Yc,n),a=Se(t,o.triggerRef);return l.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":xa(o.open),...r,ref:a,onClick:ee(e.onClick,o.onOpenToggle)})});Zc.displayName=Yc;var va="DialogPortal",[I0,Kc]=qc(va,{forceMount:void 0}),Jc=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Je(va,t);return l.jsx(I0,{scope:t,forceMount:n,children:x.Children.map(r,s=>l.jsx(Ht,{present:n||a.open,children:l.jsx(Ul,{asChild:!0,container:o,children:s})}))})};Jc.displayName=va;var xr="DialogOverlay",Qc=x.forwardRef((e,t)=>{const n=Kc(xr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Je(xr,e.__scopeDialog);return a.modal?l.jsx(Ht,{present:r||a.open,children:l.jsx(D0,{...o,ref:t})}):null});Qc.displayName=xr;var D0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Je(xr,n);return l.jsx(Wc,{as:ro,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(pe.div,{"data-state":xa(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Lt="DialogContent",eu=x.forwardRef((e,t)=>{const n=Kc(Lt,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Je(Lt,e.__scopeDialog);return l.jsx(Ht,{present:r||a.open,children:a.modal?l.jsx($0,{...o,ref:t}):l.jsx(F0,{...o,ref:t})})});eu.displayName=Lt;var $0=x.forwardRef((e,t)=>{const n=Je(Lt,e.__scopeDialog),r=x.useRef(null),o=Se(t,n.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return R0(a)},[]),l.jsx(tu,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&a.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,a=>a.preventDefault())})}),F0=x.forwardRef((e,t)=>{const n=Je(Lt,e.__scopeDialog),r=x.useRef(!1),o=x.useRef(!1);return l.jsx(tu,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),tu=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,c=Je(Lt,n),d=x.useRef(null),p=Se(t,d);return Ug(),l.jsxs(l.Fragment,{children:[l.jsx(Ic,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(ca,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":xa(c.open),...s,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(B0,{titleId:c.titleId}),l.jsx(G0,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ya="DialogTitle",nu=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Je(ya,n);return l.jsx(pe.h2,{id:o.titleId,...r,ref:t})});nu.displayName=ya;var ru="DialogDescription",ou=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Je(ru,n);return l.jsx(pe.p,{id:o.descriptionId,...r,ref:t})});ou.displayName=ru;var au="DialogClose",iu=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Je(au,n);return l.jsx(pe.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>o.onOpenChange(!1))})});iu.displayName=au;function xa(e){return e?"open":"closed"}var su="DialogTitleWarning",[L0,lu]=ud(su,{contentName:Lt,titleName:ya,docsSlug:"dialog"}),B0=({titleId:e})=>{const t=lu(su),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},H0="DialogDescriptionWarning",G0=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lu(H0).contentName}}.`;return x.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},z0=Xc,W0=Zc,V0=Jc,q0=Qc,U0=eu,X0=nu,Y0=ou,cu=iu,uu="AlertDialog",[Z0,q1]=lt(uu,[Uc]),yt=Uc(),du=e=>{const{__scopeAlertDialog:t,...n}=e,r=yt(t);return l.jsx(z0,{...r,...n,modal:!0})};du.displayName=uu;var K0="AlertDialogTrigger",fu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=yt(n);return l.jsx(W0,{...o,...r,ref:t})});fu.displayName=K0;var J0="AlertDialogPortal",pu=e=>{const{__scopeAlertDialog:t,...n}=e,r=yt(t);return l.jsx(V0,{...r,...n})};pu.displayName=J0;var Q0="AlertDialogOverlay",hu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=yt(n);return l.jsx(q0,{...o,...r,ref:t})});hu.displayName=Q0;var Kt="AlertDialogContent",[e1,t1]=Z0(Kt),mu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=yt(n),s=x.useRef(null),c=Se(t,s),d=x.useRef(null);return l.jsx(L0,{contentName:Kt,titleName:gu,docsSlug:"alert-dialog",children:l.jsx(e1,{scope:n,cancelRef:d,children:l.jsxs(U0,{role:"alertdialog",...a,...o,ref:c,onOpenAutoFocus:ee(o.onOpenAutoFocus,p=>{var g;p.preventDefault(),(g=d.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(id,{children:r}),l.jsx(r1,{contentRef:s})]})})})});mu.displayName=Kt;var gu="AlertDialogTitle",vu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=yt(n);return l.jsx(X0,{...o,...r,ref:t})});vu.displayName=gu;var yu="AlertDialogDescription",xu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=yt(n);return l.jsx(Y0,{...o,...r,ref:t})});xu.displayName=yu;var n1="AlertDialogAction",wu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=yt(n);return l.jsx(cu,{...o,...r,ref:t})});wu.displayName=n1;var _u="AlertDialogCancel",bu=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=t1(_u,n),a=yt(n),s=Se(t,o);return l.jsx(cu,{...a,...r,ref:s})});bu.displayName=_u;var r1=({contentRef:e})=>{const t=`\`${Kt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kt}\` by passing a \`${yu}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},o1=du,a1=fu,i1=pu,Su=hu,Cu=mu,ku=wu,Eu=bu,ju=vu,Pu=xu;const s1=o1,l1=a1,c1=i1,Au=x.forwardRef(({className:e,...t},n)=>{const r=ye(o=>({transparency:o.quality.transparency,animation:o.quality.animations}));return l.jsx(Su,{className:k("fixed inset-0 z-50",{"bg-black/80":r.transparency,"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":r.animation},e),...t,ref:n})});Au.displayName=Su.displayName;const Tu=x.forwardRef(({className:e,...t},n)=>l.jsxs(c1,{children:[l.jsx(Au,{}),l.jsx(Cu,{ref:n,className:k("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Tu.displayName=Cu.displayName;const Nu=({className:e,...t})=>l.jsx("div",{className:k("flex flex-col space-y-2 text-center sm:text-left",e),...t});Nu.displayName="AlertDialogHeader";const Mu=({className:e,...t})=>l.jsx("div",{className:k("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mu.displayName="AlertDialogFooter";const Ru=x.forwardRef(({className:e,...t},n)=>l.jsx(ju,{ref:n,className:k("text-lg font-semibold",e),...t}));Ru.displayName=ju.displayName;const Ou=x.forwardRef(({className:e,...t},n)=>l.jsx(Pu,{ref:n,className:k("text-sm text-muted-foreground",e),...t}));Ou.displayName=Pu.displayName;const Iu=x.forwardRef(({className:e,...t},n)=>l.jsx(ku,{ref:n,className:k(To({variant:"cta"}),e),...t}));Iu.displayName=ku.displayName;const Du=x.forwardRef(({className:e,...t},n)=>l.jsx(Eu,{ref:n,className:k(To({variant:"default"}),"mt-2 sm:mt-0",e),...t}));Du.displayName=Eu.displayName;const u1=e=>{const[t,n]=_.useState(0);return _.useEffect(()=>{const r=[];let o=!0;function a(){window.requestAnimationFrame(()=>{const s=performance.now();for(;r.length>0&&r[0]<=s-1e3;)r.shift();r.push(s),n(r.length),o&&a()})}return a(),()=>{o=!1}},[]),l.jsxs("span",{...e,children:[t," FPS"]})},d1=e=>{const[t,n]=ge(d=>[d.score,d.difficulty]),r=Xe(d=>d.toggleSettings),o=ye(),[a,s]=_.useMemo(()=>[n!==o.difficulty,o.quality.animations!==St.quality.animations],[n,o.quality.animations,o.difficulty]),c=_.useCallback(()=>{s?window.location.search="?game":r()},[s,r]);return l.jsxs("div",{className:k("absolute top-0 left-0 w-full h-full z-30","flex items-center justify-center pointer-events-none",{"transition-opacity duration-500 ease-in-out":o.quality.animations,"opacity-0 bg-background/80":o.quality.transparency,hidden:!o.quality.transparency,"opacity-100 flex pointer-events-auto":e.show}),children:[l.jsx("div",{onClick:r,className:k("absolute w-full h-full left-0 top-0",{"pointer-events-auto":e.show,"pointer-events-none":!e.show})}),l.jsxs(Sn,{className:"space-y-4 z-40",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("h2",{className:"text-3xl",children:"Settings"}),e.show&&l.jsx(u1,{className:"text-2xl font-mono"})]}),l.jsxs("div",{className:k("flex gap-5 *:space-y-4 *:border *:rounded-xl *:py-4 *:px-6",{"*:bg-card/30":o.quality.transparency,"*:bg-card":!o.quality.transparency}),children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Difficulté"}),l.jsx(Co,{className:"space-y-0 gap-0",value:o.difficulty,onValueChange:d=>{o.updateDifficulty(d)},children:Object.keys(Po).map(d=>l.jsxs(Fn,{className:"flex items-center gap-2 py-2",children:[l.jsx(ko,{value:d}),Qn[d]]},d))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Qualité"}),l.jsx("div",{className:"grid grid-cols-2 grid-rows-5",children:Object.keys(St.quality).map(d=>l.jsxs(Fn,{className:"flex items-center gap-2 py-2 select-none odd:pr-5",children:[l.jsx(hc,{defaultChecked:o.quality[d],onCheckedChange:p=>o.updateQuality({[d]:p})}),Qn[d]]},d))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl",children:"Thême (WIP)"}),l.jsx(Co,{className:"space-y-0 gap-0",defaultValue:St.theme,onValueChange:d=>{const p=document.body,g=Array.from(p.classList.values()).find(i=>i.startsWith("theme-"));g&&p.classList.remove(g),p.classList.add(`theme-${d}`),o.updateTheme(d)},children:sd.map(d=>l.jsxs(Fn,{className:"flex items-center gap-2 py-2",children:[l.jsx(ko,{value:d[0]}),d[0]]},d[0]))})]})]}),l.jsxs("div",{className:"flex gap-5",children:[a&&l.jsx(I,{variant:"default",onClick:()=>{o.updateDifficulty(St.difficulty),r()},children:"Annuler"}),t>0&&a?l.jsxs(s1,{children:[l.jsx(l1,{children:l.jsx(I,{variant:a?"cta":"default",disabled:!a,children:"Appliquer"})}),l.jsxs(Tu,{className:"w-fit",children:[l.jsxs(Nu,{children:[l.jsx(Ru,{className:"text-2xl",children:"Une partie est en cours !"}),l.jsxs(Ou,{className:"text-xl leading-5",children:["Le nouveau mode de difficulté sera ",l.jsx("br",{}),"appliqué à la prochaine partie."]})]}),l.jsxs(Mu,{children:[l.jsx(Du,{children:"Annuler"}),l.jsx(Iu,{onClick:c,children:"Continuer"})]})]})]}):l.jsx(I,{variant:s?"cta":"default",onClick:c,children:"Appliquer"}),(s||a)&&l.jsxs("div",{className:"flex-grow border rounded-lg flex items-center gap-3 px-3",children:[l.jsx(fn,{className:"w-5"})," ",s?"Un rechargement peut être nécessaire.":"Le mode de difficulté sera appliqué à la prochaine partie."]})]})]})]})},f1=e=>{const t=ye(r=>({shadows:r.quality.shadows,animation:r.quality.animations,transparency:r})),n=ge(r=>r.upgrades);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:"upgrades",className:"pointer-events-none fixed w-[300px] h-24 top-2 left-1/2 -translate-x-1/2"}),l.jsx("div",{className:k("absolute w-full -top-full left-0 pointer-events-none",{"transition-all ease-in-out duration-500":t.animation,"top-0":e.show&&n.length>0}),children:l.jsx("div",{className:k("mx-auto w-fit h-fit -translate-y-1/2 flex justify-center rounded-3xl border-8 border-t-0 border-upgrade",{"-translate-y-1/3":n.length>5,"-translate-y-[25%]":n.length>10,"shadow shadow-black/50":t.shadows&&t.transparency,"bg-card/50":t.transparency,"bg-card":!t.transparency}),children:l.jsx("div",{className:k("flex p-5 gap-10 gap-y-0 relative shrink-0 w-max translate-y-1/2",{"translate-y-1/3 grid grid-cols-5":n.length>5,"translate-y-[25%]":n.length>10}),children:n.map((r,o)=>{const a=It(r),s=ul[a.eventName];return l.jsxs("div",{className:"group/upgrade shrink-0 relative",children:[l.jsx("img",{src:`images/upgrades/${a.image}`,alt:a.name,className:k("block object-cover w-16 h-16 aspect-square rounded-full pointer-events-auto cursor-pointer mx-auto ring-upgrade ring-4",{"animate-trigger":a.state==="triggered"&&t.animation,"ring-foreground":a.state==="triggered"&&!t.animation})}),l.jsx("div",{className:"h-6 relative",children:l.jsxs("div",{className:"relative",children:[a.max!==1/0&&l.jsx(_r,{className:"absolute -translate-y-2 w-full",barColor:"bg-upgrade",value:a.cumul/a.max*100}),l.jsx(Et,{value:l.jsx(s.icon,{className:"h-5"}),colors:"colors"in s?s.colors:"bg-background",miniature:!0,className:"absolute h-6 w-6",style:{top:"-15px",left:"-15px",transform:"translate(0, -50%)"}}),l.jsx(Et,{value:a.cumul,colors:"bg-upgrade",miniature:!0,className:"absolute h-6 w-6",style:{top:"50%",left:"0",transform:"translate(0, -50%)"}})]})}),l.jsxs(Sn,{className:"hidden group-hover/upgrade:block absolute left-1/2 bottom-0 translate-y-full -translate-x-1/2 w-max max-w-[300px] z-50 space-y-3",children:[l.jsxs("h3",{className:"text-xl font-changa",children:[a.name," ",l.jsxs("span",{className:"text-upgrade font-bold",children:[a.cumul,a.max!==1/0&&a.max!==null?`/${a.max}`:""]})]}),l.jsx("p",{dangerouslySetInnerHTML:{__html:be(hl(a.description,a.cumul))}}),l.jsx(dl,{eventName:a.eventName})]})]},o)})})})})]})};var wa={},$u={exports:{}},p1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h1=p1,m1=h1;function Fu(){}function Lu(){}Lu.resetWarningCache=Fu;var g1=function(){function e(r,o,a,s,c,d){if(d!==m1){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Lu,resetWarningCache:Fu};return n.PropTypes=n,n};$u.exports=g1();var v1=$u.exports,Bu=void 0;typeof window<"u"&&(Bu=we);var y1=Bu,_a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.noop=function(){};Object.defineProperty(wa,"__esModule",{value:!0});var x1=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hu=x,w1=Gu(Hu),_1=v1,fe=Gu(_1),Qi=y1,ut=_a;function Gu(e){return e&&e.__esModule?e:{default:e}}function b1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function C1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ba=function(e){C1(t,e);function t(n){b1(this,t);var r=S1(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.initHowler=r.initHowler.bind(r),r}return x1(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(r){JSON.stringify(r.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(r)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof Qi.Howl<"u"&&(this.howler=new Qi.Howl({src:r.src,xhr:r.xhr,format:r.format,mute:r.mute,loop:r.loop,preload:r.preload,volume:r.volume,rate:r.rate,onend:r.onEnd,onplay:r.onPlay,onplayerror:r.onPlayError,onpause:r.onPause,onvolume:r.onVolume,onstop:r.onStop,onload:r.onLoad,onseek:r.onSeek,onloaderror:r.onLoadError,html5:r.html5}),r.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(r){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),r.mute!==this.props.mute&&this.mute(this.props.mute),r.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var r=this.howler.playing();r||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.pause(r):this.howler.pause()}},{key:"rate",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof r=="number"&&(o?this.howler.rate(r,o):this.howler.rate(r))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;r?this.howler.stop(r):this.howler.stop()}},{key:"mute",value:function(){var r;(r=this.howler).mute.apply(r,arguments)}},{key:"volume",value:function(){var r;return(r=this.howler).volume.apply(r,arguments)}},{key:"loop",value:function(){var r;return(r=this.howler).loop.apply(r,arguments)}},{key:"seek",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!r&&r!==0)return this.howler.seek();if(r||r===0)return this.howler.seek(r),r}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return w1.default.createElement("div",null)}},{key:"howler",set:function(r){r&&(this._howler=r)},get:function(){return this._howler}}]),t}(Hu.Component);ba.propTypes={src:fe.default.oneOfType([fe.default.string,fe.default.arrayOf(fe.default.string)]).isRequired,format:fe.default.arrayOf(fe.default.string),xhr:fe.default.object,playing:fe.default.bool,mute:fe.default.bool,loop:fe.default.bool,preload:fe.default.bool,volume:fe.default.number,rate:fe.default.number,onEnd:fe.default.func,onPause:fe.default.func,onPlay:fe.default.func,onPlayError:fe.default.func,onVolume:fe.default.func,onStop:fe.default.func,onLoad:fe.default.func,onSeek:fe.default.func,onLoadError:fe.default.func,html5:fe.default.bool};ba.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:ut.noop,onPause:ut.noop,onPlay:ut.noop,onPlayError:ut.noop,onVolume:ut.noop,onStop:ut.noop,onLoad:ut.noop,onSeek:ut.noop,onLoadError:ut.noop,html5:!1};wa.default=ba;var k1=wa.default;const E1=ld(k1),Vt=.4,j1=()=>{const e=ge(a=>a.isGameOver),t=Xe(a=>a.musicVolume),n=Xe(a=>a.musicMuted),r=Xe(a=>a.setMusicVolume),o=Xe(a=>a.isCardGameVisible);return _.useEffect(()=>{let a;return o&&!e&&t<Vt?a=setInterval(()=>{r(s=>s<Vt?Math.min(Vt,s+Vt/10):(clearInterval(a),s))},100):(!o||e)&&t>0&&(a=setInterval(()=>{r(s=>s>0?Math.max(0,s-Vt/10):(clearInterval(a),s))},100)),()=>clearInterval(a)},[o,e]),l.jsx(E1,{src:"sounds/music.mp3",volume:Math.min(Vt,t),mute:n,loop:!0,playing:!0})},P1=e=>{const t=ge(r=>({notification:r.notification})),n=ye(r=>({animations:r.quality.animations,transparency:r.quality.transparency}));return!e.show||!n.transparency||!n.animations||t.notification.length===0?null:l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full z-50 flex justify-center items-center",children:[l.jsx("div",{className:k(t.notification[0].className,"absolute animate-to-right rounded-r-full rounded-bl-full w-full h-[120px] opacity-50")}),l.jsx("div",{className:k(t.notification[0].className,"absolute animate-to-left rounded-l-full rounded-tr-full w-full h-[120px] opacity-50")}),l.jsxs("div",{className:k(t.notification[0].className,"bg-transparent font-changa italic animate-notification w-fit h-fit text-center"),children:[t.notification[0].header&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-3xl",children:t.notification[0].header}),l.jsx("br",{})]}),l.jsx("span",{className:"text-6xl",children:t.notification[0].message})]})]})},A1=e=>{const t=Xe(a=>a.toggleRules),n=ge(a=>({scoreAverage:a.scoreAverage,totalMoney:a.totalMoney,wonGames:a.wonGames,playedGames:a.playedGames,discoveries:a.discoveries,achievements:a.achievements,addDiscovery:a.addDiscovery,addAchievement:a.addAchievement,addWonGame:a.addWonGame,addPlayedGame:a.addPlayedGame,cards:a.cards})),[r,o]=_.useState(0);return l.jsx("div",{onClick:a=>{a.target===a.currentTarget&&t()},className:k("absolute z-50 w-screen h-svh flex justify-center items-center bg-background/80",{hidden:!e.show}),children:l.jsxs("div",{className:"relative bg-background/80 space-y-4 p-10 rounded-xl pointer-events-auto",children:[l.jsx(I,{onClick:t,variant:"icon",size:"sm",className:"absolute top-5 right-5",children:l.jsx(ts,{})}),l.jsx("h1",{className:"text-5xl",children:"Informations"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-card p-5 rounded-xl space-y-2",children:[l.jsx("h2",{className:"text-3xl",children:"Règles du jeu"}),gn.map((a,s)=>l.jsx("div",{dangerouslySetInnerHTML:{__html:be(a)}},s))]}),l.jsxs("div",{className:"grid grid-rows-3 gap-4 *:bg-card *:p-5 *:rounded-xl *:space-y-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl",children:"Taux de conversion"}),l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-right",children:l.jsx(Fn,{htmlFor:"energy-input",dangerouslySetInnerHTML:{__html:be("En @energy :")}})}),l.jsx("th",{children:l.jsx(cd,{id:"energy-input",min:0,type:"number",value:r,onChange:a=>o(+a.target.value),placeholder:"Entre une valeur en énergie",className:"w-fit h-6 pb-0 pt-1 px-1"})})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"text-right",children:"En Dollars :"}),l.jsx("td",{dangerouslySetInnerHTML:{__html:be(`${r*F}M$`)}})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-right",dangerouslySetInnerHTML:{__html:be("En @reputation :")}}),l.jsx("td",{children:(r/Ao).toFixed(2)})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-right",dangerouslySetInnerHTML:{__html:be("En @day :")}}),l.jsxs("td",{children:[r*ot>1?`${Math.floor(r*ot)} jours`:" ",r*ot%1>0&&r*ot>1?" et ":" ",Math.floor(r*ot%1*24)," heures et"," ",Math.floor(r*ot%1*24%1*60)," ","minutes"]})]})]})]})]}),l.jsxs("div",{className:"row-span-2 flex flex-col gap-5",children:[l.jsx("h2",{className:"text-3xl",children:"Statistiques"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-changa",children:"Général"}),l.jsx("table",{children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"Score moyen"}),l.jsxs("td",{className:"font-changa text-upgrade",children:[n.scoreAverage," pts"]})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Argent total"}),l.jsx("td",{dangerouslySetInnerHTML:{__html:be(`${n.totalMoney}M$`)}})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Parties gagnées"}),l.jsx("td",{children:n.wonGames})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Parties jouées"}),l.jsx("td",{children:n.playedGames})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Cartes découvertes"}),l.jsxs("td",{children:[n.discoveries.length," / ",n.cards.length]})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Succès obtenus"}),l.jsxs("td",{children:[n.achievements.length," / ",vo.length]})]})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-changa",children:"Cartes découvertes"}),l.jsx("ul",{className:"flex flex-wrap gap-x-2",children:n.discoveries.length>0?n.discoveries.map((a,s)=>l.jsx(oc,{card:n.cards.find(c=>c.name===a),children:l.jsx("li",{children:a})},s)):"Aucune découverte"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-changa",children:"Succès"}),l.jsx("ul",{className:"flex flex-wrap gap-x-2",children:n.achievements.length>0?n.achievements.map((a,s)=>l.jsxs(nc,{openDelay:0,closeDelay:0,children:[l.jsx(rc,{asChild:!0,children:l.jsx("li",{children:a})}),l.jsxs(fa,{className:"pointer-events-none",children:[l.jsx("h2",{className:"mb-2",children:a}),l.jsx("p",{dangerouslySetInnerHTML:{__html:be(vo.find(c=>c.name===a).description)}})]})]},s)):"Aucun succès"})]})]})]})]})]})})},T1="camille.abella@proton.me",N1="+33 6 71 31 13 56",M1="Camille Abella",R1="979 392 164 00013",O1={street:"5 Rue Agusanum",city:"Saint-Estève",zip:"66240",country:"France"},I1={email:T1,number:N1,name:M1,siret:R1,address:O1},zu=_.createContext(null);function D1(){const e=_.useContext(zu);if(!e)throw new Error("useCrashReport must be used within a CrashReportProvider");return e}const $1=({children:e})=>{const[t,n,r]=ge(p=>[p.error,p.dangerouslyUpdate,()=>p]),[o,a]=_.useState(null),[s,c]=_.useState(null);_.useEffect(()=>{t&&(d(t,r()),n({error:null}))},[t]);const d=_.useCallback((p,g)=>(J.error.play(),navigator.clipboard.writeText(JSON.stringify({...g,cards:null})).catch(()=>alert("Impossible de copier le contenu de la sauvegarde dans votre presse-papier...")),a(p),c(pl(g)),p),[]);return l.jsx(zu.Provider,{value:{gameState:s,crashReport:o,addCrashReport:d,resetCrashReport:()=>{a(null),c(null)}},children:o?l.jsx(F1,{}):e})},F1=()=>{const e=ge(o=>o.reset),{resetCrashReport:t,crashReport:n,gameState:r}=D1();return!n||!r?null:l.jsx("div",{className:"absolute inset-0 bg-background/50",children:l.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:l.jsxs("div",{className:"bg-background/90 ring ring-red-600 p-4 rounded-lg space-y-4 max-w-xl",children:[l.jsx("h1",{className:"text-3xl text-center",children:"Une erreur à été interceptée !"}),l.jsx("p",{children:"Si tu le souhaites, tu peux envoyer le rapport d'erreur à Ghom pour qu'il puisse corriger le problème. Tu peux continuer ta partie, mais si tu rencontres des problèmes, il est conseillé de recharger la page. Si le bug persiste, il est possible que ta sauvegarde soit corrompue, dans ce cas tu devrais recommencer une nouvelle partie, désolé pour la gêne occasionnée."}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 w-fit mx-auto",children:[l.jsx(I,{onClick:()=>{t(),e()},size:"cta",className:"text-red-600",children:"Recommencer une partie"}),l.jsx(I,{onClick:()=>{t(),window.location.reload()},size:"cta",children:"Rafraichir le navigateur"}),l.jsx("a",{href:`mailto:${I1.email}?subject=${encodeURI(`Rapport d'erreur: ${n.message}`)}&body=${encodeURI(`
${n.stack}

Game state:
< colle ici le contenu de ton presse-papier >`)}`,className:To({size:"cta",variant:"cta"}),children:"Envoyer le rapport"}),l.jsx(I,{onClick:()=>t(),variant:"cta",size:"cta",children:"Continuer la partie"})]})]})})})},es=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],L1=()=>{const[e,t]=ge(s=>[s.debug,s.setDebug]),[n,r]=_.useState(0),[o,a]=_.useState(null);_.useEffect(()=>{const s=c=>{o&&clearTimeout(o),c.key===es[n]?r(d=>d+1):r(0),n===es.length-1&&(r(0),t(!e)),a(setTimeout(()=>{r(0)},1e3))};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[n,o,e,t])},U1=()=>{L1();const[e,t]=ge(s=>[s.debug,s.throwError]),[n,r,o]=Xe(s=>[s.isCardGameVisible,s.settingsVisible,s.rulesVisible]),a=_.useCallback(s=>{"error"in s?t(s.error):t(s.reason)},[t]);return _.useEffect(()=>(window.addEventListener("error",a),window.addEventListener("unhandledrejection",a),()=>{window.removeEventListener("error",a),window.removeEventListener("unhandledrejection",a)}),[]),l.jsx(_d,{steps:zp,opaqueStyle:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:l.jsxs($1,{children:[l.jsx(j1,{}),l.jsx(eg,{show:n}),l.jsx(oh,{show:n}),l.jsx(rg,{show:n}),l.jsx(Qm,{show:n}),l.jsx(Zm,{show:n}),l.jsx(rh,{show:n}),l.jsx(f1,{show:n}),l.jsx(Up,{show:n}),l.jsx(d1,{show:n&&r}),l.jsx(A1,{show:n&&o}),l.jsx(sh,{show:n}),l.jsx(tg,{show:n}),l.jsx(P1,{show:n}),e&&l.jsx(ih,{})]})})};export{U1 as Game};
